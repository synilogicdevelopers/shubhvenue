function yV(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _b={exports:{}},tf={},Mb={exports:{}},At={};var tP;function xV(){if(tP)return At;tP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=m&&H[m]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,N={};function j(H,z,ge){this.props=H,this.context=z,this.refs=N,this.updater=ge||b}j.prototype.isReactComponent={},j.prototype.setState=function(H,z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,z,"setState")},j.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=j.prototype;function I(H,z,ge){this.props=H,this.context=z,this.refs=N,this.updater=ge||b}var S=I.prototype=new k;S.constructor=I,v(S,j.prototype),S.isPureReactComponent=!0;var O=Array.isArray,P=Object.prototype.hasOwnProperty,R={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(H,z,ge){var le,Pe={},Ae=null,fe=null;if(z!=null)for(le in z.ref!==void 0&&(fe=z.ref),z.key!==void 0&&(Ae=""+z.key),z)P.call(z,le)&&!E.hasOwnProperty(le)&&(Pe[le]=z[le]);var ce=arguments.length-2;if(ce===1)Pe.children=ge;else if(1<ce){for(var J=Array(ce),Y=0;Y<ce;Y++)J[Y]=arguments[Y+2];Pe.children=J}if(H&&H.defaultProps)for(le in ce=H.defaultProps,ce)Pe[le]===void 0&&(Pe[le]=ce[le]);return{$$typeof:e,type:H,key:Ae,ref:fe,props:Pe,_owner:R.current}}function F(H,z){return{$$typeof:e,type:H.type,key:z,ref:H.ref,props:H.props,_owner:H._owner}}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function D(H){var z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ge){return z[ge]})}var M=/\/+/g;function $(H,z){return typeof H=="object"&&H!==null&&H.key!=null?D(""+H.key):z.toString(36)}function ee(H,z,ge,le,Pe){var Ae=typeof H;(Ae==="undefined"||Ae==="boolean")&&(H=null);var fe=!1;if(H===null)fe=!0;else switch(Ae){case"string":case"number":fe=!0;break;case"object":switch(H.$$typeof){case e:case t:fe=!0}}if(fe)return fe=H,Pe=Pe(fe),H=le===""?"."+$(fe,0):le,O(Pe)?(ge="",H!=null&&(ge=H.replace(M,"$&/")+"/"),ee(Pe,z,ge,"",function(Y){return Y})):Pe!=null&&(L(Pe)&&(Pe=F(Pe,ge+(!Pe.key||fe&&fe.key===Pe.key?"":(""+Pe.key).replace(M,"$&/")+"/")+H)),z.push(Pe)),1;if(fe=0,le=le===""?".":le+":",O(H))for(var ce=0;ce<H.length;ce++){Ae=H[ce];var J=le+$(Ae,ce);fe+=ee(Ae,z,ge,J,Pe)}else if(J=y(H),typeof J=="function")for(H=J.call(H),ce=0;!(Ae=H.next()).done;)Ae=Ae.value,J=le+$(Ae,ce++),fe+=ee(Ae,z,ge,J,Pe);else if(Ae==="object")throw z=String(H),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return fe}function q(H,z,ge){if(H==null)return H;var le=[],Pe=0;return ee(H,le,"","",function(Ae){return z.call(ge,Ae,Pe++)}),le}function V(H){if(H._status===-1){var z=H._result;z=z(),z.then(function(ge){(H._status===0||H._status===-1)&&(H._status=1,H._result=ge)},function(ge){(H._status===0||H._status===-1)&&(H._status=2,H._result=ge)}),H._status===-1&&(H._status=0,H._result=z)}if(H._status===1)return H._result.default;throw H._result}var re={current:null},U={transition:null},te={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:U,ReactCurrentOwner:R};function ie(){throw Error("act(...) is not supported in production builds of React.")}return At.Children={map:q,forEach:function(H,z,ge){q(H,function(){z.apply(this,arguments)},ge)},count:function(H){var z=0;return q(H,function(){z++}),z},toArray:function(H){return q(H,function(z){return z})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},At.Component=j,At.Fragment=r,At.Profiler=a,At.PureComponent=I,At.StrictMode=s,At.Suspense=u,At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,At.act=ie,At.cloneElement=function(H,z,ge){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var le=v({},H.props),Pe=H.key,Ae=H.ref,fe=H._owner;if(z!=null){if(z.ref!==void 0&&(Ae=z.ref,fe=R.current),z.key!==void 0&&(Pe=""+z.key),H.type&&H.type.defaultProps)var ce=H.type.defaultProps;for(J in z)P.call(z,J)&&!E.hasOwnProperty(J)&&(le[J]=z[J]===void 0&&ce!==void 0?ce[J]:z[J])}var J=arguments.length-2;if(J===1)le.children=ge;else if(1<J){ce=Array(J);for(var Y=0;Y<J;Y++)ce[Y]=arguments[Y+2];le.children=ce}return{$$typeof:e,type:H.type,key:Pe,ref:Ae,props:le,_owner:fe}},At.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},At.createElement=C,At.createFactory=function(H){var z=C.bind(null,H);return z.type=H,z},At.createRef=function(){return{current:null}},At.forwardRef=function(H){return{$$typeof:c,render:H}},At.isValidElement=L,At.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:V}},At.memo=function(H,z){return{$$typeof:h,type:H,compare:z===void 0?null:z}},At.startTransition=function(H){var z=U.transition;U.transition={};try{H()}finally{U.transition=z}},At.unstable_act=ie,At.useCallback=function(H,z){return re.current.useCallback(H,z)},At.useContext=function(H){return re.current.useContext(H)},At.useDebugValue=function(){},At.useDeferredValue=function(H){return re.current.useDeferredValue(H)},At.useEffect=function(H,z){return re.current.useEffect(H,z)},At.useId=function(){return re.current.useId()},At.useImperativeHandle=function(H,z,ge){return re.current.useImperativeHandle(H,z,ge)},At.useInsertionEffect=function(H,z){return re.current.useInsertionEffect(H,z)},At.useLayoutEffect=function(H,z){return re.current.useLayoutEffect(H,z)},At.useMemo=function(H,z){return re.current.useMemo(H,z)},At.useReducer=function(H,z,ge){return re.current.useReducer(H,z,ge)},At.useRef=function(H){return re.current.useRef(H)},At.useState=function(H){return re.current.useState(H)},At.useSyncExternalStore=function(H,z,ge){return re.current.useSyncExternalStore(H,z,ge)},At.useTransition=function(){return re.current.useTransition()},At.version="18.3.1",At}var rP;function Gd(){return rP||(rP=1,Mb.exports=xV()),Mb.exports}var nP;function vV(){if(nP)return tf;nP=1;var e=Gd(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,h){var f,m={},y=null,b=null;h!==void 0&&(y=""+h),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(b=u.ref);for(f in u)s.call(u,f)&&!i.hasOwnProperty(f)&&(m[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)m[f]===void 0&&(m[f]=u[f]);return{$$typeof:t,type:c,key:y,ref:b,props:m,_owner:a.current}}return tf.Fragment=r,tf.jsx=o,tf.jsxs=o,tf}var sP;function bV(){return sP||(sP=1,_b.exports=vV()),_b.exports}var n=bV(),p=Gd();const ni=ia(p),wV=yV({__proto__:null,default:ni},[p]);var xg={},Db={exports:{}},Es={},Ob={exports:{}},Rb={};var aP;function jV(){return aP||(aP=1,(function(e){function t(U,te){var ie=U.length;U.push(te);e:for(;0<ie;){var H=ie-1>>>1,z=U[H];if(0<a(z,te))U[H]=te,U[ie]=z,ie=H;else break e}}function r(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var te=U[0],ie=U.pop();if(ie!==te){U[0]=ie;e:for(var H=0,z=U.length,ge=z>>>1;H<ge;){var le=2*(H+1)-1,Pe=U[le],Ae=le+1,fe=U[Ae];if(0>a(Pe,ie))Ae<z&&0>a(fe,Pe)?(U[H]=fe,U[Ae]=ie,H=Ae):(U[H]=Pe,U[le]=ie,H=le);else if(Ae<z&&0>a(fe,ie))U[H]=fe,U[Ae]=ie,H=Ae;else break e}}return te}function a(U,te){var ie=U.sortIndex-te.sortIndex;return ie!==0?ie:U.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],h=[],f=1,m=null,y=3,b=!1,v=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var te=r(h);te!==null;){if(te.callback===null)s(h);else if(te.startTime<=U)s(h),te.sortIndex=te.expirationTime,t(u,te);else break;te=r(h)}}function O(U){if(N=!1,S(U),!v)if(r(u)!==null)v=!0,V(P);else{var te=r(h);te!==null&&re(O,te.startTime-U)}}function P(U,te){v=!1,N&&(N=!1,k(C),C=-1),b=!0;var ie=y;try{for(S(te),m=r(u);m!==null&&(!(m.expirationTime>te)||U&&!D());){var H=m.callback;if(typeof H=="function"){m.callback=null,y=m.priorityLevel;var z=H(m.expirationTime<=te);te=e.unstable_now(),typeof z=="function"?m.callback=z:m===r(u)&&s(u),S(te)}else s(u);m=r(u)}if(m!==null)var ge=!0;else{var le=r(h);le!==null&&re(O,le.startTime-te),ge=!1}return ge}finally{m=null,y=ie,b=!1}}var R=!1,E=null,C=-1,F=5,L=-1;function D(){return!(e.unstable_now()-L<F)}function M(){if(E!==null){var U=e.unstable_now();L=U;var te=!0;try{te=E(!0,U)}finally{te?$():(R=!1,E=null)}}else R=!1}var $;if(typeof I=="function")$=function(){I(M)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,q=ee.port2;ee.port1.onmessage=M,$=function(){q.postMessage(null)}}else $=function(){j(M,0)};function V(U){E=U,R||(R=!0,$())}function re(U,te){C=j(function(){U(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){v||b||(v=!0,V(P))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(U){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var ie=y;y=te;try{return U()}finally{y=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,te){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ie=y;y=U;try{return te()}finally{y=ie}},e.unstable_scheduleCallback=function(U,te,ie){var H=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?H+ie:H):ie=H,U){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ie+z,U={id:f++,callback:te,priorityLevel:U,startTime:ie,expirationTime:z,sortIndex:-1},ie>H?(U.sortIndex=ie,t(h,U),r(u)===null&&U===r(h)&&(N?(k(C),C=-1):N=!0,re(O,ie-H))):(U.sortIndex=z,t(u,U),v||b||(v=!0,V(P))),U},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(U){var te=y;return function(){var ie=y;y=te;try{return U.apply(this,arguments)}finally{y=ie}}}})(Rb)),Rb}var iP;function NV(){return iP||(iP=1,Ob.exports=jV()),Ob.exports}var oP;function kV(){if(oP)return Es;oP=1;var e=Gd(),t=NV();function r(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(a[l]=d,l=0;l<d.length;l++)s.add(d[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function y(l){return u.call(m,l)?!0:u.call(f,l)?!1:h.test(l)?m[l]=!0:(f[l]=!0,!1)}function b(l,d,g,w){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function v(l,d,g,w){if(d===null||typeof d>"u"||b(l,d,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function N(l,d,g,w,A,T,W){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=w,this.attributeNamespace=A,this.mustUseProperty=g,this.propertyName=l,this.type=d,this.sanitizeURL=T,this.removeEmptyString=W}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){j[l]=new N(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];j[d]=new N(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){j[l]=new N(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){j[l]=new N(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){j[l]=new N(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){j[l]=new N(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){j[l]=new N(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){j[l]=new N(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){j[l]=new N(l,5,!1,l.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function I(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(k,I);j[d]=new N(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(k,I);j[d]=new N(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(k,I);j[d]=new N(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){j[l]=new N(l,1,!1,l.toLowerCase(),null,!1,!1)}),j.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){j[l]=new N(l,1,!1,l.toLowerCase(),null,!0,!0)});function S(l,d,g,w){var A=j.hasOwnProperty(d)?j[d]:null;(A!==null?A.type!==0:w||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(v(d,g,A,w)&&(g=null),w||A===null?y(d)&&(g===null?l.removeAttribute(d):l.setAttribute(d,""+g)):A.mustUseProperty?l[A.propertyName]=g===null?A.type===3?!1:"":g:(d=A.attributeName,w=A.attributeNamespace,g===null?l.removeAttribute(d):(A=A.type,g=A===3||A===4&&g===!0?"":""+g,w?l.setAttributeNS(w,d,g):l.setAttribute(d,g))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),R=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),U=Symbol.iterator;function te(l){return l===null||typeof l!="object"?null:(l=U&&l[U]||l["@@iterator"],typeof l=="function"?l:null)}var ie=Object.assign,H;function z(l){if(H===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);H=d&&d[1]||""}return`
`+H+l}var ge=!1;function le(l,d){if(!l||ge)return"";ge=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ie){var w=Ie}Reflect.construct(l,[],d)}else{try{d.call()}catch(Ie){w=Ie}l.call(d.prototype)}else{try{throw Error()}catch(Ie){w=Ie}l()}}catch(Ie){if(Ie&&w&&typeof Ie.stack=="string"){for(var A=Ie.stack.split(`
`),T=w.stack.split(`
`),W=A.length-1,ae=T.length-1;1<=W&&0<=ae&&A[W]!==T[ae];)ae--;for(;1<=W&&0<=ae;W--,ae--)if(A[W]!==T[ae]){if(W!==1||ae!==1)do if(W--,ae--,0>ae||A[W]!==T[ae]){var he=`
`+A[W].replace(" at new "," at ");return l.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",l.displayName)),he}while(1<=W&&0<=ae);break}}}finally{ge=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?z(l):""}function Pe(l){switch(l.tag){case 5:return z(l.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return l=le(l.type,!1),l;case 11:return l=le(l.type.render,!1),l;case 1:return l=le(l.type,!0),l;default:return""}}function Ae(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case E:return"Fragment";case R:return"Portal";case F:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case ee:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case D:return(l.displayName||"Context")+".Consumer";case L:return(l._context.displayName||"Context")+".Provider";case M:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case q:return d=l.displayName||null,d!==null?d:Ae(l.type)||"Memo";case V:d=l._payload,l=l._init;try{return Ae(l(d))}catch{}}return null}function fe(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(d);case 8:return d===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ce(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function J(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Y(l){var d=J(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),w=""+l[d];if(!l.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var A=g.get,T=g.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return A.call(this)},set:function(W){w=""+W,T.call(this,W)}}),Object.defineProperty(l,d,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(W){w=""+W},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function de(l){l._valueTracker||(l._valueTracker=Y(l))}function X(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var g=d.getValue(),w="";return l&&(w=J(l)?l.checked?"true":"false":l.value),l=w,l!==g?(d.setValue(l),!0):!1}function pe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function se(l,d){var g=d.checked;return ie({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??l._wrapperState.initialChecked})}function Q(l,d){var g=d.defaultValue==null?"":d.defaultValue,w=d.checked!=null?d.checked:d.defaultChecked;g=ce(d.value!=null?d.value:g),l._wrapperState={initialChecked:w,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function ve(l,d){d=d.checked,d!=null&&S(l,"checked",d,!1)}function ue(l,d){ve(l,d);var g=ce(d.value),w=d.type;if(g!=null)w==="number"?(g===0&&l.value===""||l.value!=g)&&(l.value=""+g):l.value!==""+g&&(l.value=""+g);else if(w==="submit"||w==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?Le(l,d.type,g):d.hasOwnProperty("defaultValue")&&Le(l,d.type,ce(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function xe(l,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var w=d.type;if(!(w!=="submit"&&w!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,g||d===l.value||(l.value=d),l.defaultValue=d}g=l.name,g!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,g!==""&&(l.name=g)}function Le(l,d,g){(d!=="number"||pe(l.ownerDocument)!==l)&&(g==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+g&&(l.defaultValue=""+g))}var it=Array.isArray;function St(l,d,g,w){if(l=l.options,d){d={};for(var A=0;A<g.length;A++)d["$"+g[A]]=!0;for(g=0;g<l.length;g++)A=d.hasOwnProperty("$"+l[g].value),l[g].selected!==A&&(l[g].selected=A),A&&w&&(l[g].defaultSelected=!0)}else{for(g=""+ce(g),d=null,A=0;A<l.length;A++){if(l[A].value===g){l[A].selected=!0,w&&(l[A].defaultSelected=!0);return}d!==null||l[A].disabled||(d=l[A])}d!==null&&(d.selected=!0)}}function La(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function ur(l,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(r(92));if(it(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),g=d}l._wrapperState={initialValue:ce(g)}}function bs(l,d){var g=ce(d.value),w=ce(d.defaultValue);g!=null&&(g=""+g,g!==l.value&&(l.value=g),d.defaultValue==null&&l.defaultValue!==g&&(l.defaultValue=g)),w!=null&&(l.defaultValue=""+w)}function kr(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function vn(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tr(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?vn(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var _r,we=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,w,A){MSApp.execUnsafeLocalFunction(function(){return l(d,g,w,A)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=_r.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function He(l,d){if(d){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=d;return}}l.textContent=d}var Ve={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ft=["Webkit","ms","Moz","O"];Object.keys(Ve).forEach(function(l){Ft.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),Ve[d]=Ve[l]})});function Oe(l,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||Ve.hasOwnProperty(l)&&Ve[l]?(""+d).trim():d+"px"}function Re(l,d){l=l.style;for(var g in d)if(d.hasOwnProperty(g)){var w=g.indexOf("--")===0,A=Oe(g,d[g],w);g==="float"&&(g="cssFloat"),w?l.setProperty(g,A):l[g]=A}}var zt=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nr(l,d){if(d){if(zt[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Vr(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=null;function Ye(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ne=null,_e=null,Ke=null;function Et(l){if(l=Bh(l)){if(typeof ne!="function")throw Error(r(280));var d=l.stateNode;d&&(d=Mp(d),ne(l.stateNode,l.type,d))}}function It(l){_e?Ke?Ke.push(l):Ke=[l]:_e=l}function Ur(){if(_e){var l=_e,d=Ke;if(Ke=_e=null,Et(l),d)for(l=0;l<d.length;l++)Et(d[l])}}function sn(l,d){return l(d)}function Fs(){}var Rn=!1;function Fa(l,d,g){if(Rn)return l(d,g);Rn=!0;try{return sn(l,d,g)}finally{Rn=!1,(_e!==null||Ke!==null)&&(Fs(),Ur())}}function Yr(l,d){var g=l.stateNode;if(g===null)return null;var w=Mp(g);if(w===null)return null;g=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(r(231,d,typeof g));return g}var sr=!1;if(c)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){sr=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch{sr=!1}function $t(l,d,g,w,A,T,W,ae,he){var Ie=Array.prototype.slice.call(arguments,3);try{d.apply(g,Ie)}catch($e){this.onError($e)}}var Xt=!1,_t=null,Ln=!1,an=null,Fn={onError:function(l){Xt=!0,_t=l}};function K(l,d,g,w,A,T,W,ae,he){Xt=!1,_t=null,$t.apply(Fn,arguments)}function me(l,d,g,w,A,T,W,ae,he){if(K.apply(this,arguments),Xt){if(Xt){var Ie=_t;Xt=!1,_t=null}else throw Error(r(198));Ln||(Ln=!0,an=Ie)}}function oe(l){var d=l,g=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(g=d.return),l=d.return;while(l)}return d.tag===3?g:null}function We(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function ze(l){if(oe(l)!==l)throw Error(r(188))}function lt(l){var d=l.alternate;if(!d){if(d=oe(l),d===null)throw Error(r(188));return d!==l?null:l}for(var g=l,w=d;;){var A=g.return;if(A===null)break;var T=A.alternate;if(T===null){if(w=A.return,w!==null){g=w;continue}break}if(A.child===T.child){for(T=A.child;T;){if(T===g)return ze(A),l;if(T===w)return ze(A),d;T=T.sibling}throw Error(r(188))}if(g.return!==w.return)g=A,w=T;else{for(var W=!1,ae=A.child;ae;){if(ae===g){W=!0,g=A,w=T;break}if(ae===w){W=!0,w=A,g=T;break}ae=ae.sibling}if(!W){for(ae=T.child;ae;){if(ae===g){W=!0,g=T,w=A;break}if(ae===w){W=!0,w=T,g=A;break}ae=ae.sibling}if(!W)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?l:d}function Mt(l){return l=lt(l),l!==null?ws(l):null}function ws(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=ws(l);if(d!==null)return d;l=l.sibling}return null}var js=t.unstable_scheduleCallback,mi=t.unstable_cancelCallback,$a=t.unstable_shouldYield,$s=t.unstable_requestPaint,tr=t.unstable_now,ku=t.unstable_getCurrentPriorityLevel,Ns=t.unstable_ImmediatePriority,Ba=t.unstable_UserBlockingPriority,yr=t.unstable_NormalPriority,za=t.unstable_LowPriority,Su=t.unstable_IdlePriority,oc=null,Bs=null;function yp(l){if(Bs&&typeof Bs.onCommitFiberRoot=="function")try{Bs.onCommitFiberRoot(oc,l,void 0,(l.current.flags&128)===128)}catch{}}var zs=Math.clz32?Math.clz32:lc,pi=Math.log,ca=Math.LN2;function lc(l){return l>>>=0,l===0?32:31-(pi(l)/ca|0)|0}var gi=64,rl=4194304;function Wt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function so(l,d){var g=l.pendingLanes;if(g===0)return 0;var w=0,A=l.suspendedLanes,T=l.pingedLanes,W=g&268435455;if(W!==0){var ae=W&~A;ae!==0?w=Wt(ae):(T&=W,T!==0&&(w=Wt(T)))}else W=g&~A,W!==0?w=Wt(W):T!==0&&(w=Wt(T));if(w===0)return 0;if(d!==0&&d!==w&&(d&A)===0&&(A=w&-w,T=d&-d,A>=T||A===16&&(T&4194240)!==0))return d;if((w&4)!==0&&(w|=g&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=w;0<d;)g=31-zs(d),A=1<<g,w|=l[g],d&=~A;return w}function cc(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(l,d){for(var g=l.suspendedLanes,w=l.pingedLanes,A=l.expirationTimes,T=l.pendingLanes;0<T;){var W=31-zs(T),ae=1<<W,he=A[W];he===-1?((ae&g)===0||(ae&w)!==0)&&(A[W]=cc(ae,d)):he<=d&&(l.expiredLanes|=ae),T&=~ae}}function vh(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function bh(){var l=gi;return gi<<=1,(gi&4194240)===0&&(gi=64),l}function wh(l){for(var d=[],g=0;31>g;g++)d.push(l);return d}function dc(l,d,g){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-zs(d),l[d]=g}function u0(l,d){var g=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var w=l.eventTimes;for(l=l.expirationTimes;0<g;){var A=31-zs(g),T=1<<A;d[A]=0,w[A]=-1,l[A]=-1,g&=~T}}function jh(l,d){var g=l.entangledLanes|=d;for(l=l.entanglements;g;){var w=31-zs(g),A=1<<w;A&d|l[w]&d&&(l[w]|=d),g&=~A}}var Tt=0;function yi(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Nh,Au,kh,Sh,Ah,xi=!1,Cu=[],vi=null,bi=null,$n=null,hc=new Map,ao=new Map,Vs=[],xp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nl(l,d){switch(l){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":hc.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(d.pointerId)}}function Va(l,d,g,w,A,T){return l===null||l.nativeEvent!==T?(l={blockedOn:d,domEventName:g,eventSystemFlags:w,nativeEvent:T,targetContainers:[A]},d!==null&&(d=Bh(d),d!==null&&Au(d)),l):(l.eventSystemFlags|=w,d=l.targetContainers,A!==null&&d.indexOf(A)===-1&&d.push(A),l)}function vp(l,d,g,w,A){switch(d){case"focusin":return vi=Va(vi,l,d,g,w,A),!0;case"dragenter":return bi=Va(bi,l,d,g,w,A),!0;case"mouseover":return $n=Va($n,l,d,g,w,A),!0;case"pointerover":var T=A.pointerId;return hc.set(T,Va(hc.get(T)||null,l,d,g,w,A)),!0;case"gotpointercapture":return T=A.pointerId,ao.set(T,Va(ao.get(T)||null,l,d,g,w,A)),!0}return!1}function Iu(l){var d=gc(l.target);if(d!==null){var g=oe(d);if(g!==null){if(d=g.tag,d===13){if(d=We(g),d!==null){l.blockedOn=d,Ah(l.priority,function(){kh(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ar(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var g=Pu(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(g===null){g=l.nativeEvent;var w=new g.constructor(g.type,g);Pt=w,g.target.dispatchEvent(w),Pt=null}else return d=Bh(g),d!==null&&Au(d),l.blockedOn=g,!1;d.shift()}return!0}function bp(l,d,g){ar(l)&&g.delete(d)}function d0(){xi=!1,vi!==null&&ar(vi)&&(vi=null),bi!==null&&ar(bi)&&(bi=null),$n!==null&&ar($n)&&($n=null),hc.forEach(bp),ao.forEach(bp)}function sl(l,d){l.blockedOn===d&&(l.blockedOn=null,xi||(xi=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,d0)))}function al(l){function d(A){return sl(A,l)}if(0<Cu.length){sl(Cu[0],l);for(var g=1;g<Cu.length;g++){var w=Cu[g];w.blockedOn===l&&(w.blockedOn=null)}}for(vi!==null&&sl(vi,l),bi!==null&&sl(bi,l),$n!==null&&sl($n,l),hc.forEach(d),ao.forEach(d),g=0;g<Vs.length;g++)w=Vs[g],w.blockedOn===l&&(w.blockedOn=null);for(;0<Vs.length&&(g=Vs[0],g.blockedOn===null);)Iu(g),g.blockedOn===null&&Vs.shift()}var io=O.ReactCurrentBatchConfig,oo=!0;function wi(l,d,g,w){var A=Tt,T=io.transition;io.transition=null;try{Tt=1,Ch(l,d,g,w)}finally{Tt=A,io.transition=T}}function wp(l,d,g,w){var A=Tt,T=io.transition;io.transition=null;try{Tt=4,Ch(l,d,g,w)}finally{Tt=A,io.transition=T}}function Ch(l,d,g,w){if(oo){var A=Pu(l,d,g,w);if(A===null)j0(l,d,w,ji,g),nl(l,w);else if(vp(A,l,d,g,w))w.stopPropagation();else if(nl(l,w),d&4&&-1<xp.indexOf(l)){for(;A!==null;){var T=Bh(A);if(T!==null&&Nh(T),T=Pu(l,d,g,w),T===null&&j0(l,d,w,ji,g),T===A)break;A=T}A!==null&&w.stopPropagation()}else j0(l,d,w,null,g)}}var ji=null;function Pu(l,d,g,w){if(ji=null,l=Ye(w),l=gc(l),l!==null)if(d=oe(l),d===null)l=null;else if(g=d.tag,g===13){if(l=We(d),l!==null)return l;l=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return ji=l,null}function Eu(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ku()){case Ns:return 1;case Ba:return 4;case yr:case za:return 16;case Su:return 536870912;default:return 16}default:return 16}}var Us=null,Tu=null,lo=null;function jp(){if(lo)return lo;var l,d=Tu,g=d.length,w,A="value"in Us?Us.value:Us.textContent,T=A.length;for(l=0;l<g&&d[l]===A[l];l++);var W=g-l;for(w=1;w<=W&&d[g-w]===A[T-w];w++);return lo=A.slice(l,1<w?1-w:void 0)}function fc(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Ni(){return!0}function Ih(){return!1}function Hn(l){function d(g,w,A,T,W){this._reactName=g,this._targetInst=A,this.type=w,this.nativeEvent=T,this.target=W,this.currentTarget=null;for(var ae in l)l.hasOwnProperty(ae)&&(g=l[ae],this[ae]=g?g(T):T[ae]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ni:Ih,this.isPropagationStopped=Ih,this}return ie(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),d}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=Hn(ki),il=ie({},ki,{view:0,detail:0}),_u=Hn(il),Mu,Du,Ws,pc=ie({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ws&&(Ws&&l.type==="mousemove"?(Mu=l.screenX-Ws.screenX,Du=l.screenY-Ws.screenY):Du=Mu=0,Ws=l),Mu)},movementY:function(l){return"movementY"in l?l.movementY:Du}}),Ph=Hn(pc),Np=ie({},pc,{dataTransfer:0}),kp=Hn(Np),ks=ie({},il,{relatedTarget:0}),Ou=Hn(ks),Sp=ie({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),ol=Hn(Sp),x=ie({},ki,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),_=Hn(x),B=ie({},ki,{data:0}),Z=Hn(B),Ne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bt(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Ge[l])?!!d[l]:!1}function Sr(){return bt}var Kt=ie({},il,{key:function(l){if(l.key){var d=Ne[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=fc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Ee[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(l){return l.type==="keypress"?fc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?fc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Zr=Hn(Kt),ua=ie({},pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=Hn(ua),Ai=ie({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),Ci=Hn(Ai),Ru=ie({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eh=Hn(Ru),uz=ie({},pc,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),dz=Hn(uz),hz=[9,13,27,32],h0=c&&"CompositionEvent"in window,Th=null;c&&"documentMode"in document&&(Th=document.documentMode);var fz=c&&"TextEvent"in window&&!Th,GA=c&&(!h0||Th&&8<Th&&11>=Th),KA=" ",YA=!1;function ZA(l,d){switch(l){case"keyup":return hz.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QA(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Lu=!1;function mz(l,d){switch(l){case"compositionend":return QA(d);case"keypress":return d.which!==32?null:(YA=!0,KA);case"textInput":return l=d.data,l===KA&&YA?null:l;default:return null}}function pz(l,d){if(Lu)return l==="compositionend"||!h0&&ZA(l,d)?(l=jp(),lo=Tu=Us=null,Lu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return GA&&d.locale!=="ko"?null:d.data;default:return null}}var gz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XA(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!gz[l.type]:d==="textarea"}function JA(l,d,g,w){It(w),d=Ep(d,"onChange"),0<d.length&&(g=new mc("onChange","change",null,g,w),l.push({event:g,listeners:d}))}var _h=null,Mh=null;function yz(l){yC(l,0)}function Ap(l){var d=Vu(l);if(X(d))return l}function xz(l,d){if(l==="change")return d}var eC=!1;if(c){var f0;if(c){var m0="oninput"in document;if(!m0){var tC=document.createElement("div");tC.setAttribute("oninput","return;"),m0=typeof tC.oninput=="function"}f0=m0}else f0=!1;eC=f0&&(!document.documentMode||9<document.documentMode)}function rC(){_h&&(_h.detachEvent("onpropertychange",nC),Mh=_h=null)}function nC(l){if(l.propertyName==="value"&&Ap(Mh)){var d=[];JA(d,Mh,l,Ye(l)),Fa(yz,d)}}function vz(l,d,g){l==="focusin"?(rC(),_h=d,Mh=g,_h.attachEvent("onpropertychange",nC)):l==="focusout"&&rC()}function bz(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ap(Mh)}function wz(l,d){if(l==="click")return Ap(d)}function jz(l,d){if(l==="input"||l==="change")return Ap(d)}function Nz(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Ua=typeof Object.is=="function"?Object.is:Nz;function Dh(l,d){if(Ua(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var g=Object.keys(l),w=Object.keys(d);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var A=g[w];if(!u.call(d,A)||!Ua(l[A],d[A]))return!1}return!0}function sC(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function aC(l,d){var g=sC(l);l=0;for(var w;g;){if(g.nodeType===3){if(w=l+g.textContent.length,l<=d&&w>=d)return{node:g,offset:d-l};l=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=sC(g)}}function iC(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?iC(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function oC(){for(var l=window,d=pe();d instanceof l.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)l=d.contentWindow;else break;d=pe(l.document)}return d}function p0(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function kz(l){var d=oC(),g=l.focusedElem,w=l.selectionRange;if(d!==g&&g&&g.ownerDocument&&iC(g.ownerDocument.documentElement,g)){if(w!==null&&p0(g)){if(d=w.start,l=w.end,l===void 0&&(l=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(l,g.value.length);else if(l=(d=g.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var A=g.textContent.length,T=Math.min(w.start,A);w=w.end===void 0?T:Math.min(w.end,A),!l.extend&&T>w&&(A=w,w=T,T=A),A=aC(g,T);var W=aC(g,w);A&&W&&(l.rangeCount!==1||l.anchorNode!==A.node||l.anchorOffset!==A.offset||l.focusNode!==W.node||l.focusOffset!==W.offset)&&(d=d.createRange(),d.setStart(A.node,A.offset),l.removeAllRanges(),T>w?(l.addRange(d),l.extend(W.node,W.offset)):(d.setEnd(W.node,W.offset),l.addRange(d)))}}for(d=[],l=g;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)l=d[g],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Sz=c&&"documentMode"in document&&11>=document.documentMode,Fu=null,g0=null,Oh=null,y0=!1;function lC(l,d,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;y0||Fu==null||Fu!==pe(w)||(w=Fu,"selectionStart"in w&&p0(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Oh&&Dh(Oh,w)||(Oh=w,w=Ep(g0,"onSelect"),0<w.length&&(d=new mc("onSelect","select",null,d,g),l.push({event:d,listeners:w}),d.target=Fu)))}function Cp(l,d){var g={};return g[l.toLowerCase()]=d.toLowerCase(),g["Webkit"+l]="webkit"+d,g["Moz"+l]="moz"+d,g}var $u={animationend:Cp("Animation","AnimationEnd"),animationiteration:Cp("Animation","AnimationIteration"),animationstart:Cp("Animation","AnimationStart"),transitionend:Cp("Transition","TransitionEnd")},x0={},cC={};c&&(cC=document.createElement("div").style,"AnimationEvent"in window||(delete $u.animationend.animation,delete $u.animationiteration.animation,delete $u.animationstart.animation),"TransitionEvent"in window||delete $u.transitionend.transition);function Ip(l){if(x0[l])return x0[l];if(!$u[l])return l;var d=$u[l],g;for(g in d)if(d.hasOwnProperty(g)&&g in cC)return x0[l]=d[g];return l}var uC=Ip("animationend"),dC=Ip("animationiteration"),hC=Ip("animationstart"),fC=Ip("transitionend"),mC=new Map,pC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ll(l,d){mC.set(l,d),i(d,[l])}for(var v0=0;v0<pC.length;v0++){var b0=pC[v0],Az=b0.toLowerCase(),Cz=b0[0].toUpperCase()+b0.slice(1);ll(Az,"on"+Cz)}ll(uC,"onAnimationEnd"),ll(dC,"onAnimationIteration"),ll(hC,"onAnimationStart"),ll("dblclick","onDoubleClick"),ll("focusin","onFocus"),ll("focusout","onBlur"),ll(fC,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rh));function gC(l,d,g){var w=l.type||"unknown-event";l.currentTarget=g,me(w,d,void 0,l),l.currentTarget=null}function yC(l,d){d=(d&4)!==0;for(var g=0;g<l.length;g++){var w=l[g],A=w.event;w=w.listeners;e:{var T=void 0;if(d)for(var W=w.length-1;0<=W;W--){var ae=w[W],he=ae.instance,Ie=ae.currentTarget;if(ae=ae.listener,he!==T&&A.isPropagationStopped())break e;gC(A,ae,Ie),T=he}else for(W=0;W<w.length;W++){if(ae=w[W],he=ae.instance,Ie=ae.currentTarget,ae=ae.listener,he!==T&&A.isPropagationStopped())break e;gC(A,ae,Ie),T=he}}}if(Ln)throw l=an,Ln=!1,an=null,l}function dr(l,d){var g=d[I0];g===void 0&&(g=d[I0]=new Set);var w=l+"__bubble";g.has(w)||(xC(d,l,2,!1),g.add(w))}function w0(l,d,g){var w=0;d&&(w|=4),xC(g,l,w,d)}var Pp="_reactListening"+Math.random().toString(36).slice(2);function Lh(l){if(!l[Pp]){l[Pp]=!0,s.forEach(function(g){g!=="selectionchange"&&(Iz.has(g)||w0(g,!1,l),w0(g,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Pp]||(d[Pp]=!0,w0("selectionchange",!1,d))}}function xC(l,d,g,w){switch(Eu(d)){case 1:var A=wi;break;case 4:A=wp;break;default:A=Ch}g=A.bind(null,d,g,l),A=void 0,!sr||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(A=!0),w?A!==void 0?l.addEventListener(d,g,{capture:!0,passive:A}):l.addEventListener(d,g,!0):A!==void 0?l.addEventListener(d,g,{passive:A}):l.addEventListener(d,g,!1)}function j0(l,d,g,w,A){var T=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var W=w.tag;if(W===3||W===4){var ae=w.stateNode.containerInfo;if(ae===A||ae.nodeType===8&&ae.parentNode===A)break;if(W===4)for(W=w.return;W!==null;){var he=W.tag;if((he===3||he===4)&&(he=W.stateNode.containerInfo,he===A||he.nodeType===8&&he.parentNode===A))return;W=W.return}for(;ae!==null;){if(W=gc(ae),W===null)return;if(he=W.tag,he===5||he===6){w=T=W;continue e}ae=ae.parentNode}}w=w.return}Fa(function(){var Ie=T,$e=Ye(g),Ue=[];e:{var Fe=mC.get(l);if(Fe!==void 0){var Ze=mc,tt=l;switch(l){case"keypress":if(fc(g)===0)break e;case"keydown":case"keyup":Ze=Zr;break;case"focusin":tt="focus",Ze=Ou;break;case"focusout":tt="blur",Ze=Ou;break;case"beforeblur":case"afterblur":Ze=Ou;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=Ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=Ci;break;case uC:case dC:case hC:Ze=ol;break;case fC:Ze=Eh;break;case"scroll":Ze=_u;break;case"wheel":Ze=dz;break;case"copy":case"cut":case"paste":Ze=_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=Si}var at=(d&4)!==0,Wr=!at&&l==="scroll",je=at?Fe!==null?Fe+"Capture":null:Fe;at=[];for(var ye=Ie,Ce;ye!==null;){Ce=ye;var qe=Ce.stateNode;if(Ce.tag===5&&qe!==null&&(Ce=qe,je!==null&&(qe=Yr(ye,je),qe!=null&&at.push(Fh(ye,qe,Ce)))),Wr)break;ye=ye.return}0<at.length&&(Fe=new Ze(Fe,tt,null,g,$e),Ue.push({event:Fe,listeners:at}))}}if((d&7)===0){e:{if(Fe=l==="mouseover"||l==="pointerover",Ze=l==="mouseout"||l==="pointerout",Fe&&g!==Pt&&(tt=g.relatedTarget||g.fromElement)&&(gc(tt)||tt[co]))break e;if((Ze||Fe)&&(Fe=$e.window===$e?$e:(Fe=$e.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Ze?(tt=g.relatedTarget||g.toElement,Ze=Ie,tt=tt?gc(tt):null,tt!==null&&(Wr=oe(tt),tt!==Wr||tt.tag!==5&&tt.tag!==6)&&(tt=null)):(Ze=null,tt=Ie),Ze!==tt)){if(at=Ph,qe="onMouseLeave",je="onMouseEnter",ye="mouse",(l==="pointerout"||l==="pointerover")&&(at=Si,qe="onPointerLeave",je="onPointerEnter",ye="pointer"),Wr=Ze==null?Fe:Vu(Ze),Ce=tt==null?Fe:Vu(tt),Fe=new at(qe,ye+"leave",Ze,g,$e),Fe.target=Wr,Fe.relatedTarget=Ce,qe=null,gc($e)===Ie&&(at=new at(je,ye+"enter",tt,g,$e),at.target=Ce,at.relatedTarget=Wr,qe=at),Wr=qe,Ze&&tt)t:{for(at=Ze,je=tt,ye=0,Ce=at;Ce;Ce=Bu(Ce))ye++;for(Ce=0,qe=je;qe;qe=Bu(qe))Ce++;for(;0<ye-Ce;)at=Bu(at),ye--;for(;0<Ce-ye;)je=Bu(je),Ce--;for(;ye--;){if(at===je||je!==null&&at===je.alternate)break t;at=Bu(at),je=Bu(je)}at=null}else at=null;Ze!==null&&vC(Ue,Fe,Ze,at,!1),tt!==null&&Wr!==null&&vC(Ue,Wr,tt,at,!0)}}e:{if(Fe=Ie?Vu(Ie):window,Ze=Fe.nodeName&&Fe.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Fe.type==="file")var ot=xz;else if(XA(Fe))if(eC)ot=jz;else{ot=bz;var dt=vz}else(Ze=Fe.nodeName)&&Ze.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(ot=wz);if(ot&&(ot=ot(l,Ie))){JA(Ue,ot,g,$e);break e}dt&&dt(l,Fe,Ie),l==="focusout"&&(dt=Fe._wrapperState)&&dt.controlled&&Fe.type==="number"&&Le(Fe,"number",Fe.value)}switch(dt=Ie?Vu(Ie):window,l){case"focusin":(XA(dt)||dt.contentEditable==="true")&&(Fu=dt,g0=Ie,Oh=null);break;case"focusout":Oh=g0=Fu=null;break;case"mousedown":y0=!0;break;case"contextmenu":case"mouseup":case"dragend":y0=!1,lC(Ue,g,$e);break;case"selectionchange":if(Sz)break;case"keydown":case"keyup":lC(Ue,g,$e)}var ht;if(h0)e:{switch(l){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Lu?ZA(l,g)&&(gt="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(gt="onCompositionStart");gt&&(GA&&g.locale!=="ko"&&(Lu||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Lu&&(ht=jp()):(Us=$e,Tu="value"in Us?Us.value:Us.textContent,Lu=!0)),dt=Ep(Ie,gt),0<dt.length&&(gt=new Z(gt,l,null,g,$e),Ue.push({event:gt,listeners:dt}),ht?gt.data=ht:(ht=QA(g),ht!==null&&(gt.data=ht)))),(ht=fz?mz(l,g):pz(l,g))&&(Ie=Ep(Ie,"onBeforeInput"),0<Ie.length&&($e=new Z("onBeforeInput","beforeinput",null,g,$e),Ue.push({event:$e,listeners:Ie}),$e.data=ht))}yC(Ue,d)})}function Fh(l,d,g){return{instance:l,listener:d,currentTarget:g}}function Ep(l,d){for(var g=d+"Capture",w=[];l!==null;){var A=l,T=A.stateNode;A.tag===5&&T!==null&&(A=T,T=Yr(l,g),T!=null&&w.unshift(Fh(l,T,A)),T=Yr(l,d),T!=null&&w.push(Fh(l,T,A))),l=l.return}return w}function Bu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function vC(l,d,g,w,A){for(var T=d._reactName,W=[];g!==null&&g!==w;){var ae=g,he=ae.alternate,Ie=ae.stateNode;if(he!==null&&he===w)break;ae.tag===5&&Ie!==null&&(ae=Ie,A?(he=Yr(g,T),he!=null&&W.unshift(Fh(g,he,ae))):A||(he=Yr(g,T),he!=null&&W.push(Fh(g,he,ae)))),g=g.return}W.length!==0&&l.push({event:d,listeners:W})}var Pz=/\r\n?/g,Ez=/\u0000|\uFFFD/g;function bC(l){return(typeof l=="string"?l:""+l).replace(Pz,`
`).replace(Ez,"")}function Tp(l,d,g){if(d=bC(d),bC(l)!==d&&g)throw Error(r(425))}function _p(){}var N0=null,k0=null;function S0(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var A0=typeof setTimeout=="function"?setTimeout:void 0,Tz=typeof clearTimeout=="function"?clearTimeout:void 0,wC=typeof Promise=="function"?Promise:void 0,_z=typeof queueMicrotask=="function"?queueMicrotask:typeof wC<"u"?function(l){return wC.resolve(null).then(l).catch(Mz)}:A0;function Mz(l){setTimeout(function(){throw l})}function C0(l,d){var g=d,w=0;do{var A=g.nextSibling;if(l.removeChild(g),A&&A.nodeType===8)if(g=A.data,g==="/$"){if(w===0){l.removeChild(A),al(d);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=A}while(g);al(d)}function cl(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function jC(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return l;d--}else g==="/$"&&d++}l=l.previousSibling}return null}var zu=Math.random().toString(36).slice(2),Ii="__reactFiber$"+zu,$h="__reactProps$"+zu,co="__reactContainer$"+zu,I0="__reactEvents$"+zu,Dz="__reactListeners$"+zu,Oz="__reactHandles$"+zu;function gc(l){var d=l[Ii];if(d)return d;for(var g=l.parentNode;g;){if(d=g[co]||g[Ii]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(l=jC(l);l!==null;){if(g=l[Ii])return g;l=jC(l)}return d}l=g,g=l.parentNode}return null}function Bh(l){return l=l[Ii]||l[co],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Vu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Mp(l){return l[$h]||null}var P0=[],Uu=-1;function ul(l){return{current:l}}function hr(l){0>Uu||(l.current=P0[Uu],P0[Uu]=null,Uu--)}function ir(l,d){Uu++,P0[Uu]=l.current,l.current=d}var dl={},qn=ul(dl),Ss=ul(!1),yc=dl;function Wu(l,d){var g=l.type.contextTypes;if(!g)return dl;var w=l.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===d)return w.__reactInternalMemoizedMaskedChildContext;var A={},T;for(T in g)A[T]=d[T];return w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=A),A}function As(l){return l=l.childContextTypes,l!=null}function Dp(){hr(Ss),hr(qn)}function NC(l,d,g){if(qn.current!==dl)throw Error(r(168));ir(qn,d),ir(Ss,g)}function kC(l,d,g){var w=l.stateNode;if(d=d.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var A in w)if(!(A in d))throw Error(r(108,fe(l)||"Unknown",A));return ie({},g,w)}function Op(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||dl,yc=qn.current,ir(qn,l),ir(Ss,Ss.current),!0}function SC(l,d,g){var w=l.stateNode;if(!w)throw Error(r(169));g?(l=kC(l,d,yc),w.__reactInternalMemoizedMergedChildContext=l,hr(Ss),hr(qn),ir(qn,l)):hr(Ss),ir(Ss,g)}var uo=null,Rp=!1,E0=!1;function AC(l){uo===null?uo=[l]:uo.push(l)}function Rz(l){Rp=!0,AC(l)}function hl(){if(!E0&&uo!==null){E0=!0;var l=0,d=Tt;try{var g=uo;for(Tt=1;l<g.length;l++){var w=g[l];do w=w(!0);while(w!==null)}uo=null,Rp=!1}catch(A){throw uo!==null&&(uo=uo.slice(l+1)),js(Ns,hl),A}finally{Tt=d,E0=!1}}return null}var Hu=[],qu=0,Lp=null,Fp=0,da=[],ha=0,xc=null,ho=1,fo="";function vc(l,d){Hu[qu++]=Fp,Hu[qu++]=Lp,Lp=l,Fp=d}function CC(l,d,g){da[ha++]=ho,da[ha++]=fo,da[ha++]=xc,xc=l;var w=ho;l=fo;var A=32-zs(w)-1;w&=~(1<<A),g+=1;var T=32-zs(d)+A;if(30<T){var W=A-A%5;T=(w&(1<<W)-1).toString(32),w>>=W,A-=W,ho=1<<32-zs(d)+A|g<<A|w,fo=T+l}else ho=1<<T|g<<A|w,fo=l}function T0(l){l.return!==null&&(vc(l,1),CC(l,1,0))}function _0(l){for(;l===Lp;)Lp=Hu[--qu],Hu[qu]=null,Fp=Hu[--qu],Hu[qu]=null;for(;l===xc;)xc=da[--ha],da[ha]=null,fo=da[--ha],da[ha]=null,ho=da[--ha],da[ha]=null}var Hs=null,qs=null,xr=!1,Wa=null;function IC(l,d){var g=ga(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=l,d=l.deletions,d===null?(l.deletions=[g],l.flags|=16):d.push(g)}function PC(l,d){switch(l.tag){case 5:var g=l.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,Hs=l,qs=cl(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,Hs=l,qs=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=xc!==null?{id:ho,overflow:fo}:null,l.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=ga(18,null,null,0),g.stateNode=d,g.return=l,l.child=g,Hs=l,qs=null,!0):!1;default:return!1}}function M0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function D0(l){if(xr){var d=qs;if(d){var g=d;if(!PC(l,d)){if(M0(l))throw Error(r(418));d=cl(g.nextSibling);var w=Hs;d&&PC(l,d)?IC(w,g):(l.flags=l.flags&-4097|2,xr=!1,Hs=l)}}else{if(M0(l))throw Error(r(418));l.flags=l.flags&-4097|2,xr=!1,Hs=l}}}function EC(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Hs=l}function $p(l){if(l!==Hs)return!1;if(!xr)return EC(l),xr=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!S0(l.type,l.memoizedProps)),d&&(d=qs)){if(M0(l))throw TC(),Error(r(418));for(;d;)IC(l,d),d=cl(d.nextSibling)}if(EC(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"){if(d===0){qs=cl(l.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}l=l.nextSibling}qs=null}}else qs=Hs?cl(l.stateNode.nextSibling):null;return!0}function TC(){for(var l=qs;l;)l=cl(l.nextSibling)}function Gu(){qs=Hs=null,xr=!1}function O0(l){Wa===null?Wa=[l]:Wa.push(l)}var Lz=O.ReactCurrentBatchConfig;function zh(l,d,g){if(l=g.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var w=g.stateNode}if(!w)throw Error(r(147,l));var A=w,T=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===T?d.ref:(d=function(W){var ae=A.refs;W===null?delete ae[T]:ae[T]=W},d._stringRef=T,d)}if(typeof l!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,l))}return l}function Bp(l,d){throw l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function _C(l){var d=l._init;return d(l._payload)}function MC(l){function d(je,ye){if(l){var Ce=je.deletions;Ce===null?(je.deletions=[ye],je.flags|=16):Ce.push(ye)}}function g(je,ye){if(!l)return null;for(;ye!==null;)d(je,ye),ye=ye.sibling;return null}function w(je,ye){for(je=new Map;ye!==null;)ye.key!==null?je.set(ye.key,ye):je.set(ye.index,ye),ye=ye.sibling;return je}function A(je,ye){return je=bl(je,ye),je.index=0,je.sibling=null,je}function T(je,ye,Ce){return je.index=Ce,l?(Ce=je.alternate,Ce!==null?(Ce=Ce.index,Ce<ye?(je.flags|=2,ye):Ce):(je.flags|=2,ye)):(je.flags|=1048576,ye)}function W(je){return l&&je.alternate===null&&(je.flags|=2),je}function ae(je,ye,Ce,qe){return ye===null||ye.tag!==6?(ye=Ab(Ce,je.mode,qe),ye.return=je,ye):(ye=A(ye,Ce),ye.return=je,ye)}function he(je,ye,Ce,qe){var ot=Ce.type;return ot===E?$e(je,ye,Ce.props.children,qe,Ce.key):ye!==null&&(ye.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===V&&_C(ot)===ye.type)?(qe=A(ye,Ce.props),qe.ref=zh(je,ye,Ce),qe.return=je,qe):(qe=ug(Ce.type,Ce.key,Ce.props,null,je.mode,qe),qe.ref=zh(je,ye,Ce),qe.return=je,qe)}function Ie(je,ye,Ce,qe){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ce.containerInfo||ye.stateNode.implementation!==Ce.implementation?(ye=Cb(Ce,je.mode,qe),ye.return=je,ye):(ye=A(ye,Ce.children||[]),ye.return=je,ye)}function $e(je,ye,Ce,qe,ot){return ye===null||ye.tag!==7?(ye=Cc(Ce,je.mode,qe,ot),ye.return=je,ye):(ye=A(ye,Ce),ye.return=je,ye)}function Ue(je,ye,Ce){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=Ab(""+ye,je.mode,Ce),ye.return=je,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case P:return Ce=ug(ye.type,ye.key,ye.props,null,je.mode,Ce),Ce.ref=zh(je,null,ye),Ce.return=je,Ce;case R:return ye=Cb(ye,je.mode,Ce),ye.return=je,ye;case V:var qe=ye._init;return Ue(je,qe(ye._payload),Ce)}if(it(ye)||te(ye))return ye=Cc(ye,je.mode,Ce,null),ye.return=je,ye;Bp(je,ye)}return null}function Fe(je,ye,Ce,qe){var ot=ye!==null?ye.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ot!==null?null:ae(je,ye,""+Ce,qe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case P:return Ce.key===ot?he(je,ye,Ce,qe):null;case R:return Ce.key===ot?Ie(je,ye,Ce,qe):null;case V:return ot=Ce._init,Fe(je,ye,ot(Ce._payload),qe)}if(it(Ce)||te(Ce))return ot!==null?null:$e(je,ye,Ce,qe,null);Bp(je,Ce)}return null}function Ze(je,ye,Ce,qe,ot){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return je=je.get(Ce)||null,ae(ye,je,""+qe,ot);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case P:return je=je.get(qe.key===null?Ce:qe.key)||null,he(ye,je,qe,ot);case R:return je=je.get(qe.key===null?Ce:qe.key)||null,Ie(ye,je,qe,ot);case V:var dt=qe._init;return Ze(je,ye,Ce,dt(qe._payload),ot)}if(it(qe)||te(qe))return je=je.get(Ce)||null,$e(ye,je,qe,ot,null);Bp(ye,qe)}return null}function tt(je,ye,Ce,qe){for(var ot=null,dt=null,ht=ye,gt=ye=0,jn=null;ht!==null&&gt<Ce.length;gt++){ht.index>gt?(jn=ht,ht=null):jn=ht.sibling;var Vt=Fe(je,ht,Ce[gt],qe);if(Vt===null){ht===null&&(ht=jn);break}l&&ht&&Vt.alternate===null&&d(je,ht),ye=T(Vt,ye,gt),dt===null?ot=Vt:dt.sibling=Vt,dt=Vt,ht=jn}if(gt===Ce.length)return g(je,ht),xr&&vc(je,gt),ot;if(ht===null){for(;gt<Ce.length;gt++)ht=Ue(je,Ce[gt],qe),ht!==null&&(ye=T(ht,ye,gt),dt===null?ot=ht:dt.sibling=ht,dt=ht);return xr&&vc(je,gt),ot}for(ht=w(je,ht);gt<Ce.length;gt++)jn=Ze(ht,je,gt,Ce[gt],qe),jn!==null&&(l&&jn.alternate!==null&&ht.delete(jn.key===null?gt:jn.key),ye=T(jn,ye,gt),dt===null?ot=jn:dt.sibling=jn,dt=jn);return l&&ht.forEach(function(wl){return d(je,wl)}),xr&&vc(je,gt),ot}function at(je,ye,Ce,qe){var ot=te(Ce);if(typeof ot!="function")throw Error(r(150));if(Ce=ot.call(Ce),Ce==null)throw Error(r(151));for(var dt=ot=null,ht=ye,gt=ye=0,jn=null,Vt=Ce.next();ht!==null&&!Vt.done;gt++,Vt=Ce.next()){ht.index>gt?(jn=ht,ht=null):jn=ht.sibling;var wl=Fe(je,ht,Vt.value,qe);if(wl===null){ht===null&&(ht=jn);break}l&&ht&&wl.alternate===null&&d(je,ht),ye=T(wl,ye,gt),dt===null?ot=wl:dt.sibling=wl,dt=wl,ht=jn}if(Vt.done)return g(je,ht),xr&&vc(je,gt),ot;if(ht===null){for(;!Vt.done;gt++,Vt=Ce.next())Vt=Ue(je,Vt.value,qe),Vt!==null&&(ye=T(Vt,ye,gt),dt===null?ot=Vt:dt.sibling=Vt,dt=Vt);return xr&&vc(je,gt),ot}for(ht=w(je,ht);!Vt.done;gt++,Vt=Ce.next())Vt=Ze(ht,je,gt,Vt.value,qe),Vt!==null&&(l&&Vt.alternate!==null&&ht.delete(Vt.key===null?gt:Vt.key),ye=T(Vt,ye,gt),dt===null?ot=Vt:dt.sibling=Vt,dt=Vt);return l&&ht.forEach(function(gV){return d(je,gV)}),xr&&vc(je,gt),ot}function Wr(je,ye,Ce,qe){if(typeof Ce=="object"&&Ce!==null&&Ce.type===E&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case P:e:{for(var ot=Ce.key,dt=ye;dt!==null;){if(dt.key===ot){if(ot=Ce.type,ot===E){if(dt.tag===7){g(je,dt.sibling),ye=A(dt,Ce.props.children),ye.return=je,je=ye;break e}}else if(dt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===V&&_C(ot)===dt.type){g(je,dt.sibling),ye=A(dt,Ce.props),ye.ref=zh(je,dt,Ce),ye.return=je,je=ye;break e}g(je,dt);break}else d(je,dt);dt=dt.sibling}Ce.type===E?(ye=Cc(Ce.props.children,je.mode,qe,Ce.key),ye.return=je,je=ye):(qe=ug(Ce.type,Ce.key,Ce.props,null,je.mode,qe),qe.ref=zh(je,ye,Ce),qe.return=je,je=qe)}return W(je);case R:e:{for(dt=Ce.key;ye!==null;){if(ye.key===dt)if(ye.tag===4&&ye.stateNode.containerInfo===Ce.containerInfo&&ye.stateNode.implementation===Ce.implementation){g(je,ye.sibling),ye=A(ye,Ce.children||[]),ye.return=je,je=ye;break e}else{g(je,ye);break}else d(je,ye);ye=ye.sibling}ye=Cb(Ce,je.mode,qe),ye.return=je,je=ye}return W(je);case V:return dt=Ce._init,Wr(je,ye,dt(Ce._payload),qe)}if(it(Ce))return tt(je,ye,Ce,qe);if(te(Ce))return at(je,ye,Ce,qe);Bp(je,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,ye!==null&&ye.tag===6?(g(je,ye.sibling),ye=A(ye,Ce),ye.return=je,je=ye):(g(je,ye),ye=Ab(Ce,je.mode,qe),ye.return=je,je=ye),W(je)):g(je,ye)}return Wr}var Ku=MC(!0),DC=MC(!1),zp=ul(null),Vp=null,Yu=null,R0=null;function L0(){R0=Yu=Vp=null}function F0(l){var d=zp.current;hr(zp),l._currentValue=d}function $0(l,d,g){for(;l!==null;){var w=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),l===g)break;l=l.return}}function Zu(l,d){Vp=l,R0=Yu=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(Cs=!0),l.firstContext=null)}function fa(l){var d=l._currentValue;if(R0!==l)if(l={context:l,memoizedValue:d,next:null},Yu===null){if(Vp===null)throw Error(r(308));Yu=l,Vp.dependencies={lanes:0,firstContext:l}}else Yu=Yu.next=l;return d}var bc=null;function B0(l){bc===null?bc=[l]:bc.push(l)}function OC(l,d,g,w){var A=d.interleaved;return A===null?(g.next=g,B0(d)):(g.next=A.next,A.next=g),d.interleaved=g,mo(l,w)}function mo(l,d){l.lanes|=d;var g=l.alternate;for(g!==null&&(g.lanes|=d),g=l,l=l.return;l!==null;)l.childLanes|=d,g=l.alternate,g!==null&&(g.childLanes|=d),g=l,l=l.return;return g.tag===3?g.stateNode:null}var fl=!1;function z0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RC(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function po(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function ml(l,d,g){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(Bt&2)!==0){var A=w.pending;return A===null?d.next=d:(d.next=A.next,A.next=d),w.pending=d,mo(l,g)}return A=w.interleaved,A===null?(d.next=d,B0(w)):(d.next=A.next,A.next=d),w.interleaved=d,mo(l,g)}function Up(l,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var w=d.lanes;w&=l.pendingLanes,g|=w,d.lanes=g,jh(l,g)}}function LC(l,d){var g=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var A=null,T=null;if(g=g.firstBaseUpdate,g!==null){do{var W={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};T===null?A=T=W:T=T.next=W,g=g.next}while(g!==null);T===null?A=T=d:T=T.next=d}else A=T=d;g={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:T,shared:w.shared,effects:w.effects},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=d:l.next=d,g.lastBaseUpdate=d}function Wp(l,d,g,w){var A=l.updateQueue;fl=!1;var T=A.firstBaseUpdate,W=A.lastBaseUpdate,ae=A.shared.pending;if(ae!==null){A.shared.pending=null;var he=ae,Ie=he.next;he.next=null,W===null?T=Ie:W.next=Ie,W=he;var $e=l.alternate;$e!==null&&($e=$e.updateQueue,ae=$e.lastBaseUpdate,ae!==W&&(ae===null?$e.firstBaseUpdate=Ie:ae.next=Ie,$e.lastBaseUpdate=he))}if(T!==null){var Ue=A.baseState;W=0,$e=Ie=he=null,ae=T;do{var Fe=ae.lane,Ze=ae.eventTime;if((w&Fe)===Fe){$e!==null&&($e=$e.next={eventTime:Ze,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var tt=l,at=ae;switch(Fe=d,Ze=g,at.tag){case 1:if(tt=at.payload,typeof tt=="function"){Ue=tt.call(Ze,Ue,Fe);break e}Ue=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=at.payload,Fe=typeof tt=="function"?tt.call(Ze,Ue,Fe):tt,Fe==null)break e;Ue=ie({},Ue,Fe);break e;case 2:fl=!0}}ae.callback!==null&&ae.lane!==0&&(l.flags|=64,Fe=A.effects,Fe===null?A.effects=[ae]:Fe.push(ae))}else Ze={eventTime:Ze,lane:Fe,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},$e===null?(Ie=$e=Ze,he=Ue):$e=$e.next=Ze,W|=Fe;if(ae=ae.next,ae===null){if(ae=A.shared.pending,ae===null)break;Fe=ae,ae=Fe.next,Fe.next=null,A.lastBaseUpdate=Fe,A.shared.pending=null}}while(!0);if($e===null&&(he=Ue),A.baseState=he,A.firstBaseUpdate=Ie,A.lastBaseUpdate=$e,d=A.shared.interleaved,d!==null){A=d;do W|=A.lane,A=A.next;while(A!==d)}else T===null&&(A.shared.lanes=0);Nc|=W,l.lanes=W,l.memoizedState=Ue}}function FC(l,d,g){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var w=l[d],A=w.callback;if(A!==null){if(w.callback=null,w=g,typeof A!="function")throw Error(r(191,A));A.call(w)}}}var Vh={},Pi=ul(Vh),Uh=ul(Vh),Wh=ul(Vh);function wc(l){if(l===Vh)throw Error(r(174));return l}function V0(l,d){switch(ir(Wh,d),ir(Uh,l),ir(Pi,Vh),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Tr(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=Tr(d,l)}hr(Pi),ir(Pi,d)}function Qu(){hr(Pi),hr(Uh),hr(Wh)}function $C(l){wc(Wh.current);var d=wc(Pi.current),g=Tr(d,l.type);d!==g&&(ir(Uh,l),ir(Pi,g))}function U0(l){Uh.current===l&&(hr(Pi),hr(Uh))}var Ar=ul(0);function Hp(l){for(var d=l;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var W0=[];function H0(){for(var l=0;l<W0.length;l++)W0[l]._workInProgressVersionPrimary=null;W0.length=0}var qp=O.ReactCurrentDispatcher,q0=O.ReactCurrentBatchConfig,jc=0,Cr=null,on=null,bn=null,Gp=!1,Hh=!1,qh=0,Fz=0;function Gn(){throw Error(r(321))}function G0(l,d){if(d===null)return!1;for(var g=0;g<d.length&&g<l.length;g++)if(!Ua(l[g],d[g]))return!1;return!0}function K0(l,d,g,w,A,T){if(jc=T,Cr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,qp.current=l===null||l.memoizedState===null?Vz:Uz,l=g(w,A),Hh){T=0;do{if(Hh=!1,qh=0,25<=T)throw Error(r(301));T+=1,bn=on=null,d.updateQueue=null,qp.current=Wz,l=g(w,A)}while(Hh)}if(qp.current=Zp,d=on!==null&&on.next!==null,jc=0,bn=on=Cr=null,Gp=!1,d)throw Error(r(300));return l}function Y0(){var l=qh!==0;return qh=0,l}function Ei(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Cr.memoizedState=bn=l:bn=bn.next=l,bn}function ma(){if(on===null){var l=Cr.alternate;l=l!==null?l.memoizedState:null}else l=on.next;var d=bn===null?Cr.memoizedState:bn.next;if(d!==null)bn=d,on=l;else{if(l===null)throw Error(r(310));on=l,l={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},bn===null?Cr.memoizedState=bn=l:bn=bn.next=l}return bn}function Gh(l,d){return typeof d=="function"?d(l):d}function Z0(l){var d=ma(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=l;var w=on,A=w.baseQueue,T=g.pending;if(T!==null){if(A!==null){var W=A.next;A.next=T.next,T.next=W}w.baseQueue=A=T,g.pending=null}if(A!==null){T=A.next,w=w.baseState;var ae=W=null,he=null,Ie=T;do{var $e=Ie.lane;if((jc&$e)===$e)he!==null&&(he=he.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),w=Ie.hasEagerState?Ie.eagerState:l(w,Ie.action);else{var Ue={lane:$e,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};he===null?(ae=he=Ue,W=w):he=he.next=Ue,Cr.lanes|=$e,Nc|=$e}Ie=Ie.next}while(Ie!==null&&Ie!==T);he===null?W=w:he.next=ae,Ua(w,d.memoizedState)||(Cs=!0),d.memoizedState=w,d.baseState=W,d.baseQueue=he,g.lastRenderedState=w}if(l=g.interleaved,l!==null){A=l;do T=A.lane,Cr.lanes|=T,Nc|=T,A=A.next;while(A!==l)}else A===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function Q0(l){var d=ma(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=l;var w=g.dispatch,A=g.pending,T=d.memoizedState;if(A!==null){g.pending=null;var W=A=A.next;do T=l(T,W.action),W=W.next;while(W!==A);Ua(T,d.memoizedState)||(Cs=!0),d.memoizedState=T,d.baseQueue===null&&(d.baseState=T),g.lastRenderedState=T}return[T,w]}function BC(){}function zC(l,d){var g=Cr,w=ma(),A=d(),T=!Ua(w.memoizedState,A);if(T&&(w.memoizedState=A,Cs=!0),w=w.queue,X0(WC.bind(null,g,w,l),[l]),w.getSnapshot!==d||T||bn!==null&&bn.memoizedState.tag&1){if(g.flags|=2048,Kh(9,UC.bind(null,g,w,A,d),void 0,null),wn===null)throw Error(r(349));(jc&30)!==0||VC(g,d,A)}return A}function VC(l,d,g){l.flags|=16384,l={getSnapshot:d,value:g},d=Cr.updateQueue,d===null?(d={lastEffect:null,stores:null},Cr.updateQueue=d,d.stores=[l]):(g=d.stores,g===null?d.stores=[l]:g.push(l))}function UC(l,d,g,w){d.value=g,d.getSnapshot=w,HC(d)&&qC(l)}function WC(l,d,g){return g(function(){HC(d)&&qC(l)})}function HC(l){var d=l.getSnapshot;l=l.value;try{var g=d();return!Ua(l,g)}catch{return!0}}function qC(l){var d=mo(l,1);d!==null&&Ka(d,l,1,-1)}function GC(l){var d=Ei();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gh,lastRenderedState:l},d.queue=l,l=l.dispatch=zz.bind(null,Cr,l),[d.memoizedState,l]}function Kh(l,d,g,w){return l={tag:l,create:d,destroy:g,deps:w,next:null},d=Cr.updateQueue,d===null?(d={lastEffect:null,stores:null},Cr.updateQueue=d,d.lastEffect=l.next=l):(g=d.lastEffect,g===null?d.lastEffect=l.next=l:(w=g.next,g.next=l,l.next=w,d.lastEffect=l)),l}function KC(){return ma().memoizedState}function Kp(l,d,g,w){var A=Ei();Cr.flags|=l,A.memoizedState=Kh(1|d,g,void 0,w===void 0?null:w)}function Yp(l,d,g,w){var A=ma();w=w===void 0?null:w;var T=void 0;if(on!==null){var W=on.memoizedState;if(T=W.destroy,w!==null&&G0(w,W.deps)){A.memoizedState=Kh(d,g,T,w);return}}Cr.flags|=l,A.memoizedState=Kh(1|d,g,T,w)}function YC(l,d){return Kp(8390656,8,l,d)}function X0(l,d){return Yp(2048,8,l,d)}function ZC(l,d){return Yp(4,2,l,d)}function QC(l,d){return Yp(4,4,l,d)}function XC(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function JC(l,d,g){return g=g!=null?g.concat([l]):null,Yp(4,4,XC.bind(null,d,l),g)}function J0(){}function eI(l,d){var g=ma();d=d===void 0?null:d;var w=g.memoizedState;return w!==null&&d!==null&&G0(d,w[1])?w[0]:(g.memoizedState=[l,d],l)}function tI(l,d){var g=ma();d=d===void 0?null:d;var w=g.memoizedState;return w!==null&&d!==null&&G0(d,w[1])?w[0]:(l=l(),g.memoizedState=[l,d],l)}function rI(l,d,g){return(jc&21)===0?(l.baseState&&(l.baseState=!1,Cs=!0),l.memoizedState=g):(Ua(g,d)||(g=bh(),Cr.lanes|=g,Nc|=g,l.baseState=!0),d)}function $z(l,d){var g=Tt;Tt=g!==0&&4>g?g:4,l(!0);var w=q0.transition;q0.transition={};try{l(!1),d()}finally{Tt=g,q0.transition=w}}function nI(){return ma().memoizedState}function Bz(l,d,g){var w=xl(l);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},sI(l))aI(d,g);else if(g=OC(l,d,g,w),g!==null){var A=os();Ka(g,l,w,A),iI(g,d,w)}}function zz(l,d,g){var w=xl(l),A={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(sI(l))aI(d,A);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=d.lastRenderedReducer,T!==null))try{var W=d.lastRenderedState,ae=T(W,g);if(A.hasEagerState=!0,A.eagerState=ae,Ua(ae,W)){var he=d.interleaved;he===null?(A.next=A,B0(d)):(A.next=he.next,he.next=A),d.interleaved=A;return}}catch{}finally{}g=OC(l,d,A,w),g!==null&&(A=os(),Ka(g,l,w,A),iI(g,d,w))}}function sI(l){var d=l.alternate;return l===Cr||d!==null&&d===Cr}function aI(l,d){Hh=Gp=!0;var g=l.pending;g===null?d.next=d:(d.next=g.next,g.next=d),l.pending=d}function iI(l,d,g){if((g&4194240)!==0){var w=d.lanes;w&=l.pendingLanes,g|=w,d.lanes=g,jh(l,g)}}var Zp={readContext:fa,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},Vz={readContext:fa,useCallback:function(l,d){return Ei().memoizedState=[l,d===void 0?null:d],l},useContext:fa,useEffect:YC,useImperativeHandle:function(l,d,g){return g=g!=null?g.concat([l]):null,Kp(4194308,4,XC.bind(null,d,l),g)},useLayoutEffect:function(l,d){return Kp(4194308,4,l,d)},useInsertionEffect:function(l,d){return Kp(4,2,l,d)},useMemo:function(l,d){var g=Ei();return d=d===void 0?null:d,l=l(),g.memoizedState=[l,d],l},useReducer:function(l,d,g){var w=Ei();return d=g!==void 0?g(d):d,w.memoizedState=w.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},w.queue=l,l=l.dispatch=Bz.bind(null,Cr,l),[w.memoizedState,l]},useRef:function(l){var d=Ei();return l={current:l},d.memoizedState=l},useState:GC,useDebugValue:J0,useDeferredValue:function(l){return Ei().memoizedState=l},useTransition:function(){var l=GC(!1),d=l[0];return l=$z.bind(null,l[1]),Ei().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,g){var w=Cr,A=Ei();if(xr){if(g===void 0)throw Error(r(407));g=g()}else{if(g=d(),wn===null)throw Error(r(349));(jc&30)!==0||VC(w,d,g)}A.memoizedState=g;var T={value:g,getSnapshot:d};return A.queue=T,YC(WC.bind(null,w,T,l),[l]),w.flags|=2048,Kh(9,UC.bind(null,w,T,g,d),void 0,null),g},useId:function(){var l=Ei(),d=wn.identifierPrefix;if(xr){var g=fo,w=ho;g=(w&~(1<<32-zs(w)-1)).toString(32)+g,d=":"+d+"R"+g,g=qh++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=Fz++,d=":"+d+"r"+g.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},Uz={readContext:fa,useCallback:eI,useContext:fa,useEffect:X0,useImperativeHandle:JC,useInsertionEffect:ZC,useLayoutEffect:QC,useMemo:tI,useReducer:Z0,useRef:KC,useState:function(){return Z0(Gh)},useDebugValue:J0,useDeferredValue:function(l){var d=ma();return rI(d,on.memoizedState,l)},useTransition:function(){var l=Z0(Gh)[0],d=ma().memoizedState;return[l,d]},useMutableSource:BC,useSyncExternalStore:zC,useId:nI,unstable_isNewReconciler:!1},Wz={readContext:fa,useCallback:eI,useContext:fa,useEffect:X0,useImperativeHandle:JC,useInsertionEffect:ZC,useLayoutEffect:QC,useMemo:tI,useReducer:Q0,useRef:KC,useState:function(){return Q0(Gh)},useDebugValue:J0,useDeferredValue:function(l){var d=ma();return on===null?d.memoizedState=l:rI(d,on.memoizedState,l)},useTransition:function(){var l=Q0(Gh)[0],d=ma().memoizedState;return[l,d]},useMutableSource:BC,useSyncExternalStore:zC,useId:nI,unstable_isNewReconciler:!1};function Ha(l,d){if(l&&l.defaultProps){d=ie({},d),l=l.defaultProps;for(var g in l)d[g]===void 0&&(d[g]=l[g]);return d}return d}function eb(l,d,g,w){d=l.memoizedState,g=g(w,d),g=g==null?d:ie({},d,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Qp={isMounted:function(l){return(l=l._reactInternals)?oe(l)===l:!1},enqueueSetState:function(l,d,g){l=l._reactInternals;var w=os(),A=xl(l),T=po(w,A);T.payload=d,g!=null&&(T.callback=g),d=ml(l,T,A),d!==null&&(Ka(d,l,A,w),Up(d,l,A))},enqueueReplaceState:function(l,d,g){l=l._reactInternals;var w=os(),A=xl(l),T=po(w,A);T.tag=1,T.payload=d,g!=null&&(T.callback=g),d=ml(l,T,A),d!==null&&(Ka(d,l,A,w),Up(d,l,A))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var g=os(),w=xl(l),A=po(g,w);A.tag=2,d!=null&&(A.callback=d),d=ml(l,A,w),d!==null&&(Ka(d,l,w,g),Up(d,l,w))}};function oI(l,d,g,w,A,T,W){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,T,W):d.prototype&&d.prototype.isPureReactComponent?!Dh(g,w)||!Dh(A,T):!0}function lI(l,d,g){var w=!1,A=dl,T=d.contextType;return typeof T=="object"&&T!==null?T=fa(T):(A=As(d)?yc:qn.current,w=d.contextTypes,T=(w=w!=null)?Wu(l,A):dl),d=new d(g,T),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qp,l.stateNode=d,d._reactInternals=l,w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=A,l.__reactInternalMemoizedMaskedChildContext=T),d}function cI(l,d,g,w){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,w),d.state!==l&&Qp.enqueueReplaceState(d,d.state,null)}function tb(l,d,g,w){var A=l.stateNode;A.props=g,A.state=l.memoizedState,A.refs={},z0(l);var T=d.contextType;typeof T=="object"&&T!==null?A.context=fa(T):(T=As(d)?yc:qn.current,A.context=Wu(l,T)),A.state=l.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(eb(l,d,T,g),A.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(d=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),d!==A.state&&Qp.enqueueReplaceState(A,A.state,null),Wp(l,g,A,w),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308)}function Xu(l,d){try{var g="",w=d;do g+=Pe(w),w=w.return;while(w);var A=g}catch(T){A=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:d,stack:A,digest:null}}function rb(l,d,g){return{value:l,source:null,stack:g??null,digest:d??null}}function nb(l,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var Hz=typeof WeakMap=="function"?WeakMap:Map;function uI(l,d,g){g=po(-1,g),g.tag=3,g.payload={element:null};var w=d.value;return g.callback=function(){sg||(sg=!0,xb=w),nb(l,d)},g}function dI(l,d,g){g=po(-1,g),g.tag=3;var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var A=d.value;g.payload=function(){return w(A)},g.callback=function(){nb(l,d)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(g.callback=function(){nb(l,d),typeof w!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var W=d.stack;this.componentDidCatch(d.value,{componentStack:W!==null?W:""})}),g}function hI(l,d,g){var w=l.pingCache;if(w===null){w=l.pingCache=new Hz;var A=new Set;w.set(d,A)}else A=w.get(d),A===void 0&&(A=new Set,w.set(d,A));A.has(g)||(A.add(g),l=aV.bind(null,l,d,g),d.then(l,l))}function fI(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function mI(l,d,g,w,A){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=po(-1,1),d.tag=2,ml(g,d,1))),g.lanes|=1),l):(l.flags|=65536,l.lanes=A,l)}var qz=O.ReactCurrentOwner,Cs=!1;function is(l,d,g,w){d.child=l===null?DC(d,null,g,w):Ku(d,l.child,g,w)}function pI(l,d,g,w,A){g=g.render;var T=d.ref;return Zu(d,A),w=K0(l,d,g,w,T,A),g=Y0(),l!==null&&!Cs?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~A,go(l,d,A)):(xr&&g&&T0(d),d.flags|=1,is(l,d,w,A),d.child)}function gI(l,d,g,w,A){if(l===null){var T=g.type;return typeof T=="function"&&!Sb(T)&&T.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=T,yI(l,d,T,w,A)):(l=ug(g.type,null,w,d,d.mode,A),l.ref=d.ref,l.return=d,d.child=l)}if(T=l.child,(l.lanes&A)===0){var W=T.memoizedProps;if(g=g.compare,g=g!==null?g:Dh,g(W,w)&&l.ref===d.ref)return go(l,d,A)}return d.flags|=1,l=bl(T,w),l.ref=d.ref,l.return=d,d.child=l}function yI(l,d,g,w,A){if(l!==null){var T=l.memoizedProps;if(Dh(T,w)&&l.ref===d.ref)if(Cs=!1,d.pendingProps=w=T,(l.lanes&A)!==0)(l.flags&131072)!==0&&(Cs=!0);else return d.lanes=l.lanes,go(l,d,A)}return sb(l,d,g,w,A)}function xI(l,d,g){var w=d.pendingProps,A=w.children,T=l!==null?l.memoizedState:null;if(w.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(ed,Gs),Gs|=g;else{if((g&1073741824)===0)return l=T!==null?T.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,ir(ed,Gs),Gs|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=T!==null?T.baseLanes:g,ir(ed,Gs),Gs|=w}else T!==null?(w=T.baseLanes|g,d.memoizedState=null):w=g,ir(ed,Gs),Gs|=w;return is(l,d,A,g),d.child}function vI(l,d){var g=d.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function sb(l,d,g,w,A){var T=As(g)?yc:qn.current;return T=Wu(d,T),Zu(d,A),g=K0(l,d,g,w,T,A),w=Y0(),l!==null&&!Cs?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~A,go(l,d,A)):(xr&&w&&T0(d),d.flags|=1,is(l,d,g,A),d.child)}function bI(l,d,g,w,A){if(As(g)){var T=!0;Op(d)}else T=!1;if(Zu(d,A),d.stateNode===null)Jp(l,d),lI(d,g,w),tb(d,g,w,A),w=!0;else if(l===null){var W=d.stateNode,ae=d.memoizedProps;W.props=ae;var he=W.context,Ie=g.contextType;typeof Ie=="object"&&Ie!==null?Ie=fa(Ie):(Ie=As(g)?yc:qn.current,Ie=Wu(d,Ie));var $e=g.getDerivedStateFromProps,Ue=typeof $e=="function"||typeof W.getSnapshotBeforeUpdate=="function";Ue||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ae!==w||he!==Ie)&&cI(d,W,w,Ie),fl=!1;var Fe=d.memoizedState;W.state=Fe,Wp(d,w,W,A),he=d.memoizedState,ae!==w||Fe!==he||Ss.current||fl?(typeof $e=="function"&&(eb(d,g,$e,w),he=d.memoizedState),(ae=fl||oI(d,g,ae,w,Fe,he,Ie))?(Ue||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(d.flags|=4194308)):(typeof W.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=he),W.props=w,W.state=he,W.context=Ie,w=ae):(typeof W.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{W=d.stateNode,RC(l,d),ae=d.memoizedProps,Ie=d.type===d.elementType?ae:Ha(d.type,ae),W.props=Ie,Ue=d.pendingProps,Fe=W.context,he=g.contextType,typeof he=="object"&&he!==null?he=fa(he):(he=As(g)?yc:qn.current,he=Wu(d,he));var Ze=g.getDerivedStateFromProps;($e=typeof Ze=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ae!==Ue||Fe!==he)&&cI(d,W,w,he),fl=!1,Fe=d.memoizedState,W.state=Fe,Wp(d,w,W,A);var tt=d.memoizedState;ae!==Ue||Fe!==tt||Ss.current||fl?(typeof Ze=="function"&&(eb(d,g,Ze,w),tt=d.memoizedState),(Ie=fl||oI(d,g,Ie,w,Fe,tt,he)||!1)?($e||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(w,tt,he),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(w,tt,he)),typeof W.componentDidUpdate=="function"&&(d.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof W.componentDidUpdate!="function"||ae===l.memoizedProps&&Fe===l.memoizedState||(d.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&Fe===l.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=tt),W.props=w,W.state=tt,W.context=he,w=Ie):(typeof W.componentDidUpdate!="function"||ae===l.memoizedProps&&Fe===l.memoizedState||(d.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&Fe===l.memoizedState||(d.flags|=1024),w=!1)}return ab(l,d,g,w,T,A)}function ab(l,d,g,w,A,T){vI(l,d);var W=(d.flags&128)!==0;if(!w&&!W)return A&&SC(d,g,!1),go(l,d,T);w=d.stateNode,qz.current=d;var ae=W&&typeof g.getDerivedStateFromError!="function"?null:w.render();return d.flags|=1,l!==null&&W?(d.child=Ku(d,l.child,null,T),d.child=Ku(d,null,ae,T)):is(l,d,ae,T),d.memoizedState=w.state,A&&SC(d,g,!0),d.child}function wI(l){var d=l.stateNode;d.pendingContext?NC(l,d.pendingContext,d.pendingContext!==d.context):d.context&&NC(l,d.context,!1),V0(l,d.containerInfo)}function jI(l,d,g,w,A){return Gu(),O0(A),d.flags|=256,is(l,d,g,w),d.child}var ib={dehydrated:null,treeContext:null,retryLane:0};function ob(l){return{baseLanes:l,cachePool:null,transitions:null}}function NI(l,d,g){var w=d.pendingProps,A=Ar.current,T=!1,W=(d.flags&128)!==0,ae;if((ae=W)||(ae=l!==null&&l.memoizedState===null?!1:(A&2)!==0),ae?(T=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(A|=1),ir(Ar,A&1),l===null)return D0(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(W=w.children,l=w.fallback,T?(w=d.mode,T=d.child,W={mode:"hidden",children:W},(w&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=W):T=dg(W,w,0,null),l=Cc(l,w,g,null),T.return=d,l.return=d,T.sibling=l,d.child=T,d.child.memoizedState=ob(g),d.memoizedState=ib,l):lb(d,W));if(A=l.memoizedState,A!==null&&(ae=A.dehydrated,ae!==null))return Gz(l,d,W,w,ae,A,g);if(T){T=w.fallback,W=d.mode,A=l.child,ae=A.sibling;var he={mode:"hidden",children:w.children};return(W&1)===0&&d.child!==A?(w=d.child,w.childLanes=0,w.pendingProps=he,d.deletions=null):(w=bl(A,he),w.subtreeFlags=A.subtreeFlags&14680064),ae!==null?T=bl(ae,T):(T=Cc(T,W,g,null),T.flags|=2),T.return=d,w.return=d,w.sibling=T,d.child=w,w=T,T=d.child,W=l.child.memoizedState,W=W===null?ob(g):{baseLanes:W.baseLanes|g,cachePool:null,transitions:W.transitions},T.memoizedState=W,T.childLanes=l.childLanes&~g,d.memoizedState=ib,w}return T=l.child,l=T.sibling,w=bl(T,{mode:"visible",children:w.children}),(d.mode&1)===0&&(w.lanes=g),w.return=d,w.sibling=null,l!==null&&(g=d.deletions,g===null?(d.deletions=[l],d.flags|=16):g.push(l)),d.child=w,d.memoizedState=null,w}function lb(l,d){return d=dg({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function Xp(l,d,g,w){return w!==null&&O0(w),Ku(d,l.child,null,g),l=lb(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function Gz(l,d,g,w,A,T,W){if(g)return d.flags&256?(d.flags&=-257,w=rb(Error(r(422))),Xp(l,d,W,w)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(T=w.fallback,A=d.mode,w=dg({mode:"visible",children:w.children},A,0,null),T=Cc(T,A,W,null),T.flags|=2,w.return=d,T.return=d,w.sibling=T,d.child=w,(d.mode&1)!==0&&Ku(d,l.child,null,W),d.child.memoizedState=ob(W),d.memoizedState=ib,T);if((d.mode&1)===0)return Xp(l,d,W,null);if(A.data==="$!"){if(w=A.nextSibling&&A.nextSibling.dataset,w)var ae=w.dgst;return w=ae,T=Error(r(419)),w=rb(T,w,void 0),Xp(l,d,W,w)}if(ae=(W&l.childLanes)!==0,Cs||ae){if(w=wn,w!==null){switch(W&-W){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(w.suspendedLanes|W))!==0?0:A,A!==0&&A!==T.retryLane&&(T.retryLane=A,mo(l,A),Ka(w,l,A,-1))}return kb(),w=rb(Error(r(421))),Xp(l,d,W,w)}return A.data==="$?"?(d.flags|=128,d.child=l.child,d=iV.bind(null,l),A._reactRetry=d,null):(l=T.treeContext,qs=cl(A.nextSibling),Hs=d,xr=!0,Wa=null,l!==null&&(da[ha++]=ho,da[ha++]=fo,da[ha++]=xc,ho=l.id,fo=l.overflow,xc=d),d=lb(d,w.children),d.flags|=4096,d)}function kI(l,d,g){l.lanes|=d;var w=l.alternate;w!==null&&(w.lanes|=d),$0(l.return,d,g)}function cb(l,d,g,w,A){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:A}:(T.isBackwards=d,T.rendering=null,T.renderingStartTime=0,T.last=w,T.tail=g,T.tailMode=A)}function SI(l,d,g){var w=d.pendingProps,A=w.revealOrder,T=w.tail;if(is(l,d,w.children,g),w=Ar.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&kI(l,g,d);else if(l.tag===19)kI(l,g,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}if(ir(Ar,w),(d.mode&1)===0)d.memoizedState=null;else switch(A){case"forwards":for(g=d.child,A=null;g!==null;)l=g.alternate,l!==null&&Hp(l)===null&&(A=g),g=g.sibling;g=A,g===null?(A=d.child,d.child=null):(A=g.sibling,g.sibling=null),cb(d,!1,A,g,T);break;case"backwards":for(g=null,A=d.child,d.child=null;A!==null;){if(l=A.alternate,l!==null&&Hp(l)===null){d.child=A;break}l=A.sibling,A.sibling=g,g=A,A=l}cb(d,!0,g,null,T);break;case"together":cb(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Jp(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function go(l,d,g){if(l!==null&&(d.dependencies=l.dependencies),Nc|=d.lanes,(g&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,g=bl(l,l.pendingProps),d.child=g,g.return=d;l.sibling!==null;)l=l.sibling,g=g.sibling=bl(l,l.pendingProps),g.return=d;g.sibling=null}return d.child}function Kz(l,d,g){switch(d.tag){case 3:wI(d),Gu();break;case 5:$C(d);break;case 1:As(d.type)&&Op(d);break;case 4:V0(d,d.stateNode.containerInfo);break;case 10:var w=d.type._context,A=d.memoizedProps.value;ir(zp,w._currentValue),w._currentValue=A;break;case 13:if(w=d.memoizedState,w!==null)return w.dehydrated!==null?(ir(Ar,Ar.current&1),d.flags|=128,null):(g&d.child.childLanes)!==0?NI(l,d,g):(ir(Ar,Ar.current&1),l=go(l,d,g),l!==null?l.sibling:null);ir(Ar,Ar.current&1);break;case 19:if(w=(g&d.childLanes)!==0,(l.flags&128)!==0){if(w)return SI(l,d,g);d.flags|=128}if(A=d.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ir(Ar,Ar.current),w)break;return null;case 22:case 23:return d.lanes=0,xI(l,d,g)}return go(l,d,g)}var AI,ub,CI,II;AI=function(l,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)l.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},ub=function(){},CI=function(l,d,g,w){var A=l.memoizedProps;if(A!==w){l=d.stateNode,wc(Pi.current);var T=null;switch(g){case"input":A=se(l,A),w=se(l,w),T=[];break;case"select":A=ie({},A,{value:void 0}),w=ie({},w,{value:void 0}),T=[];break;case"textarea":A=La(l,A),w=La(l,w),T=[];break;default:typeof A.onClick!="function"&&typeof w.onClick=="function"&&(l.onclick=_p)}nr(g,w);var W;g=null;for(Ie in A)if(!w.hasOwnProperty(Ie)&&A.hasOwnProperty(Ie)&&A[Ie]!=null)if(Ie==="style"){var ae=A[Ie];for(W in ae)ae.hasOwnProperty(W)&&(g||(g={}),g[W]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(a.hasOwnProperty(Ie)?T||(T=[]):(T=T||[]).push(Ie,null));for(Ie in w){var he=w[Ie];if(ae=A?.[Ie],w.hasOwnProperty(Ie)&&he!==ae&&(he!=null||ae!=null))if(Ie==="style")if(ae){for(W in ae)!ae.hasOwnProperty(W)||he&&he.hasOwnProperty(W)||(g||(g={}),g[W]="");for(W in he)he.hasOwnProperty(W)&&ae[W]!==he[W]&&(g||(g={}),g[W]=he[W])}else g||(T||(T=[]),T.push(Ie,g)),g=he;else Ie==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,ae=ae?ae.__html:void 0,he!=null&&ae!==he&&(T=T||[]).push(Ie,he)):Ie==="children"?typeof he!="string"&&typeof he!="number"||(T=T||[]).push(Ie,""+he):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ie)?(he!=null&&Ie==="onScroll"&&dr("scroll",l),T||ae===he||(T=[])):(T=T||[]).push(Ie,he))}g&&(T=T||[]).push("style",g);var Ie=T;(d.updateQueue=Ie)&&(d.flags|=4)}},II=function(l,d,g,w){g!==w&&(d.flags|=4)};function Yh(l,d){if(!xr)switch(l.tailMode){case"hidden":d=l.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function Kn(l){var d=l.alternate!==null&&l.alternate.child===l.child,g=0,w=0;if(d)for(var A=l.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags&14680064,w|=A.flags&14680064,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=w,l.childLanes=g,d}function Yz(l,d,g){var w=d.pendingProps;switch(_0(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(d),null;case 1:return As(d.type)&&Dp(),Kn(d),null;case 3:return w=d.stateNode,Qu(),hr(Ss),hr(qn),H0(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(l===null||l.child===null)&&($p(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Wa!==null&&(wb(Wa),Wa=null))),ub(l,d),Kn(d),null;case 5:U0(d);var A=wc(Wh.current);if(g=d.type,l!==null&&d.stateNode!=null)CI(l,d,g,w,A),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!w){if(d.stateNode===null)throw Error(r(166));return Kn(d),null}if(l=wc(Pi.current),$p(d)){w=d.stateNode,g=d.type;var T=d.memoizedProps;switch(w[Ii]=d,w[$h]=T,l=(d.mode&1)!==0,g){case"dialog":dr("cancel",w),dr("close",w);break;case"iframe":case"object":case"embed":dr("load",w);break;case"video":case"audio":for(A=0;A<Rh.length;A++)dr(Rh[A],w);break;case"source":dr("error",w);break;case"img":case"image":case"link":dr("error",w),dr("load",w);break;case"details":dr("toggle",w);break;case"input":Q(w,T),dr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!T.multiple},dr("invalid",w);break;case"textarea":ur(w,T),dr("invalid",w)}nr(g,T),A=null;for(var W in T)if(T.hasOwnProperty(W)){var ae=T[W];W==="children"?typeof ae=="string"?w.textContent!==ae&&(T.suppressHydrationWarning!==!0&&Tp(w.textContent,ae,l),A=["children",ae]):typeof ae=="number"&&w.textContent!==""+ae&&(T.suppressHydrationWarning!==!0&&Tp(w.textContent,ae,l),A=["children",""+ae]):a.hasOwnProperty(W)&&ae!=null&&W==="onScroll"&&dr("scroll",w)}switch(g){case"input":de(w),xe(w,T,!0);break;case"textarea":de(w),kr(w);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(w.onclick=_p)}w=A,d.updateQueue=w,w!==null&&(d.flags|=4)}else{W=A.nodeType===9?A:A.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=vn(g)),l==="http://www.w3.org/1999/xhtml"?g==="script"?(l=W.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof w.is=="string"?l=W.createElement(g,{is:w.is}):(l=W.createElement(g),g==="select"&&(W=l,w.multiple?W.multiple=!0:w.size&&(W.size=w.size))):l=W.createElementNS(l,g),l[Ii]=d,l[$h]=w,AI(l,d,!1,!1),d.stateNode=l;e:{switch(W=Vr(g,w),g){case"dialog":dr("cancel",l),dr("close",l),A=w;break;case"iframe":case"object":case"embed":dr("load",l),A=w;break;case"video":case"audio":for(A=0;A<Rh.length;A++)dr(Rh[A],l);A=w;break;case"source":dr("error",l),A=w;break;case"img":case"image":case"link":dr("error",l),dr("load",l),A=w;break;case"details":dr("toggle",l),A=w;break;case"input":Q(l,w),A=se(l,w),dr("invalid",l);break;case"option":A=w;break;case"select":l._wrapperState={wasMultiple:!!w.multiple},A=ie({},w,{value:void 0}),dr("invalid",l);break;case"textarea":ur(l,w),A=La(l,w),dr("invalid",l);break;default:A=w}nr(g,A),ae=A;for(T in ae)if(ae.hasOwnProperty(T)){var he=ae[T];T==="style"?Re(l,he):T==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&we(l,he)):T==="children"?typeof he=="string"?(g!=="textarea"||he!=="")&&He(l,he):typeof he=="number"&&He(l,""+he):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(a.hasOwnProperty(T)?he!=null&&T==="onScroll"&&dr("scroll",l):he!=null&&S(l,T,he,W))}switch(g){case"input":de(l),xe(l,w,!1);break;case"textarea":de(l),kr(l);break;case"option":w.value!=null&&l.setAttribute("value",""+ce(w.value));break;case"select":l.multiple=!!w.multiple,T=w.value,T!=null?St(l,!!w.multiple,T,!1):w.defaultValue!=null&&St(l,!!w.multiple,w.defaultValue,!0);break;default:typeof A.onClick=="function"&&(l.onclick=_p)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Kn(d),null;case 6:if(l&&d.stateNode!=null)II(l,d,l.memoizedProps,w);else{if(typeof w!="string"&&d.stateNode===null)throw Error(r(166));if(g=wc(Wh.current),wc(Pi.current),$p(d)){if(w=d.stateNode,g=d.memoizedProps,w[Ii]=d,(T=w.nodeValue!==g)&&(l=Hs,l!==null))switch(l.tag){case 3:Tp(w.nodeValue,g,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Tp(w.nodeValue,g,(l.mode&1)!==0)}T&&(d.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[Ii]=d,d.stateNode=w}return Kn(d),null;case 13:if(hr(Ar),w=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(xr&&qs!==null&&(d.mode&1)!==0&&(d.flags&128)===0)TC(),Gu(),d.flags|=98560,T=!1;else if(T=$p(d),w!==null&&w.dehydrated!==null){if(l===null){if(!T)throw Error(r(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Ii]=d}else Gu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Kn(d),T=!1}else Wa!==null&&(wb(Wa),Wa=null),T=!0;if(!T)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=g,d):(w=w!==null,w!==(l!==null&&l.memoizedState!==null)&&w&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(Ar.current&1)!==0?ln===0&&(ln=3):kb())),d.updateQueue!==null&&(d.flags|=4),Kn(d),null);case 4:return Qu(),ub(l,d),l===null&&Lh(d.stateNode.containerInfo),Kn(d),null;case 10:return F0(d.type._context),Kn(d),null;case 17:return As(d.type)&&Dp(),Kn(d),null;case 19:if(hr(Ar),T=d.memoizedState,T===null)return Kn(d),null;if(w=(d.flags&128)!==0,W=T.rendering,W===null)if(w)Yh(T,!1);else{if(ln!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(W=Hp(l),W!==null){for(d.flags|=128,Yh(T,!1),w=W.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),d.subtreeFlags=0,w=g,g=d.child;g!==null;)T=g,l=w,T.flags&=14680066,W=T.alternate,W===null?(T.childLanes=0,T.lanes=l,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=W.childLanes,T.lanes=W.lanes,T.child=W.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=W.memoizedProps,T.memoizedState=W.memoizedState,T.updateQueue=W.updateQueue,T.type=W.type,l=W.dependencies,T.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),g=g.sibling;return ir(Ar,Ar.current&1|2),d.child}l=l.sibling}T.tail!==null&&tr()>td&&(d.flags|=128,w=!0,Yh(T,!1),d.lanes=4194304)}else{if(!w)if(l=Hp(W),l!==null){if(d.flags|=128,w=!0,g=l.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),Yh(T,!0),T.tail===null&&T.tailMode==="hidden"&&!W.alternate&&!xr)return Kn(d),null}else 2*tr()-T.renderingStartTime>td&&g!==1073741824&&(d.flags|=128,w=!0,Yh(T,!1),d.lanes=4194304);T.isBackwards?(W.sibling=d.child,d.child=W):(g=T.last,g!==null?g.sibling=W:d.child=W,T.last=W)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=tr(),d.sibling=null,g=Ar.current,ir(Ar,w?g&1|2:g&1),d):(Kn(d),null);case 22:case 23:return Nb(),w=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==w&&(d.flags|=8192),w&&(d.mode&1)!==0?(Gs&1073741824)!==0&&(Kn(d),d.subtreeFlags&6&&(d.flags|=8192)):Kn(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function Zz(l,d){switch(_0(d),d.tag){case 1:return As(d.type)&&Dp(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Qu(),hr(Ss),hr(qn),H0(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return U0(d),null;case 13:if(hr(Ar),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Gu()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return hr(Ar),null;case 4:return Qu(),null;case 10:return F0(d.type._context),null;case 22:case 23:return Nb(),null;case 24:return null;default:return null}}var eg=!1,Yn=!1,Qz=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Ju(l,d){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){Mr(l,d,w)}else g.current=null}function db(l,d,g){try{g()}catch(w){Mr(l,d,w)}}var PI=!1;function Xz(l,d){if(N0=oo,l=oC(),p0(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var A=w.anchorOffset,T=w.focusNode;w=w.focusOffset;try{g.nodeType,T.nodeType}catch{g=null;break e}var W=0,ae=-1,he=-1,Ie=0,$e=0,Ue=l,Fe=null;t:for(;;){for(var Ze;Ue!==g||A!==0&&Ue.nodeType!==3||(ae=W+A),Ue!==T||w!==0&&Ue.nodeType!==3||(he=W+w),Ue.nodeType===3&&(W+=Ue.nodeValue.length),(Ze=Ue.firstChild)!==null;)Fe=Ue,Ue=Ze;for(;;){if(Ue===l)break t;if(Fe===g&&++Ie===A&&(ae=W),Fe===T&&++$e===w&&(he=W),(Ze=Ue.nextSibling)!==null)break;Ue=Fe,Fe=Ue.parentNode}Ue=Ze}g=ae===-1||he===-1?null:{start:ae,end:he}}else g=null}g=g||{start:0,end:0}}else g=null;for(k0={focusedElem:l,selectionRange:g},oo=!1,Je=d;Je!==null;)if(d=Je,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Je=l;else for(;Je!==null;){d=Je;try{var tt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(tt!==null){var at=tt.memoizedProps,Wr=tt.memoizedState,je=d.stateNode,ye=je.getSnapshotBeforeUpdate(d.elementType===d.type?at:Ha(d.type,at),Wr);je.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var Ce=d.stateNode.containerInfo;Ce.nodeType===1?Ce.textContent="":Ce.nodeType===9&&Ce.documentElement&&Ce.removeChild(Ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(qe){Mr(d,d.return,qe)}if(l=d.sibling,l!==null){l.return=d.return,Je=l;break}Je=d.return}return tt=PI,PI=!1,tt}function Zh(l,d,g){var w=d.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&l)===l){var T=A.destroy;A.destroy=void 0,T!==void 0&&db(d,g,T)}A=A.next}while(A!==w)}}function tg(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&l)===l){var w=g.create;g.destroy=w()}g=g.next}while(g!==d)}}function hb(l){var d=l.ref;if(d!==null){var g=l.stateNode;switch(l.tag){case 5:l=g;break;default:l=g}typeof d=="function"?d(l):d.current=l}}function EI(l){var d=l.alternate;d!==null&&(l.alternate=null,EI(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Ii],delete d[$h],delete d[I0],delete d[Dz],delete d[Oz])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function TI(l){return l.tag===5||l.tag===3||l.tag===4}function _I(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||TI(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function fb(l,d,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(l,d):g.insertBefore(l,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(l,g)):(d=g,d.appendChild(l)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=_p));else if(w!==4&&(l=l.child,l!==null))for(fb(l,d,g),l=l.sibling;l!==null;)fb(l,d,g),l=l.sibling}function mb(l,d,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?g.insertBefore(l,d):g.appendChild(l);else if(w!==4&&(l=l.child,l!==null))for(mb(l,d,g),l=l.sibling;l!==null;)mb(l,d,g),l=l.sibling}var Bn=null,qa=!1;function pl(l,d,g){for(g=g.child;g!==null;)MI(l,d,g),g=g.sibling}function MI(l,d,g){if(Bs&&typeof Bs.onCommitFiberUnmount=="function")try{Bs.onCommitFiberUnmount(oc,g)}catch{}switch(g.tag){case 5:Yn||Ju(g,d);case 6:var w=Bn,A=qa;Bn=null,pl(l,d,g),Bn=w,qa=A,Bn!==null&&(qa?(l=Bn,g=g.stateNode,l.nodeType===8?l.parentNode.removeChild(g):l.removeChild(g)):Bn.removeChild(g.stateNode));break;case 18:Bn!==null&&(qa?(l=Bn,g=g.stateNode,l.nodeType===8?C0(l.parentNode,g):l.nodeType===1&&C0(l,g),al(l)):C0(Bn,g.stateNode));break;case 4:w=Bn,A=qa,Bn=g.stateNode.containerInfo,qa=!0,pl(l,d,g),Bn=w,qa=A;break;case 0:case 11:case 14:case 15:if(!Yn&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){A=w=w.next;do{var T=A,W=T.destroy;T=T.tag,W!==void 0&&((T&2)!==0||(T&4)!==0)&&db(g,d,W),A=A.next}while(A!==w)}pl(l,d,g);break;case 1:if(!Yn&&(Ju(g,d),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(ae){Mr(g,d,ae)}pl(l,d,g);break;case 21:pl(l,d,g);break;case 22:g.mode&1?(Yn=(w=Yn)||g.memoizedState!==null,pl(l,d,g),Yn=w):pl(l,d,g);break;default:pl(l,d,g)}}function DI(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new Qz),d.forEach(function(w){var A=oV.bind(null,l,w);g.has(w)||(g.add(w),w.then(A,A))})}}function Ga(l,d){var g=d.deletions;if(g!==null)for(var w=0;w<g.length;w++){var A=g[w];try{var T=l,W=d,ae=W;e:for(;ae!==null;){switch(ae.tag){case 5:Bn=ae.stateNode,qa=!1;break e;case 3:Bn=ae.stateNode.containerInfo,qa=!0;break e;case 4:Bn=ae.stateNode.containerInfo,qa=!0;break e}ae=ae.return}if(Bn===null)throw Error(r(160));MI(T,W,A),Bn=null,qa=!1;var he=A.alternate;he!==null&&(he.return=null),A.return=null}catch(Ie){Mr(A,d,Ie)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)OI(d,l),d=d.sibling}function OI(l,d){var g=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Ga(d,l),Ti(l),w&4){try{Zh(3,l,l.return),tg(3,l)}catch(at){Mr(l,l.return,at)}try{Zh(5,l,l.return)}catch(at){Mr(l,l.return,at)}}break;case 1:Ga(d,l),Ti(l),w&512&&g!==null&&Ju(g,g.return);break;case 5:if(Ga(d,l),Ti(l),w&512&&g!==null&&Ju(g,g.return),l.flags&32){var A=l.stateNode;try{He(A,"")}catch(at){Mr(l,l.return,at)}}if(w&4&&(A=l.stateNode,A!=null)){var T=l.memoizedProps,W=g!==null?g.memoizedProps:T,ae=l.type,he=l.updateQueue;if(l.updateQueue=null,he!==null)try{ae==="input"&&T.type==="radio"&&T.name!=null&&ve(A,T),Vr(ae,W);var Ie=Vr(ae,T);for(W=0;W<he.length;W+=2){var $e=he[W],Ue=he[W+1];$e==="style"?Re(A,Ue):$e==="dangerouslySetInnerHTML"?we(A,Ue):$e==="children"?He(A,Ue):S(A,$e,Ue,Ie)}switch(ae){case"input":ue(A,T);break;case"textarea":bs(A,T);break;case"select":var Fe=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!T.multiple;var Ze=T.value;Ze!=null?St(A,!!T.multiple,Ze,!1):Fe!==!!T.multiple&&(T.defaultValue!=null?St(A,!!T.multiple,T.defaultValue,!0):St(A,!!T.multiple,T.multiple?[]:"",!1))}A[$h]=T}catch(at){Mr(l,l.return,at)}}break;case 6:if(Ga(d,l),Ti(l),w&4){if(l.stateNode===null)throw Error(r(162));A=l.stateNode,T=l.memoizedProps;try{A.nodeValue=T}catch(at){Mr(l,l.return,at)}}break;case 3:if(Ga(d,l),Ti(l),w&4&&g!==null&&g.memoizedState.isDehydrated)try{al(d.containerInfo)}catch(at){Mr(l,l.return,at)}break;case 4:Ga(d,l),Ti(l);break;case 13:Ga(d,l),Ti(l),A=l.child,A.flags&8192&&(T=A.memoizedState!==null,A.stateNode.isHidden=T,!T||A.alternate!==null&&A.alternate.memoizedState!==null||(yb=tr())),w&4&&DI(l);break;case 22:if($e=g!==null&&g.memoizedState!==null,l.mode&1?(Yn=(Ie=Yn)||$e,Ga(d,l),Yn=Ie):Ga(d,l),Ti(l),w&8192){if(Ie=l.memoizedState!==null,(l.stateNode.isHidden=Ie)&&!$e&&(l.mode&1)!==0)for(Je=l,$e=l.child;$e!==null;){for(Ue=Je=$e;Je!==null;){switch(Fe=Je,Ze=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:Zh(4,Fe,Fe.return);break;case 1:Ju(Fe,Fe.return);var tt=Fe.stateNode;if(typeof tt.componentWillUnmount=="function"){w=Fe,g=Fe.return;try{d=w,tt.props=d.memoizedProps,tt.state=d.memoizedState,tt.componentWillUnmount()}catch(at){Mr(w,g,at)}}break;case 5:Ju(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){FI(Ue);continue}}Ze!==null?(Ze.return=Fe,Je=Ze):FI(Ue)}$e=$e.sibling}e:for($e=null,Ue=l;;){if(Ue.tag===5){if($e===null){$e=Ue;try{A=Ue.stateNode,Ie?(T=A.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(ae=Ue.stateNode,he=Ue.memoizedProps.style,W=he!=null&&he.hasOwnProperty("display")?he.display:null,ae.style.display=Oe("display",W))}catch(at){Mr(l,l.return,at)}}}else if(Ue.tag===6){if($e===null)try{Ue.stateNode.nodeValue=Ie?"":Ue.memoizedProps}catch(at){Mr(l,l.return,at)}}else if((Ue.tag!==22&&Ue.tag!==23||Ue.memoizedState===null||Ue===l)&&Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===l)break e;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===l)break e;$e===Ue&&($e=null),Ue=Ue.return}$e===Ue&&($e=null),Ue.sibling.return=Ue.return,Ue=Ue.sibling}}break;case 19:Ga(d,l),Ti(l),w&4&&DI(l);break;case 21:break;default:Ga(d,l),Ti(l)}}function Ti(l){var d=l.flags;if(d&2){try{e:{for(var g=l.return;g!==null;){if(TI(g)){var w=g;break e}g=g.return}throw Error(r(160))}switch(w.tag){case 5:var A=w.stateNode;w.flags&32&&(He(A,""),w.flags&=-33);var T=_I(l);mb(l,T,A);break;case 3:case 4:var W=w.stateNode.containerInfo,ae=_I(l);fb(l,ae,W);break;default:throw Error(r(161))}}catch(he){Mr(l,l.return,he)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function Jz(l,d,g){Je=l,RI(l)}function RI(l,d,g){for(var w=(l.mode&1)!==0;Je!==null;){var A=Je,T=A.child;if(A.tag===22&&w){var W=A.memoizedState!==null||eg;if(!W){var ae=A.alternate,he=ae!==null&&ae.memoizedState!==null||Yn;ae=eg;var Ie=Yn;if(eg=W,(Yn=he)&&!Ie)for(Je=A;Je!==null;)W=Je,he=W.child,W.tag===22&&W.memoizedState!==null?$I(A):he!==null?(he.return=W,Je=he):$I(A);for(;T!==null;)Je=T,RI(T),T=T.sibling;Je=A,eg=ae,Yn=Ie}LI(l)}else(A.subtreeFlags&8772)!==0&&T!==null?(T.return=A,Je=T):LI(l)}}function LI(l){for(;Je!==null;){var d=Je;if((d.flags&8772)!==0){var g=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Yn||tg(5,d);break;case 1:var w=d.stateNode;if(d.flags&4&&!Yn)if(g===null)w.componentDidMount();else{var A=d.elementType===d.type?g.memoizedProps:Ha(d.type,g.memoizedProps);w.componentDidUpdate(A,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var T=d.updateQueue;T!==null&&FC(d,T,w);break;case 3:var W=d.updateQueue;if(W!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}FC(d,W,g)}break;case 5:var ae=d.stateNode;if(g===null&&d.flags&4){g=ae;var he=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&g.focus();break;case"img":he.src&&(g.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Ie=d.alternate;if(Ie!==null){var $e=Ie.memoizedState;if($e!==null){var Ue=$e.dehydrated;Ue!==null&&al(Ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yn||d.flags&512&&hb(d)}catch(Fe){Mr(d,d.return,Fe)}}if(d===l){Je=null;break}if(g=d.sibling,g!==null){g.return=d.return,Je=g;break}Je=d.return}}function FI(l){for(;Je!==null;){var d=Je;if(d===l){Je=null;break}var g=d.sibling;if(g!==null){g.return=d.return,Je=g;break}Je=d.return}}function $I(l){for(;Je!==null;){var d=Je;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{tg(4,d)}catch(he){Mr(d,g,he)}break;case 1:var w=d.stateNode;if(typeof w.componentDidMount=="function"){var A=d.return;try{w.componentDidMount()}catch(he){Mr(d,A,he)}}var T=d.return;try{hb(d)}catch(he){Mr(d,T,he)}break;case 5:var W=d.return;try{hb(d)}catch(he){Mr(d,W,he)}}}catch(he){Mr(d,d.return,he)}if(d===l){Je=null;break}var ae=d.sibling;if(ae!==null){ae.return=d.return,Je=ae;break}Je=d.return}}var eV=Math.ceil,rg=O.ReactCurrentDispatcher,pb=O.ReactCurrentOwner,pa=O.ReactCurrentBatchConfig,Bt=0,wn=null,Qr=null,zn=0,Gs=0,ed=ul(0),ln=0,Qh=null,Nc=0,ng=0,gb=0,Xh=null,Is=null,yb=0,td=1/0,yo=null,sg=!1,xb=null,gl=null,ag=!1,yl=null,ig=0,Jh=0,vb=null,og=-1,lg=0;function os(){return(Bt&6)!==0?tr():og!==-1?og:og=tr()}function xl(l){return(l.mode&1)===0?1:(Bt&2)!==0&&zn!==0?zn&-zn:Lz.transition!==null?(lg===0&&(lg=bh()),lg):(l=Tt,l!==0||(l=window.event,l=l===void 0?16:Eu(l.type)),l)}function Ka(l,d,g,w){if(50<Jh)throw Jh=0,vb=null,Error(r(185));dc(l,g,w),((Bt&2)===0||l!==wn)&&(l===wn&&((Bt&2)===0&&(ng|=g),ln===4&&vl(l,zn)),Ps(l,w),g===1&&Bt===0&&(d.mode&1)===0&&(td=tr()+500,Rp&&hl()))}function Ps(l,d){var g=l.callbackNode;uc(l,d);var w=so(l,l===wn?zn:0);if(w===0)g!==null&&mi(g),l.callbackNode=null,l.callbackPriority=0;else if(d=w&-w,l.callbackPriority!==d){if(g!=null&&mi(g),d===1)l.tag===0?Rz(zI.bind(null,l)):AC(zI.bind(null,l)),_z(function(){(Bt&6)===0&&hl()}),g=null;else{switch(yi(w)){case 1:g=Ns;break;case 4:g=Ba;break;case 16:g=yr;break;case 536870912:g=Su;break;default:g=yr}g=YI(g,BI.bind(null,l))}l.callbackPriority=d,l.callbackNode=g}}function BI(l,d){if(og=-1,lg=0,(Bt&6)!==0)throw Error(r(327));var g=l.callbackNode;if(rd()&&l.callbackNode!==g)return null;var w=so(l,l===wn?zn:0);if(w===0)return null;if((w&30)!==0||(w&l.expiredLanes)!==0||d)d=cg(l,w);else{d=w;var A=Bt;Bt|=2;var T=UI();(wn!==l||zn!==d)&&(yo=null,td=tr()+500,Sc(l,d));do try{nV();break}catch(ae){VI(l,ae)}while(!0);L0(),rg.current=T,Bt=A,Qr!==null?d=0:(wn=null,zn=0,d=ln)}if(d!==0){if(d===2&&(A=vh(l),A!==0&&(w=A,d=bb(l,A))),d===1)throw g=Qh,Sc(l,0),vl(l,w),Ps(l,tr()),g;if(d===6)vl(l,w);else{if(A=l.current.alternate,(w&30)===0&&!tV(A)&&(d=cg(l,w),d===2&&(T=vh(l),T!==0&&(w=T,d=bb(l,T))),d===1))throw g=Qh,Sc(l,0),vl(l,w),Ps(l,tr()),g;switch(l.finishedWork=A,l.finishedLanes=w,d){case 0:case 1:throw Error(r(345));case 2:Ac(l,Is,yo);break;case 3:if(vl(l,w),(w&130023424)===w&&(d=yb+500-tr(),10<d)){if(so(l,0)!==0)break;if(A=l.suspendedLanes,(A&w)!==w){os(),l.pingedLanes|=l.suspendedLanes&A;break}l.timeoutHandle=A0(Ac.bind(null,l,Is,yo),d);break}Ac(l,Is,yo);break;case 4:if(vl(l,w),(w&4194240)===w)break;for(d=l.eventTimes,A=-1;0<w;){var W=31-zs(w);T=1<<W,W=d[W],W>A&&(A=W),w&=~T}if(w=A,w=tr()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*eV(w/1960))-w,10<w){l.timeoutHandle=A0(Ac.bind(null,l,Is,yo),w);break}Ac(l,Is,yo);break;case 5:Ac(l,Is,yo);break;default:throw Error(r(329))}}}return Ps(l,tr()),l.callbackNode===g?BI.bind(null,l):null}function bb(l,d){var g=Xh;return l.current.memoizedState.isDehydrated&&(Sc(l,d).flags|=256),l=cg(l,d),l!==2&&(d=Is,Is=g,d!==null&&wb(d)),l}function wb(l){Is===null?Is=l:Is.push.apply(Is,l)}function tV(l){for(var d=l;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var A=g[w],T=A.getSnapshot;A=A.value;try{if(!Ua(T(),A))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function vl(l,d){for(d&=~gb,d&=~ng,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var g=31-zs(d),w=1<<g;l[g]=-1,d&=~w}}function zI(l){if((Bt&6)!==0)throw Error(r(327));rd();var d=so(l,0);if((d&1)===0)return Ps(l,tr()),null;var g=cg(l,d);if(l.tag!==0&&g===2){var w=vh(l);w!==0&&(d=w,g=bb(l,w))}if(g===1)throw g=Qh,Sc(l,0),vl(l,d),Ps(l,tr()),g;if(g===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,Ac(l,Is,yo),Ps(l,tr()),null}function jb(l,d){var g=Bt;Bt|=1;try{return l(d)}finally{Bt=g,Bt===0&&(td=tr()+500,Rp&&hl())}}function kc(l){yl!==null&&yl.tag===0&&(Bt&6)===0&&rd();var d=Bt;Bt|=1;var g=pa.transition,w=Tt;try{if(pa.transition=null,Tt=1,l)return l()}finally{Tt=w,pa.transition=g,Bt=d,(Bt&6)===0&&hl()}}function Nb(){Gs=ed.current,hr(ed)}function Sc(l,d){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==-1&&(l.timeoutHandle=-1,Tz(g)),Qr!==null)for(g=Qr.return;g!==null;){var w=g;switch(_0(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Dp();break;case 3:Qu(),hr(Ss),hr(qn),H0();break;case 5:U0(w);break;case 4:Qu();break;case 13:hr(Ar);break;case 19:hr(Ar);break;case 10:F0(w.type._context);break;case 22:case 23:Nb()}g=g.return}if(wn=l,Qr=l=bl(l.current,null),zn=Gs=d,ln=0,Qh=null,gb=ng=Nc=0,Is=Xh=null,bc!==null){for(d=0;d<bc.length;d++)if(g=bc[d],w=g.interleaved,w!==null){g.interleaved=null;var A=w.next,T=g.pending;if(T!==null){var W=T.next;T.next=A,w.next=W}g.pending=w}bc=null}return l}function VI(l,d){do{var g=Qr;try{if(L0(),qp.current=Zp,Gp){for(var w=Cr.memoizedState;w!==null;){var A=w.queue;A!==null&&(A.pending=null),w=w.next}Gp=!1}if(jc=0,bn=on=Cr=null,Hh=!1,qh=0,pb.current=null,g===null||g.return===null){ln=1,Qh=d,Qr=null;break}e:{var T=l,W=g.return,ae=g,he=d;if(d=zn,ae.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Ie=he,$e=ae,Ue=$e.tag;if(($e.mode&1)===0&&(Ue===0||Ue===11||Ue===15)){var Fe=$e.alternate;Fe?($e.updateQueue=Fe.updateQueue,$e.memoizedState=Fe.memoizedState,$e.lanes=Fe.lanes):($e.updateQueue=null,$e.memoizedState=null)}var Ze=fI(W);if(Ze!==null){Ze.flags&=-257,mI(Ze,W,ae,T,d),Ze.mode&1&&hI(T,Ie,d),d=Ze,he=Ie;var tt=d.updateQueue;if(tt===null){var at=new Set;at.add(he),d.updateQueue=at}else tt.add(he);break e}else{if((d&1)===0){hI(T,Ie,d),kb();break e}he=Error(r(426))}}else if(xr&&ae.mode&1){var Wr=fI(W);if(Wr!==null){(Wr.flags&65536)===0&&(Wr.flags|=256),mI(Wr,W,ae,T,d),O0(Xu(he,ae));break e}}T=he=Xu(he,ae),ln!==4&&(ln=2),Xh===null?Xh=[T]:Xh.push(T),T=W;do{switch(T.tag){case 3:T.flags|=65536,d&=-d,T.lanes|=d;var je=uI(T,he,d);LC(T,je);break e;case 1:ae=he;var ye=T.type,Ce=T.stateNode;if((T.flags&128)===0&&(typeof ye.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(gl===null||!gl.has(Ce)))){T.flags|=65536,d&=-d,T.lanes|=d;var qe=dI(T,ae,d);LC(T,qe);break e}}T=T.return}while(T!==null)}HI(g)}catch(ot){d=ot,Qr===g&&g!==null&&(Qr=g=g.return);continue}break}while(!0)}function UI(){var l=rg.current;return rg.current=Zp,l===null?Zp:l}function kb(){(ln===0||ln===3||ln===2)&&(ln=4),wn===null||(Nc&268435455)===0&&(ng&268435455)===0||vl(wn,zn)}function cg(l,d){var g=Bt;Bt|=2;var w=UI();(wn!==l||zn!==d)&&(yo=null,Sc(l,d));do try{rV();break}catch(A){VI(l,A)}while(!0);if(L0(),Bt=g,rg.current=w,Qr!==null)throw Error(r(261));return wn=null,zn=0,ln}function rV(){for(;Qr!==null;)WI(Qr)}function nV(){for(;Qr!==null&&!$a();)WI(Qr)}function WI(l){var d=KI(l.alternate,l,Gs);l.memoizedProps=l.pendingProps,d===null?HI(l):Qr=d,pb.current=null}function HI(l){var d=l;do{var g=d.alternate;if(l=d.return,(d.flags&32768)===0){if(g=Yz(g,d,Gs),g!==null){Qr=g;return}}else{if(g=Zz(g,d),g!==null){g.flags&=32767,Qr=g;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{ln=6,Qr=null;return}}if(d=d.sibling,d!==null){Qr=d;return}Qr=d=l}while(d!==null);ln===0&&(ln=5)}function Ac(l,d,g){var w=Tt,A=pa.transition;try{pa.transition=null,Tt=1,sV(l,d,g,w)}finally{pa.transition=A,Tt=w}return null}function sV(l,d,g,w){do rd();while(yl!==null);if((Bt&6)!==0)throw Error(r(327));g=l.finishedWork;var A=l.finishedLanes;if(g===null)return null;if(l.finishedWork=null,l.finishedLanes=0,g===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var T=g.lanes|g.childLanes;if(u0(l,T),l===wn&&(Qr=wn=null,zn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||ag||(ag=!0,YI(yr,function(){return rd(),null})),T=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||T){T=pa.transition,pa.transition=null;var W=Tt;Tt=1;var ae=Bt;Bt|=4,pb.current=null,Xz(l,g),OI(g,l),kz(k0),oo=!!N0,k0=N0=null,l.current=g,Jz(g),$s(),Bt=ae,Tt=W,pa.transition=T}else l.current=g;if(ag&&(ag=!1,yl=l,ig=A),T=l.pendingLanes,T===0&&(gl=null),yp(g.stateNode),Ps(l,tr()),d!==null)for(w=l.onRecoverableError,g=0;g<d.length;g++)A=d[g],w(A.value,{componentStack:A.stack,digest:A.digest});if(sg)throw sg=!1,l=xb,xb=null,l;return(ig&1)!==0&&l.tag!==0&&rd(),T=l.pendingLanes,(T&1)!==0?l===vb?Jh++:(Jh=0,vb=l):Jh=0,hl(),null}function rd(){if(yl!==null){var l=yi(ig),d=pa.transition,g=Tt;try{if(pa.transition=null,Tt=16>l?16:l,yl===null)var w=!1;else{if(l=yl,yl=null,ig=0,(Bt&6)!==0)throw Error(r(331));var A=Bt;for(Bt|=4,Je=l.current;Je!==null;){var T=Je,W=T.child;if((Je.flags&16)!==0){var ae=T.deletions;if(ae!==null){for(var he=0;he<ae.length;he++){var Ie=ae[he];for(Je=Ie;Je!==null;){var $e=Je;switch($e.tag){case 0:case 11:case 15:Zh(8,$e,T)}var Ue=$e.child;if(Ue!==null)Ue.return=$e,Je=Ue;else for(;Je!==null;){$e=Je;var Fe=$e.sibling,Ze=$e.return;if(EI($e),$e===Ie){Je=null;break}if(Fe!==null){Fe.return=Ze,Je=Fe;break}Je=Ze}}}var tt=T.alternate;if(tt!==null){var at=tt.child;if(at!==null){tt.child=null;do{var Wr=at.sibling;at.sibling=null,at=Wr}while(at!==null)}}Je=T}}if((T.subtreeFlags&2064)!==0&&W!==null)W.return=T,Je=W;else e:for(;Je!==null;){if(T=Je,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Zh(9,T,T.return)}var je=T.sibling;if(je!==null){je.return=T.return,Je=je;break e}Je=T.return}}var ye=l.current;for(Je=ye;Je!==null;){W=Je;var Ce=W.child;if((W.subtreeFlags&2064)!==0&&Ce!==null)Ce.return=W,Je=Ce;else e:for(W=ye;Je!==null;){if(ae=Je,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:tg(9,ae)}}catch(ot){Mr(ae,ae.return,ot)}if(ae===W){Je=null;break e}var qe=ae.sibling;if(qe!==null){qe.return=ae.return,Je=qe;break e}Je=ae.return}}if(Bt=A,hl(),Bs&&typeof Bs.onPostCommitFiberRoot=="function")try{Bs.onPostCommitFiberRoot(oc,l)}catch{}w=!0}return w}finally{Tt=g,pa.transition=d}}return!1}function qI(l,d,g){d=Xu(g,d),d=uI(l,d,1),l=ml(l,d,1),d=os(),l!==null&&(dc(l,1,d),Ps(l,d))}function Mr(l,d,g){if(l.tag===3)qI(l,l,g);else for(;d!==null;){if(d.tag===3){qI(d,l,g);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(gl===null||!gl.has(w))){l=Xu(g,l),l=dI(d,l,1),d=ml(d,l,1),l=os(),d!==null&&(dc(d,1,l),Ps(d,l));break}}d=d.return}}function aV(l,d,g){var w=l.pingCache;w!==null&&w.delete(d),d=os(),l.pingedLanes|=l.suspendedLanes&g,wn===l&&(zn&g)===g&&(ln===4||ln===3&&(zn&130023424)===zn&&500>tr()-yb?Sc(l,0):gb|=g),Ps(l,d)}function GI(l,d){d===0&&((l.mode&1)===0?d=1:(d=rl,rl<<=1,(rl&130023424)===0&&(rl=4194304)));var g=os();l=mo(l,d),l!==null&&(dc(l,d,g),Ps(l,g))}function iV(l){var d=l.memoizedState,g=0;d!==null&&(g=d.retryLane),GI(l,g)}function oV(l,d){var g=0;switch(l.tag){case 13:var w=l.stateNode,A=l.memoizedState;A!==null&&(g=A.retryLane);break;case 19:w=l.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(d),GI(l,g)}var KI;KI=function(l,d,g){if(l!==null)if(l.memoizedProps!==d.pendingProps||Ss.current)Cs=!0;else{if((l.lanes&g)===0&&(d.flags&128)===0)return Cs=!1,Kz(l,d,g);Cs=(l.flags&131072)!==0}else Cs=!1,xr&&(d.flags&1048576)!==0&&CC(d,Fp,d.index);switch(d.lanes=0,d.tag){case 2:var w=d.type;Jp(l,d),l=d.pendingProps;var A=Wu(d,qn.current);Zu(d,g),A=K0(null,d,w,l,A,g);var T=Y0();return d.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,As(w)?(T=!0,Op(d)):T=!1,d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,z0(d),A.updater=Qp,d.stateNode=A,A._reactInternals=d,tb(d,w,l,g),d=ab(null,d,w,!0,T,g)):(d.tag=0,xr&&T&&T0(d),is(null,d,A,g),d=d.child),d;case 16:w=d.elementType;e:{switch(Jp(l,d),l=d.pendingProps,A=w._init,w=A(w._payload),d.type=w,A=d.tag=cV(w),l=Ha(w,l),A){case 0:d=sb(null,d,w,l,g);break e;case 1:d=bI(null,d,w,l,g);break e;case 11:d=pI(null,d,w,l,g);break e;case 14:d=gI(null,d,w,Ha(w.type,l),g);break e}throw Error(r(306,w,""))}return d;case 0:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:Ha(w,A),sb(l,d,w,A,g);case 1:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:Ha(w,A),bI(l,d,w,A,g);case 3:e:{if(wI(d),l===null)throw Error(r(387));w=d.pendingProps,T=d.memoizedState,A=T.element,RC(l,d),Wp(d,w,null,g);var W=d.memoizedState;if(w=W.element,T.isDehydrated)if(T={element:w,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){A=Xu(Error(r(423)),d),d=jI(l,d,w,g,A);break e}else if(w!==A){A=Xu(Error(r(424)),d),d=jI(l,d,w,g,A);break e}else for(qs=cl(d.stateNode.containerInfo.firstChild),Hs=d,xr=!0,Wa=null,g=DC(d,null,w,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Gu(),w===A){d=go(l,d,g);break e}is(l,d,w,g)}d=d.child}return d;case 5:return $C(d),l===null&&D0(d),w=d.type,A=d.pendingProps,T=l!==null?l.memoizedProps:null,W=A.children,S0(w,A)?W=null:T!==null&&S0(w,T)&&(d.flags|=32),vI(l,d),is(l,d,W,g),d.child;case 6:return l===null&&D0(d),null;case 13:return NI(l,d,g);case 4:return V0(d,d.stateNode.containerInfo),w=d.pendingProps,l===null?d.child=Ku(d,null,w,g):is(l,d,w,g),d.child;case 11:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:Ha(w,A),pI(l,d,w,A,g);case 7:return is(l,d,d.pendingProps,g),d.child;case 8:return is(l,d,d.pendingProps.children,g),d.child;case 12:return is(l,d,d.pendingProps.children,g),d.child;case 10:e:{if(w=d.type._context,A=d.pendingProps,T=d.memoizedProps,W=A.value,ir(zp,w._currentValue),w._currentValue=W,T!==null)if(Ua(T.value,W)){if(T.children===A.children&&!Ss.current){d=go(l,d,g);break e}}else for(T=d.child,T!==null&&(T.return=d);T!==null;){var ae=T.dependencies;if(ae!==null){W=T.child;for(var he=ae.firstContext;he!==null;){if(he.context===w){if(T.tag===1){he=po(-1,g&-g),he.tag=2;var Ie=T.updateQueue;if(Ie!==null){Ie=Ie.shared;var $e=Ie.pending;$e===null?he.next=he:(he.next=$e.next,$e.next=he),Ie.pending=he}}T.lanes|=g,he=T.alternate,he!==null&&(he.lanes|=g),$0(T.return,g,d),ae.lanes|=g;break}he=he.next}}else if(T.tag===10)W=T.type===d.type?null:T.child;else if(T.tag===18){if(W=T.return,W===null)throw Error(r(341));W.lanes|=g,ae=W.alternate,ae!==null&&(ae.lanes|=g),$0(W,g,d),W=T.sibling}else W=T.child;if(W!==null)W.return=T;else for(W=T;W!==null;){if(W===d){W=null;break}if(T=W.sibling,T!==null){T.return=W.return,W=T;break}W=W.return}T=W}is(l,d,A.children,g),d=d.child}return d;case 9:return A=d.type,w=d.pendingProps.children,Zu(d,g),A=fa(A),w=w(A),d.flags|=1,is(l,d,w,g),d.child;case 14:return w=d.type,A=Ha(w,d.pendingProps),A=Ha(w.type,A),gI(l,d,w,A,g);case 15:return yI(l,d,d.type,d.pendingProps,g);case 17:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:Ha(w,A),Jp(l,d),d.tag=1,As(w)?(l=!0,Op(d)):l=!1,Zu(d,g),lI(d,w,A),tb(d,w,A,g),ab(null,d,w,!0,l,g);case 19:return SI(l,d,g);case 22:return xI(l,d,g)}throw Error(r(156,d.tag))};function YI(l,d){return js(l,d)}function lV(l,d,g,w){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ga(l,d,g,w){return new lV(l,d,g,w)}function Sb(l){return l=l.prototype,!(!l||!l.isReactComponent)}function cV(l){if(typeof l=="function")return Sb(l)?1:0;if(l!=null){if(l=l.$$typeof,l===M)return 11;if(l===q)return 14}return 2}function bl(l,d){var g=l.alternate;return g===null?(g=ga(l.tag,d,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=d,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&14680064,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,d=l.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function ug(l,d,g,w,A,T){var W=2;if(w=l,typeof l=="function")Sb(l)&&(W=1);else if(typeof l=="string")W=5;else e:switch(l){case E:return Cc(g.children,A,T,d);case C:W=8,A|=8;break;case F:return l=ga(12,g,d,A|2),l.elementType=F,l.lanes=T,l;case $:return l=ga(13,g,d,A),l.elementType=$,l.lanes=T,l;case ee:return l=ga(19,g,d,A),l.elementType=ee,l.lanes=T,l;case re:return dg(g,A,T,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case L:W=10;break e;case D:W=9;break e;case M:W=11;break e;case q:W=14;break e;case V:W=16,w=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return d=ga(W,g,d,A),d.elementType=l,d.type=w,d.lanes=T,d}function Cc(l,d,g,w){return l=ga(7,l,w,d),l.lanes=g,l}function dg(l,d,g,w){return l=ga(22,l,w,d),l.elementType=re,l.lanes=g,l.stateNode={isHidden:!1},l}function Ab(l,d,g){return l=ga(6,l,null,d),l.lanes=g,l}function Cb(l,d,g){return d=ga(4,l.children!==null?l.children:[],l.key,d),d.lanes=g,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function uV(l,d,g,w,A){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.identifierPrefix=w,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Ib(l,d,g,w,A,T,W,ae,he){return l=new uV(l,d,g,ae,he),d===1?(d=1,T===!0&&(d|=8)):d=0,T=ga(3,null,null,d),l.current=T,T.stateNode=l,T.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},z0(T),l}function dV(l,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:w==null?null:""+w,children:l,containerInfo:d,implementation:g}}function ZI(l){if(!l)return dl;l=l._reactInternals;e:{if(oe(l)!==l||l.tag!==1)throw Error(r(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(As(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(l.tag===1){var g=l.type;if(As(g))return kC(l,g,d)}return d}function QI(l,d,g,w,A,T,W,ae,he){return l=Ib(g,w,!0,l,A,T,W,ae,he),l.context=ZI(null),g=l.current,w=os(),A=xl(g),T=po(w,A),T.callback=d??null,ml(g,T,A),l.current.lanes=A,dc(l,A,w),Ps(l,w),l}function hg(l,d,g,w){var A=d.current,T=os(),W=xl(A);return g=ZI(g),d.context===null?d.context=g:d.pendingContext=g,d=po(T,W),d.payload={element:l},w=w===void 0?null:w,w!==null&&(d.callback=w),l=ml(A,d,W),l!==null&&(Ka(l,A,W,T),Up(l,A,W)),W}function fg(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function XI(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<d?g:d}}function Pb(l,d){XI(l,d),(l=l.alternate)&&XI(l,d)}function hV(){return null}var JI=typeof reportError=="function"?reportError:function(l){console.error(l)};function Eb(l){this._internalRoot=l}mg.prototype.render=Eb.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));hg(l,d,null,null)},mg.prototype.unmount=Eb.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;kc(function(){hg(null,l,null,null)}),d[co]=null}};function mg(l){this._internalRoot=l}mg.prototype.unstable_scheduleHydration=function(l){if(l){var d=Sh();l={blockedOn:null,target:l,priority:d};for(var g=0;g<Vs.length&&d!==0&&d<Vs[g].priority;g++);Vs.splice(g,0,l),g===0&&Iu(l)}};function Tb(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function pg(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function eP(){}function fV(l,d,g,w,A){if(A){if(typeof w=="function"){var T=w;w=function(){var Ie=fg(W);T.call(Ie)}}var W=QI(d,w,l,0,null,!1,!1,"",eP);return l._reactRootContainer=W,l[co]=W.current,Lh(l.nodeType===8?l.parentNode:l),kc(),W}for(;A=l.lastChild;)l.removeChild(A);if(typeof w=="function"){var ae=w;w=function(){var Ie=fg(he);ae.call(Ie)}}var he=Ib(l,0,!1,null,null,!1,!1,"",eP);return l._reactRootContainer=he,l[co]=he.current,Lh(l.nodeType===8?l.parentNode:l),kc(function(){hg(d,he,g,w)}),he}function gg(l,d,g,w,A){var T=g._reactRootContainer;if(T){var W=T;if(typeof A=="function"){var ae=A;A=function(){var he=fg(W);ae.call(he)}}hg(d,W,l,A)}else W=fV(g,d,l,A,w);return fg(W)}Nh=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var g=Wt(d.pendingLanes);g!==0&&(jh(d,g|1),Ps(d,tr()),(Bt&6)===0&&(td=tr()+500,hl()))}break;case 13:kc(function(){var w=mo(l,1);if(w!==null){var A=os();Ka(w,l,1,A)}}),Pb(l,1)}},Au=function(l){if(l.tag===13){var d=mo(l,134217728);if(d!==null){var g=os();Ka(d,l,134217728,g)}Pb(l,134217728)}},kh=function(l){if(l.tag===13){var d=xl(l),g=mo(l,d);if(g!==null){var w=os();Ka(g,l,d,w)}Pb(l,d)}},Sh=function(){return Tt},Ah=function(l,d){var g=Tt;try{return Tt=l,d()}finally{Tt=g}},ne=function(l,d,g){switch(d){case"input":if(ue(l,g),d=g.name,g.type==="radio"&&d!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var w=g[d];if(w!==l&&w.form===l.form){var A=Mp(w);if(!A)throw Error(r(90));X(w),ue(w,A)}}}break;case"textarea":bs(l,g);break;case"select":d=g.value,d!=null&&St(l,!!g.multiple,d,!1)}},sn=jb,Fs=kc;var mV={usingClientEntryPoint:!1,Events:[Bh,Vu,Mp,It,Ur,jb]},ef={findFiberByHostInstance:gc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pV={bundleType:ef.bundleType,version:ef.version,rendererPackageName:ef.rendererPackageName,rendererConfig:ef.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Mt(l),l===null?null:l.stateNode},findFiberByHostInstance:ef.findFiberByHostInstance||hV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yg.isDisabled&&yg.supportsFiber)try{oc=yg.inject(pV),Bs=yg}catch{}}return Es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mV,Es.createPortal=function(l,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tb(d))throw Error(r(200));return dV(l,d,null,g)},Es.createRoot=function(l,d){if(!Tb(l))throw Error(r(299));var g=!1,w="",A=JI;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),d=Ib(l,1,!1,null,null,g,!1,w,A),l[co]=d.current,Lh(l.nodeType===8?l.parentNode:l),new Eb(d)},Es.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=Mt(d),l=l===null?null:l.stateNode,l},Es.flushSync=function(l){return kc(l)},Es.hydrate=function(l,d,g){if(!pg(d))throw Error(r(200));return gg(null,l,d,!0,g)},Es.hydrateRoot=function(l,d,g){if(!Tb(l))throw Error(r(405));var w=g!=null&&g.hydratedSources||null,A=!1,T="",W=JI;if(g!=null&&(g.unstable_strictMode===!0&&(A=!0),g.identifierPrefix!==void 0&&(T=g.identifierPrefix),g.onRecoverableError!==void 0&&(W=g.onRecoverableError)),d=QI(d,null,l,1,g??null,A,!1,T,W),l[co]=d.current,Lh(l),w)for(l=0;l<w.length;l++)g=w[l],A=g._getVersion,A=A(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,A]:d.mutableSourceEagerHydrationData.push(g,A);return new mg(d)},Es.render=function(l,d,g){if(!pg(d))throw Error(r(200));return gg(null,l,d,!1,g)},Es.unmountComponentAtNode=function(l){if(!pg(l))throw Error(r(40));return l._reactRootContainer?(kc(function(){gg(null,null,l,!1,function(){l._reactRootContainer=null,l[co]=null})}),!0):!1},Es.unstable_batchedUpdates=jb,Es.unstable_renderSubtreeIntoContainer=function(l,d,g,w){if(!pg(g))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return gg(l,d,g,!1,w)},Es.version="18.3.1-next-f1338f8080-20240426",Es}var lP;function hR(){if(lP)return Db.exports;lP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Db.exports=kV(),Db.exports}var cP;function SV(){if(cP)return xg;cP=1;var e=hR();return xg.createRoot=e.createRoot,xg.hydrateRoot=e.hydrateRoot,xg}var AV=SV();const CV=ia(AV);var Lb,uP;function IV(){if(uP)return Lb;uP=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var c,u,h;if(Array.isArray(i)){if(c=i.length,c!=o.length)return!1;for(u=c;u--!==0;)if(!a(i[u],o[u]))return!1;return!0}var f;if(t&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(f=i.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;for(f=i.entries();!(u=f.next()).done;)if(!a(u.value[1],o.get(u.value[0])))return!1;return!0}if(r&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(f=i.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(c=i.length,c!=o.length)return!1;for(u=c;u--!==0;)if(i[u]!==o[u])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(h=Object.keys(i),c=h.length,c!==Object.keys(o).length)return!1;for(u=c;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,h[u]))return!1;if(e&&i instanceof Element)return!1;for(u=c;u--!==0;)if(!((h[u]==="_owner"||h[u]==="__v"||h[u]==="__o")&&i.$$typeof)&&!a(i[h[u]],o[h[u]]))return!1;return!0}return i!==i&&o!==o}return Lb=function(o,c){try{return a(o,c)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},Lb}var PV=IV();const EV=ia(PV);var Fb,dP;function TV(){if(dP)return Fb;dP=1;var e=function(t,r,s,a,i,o,c,u){if(!t){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[s,a,i,o,c,u],m=0;h=new Error(r.replace(/%s/g,function(){return f[m++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return Fb=e,Fb}var _V=TV();const hP=ia(_V);var $b,fP;function MV(){return fP||(fP=1,$b=function(t,r,s,a){var i=s?s.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(r),h=0;h<o.length;h++){var f=o[h];if(!u(f))return!1;var m=t[f],y=r[f];if(i=s?s.call(a,m,y,f):void 0,i===!1||i===void 0&&m!==y)return!1}return!0}),$b}var DV=MV();const OV=ia(DV);var fR=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(fR||{}),Bb={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},mP=Object.values(fR),u2={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},RV=Object.entries(u2).reduce((e,[t,r])=>(e[r]=t,e),{}),si="data-rh",wd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},jd=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const s=e[r];if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}return null},LV=e=>{let t=jd(e,"title");const r=jd(e,wd.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const s=jd(e,wd.DEFAULT_TITLE);return t||s||void 0},FV=e=>jd(e,wd.ON_CHANGE_CLIENT_STATE)||(()=>{}),zb=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,s)=>({...r,...s}),{}),$V=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,s)=>{if(!r.length){const a=Object.keys(s);for(let i=0;i<a.length;i+=1){const c=a[i].toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}}return r},[]),BV=e=>console&&typeof console.warn=="function"&&console.warn(e),rf=(e,t,r)=>{const s={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&BV(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const o={};i.filter(u=>{let h;const f=Object.keys(u);for(let y=0;y<f.length;y+=1){const b=f[y],v=b.toLowerCase();t.indexOf(v)!==-1&&!(h==="rel"&&u[h].toLowerCase()==="canonical")&&!(v==="rel"&&u[v].toLowerCase()==="stylesheet")&&(h=v),t.indexOf(b)!==-1&&(b==="innerHTML"||b==="cssText"||b==="itemprop")&&(h=b)}if(!h||!u[h])return!1;const m=u[h].toLowerCase();return s[h]||(s[h]={}),o[h]||(o[h]={}),s[h][m]?!1:(o[h][m]=!0,!0)}).reverse().forEach(u=>a.push(u));const c=Object.keys(o);for(let u=0;u<c.length;u+=1){const h=c[u],f={...s[h],...o[h]};s[h]=f}return a},[]).reverse()},zV=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},VV=e=>({baseTag:$V(["href"],e),bodyAttributes:zb("bodyAttributes",e),defer:jd(e,wd.DEFER),encode:jd(e,wd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:zb("htmlAttributes",e),linkTags:rf("link",["rel","href"],e),metaTags:rf("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:rf("noscript",["innerHTML"],e),onChangeClientState:FV(e),scriptTags:rf("script",["src","innerHTML"],e),styleTags:rf("style",["cssText"],e),title:LV(e),titleAttributes:zb("titleAttributes",e),prioritizeSeoTags:zV(e,wd.PRIORITIZE_SEO_TAGS)}),mR=e=>Array.isArray(e)?e.join(""):e,UV=(e,t)=>{const r=Object.keys(e);for(let s=0;s<r.length;s+=1)if(t[r[s]]&&t[r[s]].includes(e[r[s]]))return!0;return!1},Vb=(e,t)=>Array.isArray(e)?e.reduce((r,s)=>(UV(s,t)?r.priority.push(s):r.default.push(s),r),{priority:[],default:[]}):{default:e,priority:[]},pP=(e,t)=>({...e,[t]:void 0}),WV=["noscript","script","style"],d1=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),pR=e=>Object.keys(e).reduce((t,r)=>{const s=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${s}`:s},""),HV=(e,t,r,s)=>{const a=pR(r),i=mR(t);return a?`<${e} ${si}="true" ${a}>${d1(i,s)}</${e}>`:`<${e} ${si}="true">${d1(i,s)}</${e}>`},qV=(e,t,r=!0)=>t.reduce((s,a)=>{const i=a,o=Object.keys(i).filter(h=>!(h==="innerHTML"||h==="cssText")).reduce((h,f)=>{const m=typeof i[f]>"u"?f:`${f}="${d1(i[f],r)}"`;return h?`${h} ${m}`:m},""),c=i.innerHTML||i.cssText||"",u=WV.indexOf(e)===-1;return`${s}<${e} ${si}="true" ${o}${u?"/>":`>${c}</${e}>`}`},""),gR=(e,t={})=>Object.keys(e).reduce((r,s)=>{const a=u2[s];return r[a||s]=e[s],r},t),GV=(e,t,r)=>{const s={key:t,[si]:!0},a=gR(r,s);return[ni.createElement("title",a,t)]},Xg=(e,t)=>t.map((r,s)=>{const a={key:s,[si]:!0};return Object.keys(r).forEach(i=>{const c=u2[i]||i;if(c==="innerHTML"||c==="cssText"){const u=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[c]=r[i]}),ni.createElement(e,a)}),ja=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>GV(e,t.title,t.titleAttributes),toString:()=>HV(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>gR(t),toString:()=>pR(t)};default:return{toComponent:()=>Xg(e,t),toString:()=>qV(e,t,r)}}},KV=({metaTags:e,linkTags:t,scriptTags:r,encode:s})=>{const a=Vb(e,Bb.meta),i=Vb(t,Bb.link),o=Vb(r,Bb.script);return{priorityMethods:{toComponent:()=>[...Xg("meta",a.priority),...Xg("link",i.priority),...Xg("script",o.priority)],toString:()=>`${ja("meta",a.priority,s)} ${ja("link",i.priority,s)} ${ja("script",o.priority,s)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},YV=e=>{const{baseTag:t,bodyAttributes:r,encode:s=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:c="",titleAttributes:u,prioritizeSeoTags:h}=e;let{linkTags:f,metaTags:m,scriptTags:y}=e,b={toComponent:()=>{},toString:()=>""};return h&&({priorityMethods:b,linkTags:f,metaTags:m,scriptTags:y}=KV(e)),{priority:b,base:ja("base",t,s),bodyAttributes:ja("bodyAttributes",r,s),htmlAttributes:ja("htmlAttributes",a,s),link:ja("link",f,s),meta:ja("meta",m,s),noscript:ja("noscript",i,s),script:ja("script",y,s),style:ja("style",o,s),title:ja("title",{title:c,titleAttributes:u},s)}},h1=YV,vg=[],yR=!!(typeof window<"u"&&window.document&&window.document.createElement),f1=class{instances=[];canUseDOM=yR;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?vg:this.instances,add:e=>{(this.canUseDOM?vg:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?vg:this.instances).indexOf(e);(this.canUseDOM?vg:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=h1({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},ZV={},xR=ni.createContext(ZV),vR=class bR extends p.Component{static canUseDOM=yR;helmetData;constructor(t){super(t),this.helmetData=new f1(this.props.context||{},bR.canUseDOM)}render(){return ni.createElement(xR.Provider,{value:this.helmetData.value},this.props.children)}},nd=(e,t)=>{const r=document.head||document.querySelector("head"),s=r.querySelectorAll(`${e}[${si}]`),a=[].slice.call(s),i=[];let o;return t&&t.length&&t.forEach(c=>{const u=document.createElement(e);for(const h in c)if(Object.prototype.hasOwnProperty.call(c,h))if(h==="innerHTML")u.innerHTML=c.innerHTML;else if(h==="cssText")u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{const f=h,m=typeof c[f]>"u"?"":c[f];u.setAttribute(h,m)}u.setAttribute(si,"true"),a.some((h,f)=>(o=f,u.isEqualNode(h)))?a.splice(o,1):i.push(u)}),a.forEach(c=>c.parentNode?.removeChild(c)),i.forEach(c=>r.appendChild(c)),{oldTags:a,newTags:i}},m1=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const s=r.getAttribute(si),a=s?s.split(","):[],i=[...a],o=Object.keys(t);for(const c of o){const u=t[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),a.indexOf(c)===-1&&a.push(c);const h=i.indexOf(c);h!==-1&&i.splice(h,1)}for(let c=i.length-1;c>=0;c-=1)r.removeAttribute(i[c]);a.length===i.length?r.removeAttribute(si):r.getAttribute(si)!==o.join(",")&&r.setAttribute(si,o.join(","))},QV=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=mR(e)),m1("title",t)},gP=(e,t)=>{const{baseTag:r,bodyAttributes:s,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:c,onChangeClientState:u,scriptTags:h,styleTags:f,title:m,titleAttributes:y}=e;m1("body",s),m1("html",a),QV(m,y);const b={baseTag:nd("base",r),linkTags:nd("link",i),metaTags:nd("meta",o),noscriptTags:nd("noscript",c),scriptTags:nd("script",h),styleTags:nd("style",f)},v={},N={};Object.keys(b).forEach(j=>{const{newTags:k,oldTags:I}=b[j];k.length&&(v[j]=k),I.length&&(N[j]=b[j].oldTags)}),t&&t(),u(e,v,N)},nf=null,XV=e=>{nf&&cancelAnimationFrame(nf),e.defer?nf=requestAnimationFrame(()=>{gP(e,()=>{nf=null})}):(gP(e),nf=null)},JV=XV,yP=class extends p.Component{rendered=!1;shouldComponentUpdate(e){return!OV(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const s=VV(e.get().map(a=>{const i={...a.props};return delete i.context,i}));vR.canUseDOM?JV(s):h1&&(r=h1(s)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},e7=class extends p.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!EV(pP(this.props,"helmetData"),pP(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,s){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,s)}]}}mapObjectTypeChildren(e,t,r,s){switch(e.type){case"title":return{...t,[e.type]:s,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(s=>{r={...r,[s]:e[s]}}),r}warnOnInvalidChildren(e,t){return hP(mP.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${mP.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),hP(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return ni.Children.forEach(e,s=>{if(!s||!s.props)return;const{children:a,...i}=s.props,o=Object.keys(i).reduce((u,h)=>(u[RV[h]||h]=i[h],u),{});let{type:c}=s;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(s,a),c){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(s,r,o,a);break;default:t=this.mapObjectTypeChildren(s,t,o,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:s}=t;if(e&&(r=this.mapChildrenToProps(e,r)),s&&!(s instanceof f1)){const a=s;s=new f1(a.context,!0),delete r.helmetData}return s?ni.createElement(yP,{...r,context:s.value}):ni.createElement(xR.Consumer,null,a=>ni.createElement(yP,{...r,context:a}))}};var xP="popstate";function t7(e={}){function t(s,a){let{pathname:i,search:o,hash:c}=s.location;return p1("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Vf(a)}return n7(t,r,null,e)}function jr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ta(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function r7(){return Math.random().toString(36).substring(2,10)}function vP(e,t){return{usr:e.state,key:e.key,idx:t}}function p1(e,t,r=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Kd(t):t,state:r,key:t&&t.key||s||r7()}}function Vf({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Kd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function n7(e,t,r,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,c="POP",u=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function m(){c="POP";let j=f(),k=j==null?null:j-h;h=j,u&&u({action:c,location:N.location,delta:k})}function y(j,k){c="PUSH";let I=p1(N.location,j,k);h=f()+1;let S=vP(I,h),O=N.createHref(I);try{o.pushState(S,"",O)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(O)}i&&u&&u({action:c,location:N.location,delta:1})}function b(j,k){c="REPLACE";let I=p1(N.location,j,k);h=f();let S=vP(I,h),O=N.createHref(I);o.replaceState(S,"",O),i&&u&&u({action:c,location:N.location,delta:0})}function v(j){return s7(j)}let N={get action(){return c},get location(){return e(a,o)},listen(j){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(xP,m),u=j,()=>{a.removeEventListener(xP,m),u=null}},createHref(j){return t(a,j)},createURL:v,encodeLocation(j){let k=v(j);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:b,go(j){return o.go(j)}};return N}function s7(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),jr(r,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Vf(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function wR(e,t,r="/"){return a7(e,t,r,!1)}function a7(e,t,r,s){let a=typeof t=="string"?Kd(t):t,i=Oo(a.pathname||"/",r);if(i==null)return null;let o=jR(e);i7(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=y7(i);c=p7(o[u],h,s)}return c}function jR(e,t=[],r=[],s="",a=!1){let i=(o,c,u=a,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(s)&&u)return;jr(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length)}let m=Eo([s,f.relativePath]),y=r.concat(f);o.children&&o.children.length>0&&(jr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),jR(o.children,t,y,m,u)),!(o.path==null&&!o.index)&&t.push({path:m,score:f7(m,o.index),routesMeta:y})};return e.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))i(o,c);else for(let u of NR(o.path))i(o,c,!0,u)}),t}function NR(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=NR(s.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),a&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function i7(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:m7(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var o7=/^:[\w-]+$/,l7=3,c7=2,u7=1,d7=10,h7=-2,bP=e=>e==="*";function f7(e,t){let r=e.split("/"),s=r.length;return r.some(bP)&&(s+=h7),t&&(s+=c7),r.filter(a=>!bP(a)).reduce((a,i)=>a+(o7.test(i)?l7:i===""?u7:d7),s)}function m7(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function p7(e,t,r=!1){let{routesMeta:s}=e,a={},i="/",o=[];for(let c=0;c<s.length;++c){let u=s[c],h=c===s.length-1,f=i==="/"?t:t.slice(i.length)||"/",m=vy({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),y=u.route;if(!m&&h&&r&&!s[s.length-1].route.index&&(m=vy({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:Eo([i,m.pathname]),pathnameBase:j7(Eo([i,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(i=Eo([i,m.pathnameBase]))}return o}function vy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=g7(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:s.reduce((h,{paramName:f,isOptional:m},y)=>{if(f==="*"){let v=c[y]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=c[y];return m&&!b?h[f]=void 0:h[f]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:e}}function g7(e,t=!1,r=!0){ta(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(s.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function y7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ta(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Oo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}var x7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v7=e=>x7.test(e);function b7(e,t="/"){let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Kd(e):e,i;if(r)if(v7(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ta(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=wP(r.substring(1),"/"):i=wP(r,t)}else i=t;return{pathname:i,search:N7(s),hash:k7(a)}}function wP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ub(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function w7(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function d2(e){let t=w7(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function h2(e,t,r,s=!1){let a;typeof e=="string"?a=Kd(e):(a={...e},jr(!a.pathname||!a.pathname.includes("?"),Ub("?","pathname","search",a)),jr(!a.pathname||!a.pathname.includes("#"),Ub("#","pathname","hash",a)),jr(!a.search||!a.search.includes("#"),Ub("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=r;else{let m=t.length-1;if(!s&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;a.pathname=y.join("/")}c=m>=0?t[m]:"/"}let u=b7(a,c),h=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Eo=e=>e.join("/").replace(/\/\/+/g,"/"),j7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),N7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,k7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function A7(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kR=["POST","PUT","PATCH","DELETE"];new Set(kR);var C7=["GET",...kR];new Set(C7);var Yd=p.createContext(null);Yd.displayName="DataRouter";var Hx=p.createContext(null);Hx.displayName="DataRouterState";p.createContext(!1);var SR=p.createContext({isTransitioning:!1});SR.displayName="ViewTransition";var I7=p.createContext(new Map);I7.displayName="Fetchers";var P7=p.createContext(null);P7.displayName="Await";var Ma=p.createContext(null);Ma.displayName="Navigation";var wm=p.createContext(null);wm.displayName="Location";var Da=p.createContext({outlet:null,matches:[],isDataRoute:!1});Da.displayName="Route";var f2=p.createContext(null);f2.displayName="RouteError";function E7(e,{relative:t}={}){jr(Zd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=p.useContext(Ma),{hash:a,pathname:i,search:o}=jm(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:Eo([r,i])),s.createHref({pathname:c,search:o,hash:a})}function Zd(){return p.useContext(wm)!=null}function Wn(){return jr(Zd(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(wm).location}var AR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CR(e){p.useContext(Ma).static||p.useLayoutEffect(e)}function lr(){let{isDataRoute:e}=p.useContext(Da);return e?q7():T7()}function T7(){jr(Zd(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(Yd),{basename:t,navigator:r}=p.useContext(Ma),{matches:s}=p.useContext(Da),{pathname:a}=Wn(),i=JSON.stringify(d2(s)),o=p.useRef(!1);return CR(()=>{o.current=!0}),p.useCallback((u,h={})=>{if(ta(o.current,AR),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=h2(u,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Eo([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,i,a,e])}var _7=p.createContext(null);function M7(e){let t=p.useContext(Da).outlet;return p.useMemo(()=>t&&p.createElement(_7.Provider,{value:e},t),[t,e])}function D7(){let{matches:e}=p.useContext(Da),t=e[e.length-1];return t?t.params:{}}function jm(e,{relative:t}={}){let{matches:r}=p.useContext(Da),{pathname:s}=Wn(),a=JSON.stringify(d2(r));return p.useMemo(()=>h2(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function O7(e,t){return IR(e,t)}function IR(e,t,r,s,a){jr(Zd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=p.useContext(Ma),{matches:o}=p.useContext(Da),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let I=m&&m.path||"";PR(h,!m||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=Wn(),b;if(t){let I=typeof t=="string"?Kd(t):t;jr(f==="/"||I.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${I.pathname}" was given in the \`location\` prop.`),b=I}else b=y;let v=b.pathname||"/",N=v;if(f!=="/"){let I=f.replace(/^\//,"").split("/");N="/"+v.replace(/^\//,"").split("/").slice(I.length).join("/")}let j=wR(e,{pathname:N});ta(m||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ta(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=B7(j&&j.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:Eo([f,i.encodeLocation?i.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:Eo([f,i.encodeLocation?i.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),o,r,s,a);return t&&k?p.createElement(wm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},k):k}function R7(){let e=H7(),t=S7(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:i},"ErrorBoundary")," or"," ",p.createElement("code",{style:i},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,o)}var L7=p.createElement(R7,null),F7=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?p.createElement(Da.Provider,{value:this.props.routeContext},p.createElement(f2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $7({routeContext:e,match:t,children:r}){let s=p.useContext(Yd);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Da.Provider,{value:e},r)}function B7(e,t=[],r=null,s=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r?.errors;if(o!=null){let f=i.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);jr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(r)for(let f=0;f<i.length;f++){let m=i[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:y,errors:b}=r,v=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let h=r&&s?(f,m)=>{s(f,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:A7(r.matches),errorInfo:m})}:void 0;return i.reduceRight((f,m,y)=>{let b,v=!1,N=null,j=null;r&&(b=o&&m.route.id?o[m.route.id]:void 0,N=m.route.errorElement||L7,c&&(u<0&&y===0?(PR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,j=null):u===y&&(v=!0,j=m.route.hydrateFallbackElement||null)));let k=t.concat(i.slice(0,y+1)),I=()=>{let S;return b?S=N:v?S=j:m.route.Component?S=p.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=f,p.createElement($7,{match:m,routeContext:{outlet:f,matches:k,isDataRoute:r!=null},children:S})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?p.createElement(F7,{location:r.location,revalidation:r.revalidation,component:N,error:b,children:I(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:h}):I()},null)}function m2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z7(e){let t=p.useContext(Yd);return jr(t,m2(e)),t}function V7(e){let t=p.useContext(Hx);return jr(t,m2(e)),t}function U7(e){let t=p.useContext(Da);return jr(t,m2(e)),t}function p2(e){let t=U7(e),r=t.matches[t.matches.length-1];return jr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function W7(){return p2("useRouteId")}function H7(){let e=p.useContext(f2),t=V7("useRouteError"),r=p2("useRouteError");return e!==void 0?e:t.errors?.[r]}function q7(){let{router:e}=z7("useNavigate"),t=p2("useNavigate"),r=p.useRef(!1);return CR(()=>{r.current=!0}),p.useCallback(async(a,i={})=>{ta(r.current,AR),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var jP={};function PR(e,t,r){!t&&!jP[e]&&(jP[e]=!0,ta(!1,r))}p.memo(G7);function G7({routes:e,future:t,state:r,unstable_onError:s}){return IR(e,void 0,r,s,t)}function Uf({to:e,replace:t,state:r,relative:s}){jr(Zd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=p.useContext(Ma);ta(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=p.useContext(Da),{pathname:o}=Wn(),c=lr(),u=h2(e,d2(i),o,s==="path"),h=JSON.stringify(u);return p.useEffect(()=>{c(JSON.parse(h),{replace:t,state:r,relative:s})},[c,h,s,t,r]),null}function K7(e){return M7(e.context)}function ct(e){jr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y7({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){jr(!Zd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[c,a,i,o]);typeof r=="string"&&(r=Kd(r));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:b="default"}=r,v=p.useMemo(()=>{let N=Oo(h,c);return N==null?null:{location:{pathname:N,search:f,hash:m,state:y,key:b},navigationType:s}},[c,h,f,m,y,b,s]);return ta(v!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:p.createElement(Ma.Provider,{value:u},p.createElement(wm.Provider,{children:t,value:v}))}function qx({children:e,location:t}){return O7(g1(e),t)}function g1(e,t=[]){let r=[];return p.Children.forEach(e,(s,a)=>{if(!p.isValidElement(s))return;let i=[...t,a];if(s.type===p.Fragment){r.push.apply(r,g1(s.props.children,i));return}jr(s.type===ct,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jr(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=g1(s.props.children,i)),r.push(o)}),r}var Jg="get",ey="application/x-www-form-urlencoded";function Gx(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Z7(e){return Gx(e)&&e.tagName.toLowerCase()==="button"}function Q7(e){return Gx(e)&&e.tagName.toLowerCase()==="form"}function X7(e){return Gx(e)&&e.tagName.toLowerCase()==="input"}function J7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eU(e,t){return e.button===0&&(!t||t==="_self")&&!J7(e)}function y1(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function tU(e,t){let r=y1(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var bg=null;function rU(){if(bg===null)try{new FormData(document.createElement("form"),0),bg=!1}catch{bg=!0}return bg}var nU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wb(e){return e!=null&&!nU.has(e)?(ta(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ey}"`),null):e}function sU(e,t){let r,s,a,i,o;if(Q7(e)){let c=e.getAttribute("action");s=c?Oo(c,t):null,r=e.getAttribute("method")||Jg,a=Wb(e.getAttribute("enctype"))||ey,i=new FormData(e)}else if(Z7(e)||X7(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(s=u?Oo(u,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||Jg,a=Wb(e.getAttribute("formenctype"))||Wb(c.getAttribute("enctype"))||ey,i=new FormData(c,e),!rU()){let{name:h,type:f,value:m}=e;if(f==="image"){let y=h?`${h}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else h&&i.append(h,m)}}else{if(Gx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Jg,s=null,a=ey,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function g2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aU(e,t,r){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${r}`:t&&Oo(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function iU(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oU(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function lU(e,t,r){let s=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await iU(i,r);return o.links?o.links():[]}return[]}));return hU(s.flat(1).filter(oU).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function NP(e,t,r,s,a,i){let o=(u,h)=>r[h]?u.route.id!==r[h].route.id:!0,c=(u,h)=>r[h].pathname!==u.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,h)=>o(u,h)||c(u,h)):i==="data"?t.filter((u,h)=>{let f=s.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function cU(e,t,{includeHydrateFallback:r}={}){return uU(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function uU(e){return[...new Set(e)]}function dU(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function hU(e,t){let r=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(dU(a));return r.has(i)||(r.add(i),s.push({key:i,link:a})),s},[])}function ER(){let e=p.useContext(Yd);return g2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function fU(){let e=p.useContext(Hx);return g2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var y2=p.createContext(void 0);y2.displayName="FrameworkContext";function TR(){let e=p.useContext(y2);return g2(e,"You must render this element inside a <HydratedRouter> element"),e}function mU(e,t){let r=p.useContext(y2),[s,a]=p.useState(!1),[i,o]=p.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=t,y=p.useRef(null);p.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let N=k=>{k.forEach(I=>{o(I.isIntersecting)})},j=new IntersectionObserver(N,{threshold:.5});return y.current&&j.observe(y.current),()=>{j.disconnect()}}},[e]),p.useEffect(()=>{if(s){let N=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(N)}}},[s]);let b=()=>{a(!0)},v=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,y,{}]:[i,y,{onFocus:sf(c,b),onBlur:sf(u,v),onMouseEnter:sf(h,b),onMouseLeave:sf(f,v),onTouchStart:sf(m,b)}]:[!1,y,{}]}function sf(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function pU({page:e,...t}){let{router:r}=ER(),s=p.useMemo(()=>wR(r.routes,e,r.basename),[r.routes,e,r.basename]);return s?p.createElement(yU,{page:e,matches:s,...t}):null}function gU(e){let{manifest:t,routeModules:r}=TR(),[s,a]=p.useState([]);return p.useEffect(()=>{let i=!1;return lU(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),s}function yU({page:e,matches:t,...r}){let s=Wn(),{manifest:a,routeModules:i}=TR(),{basename:o}=ER(),{loaderData:c,matches:u}=fU(),h=p.useMemo(()=>NP(e,t,u,a,s,"data"),[e,t,u,a,s]),f=p.useMemo(()=>NP(e,t,u,a,s,"assets"),[e,t,u,a,s]),m=p.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let v=new Set,N=!1;if(t.forEach(k=>{let I=a.routes[k.route.id];!I||!I.hasLoader||(!h.some(S=>S.route.id===k.route.id)&&k.route.id in c&&i[k.route.id]?.shouldRevalidate||I.hasClientLoader?N=!0:v.add(k.route.id))}),v.size===0)return[];let j=aU(e,o,"data");return N&&v.size>0&&j.searchParams.set("_routes",t.filter(k=>v.has(k.route.id)).map(k=>k.route.id).join(",")),[j.pathname+j.search]},[o,c,s,a,h,t,e,i]),y=p.useMemo(()=>cU(f,a),[f,a]),b=gU(f);return p.createElement(p.Fragment,null,m.map(v=>p.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),y.map(v=>p.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),b.map(({key:v,link:N})=>p.createElement("link",{key:v,nonce:r.nonce,...N})))}function xU(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var _R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_R&&(window.__reactRouterVersion="7.10.1")}catch{}function vU({basename:e,children:t,unstable_useTransitions:r,window:s}){let a=p.useRef();a.current==null&&(a.current=t7({window:s,v5Compat:!0}));let i=a.current,[o,c]=p.useState({action:i.action,location:i.location}),u=p.useCallback(h=>{r===!1?c(h):p.startTransition(()=>c(h))},[r]);return p.useLayoutEffect(()=>i.listen(u),[i,u]),p.createElement(Y7,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r===!0})}var MR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ks=p.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:c,target:u,to:h,preventScrollReset:f,viewTransition:m,...y},b){let{basename:v,unstable_useTransitions:N}=p.useContext(Ma),j=typeof h=="string"&&MR.test(h),k,I=!1;if(typeof h=="string"&&j&&(k=h,_R))try{let L=new URL(window.location.href),D=h.startsWith("//")?new URL(L.protocol+h):new URL(h),M=Oo(D.pathname,v);D.origin===L.origin&&M!=null?h=M+D.search+D.hash:I=!0}catch{ta(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=E7(h,{relative:a}),[O,P,R]=mU(s,y),E=jU(h,{replace:o,state:c,target:u,preventScrollReset:f,relative:a,viewTransition:m,unstable_useTransitions:N});function C(L){t&&t(L),L.defaultPrevented||E(L)}let F=p.createElement("a",{...y,...R,href:k||S,onClick:I||i?t:C,ref:xU(b,P),target:u,"data-discover":!j&&r==="render"?"true":void 0});return O&&!j?p.createElement(p.Fragment,null,F,p.createElement(pU,{page:S})):F});Ks.displayName="Link";var Ec=p.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:c,children:u,...h},f){let m=jm(o,{relative:h.relative}),y=Wn(),b=p.useContext(Hx),{navigator:v,basename:N}=p.useContext(Ma),j=b!=null&&CU(m)&&c===!0,k=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,I=y.pathname,S=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(I=I.toLowerCase(),S=S?S.toLowerCase():null,k=k.toLowerCase()),S&&N&&(S=Oo(S,N)||S);const O=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let P=I===k||!a&&I.startsWith(k)&&I.charAt(O)==="/",R=S!=null&&(S===k||!a&&S.startsWith(k)&&S.charAt(k.length)==="/"),E={isActive:P,isPending:R,isTransitioning:j},C=P?t:void 0,F;typeof s=="function"?F=s(E):F=[s,P?"active":null,R?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(E):i;return p.createElement(Ks,{...h,"aria-current":C,className:F,ref:f,style:L,to:o,viewTransition:c},typeof u=="function"?u(E):u)});Ec.displayName="NavLink";var bU=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:i,method:o=Jg,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:m,...y},b)=>{let{unstable_useTransitions:v}=p.useContext(Ma),N=SU(),j=AU(c,{relative:h}),k=o.toLowerCase()==="get"?"get":"post",I=typeof c=="string"&&MR.test(c),S=O=>{if(u&&u(O),O.defaultPrevented)return;O.preventDefault();let P=O.nativeEvent.submitter,R=P?.getAttribute("formmethod")||o,E=()=>N(P||O.currentTarget,{fetcherKey:t,method:R,navigate:r,replace:a,state:i,relative:h,preventScrollReset:f,viewTransition:m});v&&r!==!1?p.startTransition(()=>E()):E()};return p.createElement("form",{ref:b,method:k,action:j,onSubmit:s?u:S,...y,"data-discover":!I&&e==="render"?"true":void 0})});bU.displayName="Form";function wU(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DR(e){let t=p.useContext(Yd);return jr(t,wU(e)),t}function jU(e,{target:t,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o,unstable_useTransitions:c}={}){let u=lr(),h=Wn(),f=jm(e,{relative:i});return p.useCallback(m=>{if(eU(m,t)){m.preventDefault();let y=r!==void 0?r:Vf(h)===Vf(f),b=()=>u(e,{replace:y,state:s,preventScrollReset:a,relative:i,viewTransition:o});c?p.startTransition(()=>b()):b()}},[h,u,f,r,s,t,e,a,i,o,c])}function OR(e){ta(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=p.useRef(y1(e)),r=p.useRef(!1),s=Wn(),a=p.useMemo(()=>tU(s.search,r.current?null:t.current),[s.search]),i=lr(),o=p.useCallback((c,u)=>{const h=y1(typeof c=="function"?c(new URLSearchParams(a)):c);r.current=!0,i("?"+h,u)},[i,a]);return[a,o]}var NU=0,kU=()=>`__${String(++NU)}__`;function SU(){let{router:e}=DR("useSubmit"),{basename:t}=p.useContext(Ma),r=W7(),s=e.fetch,a=e.navigate;return p.useCallback(async(i,o={})=>{let{action:c,method:u,encType:h,formData:f,body:m}=sU(i,t);if(o.navigate===!1){let y=o.fetcherKey||kU();await s(y,r,o.action||c,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await a(o.action||c,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,a,t,r])}function AU(e,{relative:t}={}){let{basename:r}=p.useContext(Ma),s=p.useContext(Da);jr(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...jm(e||".",{relative:t})},o=Wn();if(e==null){i.search=o.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Eo([r,i.pathname])),Vf(i)}function CU(e,{relative:t}={}){let r=p.useContext(SR);jr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DR("useViewTransitionState"),a=jm(e,{relative:t});if(!r.isTransitioning)return!1;let i=Oo(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=Oo(r.nextLocation.pathname,s)||r.nextLocation.pathname;return vy(a.pathname,o)!=null||vy(a.pathname,i)!=null}var x2=hR();let IU={data:""},PU=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||IU},EU=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,TU=/\/\*[^]*?\*\/|  +/g,kP=/\n+/g,_l=(e,t)=>{let r="",s="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":s+=i[1]=="f"?_l(o,i):i+"{"+_l(o,i[1]=="k"?"":t)+"}":typeof o=="object"?s+=_l(o,t?t.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=_l.p?_l.p(i,o):i+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+s},xo={},RR=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+RR(e[r]);return t}return e},_U=(e,t,r,s,a)=>{let i=RR(e),o=xo[i]||(xo[i]=(u=>{let h=0,f=11;for(;h<u.length;)f=101*f+u.charCodeAt(h++)>>>0;return"go"+f})(i));if(!xo[o]){let u=i!==e?e:(h=>{let f,m,y=[{}];for(;f=EU.exec(h.replace(TU,""));)f[4]?y.shift():f[3]?(m=f[3].replace(kP," ").trim(),y.unshift(y[0][m]=y[0][m]||{})):y[0][f[1]]=f[2].replace(kP," ").trim();return y[0]})(e);xo[o]=_l(a?{["@keyframes "+o]:u}:u,r?"":"."+o)}let c=r&&xo.g?xo.g:null;return r&&(xo.g=xo[o]),((u,h,f,m)=>{m?h.data=h.data.replace(m,u):h.data.indexOf(u)===-1&&(h.data=f?u+h.data:h.data+u)})(xo[o],t,s,c),o},MU=(e,t,r)=>e.reduce((s,a,i)=>{let o=t[i];if(o&&o.call){let c=o(r),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=u?"."+u:c&&typeof c=="object"?c.props?"":_l(c,""):c===!1?"":c}return s+a+(o??"")},"");function Kx(e){let t=this||{},r=e.call?e(t.p):e;return _U(r.unshift?r.raw?MU(r,[].slice.call(arguments,1),t.p):r.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):r,PU(t.target),t.g,t.o,t.k)}let LR,x1,v1;Kx.bind({g:1});let Ro=Kx.bind({k:1});function DU(e,t,r,s){_l.p=t,LR=e,x1=r,v1=s}function Jl(e,t){let r=this||{};return function(){let s=arguments;function a(i,o){let c=Object.assign({},i),u=c.className||a.className;r.p=Object.assign({theme:x1&&x1()},c),r.o=/ *go\d+/.test(u),c.className=Kx.apply(r,s)+(u?" "+u:"");let h=e;return e[0]&&(h=c.as||e,delete c.as),v1&&h[0]&&v1(c),LR(h,c)}return a}}var OU=e=>typeof e=="function",by=(e,t)=>OU(e)?e(t):e,RU=(()=>{let e=0;return()=>(++e).toString()})(),FR=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),LU=20,v2="default",$R=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:s}=t;return $R(e,{type:e.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},ty=[],BR={toasts:[],pausedAt:void 0,settings:{toastLimit:LU}},Li={},zR=(e,t=v2)=>{Li[t]=$R(Li[t]||BR,e),ty.forEach(([r,s])=>{r===t&&s(Li[t])})},VR=e=>Object.keys(Li).forEach(t=>zR(e,t)),FU=e=>Object.keys(Li).find(t=>Li[t].toasts.some(r=>r.id===e)),Yx=(e=v2)=>t=>{zR(t,e)},$U={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},BU=(e={},t=v2)=>{let[r,s]=p.useState(Li[t]||BR),a=p.useRef(Li[t]);p.useEffect(()=>(a.current!==Li[t]&&s(Li[t]),ty.push([t,s]),()=>{let o=ty.findIndex(([c])=>c===t);o>-1&&ty.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var c,u,h;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((c=e[o.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||$U[o.type],style:{...e.style,...(h=e[o.type])==null?void 0:h.style,...o.style}}});return{...r,toasts:i}},zU=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||RU()}),Nm=e=>(t,r)=>{let s=zU(t,e,r);return Yx(s.toasterId||FU(s.id))({type:2,toast:s}),s.id},fn=(e,t)=>Nm("blank")(e,t);fn.error=Nm("error");fn.success=Nm("success");fn.loading=Nm("loading");fn.custom=Nm("custom");fn.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Yx(t)(r):VR(r)};fn.dismissAll=e=>fn.dismiss(void 0,e);fn.remove=(e,t)=>{let r={type:4,toastId:e};t?Yx(t)(r):VR(r)};fn.removeAll=e=>fn.remove(void 0,e);fn.promise=(e,t,r)=>{let s=fn.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?by(t.success,a):void 0;return i?fn.success(i,{id:s,...r,...r?.success}):fn.dismiss(s),a}).catch(a=>{let i=t.error?by(t.error,a):void 0;i?fn.error(i,{id:s,...r,...r?.error}):fn.dismiss(s)}),e};var VU=1e3,UU=(e,t="default")=>{let{toasts:r,pausedAt:s}=BU(e,t),a=p.useRef(new Map).current,i=p.useCallback((m,y=VU)=>{if(a.has(m))return;let b=setTimeout(()=>{a.delete(m),o({type:4,toastId:m})},y);a.set(m,b)},[]);p.useEffect(()=>{if(s)return;let m=Date.now(),y=r.map(b=>{if(b.duration===1/0)return;let v=(b.duration||0)+b.pauseDuration-(m-b.createdAt);if(v<0){b.visible&&fn.dismiss(b.id);return}return setTimeout(()=>fn.dismiss(b.id,t),v)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[r,s,t]);let o=p.useCallback(Yx(t),[t]),c=p.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=p.useCallback((m,y)=>{o({type:1,toast:{id:m,height:y}})},[o]),h=p.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),f=p.useCallback((m,y)=>{let{reverseOrder:b=!1,gutter:v=8,defaultPosition:N}=y||{},j=r.filter(S=>(S.position||N)===(m.position||N)&&S.height),k=j.findIndex(S=>S.id===m.id),I=j.filter((S,O)=>O<k&&S.visible).length;return j.filter(S=>S.visible).slice(...b?[I+1]:[0,I]).reduce((S,O)=>S+(O.height||0)+v,0)},[r]);return p.useEffect(()=>{r.forEach(m=>{if(m.dismissed)i(m.id,m.removeDelay);else{let y=a.get(m.id);y&&(clearTimeout(y),a.delete(m.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:u,startPause:c,endPause:h,calculateOffset:f}}},WU=Ro`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,HU=Ro`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qU=Ro`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,GU=Jl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${HU} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${qU} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,KU=Ro`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,YU=Jl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${KU} 1s linear infinite;
`,ZU=Ro`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,QU=Ro`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,XU=Jl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${QU} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,JU=Jl("div")`
  position: absolute;
`,eW=Jl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,tW=Ro`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rW=Jl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${tW} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,nW=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t=="string"?p.createElement(rW,null,t):t:r==="blank"?null:p.createElement(eW,null,p.createElement(YU,{...s}),r!=="loading"&&p.createElement(JU,null,r==="error"?p.createElement(GU,{...s}):p.createElement(XU,{...s})))},sW=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,aW=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,iW="0%{opacity:0;} 100%{opacity:1;}",oW="0%{opacity:1;} 100%{opacity:0;}",lW=Jl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,cW=Jl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,uW=(e,t)=>{let r=e.includes("top")?1:-1,[s,a]=FR()?[iW,oW]:[sW(r),aW(r)];return{animation:t?`${Ro(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ro(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},dW=p.memo(({toast:e,position:t,style:r,children:s})=>{let a=e.height?uW(e.position||t||"top-center",e.visible):{opacity:0},i=p.createElement(nW,{toast:e}),o=p.createElement(cW,{...e.ariaProps},by(e.message,e));return p.createElement(lW,{className:e.className,style:{...a,...r,...e.style}},typeof s=="function"?s({icon:i,message:o}):p.createElement(p.Fragment,null,i,o))});DU(p.createElement);var hW=({id:e,className:t,style:r,onHeightUpdate:s,children:a})=>{let i=p.useCallback(o=>{if(o){let c=()=>{let u=o.getBoundingClientRect().height;s(e,u)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return p.createElement("div",{ref:i,className:t,style:r},a)},fW=(e,t)=>{let r=e.includes("top"),s=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:FR()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...s,...a}},mW=Kx`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wg=16,pW=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:s,children:a,toasterId:i,containerStyle:o,containerClassName:c})=>{let{toasts:u,handlers:h}=UU(r,i);return p.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:wg,left:wg,right:wg,bottom:wg,pointerEvents:"none",...o},className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(f=>{let m=f.position||t,y=h.calculateOffset(f,{reverseOrder:e,gutter:s,defaultPosition:t}),b=fW(m,y);return p.createElement(hW,{id:f.id,key:f.id,onHeightUpdate:h.updateHeight,className:f.visible?mW:"",style:b},f.type==="custom"?by(f.message,f):a?a(f):p.createElement(dW,{toast:f,position:m}))}))},G=fn;const b2=()=>typeof window<"u"&&localStorage.getItem("theme")||"light",w2=e=>{typeof window<"u"&&(localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark",e==="dark"))},gW=()=>{const e=b2();w2(e)},yW=()=>{};var SP={};const UR=function(e){const t=[];let r=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},xW=function(e){const t=[];let r=0,s=0;for(;r<e.length;){const a=e[r++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[s++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],o=e[r++],c=e[r++],u=((a&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;t[s++]=String.fromCharCode(55296+(u>>10)),t[s++]=String.fromCharCode(56320+(u&1023))}else{const i=e[r++],o=e[r++];t[s++]=String.fromCharCode((a&15)<<12|(i&63)<<6|o&63)}}return t.join("")},WR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const i=e[a],o=a+1<e.length,c=o?e[a+1]:0,u=a+2<e.length,h=u?e[a+2]:0,f=i>>2,m=(i&3)<<4|c>>4;let y=(c&15)<<2|h>>6,b=h&63;u||(b=64,o||(y=64)),s.push(r[f],r[m],r[y],r[b])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(UR(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):xW(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],c=a<e.length?r[e.charAt(a)]:0;++a;const h=a<e.length?r[e.charAt(a)]:64;++a;const m=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||c==null||h==null||m==null)throw new vW;const y=i<<2|c>>4;if(s.push(y),h!==64){const b=c<<4&240|h>>2;if(s.push(b),m!==64){const v=h<<6&192|m;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bW=function(e){const t=UR(e);return WR.encodeByteArray(t,!0)},wy=function(e){return bW(e).replace(/\./g,"")},HR=function(e){try{return WR.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jW=()=>wW().__FIREBASE_DEFAULTS__,NW=()=>{if(typeof process>"u"||typeof SP>"u")return;const e=SP.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},kW=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&HR(e[1]);return t&&JSON.parse(t)},j2=()=>{try{return yW()||jW()||NW()||kW()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},qR=e=>j2()?.emulatorHosts?.[e],GR=e=>{const t=qR(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),s]:[t.substring(0,r),s]},KR=()=>j2()?.config,YR=e=>j2()?.[`_${e}`];class SW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}}function Qd(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N2(e){return(await fetch(e,{credentials:"include"})).ok}function ZR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[wy(JSON.stringify(r)),wy(JSON.stringify(o)),""].join(".")}const Ef={};function AW(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ef))Ef[t]?e.emulator.push(t):e.prod.push(t);return e}function CW(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let AP=!1;function k2(e,t){if(typeof window>"u"||typeof document>"u"||!Qd(window.location.host)||Ef[e]===t||Ef[e]||AP)return;Ef[e]=t;function r(y){return`__firebase__banner__${y}`}const s="__firebase__banner",i=AW().prod.length>0;function o(){const y=document.getElementById(s);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{AP=!0,o()},y}function f(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=CW(s),b=r("text"),v=document.getElementById(b)||document.createElement("span"),N=r("learnmore"),j=document.getElementById(N)||document.createElement("a"),k=r("preprendIcon"),I=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const S=y.element;c(S),f(j,N);const O=h();u(I,k),S.append(I,v,j,O),document.body.appendChild(S)}i?(v.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function ps(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ps())}function PW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function EW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TW(){const e=ps();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function S2(){try{return typeof indexedDB=="object"}catch{return!1}}function A2(){return new Promise((e,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(r){t(r)}})}function XR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const _W="FirebaseError";class Oa extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=_W,Object.setPrototypeOf(this,Oa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],o=i?MW(i,s):"Error",c=`${this.serviceName}: ${o} (${a}).`;return new Oa(a,c,s)}}function MW(e,t){return e.replace(DW,(r,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const DW=/\{\$([^}]+)}/g;function OW(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Vl(e,t){if(e===t)return!0;const r=Object.keys(e),s=Object.keys(t);for(const a of r){if(!s.includes(a))return!1;const i=e[a],o=t[a];if(CP(i)&&CP(o)){if(!Vl(i,o))return!1}else if(i!==o)return!1}for(const a of s)if(!r.includes(a))return!1;return!0}function CP(e){return e!==null&&typeof e=="object"}function km(e){const t=[];for(const[r,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function RW(e,t){const r=new LW(e,t);return r.subscribe.bind(r)}class LW{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,s){let a;if(t===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");FW(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:s},a.next===void 0&&(a.next=Hb),a.error===void 0&&(a.error=Hb),a.complete===void 0&&(a.complete=Hb);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FW(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function Hb(){}const $W=1e3,BW=2,zW=14400*1e3,VW=.5;function IP(e,t=$W,r=BW){const s=t*Math.pow(r,e),a=Math.round(VW*s*(Math.random()-.5)*2);return Math.min(zW,s+a)}function oa(e){return e&&e._delegate?e._delegate:e}class Rs{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Tc="[DEFAULT]";let UW=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new SW;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HW(t))try{this.getOrInitializeService({instanceIdentifier:Tc})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});s.resolve(i)}catch{}}}}clearInstance(t=Tc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Tc){return this.instances.has(t)}getOptions(t=Tc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);s===c&&o.resolve(a)}return a}onInit(t,r){const s=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const i=this.instances.get(s);return i&&t(i,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const a of s)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WW(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Tc){return this.component?this.component.multipleInstances?t:Tc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function WW(e){return e===Tc?void 0:e}function HW(e){return e.instantiationMode==="EAGER"}class qW{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new UW(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var Ht;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ht||(Ht={}));const GW={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},KW=Ht.INFO,YW={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},ZW=(e,t,...r)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=YW[t];if(a)console[a](`[${s}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zx{constructor(t){this.name=t,this._logLevel=KW,this._logHandler=ZW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GW[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const QW=(e,t)=>t.some(r=>e instanceof r);let PP,EP;function XW(){return PP||(PP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JW(){return EP||(EP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JR=new WeakMap,b1=new WeakMap,e3=new WeakMap,qb=new WeakMap,C2=new WeakMap;function eH(e){const t=new Promise((r,s)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{r(To(e.result)),a()},o=()=>{s(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&JR.set(r,e)}).catch(()=>{}),C2.set(t,e),t}function tH(e){if(b1.has(e))return;const t=new Promise((r,s)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{r(),a()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});b1.set(e,t)}let w1={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return b1.get(e);if(t==="objectStoreNames")return e.objectStoreNames||e3.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return To(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function rH(e){w1=e(w1)}function nH(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=e.call(Gb(this),t,...r);return e3.set(s,t.sort?t.sort():[t]),To(s)}:JW().includes(e)?function(...t){return e.apply(Gb(this),t),To(JR.get(this))}:function(...t){return To(e.apply(Gb(this),t))}}function sH(e){return typeof e=="function"?nH(e):(e instanceof IDBTransaction&&tH(e),QW(e,XW())?new Proxy(e,w1):e)}function To(e){if(e instanceof IDBRequest)return eH(e);if(qb.has(e))return qb.get(e);const t=sH(e);return t!==e&&(qb.set(e,t),C2.set(t,e)),t}const Gb=e=>C2.get(e);function Qx(e,t,{blocked:r,upgrade:s,blocking:a,terminated:i}={}){const o=indexedDB.open(e,t),c=To(o);return s&&o.addEventListener("upgradeneeded",u=>{s(To(o.result),u.oldVersion,u.newVersion,To(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),a&&u.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}function Kb(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",s=>t(s.oldVersion,s)),To(r).then(()=>{})}const aH=["get","getKey","getAll","getAllKeys","count"],iH=["put","add","delete","clear"],Yb=new Map;function TP(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Yb.get(t))return Yb.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,a=iH.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(a||aH.includes(r)))return;const i=async function(o,...c){const u=this.transaction(o,a?"readwrite":"readonly");let h=u.store;return s&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),a&&u.done]))[0]};return Yb.set(t,i),i}rH(e=>({...e,get:(t,r,s)=>TP(t,r)||e.get(t,r,s),has:(t,r)=>!!TP(t,r)||e.has(t,r)}));class oH{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(lH(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function lH(e){return e.getComponent()?.type==="VERSION"}const j1="@firebase/app",_P="0.14.6";const Lo=new Zx("@firebase/app"),cH="@firebase/app-compat",uH="@firebase/analytics-compat",dH="@firebase/analytics",hH="@firebase/app-check-compat",fH="@firebase/app-check",mH="@firebase/auth",pH="@firebase/auth-compat",gH="@firebase/database",yH="@firebase/data-connect",xH="@firebase/database-compat",vH="@firebase/functions",bH="@firebase/functions-compat",wH="@firebase/installations",jH="@firebase/installations-compat",NH="@firebase/messaging",kH="@firebase/messaging-compat",SH="@firebase/performance",AH="@firebase/performance-compat",CH="@firebase/remote-config",IH="@firebase/remote-config-compat",PH="@firebase/storage",EH="@firebase/storage-compat",TH="@firebase/firestore",_H="@firebase/ai",MH="@firebase/firestore-compat",DH="firebase",OH="12.6.0";const N1="[DEFAULT]",RH={[j1]:"fire-core",[cH]:"fire-core-compat",[dH]:"fire-analytics",[uH]:"fire-analytics-compat",[fH]:"fire-app-check",[hH]:"fire-app-check-compat",[mH]:"fire-auth",[pH]:"fire-auth-compat",[gH]:"fire-rtdb",[yH]:"fire-data-connect",[xH]:"fire-rtdb-compat",[vH]:"fire-fn",[bH]:"fire-fn-compat",[wH]:"fire-iid",[jH]:"fire-iid-compat",[NH]:"fire-fcm",[kH]:"fire-fcm-compat",[SH]:"fire-perf",[AH]:"fire-perf-compat",[CH]:"fire-rc",[IH]:"fire-rc-compat",[PH]:"fire-gcs",[EH]:"fire-gcs-compat",[TH]:"fire-fst",[MH]:"fire-fst-compat",[_H]:"fire-vertex","fire-js":"fire-js",[DH]:"fire-js-all"};const jy=new Map,LH=new Map,k1=new Map;function MP(e,t){try{e.container.addComponent(t)}catch(r){Lo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function ra(e){const t=e.name;if(k1.has(t))return Lo.debug(`There were multiple attempts to register component ${t}.`),!1;k1.set(t,e);for(const r of jy.values())MP(r,e);for(const r of LH.values())MP(r,e);return!0}function Yo(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Zs(e){return e==null?!1:e.settings!==void 0}const FH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ll=new ec("app","Firebase",FH);class $H{constructor(t,r,s){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ll.create("app-deleted",{appName:this._name})}}const xu=OH;function t3(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const s={name:N1,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Ll.create("bad-app-name",{appName:String(a)});if(r||(r=KR()),!r)throw Ll.create("no-options");const i=jy.get(a);if(i){if(Vl(r,i.options)&&Vl(s,i.config))return i;throw Ll.create("duplicate-app",{appName:a})}const o=new qW(a);for(const u of k1.values())o.addComponent(u);const c=new $H(r,s,o);return jy.set(a,c),c}function Sm(e=N1){const t=jy.get(e);if(!t&&e===N1&&KR())return t3();if(!t)throw Ll.create("no-app",{appName:e});return t}function ts(e,t,r){let s=RH[e]??e;r&&(s+=`-${r}`);const a=s.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const o=[`Unable to register library "${s}" with version "${t}":`];a&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Lo.warn(o.join(" "));return}ra(new Rs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const BH="firebase-heartbeat-database",zH=1,Wf="firebase-heartbeat-store";let Zb=null;function r3(){return Zb||(Zb=Qx(BH,zH,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Wf)}catch(r){console.warn(r)}}}}).catch(e=>{throw Ll.create("idb-open",{originalErrorMessage:e.message})})),Zb}async function VH(e){try{const r=(await r3()).transaction(Wf),s=await r.objectStore(Wf).get(n3(e));return await r.done,s}catch(t){if(t instanceof Oa)Lo.warn(t.message);else{const r=Ll.create("idb-get",{originalErrorMessage:t?.message});Lo.warn(r.message)}}}async function DP(e,t){try{const s=(await r3()).transaction(Wf,"readwrite");await s.objectStore(Wf).put(t,n3(e)),await s.done}catch(r){if(r instanceof Oa)Lo.warn(r.message);else{const s=Ll.create("idb-set",{originalErrorMessage:r?.message});Lo.warn(s.message)}}}function n3(e){return`${e.name}!${e.options.appId}`}const UH=1024,WH=30;class HH{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new GH(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=OP();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>WH){const a=KH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Lo.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=OP(),{heartbeatsToSend:r,unsentEntries:s}=qH(this._heartbeatsCache.heartbeats),a=wy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Lo.warn(t),""}}}function OP(){return new Date().toISOString().substring(0,10)}function qH(e,t=UH){const r=[];let s=e.slice();for(const a of e){const i=r.find(o=>o.agent===a.agent);if(i){if(i.dates.push(a.date),RP(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),RP(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class GH{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S2()?A2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await VH(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return DP(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return DP(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function RP(e){return wy(JSON.stringify({version:2,heartbeats:e})).length}function KH(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let s=1;s<e.length;s++)e[s].date<r&&(r=e[s].date,t=s);return t}function YH(e){ra(new Rs("platform-logger",t=>new oH(t),"PRIVATE")),ra(new Rs("heartbeat",t=>new HH(t),"PRIVATE")),ts(j1,_P,e),ts(j1,_P,"esm2020"),ts("fire-js","")}YH("");var ZH="firebase",QH="12.6.0";ts(ZH,QH,"app");const s3="@firebase/installations",I2="0.6.19";const a3=1e4,i3=`w:${I2}`,o3="FIS_v2",XH="https://firebaseinstallations.googleapis.com/v1",JH=3600*1e3,eq="installations",tq="Installations";const rq={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},au=new ec(eq,tq,rq);function l3(e){return e instanceof Oa&&e.code.includes("request-failed")}function c3({projectId:e}){return`${XH}/projects/${e}/installations`}function u3(e){return{token:e.token,requestStatus:2,expiresIn:sq(e.expiresIn),creationTime:Date.now()}}async function d3(e,t){const s=(await t.json()).error;return au.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function h3({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function nq(e,{refreshToken:t}){const r=h3(e);return r.append("Authorization",aq(t)),r}async function f3(e){const t=await e();return t.status>=500&&t.status<600?e():t}function sq(e){return Number(e.replace("s","000"))}function aq(e){return`${o3} ${e}`}async function iq({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const s=c3(e),a=h3(e),i=t.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const o={fid:r,authVersion:o3,appId:e.appId,sdkVersion:i3},c={method:"POST",headers:a,body:JSON.stringify(o)},u=await f3(()=>fetch(s,c));if(u.ok){const h=await u.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:u3(h.authToken)}}else throw await d3("Create Installation",u)}function m3(e){return new Promise(t=>{setTimeout(t,e)})}function oq(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const lq=/^[cdef][\w-]{21}$/,S1="";function cq(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=uq(e);return lq.test(r)?r:S1}catch{return S1}}function uq(e){return oq(e).substr(0,22)}function Xx(e){return`${e.appName}!${e.appId}`}const p3=new Map;function g3(e,t){const r=Xx(e);y3(r,t),dq(r,t)}function y3(e,t){const r=p3.get(e);if(r)for(const s of r)s(t)}function dq(e,t){const r=hq();r&&r.postMessage({key:e,fid:t}),fq()}let $c=null;function hq(){return!$c&&"BroadcastChannel"in self&&($c=new BroadcastChannel("[Firebase] FID Change"),$c.onmessage=e=>{y3(e.data.key,e.data.fid)}),$c}function fq(){p3.size===0&&$c&&($c.close(),$c=null)}const mq="firebase-installations-database",pq=1,iu="firebase-installations-store";let Qb=null;function P2(){return Qb||(Qb=Qx(mq,pq,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(iu)}}})),Qb}async function Ny(e,t){const r=Xx(e),a=(await P2()).transaction(iu,"readwrite"),i=a.objectStore(iu),o=await i.get(r);return await i.put(t,r),await a.done,(!o||o.fid!==t.fid)&&g3(e,t.fid),t}async function x3(e){const t=Xx(e),s=(await P2()).transaction(iu,"readwrite");await s.objectStore(iu).delete(t),await s.done}async function Jx(e,t){const r=Xx(e),a=(await P2()).transaction(iu,"readwrite"),i=a.objectStore(iu),o=await i.get(r),c=t(o);return c===void 0?await i.delete(r):await i.put(c,r),await a.done,c&&(!o||o.fid!==c.fid)&&g3(e,c.fid),c}async function E2(e){let t;const r=await Jx(e.appConfig,s=>{const a=gq(s),i=yq(e,a);return t=i.registrationPromise,i.installationEntry});return r.fid===S1?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function gq(e){const t=e||{fid:cq(),registrationStatus:0};return v3(t)}function yq(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(au.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=xq(e,r);return{installationEntry:r,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:vq(e)}:{installationEntry:t}}async function xq(e,t){try{const r=await iq(e,t);return Ny(e.appConfig,r)}catch(r){throw l3(r)&&r.customData.serverCode===409?await x3(e.appConfig):await Ny(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function vq(e){let t=await LP(e.appConfig);for(;t.registrationStatus===1;)await m3(100),t=await LP(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:s}=await E2(e);return s||r}return t}function LP(e){return Jx(e,t=>{if(!t)throw au.create("installation-not-found");return v3(t)})}function v3(e){return bq(e)?{fid:e.fid,registrationStatus:0}:e}function bq(e){return e.registrationStatus===1&&e.registrationTime+a3<Date.now()}async function wq({appConfig:e,heartbeatServiceProvider:t},r){const s=jq(e,r),a=nq(e,r),i=t.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const o={installation:{sdkVersion:i3,appId:e.appId}},c={method:"POST",headers:a,body:JSON.stringify(o)},u=await f3(()=>fetch(s,c));if(u.ok){const h=await u.json();return u3(h)}else throw await d3("Generate Auth Token",u)}function jq(e,{fid:t}){return`${c3(e)}/${t}/authTokens:generate`}async function T2(e,t=!1){let r;const s=await Jx(e.appConfig,i=>{if(!b3(i))throw au.create("not-registered");const o=i.authToken;if(!t&&Sq(o))return i;if(o.requestStatus===1)return r=Nq(e,t),i;{if(!navigator.onLine)throw au.create("app-offline");const c=Cq(i);return r=kq(e,c),c}});return r?await r:s.authToken}async function Nq(e,t){let r=await FP(e.appConfig);for(;r.authToken.requestStatus===1;)await m3(100),r=await FP(e.appConfig);const s=r.authToken;return s.requestStatus===0?T2(e,t):s}function FP(e){return Jx(e,t=>{if(!b3(t))throw au.create("not-registered");const r=t.authToken;return Iq(r)?{...t,authToken:{requestStatus:0}}:t})}async function kq(e,t){try{const r=await wq(e,t),s={...t,authToken:r};return await Ny(e.appConfig,s),r}catch(r){if(l3(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await x3(e.appConfig);else{const s={...t,authToken:{requestStatus:0}};await Ny(e.appConfig,s)}throw r}}function b3(e){return e!==void 0&&e.registrationStatus===2}function Sq(e){return e.requestStatus===2&&!Aq(e)}function Aq(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+JH}function Cq(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function Iq(e){return e.requestStatus===1&&e.requestTime+a3<Date.now()}async function Pq(e){const t=e,{installationEntry:r,registrationPromise:s}=await E2(t);return s?s.catch(console.error):T2(t).catch(console.error),r.fid}async function Eq(e,t=!1){const r=e;return await Tq(r),(await T2(r,t)).token}async function Tq(e){const{registrationPromise:t}=await E2(e);t&&await t}function _q(e){if(!e||!e.options)throw Xb("App Configuration");if(!e.name)throw Xb("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw Xb(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Xb(e){return au.create("missing-app-config-values",{valueName:e})}const w3="installations",Mq="installations-internal",Dq=e=>{const t=e.getProvider("app").getImmediate(),r=_q(t),s=Yo(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Oq=e=>{const t=e.getProvider("app").getImmediate(),r=Yo(t,w3).getImmediate();return{getId:()=>Pq(r),getToken:a=>Eq(r,a)}};function Rq(){ra(new Rs(w3,Dq,"PUBLIC")),ra(new Rs(Mq,Oq,"PRIVATE"))}Rq();ts(s3,I2);ts(s3,I2,"esm2020");const ky="analytics",Lq="firebase_id",Fq="origin",$q=60*1e3,Bq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_2="https://www.googletagmanager.com/gtag/js";const ms=new Zx("@firebase/analytics");const zq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Js=new ec("analytics","Analytics",zq);function Vq(e){if(!e.startsWith(_2)){const t=Js.create("invalid-gtag-resource",{gtagURL:e});return ms.warn(t.message),""}return e}function j3(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function Uq(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function Wq(e,t){const r=Uq("firebase-js-sdk-policy",{createScriptURL:Vq}),s=document.createElement("script"),a=`${_2}?l=${e}&id=${t}`;s.src=r?r?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function Hq(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function qq(e,t,r,s,a,i){const o=s[a];try{if(o)await t[o];else{const u=(await j3(r)).find(h=>h.measurementId===a);u&&await t[u.appId]}}catch(c){ms.error(c)}e("config",a,i)}async function Gq(e,t,r,s,a){try{let i=[];if(a&&a.send_to){let o=a.send_to;Array.isArray(o)||(o=[o]);const c=await j3(r);for(const u of o){const h=c.find(m=>m.measurementId===u),f=h&&t[h.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",s,a||{})}catch(i){ms.error(i)}}function Kq(e,t,r,s){async function a(i,...o){try{if(i==="event"){const[c,u]=o;await Gq(e,t,r,c,u)}else if(i==="config"){const[c,u]=o;await qq(e,t,r,s,c,u)}else if(i==="consent"){const[c,u]=o;e("consent",c,u)}else if(i==="get"){const[c,u,h]=o;e("get",c,u,h)}else if(i==="set"){const[c]=o;e("set",c)}else e(i,...o)}catch(c){ms.error(c)}}return a}function Yq(e,t,r,s,a){let i=function(...o){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=Kq(i,e,t,r),{gtagCore:i,wrappedGtag:window[a]}}function Zq(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(_2)&&r.src.includes(e))return r;return null}const Qq=30,Xq=1e3;class Jq{constructor(t={},r=Xq){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const N3=new Jq;function eG(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function tG(e){const{appId:t,apiKey:r}=e,s={method:"GET",headers:eG(r)},a=Bq.replace("{app-id}",t),i=await fetch(a,s);if(i.status!==200&&i.status!==304){let o="";try{const c=await i.json();c.error?.message&&(o=c.error.message)}catch{}throw Js.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function rG(e,t=N3,r){const{appId:s,apiKey:a,measurementId:i}=e.options;if(!s)throw Js.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:s};throw Js.create("no-api-key")}const o=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new aG;return setTimeout(async()=>{c.abort()},$q),k3({appId:s,apiKey:a,measurementId:i},o,c,t)}async function k3(e,{throttleEndTimeMillis:t,backoffCount:r},s,a=N3){const{appId:i,measurementId:o}=e;try{await nG(s,t)}catch(c){if(o)return ms.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:i,measurementId:o};throw c}try{const c=await tG(e);return a.deleteThrottleMetadata(i),c}catch(c){const u=c;if(!sG(u)){if(a.deleteThrottleMetadata(i),o)return ms.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:i,measurementId:o};throw c}const h=Number(u?.customData?.httpStatus)===503?IP(r,a.intervalMillis,Qq):IP(r,a.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:r+1};return a.setThrottleMetadata(i,f),ms.debug(`Calling attemptFetch again in ${h} millis`),k3(e,f,s,a)}}function nG(e,t){return new Promise((r,s)=>{const a=Math.max(t-Date.now(),0),i=setTimeout(r,a);e.addEventListener(()=>{clearTimeout(i),s(Js.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function sG(e){if(!(e instanceof Oa)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class aG{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function iG(e,t,r,s,a){if(a&&a.global){e("event",r,s);return}else{const i=await t,o={...s,send_to:i};e("event",r,o)}}async function oG(e,t,r,s){if(s&&s.global){const a={};for(const i of Object.keys(r))a[`user_properties.${i}`]=r[i];return e("set",a),Promise.resolve()}else{const a=await t;e("config",a,{update:!0,user_properties:r})}}async function lG(){if(S2())try{await A2()}catch(e){return ms.warn(Js.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return ms.warn(Js.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function cG(e,t,r,s,a,i,o){const c=rG(e);c.then(y=>{r[y.measurementId]=y.appId,e.options.measurementId&&y.measurementId!==e.options.measurementId&&ms.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>ms.error(y)),t.push(c);const u=lG().then(y=>{if(y)return s.getId()}),[h,f]=await Promise.all([c,u]);Zq(i)||Wq(i,h.measurementId),a("js",new Date);const m=o?.config??{};return m[Fq]="firebase",m.update=!0,f!=null&&(m[Lq]=f),a("config",h.measurementId,m),h.measurementId}class uG{constructor(t){this.app=t}_delete(){return delete Nd[this.app.options.appId],Promise.resolve()}}let Nd={},$P=[];const BP={};let Jb="dataLayer",dG="gtag",zP,M2,VP=!1;function hG(){const e=[];if(QR()&&e.push("This is a browser extension environment."),XR()||e.push("Cookies are not available."),e.length>0){const t=e.map((s,a)=>`(${a+1}) ${s}`).join(" "),r=Js.create("invalid-analytics-context",{errorInfo:t});ms.warn(r.message)}}function fG(e,t,r){hG();const s=e.options.appId;if(!s)throw Js.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)ms.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Js.create("no-api-key");if(Nd[s]!=null)throw Js.create("already-exists",{id:s});if(!VP){Hq(Jb);const{wrappedGtag:i,gtagCore:o}=Yq(Nd,$P,BP,Jb,dG);M2=i,zP=o,VP=!0}return Nd[s]=cG(e,$P,BP,t,zP,Jb,r),new uG(e)}function mG(e=Sm()){e=oa(e);const t=Yo(e,ky);return t.isInitialized()?t.getImmediate():pG(e)}function pG(e,t={}){const r=Yo(e,ky);if(r.isInitialized()){const a=r.getImmediate();if(Vl(t,r.getOptions()))return a;throw Js.create("already-initialized")}return r.initialize({options:t})}function gG(e,t,r){e=oa(e),oG(M2,Nd[e.app.options.appId],t,r).catch(s=>ms.error(s))}function S3(e,t,r,s){e=oa(e),iG(M2,Nd[e.app.options.appId],t,r,s).catch(a=>ms.error(a))}const UP="@firebase/analytics",WP="0.10.19";function yG(){ra(new Rs(ky,(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return fG(s,a,r)},"PUBLIC")),ra(new Rs("analytics-internal",e,"PRIVATE")),ts(UP,WP),ts(UP,WP,"esm2020");function e(t){try{const r=t.getProvider(ky).getImmediate();return{logEvent:(s,a,i)=>S3(r,s,a,i),setUserProperties:(s,a)=>gG(r,s,a)}}catch(r){throw Js.create("interop-component-reg-failed",{reason:r})}}}yG();function A3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xG=A3,C3=new ec("auth","Firebase",A3());const Sy=new Zx("@firebase/auth");function vG(e,...t){Sy.logLevel<=Ht.WARN&&Sy.warn(`Auth (${xu}): ${e}`,...t)}function ry(e,...t){Sy.logLevel<=Ht.ERROR&&Sy.error(`Auth (${xu}): ${e}`,...t)}function Ki(e,...t){throw O2(e,...t)}function li(e,...t){return O2(e,...t)}function D2(e,t,r){const s={...xG(),[t]:r};return new ec("auth","Firebase",s).create(t,{appName:e.name})}function Fl(e){return D2(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I3(e,t,r){const s=r;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ki(e,"argument-error"),D2(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function O2(e,...t){if(typeof e!="string"){const r=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(r,...s)}return C3.create(e,...t)}function yt(e,t,...r){if(!e)throw O2(t,...r)}function Ao(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ry(t),new Error(t)}function Fo(e,t){e||Ao(t)}function A1(){return typeof self<"u"&&self.location?.href||""}function bG(){return HP()==="http:"||HP()==="https:"}function HP(){return typeof self<"u"&&self.location?.protocol||null}function wG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bG()||QR()||"connection"in navigator)?navigator.onLine:!0}function jG(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class Am{constructor(t,r){this.shortDelay=t,this.longDelay=r,Fo(r>t,"Short delay should be less than long delay!"),this.isMobile=IW()||EW()}get(){return wG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function R2(e,t){Fo(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class P3{static initialize(t,r,s){this.fetchImpl=t,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kG=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SG=new Am(3e4,6e4);function L2(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Xd(e,t,r,s,a={}){return E3(e,a,async()=>{let i={},o={};s&&(t==="GET"?o=s:i={body:JSON.stringify(s)});const c=km({key:e.config.apiKey,...o}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h={method:t,headers:u,...i};return PW()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Qd(e.emulatorConfig.host)&&(h.credentials="include"),P3.fetch()(await T3(e,e.config.apiHost,r,c),h)})}async function E3(e,t,r){e._canInitEmulator=!1;const s={...NG,...t};try{const a=new CG(e),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw jg(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw jg(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw jg(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw jg(e,"user-disabled",o);const f=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw D2(e,f,h);Ki(e,f)}}catch(a){if(a instanceof Oa)throw a;Ki(e,"network-request-failed",{message:String(a)})}}async function AG(e,t,r,s,a={}){const i=await Xd(e,t,r,s,a);return"mfaPendingCredential"in i&&Ki(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function T3(e,t,r,s){const a=`${t}${r}?${s}`,i=e,o=i.config.emulator?R2(e.config,a):`${e.config.apiScheme}://${a}`;return kG.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class CG{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(li(this.auth,"network-request-failed")),SG.get())})}}function jg(e,t,r){const s={appName:e.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const a=li(e,t,s);return a.customData._tokenResponse=r,a}async function IG(e,t){return Xd(e,"POST","/v1/accounts:delete",t)}async function Ay(e,t){return Xd(e,"POST","/v1/accounts:lookup",t)}function Tf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PG(e,t=!1){const r=oa(e),s=await r.getIdToken(t),a=F2(s);yt(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,o=i?.sign_in_provider;return{claims:a,token:s,authTime:Tf(ew(a.auth_time)),issuedAtTime:Tf(ew(a.iat)),expirationTime:Tf(ew(a.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function ew(e){return Number(e)*1e3}function F2(e){const[t,r,s]=e.split(".");if(t===void 0||r===void 0||s===void 0)return ry("JWT malformed, contained fewer than 3 sections"),null;try{const a=HR(r);return a?JSON.parse(a):(ry("Failed to decode base64 JWT payload"),null)}catch(a){return ry("Caught error parsing JWT payload as JSON",a?.toString()),null}}function qP(e){const t=F2(e);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Hf(e,t,r=!1){if(r)return t;try{return await t}catch(s){throw s instanceof Oa&&EG(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function EG({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class TG{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class C1{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tf(this.lastLoginAt),this.creationTime=Tf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Cy(e){const t=e.auth,r=await e.getIdToken(),s=await Hf(e,Ay(t,{idToken:r}));yt(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const i=a.providerUserInfo?.length?_3(a.providerUserInfo):[],o=MG(e.providerData,i),c=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!o?.length,h=c?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new C1(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}async function _G(e){const t=oa(e);await Cy(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function MG(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function _3(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function DG(e,t){const r=await E3(e,{},async()=>{const s=km({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:i}=e.config,o=await T3(e,a,"/v1/token",`key=${i}`),c=await e._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:s};return e.emulatorConfig&&Qd(e.emulatorConfig.host)&&(u.credentials="include"),P3.fetch()(o,u)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function OG(e,t){return Xd(e,"POST","/v2/accounts:revokeToken",L2(e,t))}class kd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):qP(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const r=qP(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:s,refreshToken:a,expiresIn:i}=await DG(t,r);this.updateTokensAndExpiration(s,a,Number(i))}updateTokensAndExpiration(t,r,s){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,r){const{refreshToken:s,accessToken:a,expirationTime:i}=r,o=new kd;return s&&(yt(typeof s=="string","internal-error",{appName:t}),o.refreshToken=s),a&&(yt(typeof a=="string","internal-error",{appName:t}),o.accessToken=a),i&&(yt(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new kd,this.toJSON())}_performRefresh(){return Ao("not implemented")}}function jl(e,t){yt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:r,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new TG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new C1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await Hf(this,this.stsTokenManager.getToken(this.auth,t));return yt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return PG(this,t)}reload(){return _G(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),r&&await Cy(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zs(this.auth.app))return Promise.reject(Fl(this.auth));const t=await this.getIdToken();return await Hf(this,IG(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const s=r.displayName??void 0,a=r.email??void 0,i=r.phoneNumber??void 0,o=r.photoURL??void 0,c=r.tenantId??void 0,u=r._redirectEventId??void 0,h=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:b,providerData:v,stsTokenManager:N}=r;yt(m&&N,t,"internal-error");const j=kd.fromJSON(this.name,N);yt(typeof m=="string",t,"internal-error"),jl(s,t.name),jl(a,t.name),yt(typeof y=="boolean",t,"internal-error"),yt(typeof b=="boolean",t,"internal-error"),jl(i,t.name),jl(o,t.name),jl(c,t.name),jl(u,t.name),jl(h,t.name),jl(f,t.name);const k=new ai({uid:m,auth:t,email:a,emailVerified:y,displayName:s,isAnonymous:b,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:j,createdAt:h,lastLoginAt:f});return v&&Array.isArray(v)&&(k.providerData=v.map(I=>({...I}))),u&&(k._redirectEventId=u),k}static async _fromIdTokenResponse(t,r,s=!1){const a=new kd;a.updateFromServerResponse(r);const i=new ai({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Cy(i),i}static async _fromGetAccountInfoResponse(t,r,s){const a=r.users[0];yt(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?_3(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!i?.length,c=new kd;c.updateFromIdToken(s);const u=new ai({uid:a.localId,auth:t,stsTokenManager:c,isAnonymous:o}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new C1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!i?.length};return Object.assign(u,h),u}}const GP=new Map;function Co(e){Fo(e instanceof Function,"Expected a class definition");let t=GP.get(e);return t?(Fo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,GP.set(e,t),t)}class M3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}M3.type="NONE";const KP=M3;function ny(e,t,r){return`firebase:${e}:${t}:${r}`}class Sd{constructor(t,r,s){this.persistence=t,this.auth=r,this.userKey=s;const{config:a,name:i}=this.auth;this.fullUserKey=ny(this.userKey,a.apiKey,i),this.fullPersistenceKey=ny("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await Ay(this.auth,{idToken:t}).catch(()=>{});return r?ai._fromGetAccountInfoResponse(this.auth,r,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,s="authUser"){if(!r.length)return new Sd(Co(KP),t,s);const a=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=a[0]||Co(KP);const o=ny(s,t.config.apiKey,t.name);let c=null;for(const h of r)try{const f=await h._get(o);if(f){let m;if(typeof f=="string"){const y=await Ay(t,{idToken:f}).catch(()=>{});if(!y)break;m=await ai._fromGetAccountInfoResponse(t,y,f)}else m=ai._fromJSON(t,f);h!==i&&(c=m),i=h;break}}catch{}const u=a.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Sd(i,t,s):(i=u[0],c&&await i._set(o,c.toJSON()),await Promise.all(r.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Sd(i,t,s))}}function YP(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(L3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(D3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($3(t))return"Blackberry";if(B3(t))return"Webos";if(O3(t))return"Safari";if((t.includes("chrome/")||R3(t))&&!t.includes("edge/"))return"Chrome";if(F3(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(r);if(s?.length===2)return s[1]}return"Other"}function D3(e=ps()){return/firefox\//i.test(e)}function O3(e=ps()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function R3(e=ps()){return/crios\//i.test(e)}function L3(e=ps()){return/iemobile/i.test(e)}function F3(e=ps()){return/android/i.test(e)}function $3(e=ps()){return/blackberry/i.test(e)}function B3(e=ps()){return/webos/i.test(e)}function $2(e=ps()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function RG(e=ps()){return $2(e)&&!!window.navigator?.standalone}function LG(){return TW()&&document.documentMode===10}function z3(e=ps()){return $2(e)||F3(e)||B3(e)||$3(e)||/windows phone/i.test(e)||L3(e)}function V3(e,t=[]){let r;switch(e){case"Browser":r=YP(ps());break;case"Worker":r=`${YP(ps())}-${e}`;break;default:r=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${xu}/${s}`}class FG{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const s=i=>new Promise((o,c)=>{try{const u=t(i);o(u)}catch(u){c(u)}});s.onAbort=r,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const s of this.queue)await s(t),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function $G(e,t={}){return Xd(e,"GET","/v2/passwordPolicy",L2(e,t))}const BG=6;class zG{constructor(t){const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??BG,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=t.length>=s),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,r,s,a,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}class VG{constructor(t,r,s,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZP(this),this.idTokenSubscription=new ZP(this),this.beforeStateQueue=new FG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Co(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Sd.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Ay(this,{idToken:t}),s=await ai._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zs(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=s?._redirectEventId,c=await this.tryRedirectSignIn(t);(!i||i===o)&&c?.user&&(s=c.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Cy(t)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=jG()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zs(this.app))return Promise.reject(Fl(this));const r=t?oa(t):null;return r&&yt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zs(this.app)?Promise.reject(Fl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zs(this.app)?Promise.reject(Fl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Co(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $G(this),r=new zG(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ec("auth","Firebase",t())}onAuthStateChanged(t,r,s){return this.registerStateListener(this.authStateSubscription,t,r,s)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,s){return this.registerStateListener(this.idTokenSubscription,t,r,s)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(s.tenantId=this.tenantId),await OG(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,r){const s=await this.getOrInitRedirectPersistenceManager(r);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Co(t)||this._popupRedirectResolver;yt(r,this,"argument-error"),this.redirectPersistenceManager=await Sd.create(this,[Co(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,s,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const u=t.addObserver(r,s,a);return()=>{o=!0,u()}}else{const u=t.addObserver(r);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=V3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Zs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&vG(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Cm(e){return oa(e)}class ZP{constructor(t){this.auth=t,this.observer=null,this.addObserver=RW(r=>this.observer=r)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let B2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UG(e){B2=e}function WG(e){return B2.loadJS(e)}function HG(){return B2.gapiScript}function qG(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function GG(e,t){const r=Yo(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(Vl(i,t??{}))return a;Ki(a,"already-initialized")}return r.initialize({options:t})}function KG(e,t){const r=t?.persistence||[],s=(Array.isArray(r)?r:[r]).map(Co);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function YG(e,t,r){const s=Cm(e);yt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,i=U3(t),{host:o,port:c}=ZG(t),u=c===null?"":`:${c}`,h={url:`${i}//${o}${u}/`},f=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(Vl(h,s.config.emulator)&&Vl(f,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=f,s.settings.appVerificationDisabledForTesting=!0,Qd(o)?(N2(`${i}//${o}${u}`),k2("Auth",!0)):QG()}function U3(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ZG(e){const t=U3(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const i=a[1];return{host:i,port:QP(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:QP(o)}}}function QP(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function QG(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class W3{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Ao("not implemented")}_getIdTokenResponse(t){return Ao("not implemented")}_linkToIdToken(t,r){return Ao("not implemented")}_getReauthenticationResolver(t){return Ao("not implemented")}}async function Ad(e,t){return AG(e,"POST","/v1/accounts:signInWithIdp",L2(e,t))}const XG="http://localhost";class ou extends W3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new ou(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Ki("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...i}=r;if(!s||!a)return null;const o=new ou(s,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return Ad(t,r)}_linkToIdToken(t,r){const s=this.buildRequest();return s.idToken=r,Ad(t,s)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Ad(t,r)}buildRequest(){const t={requestUri:XG,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=km(r)}return t}}class ev{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Im extends ev{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ml extends Im{constructor(){super("facebook.com")}static credential(t){return ou._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ml.credentialFromTaggedObject(t)}static credentialFromError(t){return Ml.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ml.credential(t.oauthAccessToken)}catch{return null}}}Ml.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ml.PROVIDER_ID="facebook.com";class Ja extends Im{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return ou._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Ja.credentialFromTaggedObject(t)}static credentialFromError(t){return Ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:s}=t;if(!r&&!s)return null;try{return Ja.credential(r,s)}catch{return null}}}Ja.GOOGLE_SIGN_IN_METHOD="google.com";Ja.PROVIDER_ID="google.com";class Dl extends Im{constructor(){super("github.com")}static credential(t){return ou._fromParams({providerId:Dl.PROVIDER_ID,signInMethod:Dl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dl.credentialFromTaggedObject(t)}static credentialFromError(t){return Dl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dl.credential(t.oauthAccessToken)}catch{return null}}}Dl.GITHUB_SIGN_IN_METHOD="github.com";Dl.PROVIDER_ID="github.com";class Ol extends Im{constructor(){super("twitter.com")}static credential(t,r){return ou._fromParams({providerId:Ol.PROVIDER_ID,signInMethod:Ol.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Ol.credentialFromTaggedObject(t)}static credentialFromError(t){return Ol.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:s}=t;if(!r||!s)return null;try{return Ol.credential(r,s)}catch{return null}}}Ol.TWITTER_SIGN_IN_METHOD="twitter.com";Ol.PROVIDER_ID="twitter.com";class _d{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,s,a=!1){const i=await ai._fromIdTokenResponse(t,s,a),o=XP(s);return new _d({user:i,providerId:o,_tokenResponse:s,operationType:r})}static async _forOperation(t,r,s){await t._updateTokensIfNecessary(s,!0);const a=XP(s);return new _d({user:t,providerId:a,_tokenResponse:s,operationType:r})}}function XP(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Iy extends Oa{constructor(t,r,s,a){super(r.code,r.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Iy.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,r,s,a){return new Iy(t,r,s,a)}}function H3(e,t,r,s){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Iy._fromErrorAndOperation(e,i,t,s):i})}async function JG(e,t,r=!1){const s=await Hf(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return _d._forOperation(e,"link",s)}async function eK(e,t,r=!1){const{auth:s}=e;if(Zs(s.app))return Promise.reject(Fl(s));const a="reauthenticate";try{const i=await Hf(e,H3(s,a,t,e),r);yt(i.idToken,s,"internal-error");const o=F2(i.idToken);yt(o,s,"internal-error");const{sub:c}=o;return yt(e.uid===c,s,"user-mismatch"),_d._forOperation(e,a,i)}catch(i){throw i?.code==="auth/user-not-found"&&Ki(s,"user-mismatch"),i}}async function tK(e,t,r=!1){if(Zs(e.app))return Promise.reject(Fl(e));const s="signIn",a=await H3(e,s,t),i=await _d._fromIdTokenResponse(e,s,a);return r||await e._updateCurrentUser(i.user),i}function rK(e,t,r,s){return oa(e).onIdTokenChanged(t,r,s)}function nK(e,t,r){return oa(e).beforeAuthStateChanged(t,r)}const Py="__sak";class q3{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Py,"1"),this.storage.removeItem(Py),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const sK=1e3,aK=10;class G3 extends q3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),a=this.localCache[r];s!==a&&t(r,a,s)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const s=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(s);!r&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);LG()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,aK):a()}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:s}),!0)})},sK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}G3.type="LOCAL";const iK=G3;class K3 extends q3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}K3.type="SESSION";const Y3=K3;function oK(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}class tv{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const s=new tv(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:s,eventType:a,data:i}=r.data,o=this.handlersMap[a];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const c=Array.from(o).map(async h=>h(r.origin,i)),u=await oK(c);r.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:u})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tv.receivers=[];function z2(e="",t=10){let r="";for(let s=0;s<t;s++)r+=Math.floor(Math.random()*10);return e+r}class lK{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,o;return new Promise((c,u)=>{const h=z2("",20);a.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:a,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(y.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:h,data:r},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Wi(){return window}function cK(e){Wi().location.href=e}function Z3(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function uK(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dK(){return navigator?.serviceWorker?.controller||null}function hK(){return Z3()?self:null}const Q3="firebaseLocalStorageDb",fK=1,Ey="firebaseLocalStorage",X3="fbase_key";class Pm{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function rv(e,t){return e.transaction([Ey],t?"readwrite":"readonly").objectStore(Ey)}function mK(){const e=indexedDB.deleteDatabase(Q3);return new Pm(e).toPromise()}function I1(){const e=indexedDB.open(Q3,fK);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Ey,{keyPath:X3})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Ey)?t(s):(s.close(),await mK(),t(await I1()))})})}async function JP(e,t,r){const s=rv(e,!0).put({[X3]:t,value:r});return new Pm(s).toPromise()}async function pK(e,t){const r=rv(e,!1).get(t),s=await new Pm(r).toPromise();return s===void 0?null:s.value}function eE(e,t){const r=rv(e,!0).delete(t);return new Pm(r).toPromise()}const gK=800,yK=3;class J3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await I1(),this.db)}async _withRetries(t){let r=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(r++>yK)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tv._getInstance(hK()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uK(),!this.activeServiceWorker)return;this.sender=new lK(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await I1();return await JP(t,Py,"1"),await eE(t,Py),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(s=>JP(s,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(s=>pK(s,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>eE(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const i=rv(a,!1).getAll();return new Pm(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:i}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J3.type="LOCAL";const xK=J3;new Am(3e4,6e4);function V2(e,t){return t?Co(t):(yt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class U2 extends W3{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ad(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Ad(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Ad(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function vK(e){return tK(e.auth,new U2(e),e.bypassAuthState)}function bK(e){const{auth:t,user:r}=e;return yt(r,t,"internal-error"),eK(r,new U2(e),e.bypassAuthState)}async function wK(e){const{auth:t,user:r}=e;return yt(r,t,"internal-error"),JG(r,new U2(e),e.bypassAuthState)}class eL{constructor(t,r,s,a,i=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:s,postBody:a,tenantId:i,error:o,type:c}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:r,sessionId:s,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vK;case"linkViaPopup":case"linkViaRedirect":return wK;case"reauthViaPopup":case"reauthViaRedirect":return bK;default:Ki(this.auth,"internal-error")}}resolve(t){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jK=new Am(2e3,1e4);async function tL(e,t,r){if(Zs(e.app))return Promise.reject(li(e,"operation-not-supported-in-this-environment"));const s=Cm(e);I3(e,t,ev);const a=V2(s,r);return new Bc(s,"signInViaPopup",t,a).executeNotNull()}class Bc extends eL{constructor(t,r,s,a,i){super(t,r,a,i),this.provider=s,this.authWindow=null,this.pollId=null,Bc.currentPopupAction&&Bc.currentPopupAction.cancel(),Bc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){Fo(this.filter.length===1,"Popup operations only handle one event");const t=z2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bc.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,jK.get())};t()}}Bc.currentPopupAction=null;const NK="pendingRedirect",sy=new Map;class kK extends eL{constructor(t,r,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s),this.eventId=null}async execute(){let t=sy.get(this.auth._key());if(!t){try{const s=await SK(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(r){t=()=>Promise.reject(r)}sy.set(this.auth._key(),t)}return this.bypassAuthState||sy.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SK(e,t){const r=nL(t),s=rL(e);if(!await s._isAvailable())return!1;const a=await s._get(r)==="true";return await s._remove(r),a}async function AK(e,t){return rL(e)._set(nL(t),"true")}function CK(e,t){sy.set(e._key(),t)}function rL(e){return Co(e._redirectPersistence)}function nL(e){return ny(NK,e.config.apiKey,e.name)}function sL(e,t,r){return IK(e,t,r)}async function IK(e,t,r){if(Zs(e.app))return Promise.reject(Fl(e));const s=Cm(e);I3(e,t,ev),await s._initializationPromise;const a=V2(s,r);return await AK(a,s),a._openRedirect(s,t,"signInViaRedirect")}async function PK(e,t,r=!1){if(Zs(e.app))return Promise.reject(Fl(e));const s=Cm(e),a=V2(s,t),o=await new kK(s,a,r).execute();return o&&!r&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,t)),o}const EK=600*1e3;class TK{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(r=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_K(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){if(t.error&&!aL(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";r.onError(li(this.auth,s))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const s=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EK&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(t))}saveEventToCache(t){this.cachedEventUids.add(tE(t)),this.lastProcessedEventTime=Date.now()}}function tE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function aL({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function _K(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aL(e);default:return!1}}async function MK(e,t={}){return Xd(e,"GET","/v1/projects",t)}const DK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OK=/^https?/;async function RK(e){if(e.config.emulator)return;const{authorizedDomains:t}=await MK(e);for(const r of t)try{if(LK(r))return}catch{}Ki(e,"unauthorized-domain")}function LK(e){const t=A1(),{protocol:r,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&s===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===s}if(!OK.test(r))return!1;if(DK.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const FK=new Am(3e4,6e4);function rE(){const e=Wi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function $K(e){return new Promise((t,r)=>{function s(){rE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rE(),r(li(e,"network-request-failed"))},timeout:FK.get()})}if(Wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Wi().gapi?.load)s();else{const a=qG("iframefcb");return Wi()[a]=()=>{gapi.load?s():r(li(e,"network-request-failed"))},WG(`${HG()}?onload=${a}`).catch(i=>r(i))}}).catch(t=>{throw ay=null,t})}let ay=null;function BK(e){return ay=ay||$K(e),ay}const zK=new Am(5e3,15e3),VK="__/auth/iframe",UK="emulator/auth/iframe",WK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qK(e){const t=e.config;yt(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?R2(t,UK):`https://${e.config.authDomain}/${VK}`,s={apiKey:t.apiKey,appName:e.name,v:xu},a=HK.get(e.config.apiHost);a&&(s.eid=a);const i=e._getFrameworks();return i.length&&(s.fw=i.join(",")),`${r}?${km(s).slice(1)}`}async function GK(e){const t=await BK(e),r=Wi().gapi;return yt(r,e,"internal-error"),t.open({where:document.body,url:qK(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WK,dontclear:!0},s=>new Promise(async(a,i)=>{await s.restyle({setHideOnLeave:!1});const o=li(e,"network-request-failed"),c=Wi().setTimeout(()=>{i(o)},zK.get());function u(){Wi().clearTimeout(c),a(s)}s.ping(u).then(u,()=>{i(o)})}))}const KK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YK=500,ZK=600,QK="_blank",XK="http://localhost";class nE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JK(e,t,r,s=YK,a=ZK){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let c="";const u={...KK,width:s.toString(),height:a.toString(),top:i,left:o},h=ps().toLowerCase();r&&(c=R3(h)?QK:r),D3(h)&&(t=t||XK,u.scrollbars="yes");const f=Object.entries(u).reduce((y,[b,v])=>`${y}${b}=${v},`,"");if(RG(h)&&c!=="_self")return eY(t||"",c),new nE(null);const m=window.open(t||"",c,f);yt(m,e,"popup-blocked");try{m.focus()}catch{}return new nE(m)}function eY(e,t){const r=document.createElement("a");r.href=e,r.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}const tY="__/auth/handler",rY="emulator/auth/handler",nY=encodeURIComponent("fac");async function sE(e,t,r,s,a,i){yt(e.config.authDomain,e,"auth-domain-config-required"),yt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:s,v:xu,eventId:a};if(t instanceof ev){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",OW(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(t instanceof Im){const f=t.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await e._getAppCheckToken(),h=u?`#${nY}=${encodeURIComponent(u)}`:"";return`${sY(e)}?${km(c).slice(1)}${h}`}function sY({config:e}){return e.emulator?R2(e,rY):`https://${e.authDomain}/${tY}`}const tw="webStorageSupport";class aY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y3,this._completeRedirectFn=PK,this._overrideRedirectResult=CK}async _openPopup(t,r,s,a){Fo(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const i=await sE(t,r,s,A1(),a);return JK(t,i,z2())}async _openRedirect(t,r,s,a){await this._originValidation(t);const i=await sE(t,r,s,A1(),a);return cK(i),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(Fo(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(t);return this.eventManagers[r]={promise:s},s.catch(()=>{delete this.eventManagers[r]}),s}async initAndGetManager(t){const r=await GK(t),s=new TK(t);return r.register("authEvent",a=>(yt(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=r,s}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(tw,{type:tw},a=>{const i=a?.[0]?.[tw];i!==void 0&&r(!!i),Ki(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=RK(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return z3()||O3()||$2()}}const iY=aY;var aE="@firebase/auth",iE="1.11.1";class oY{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lY(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cY(e){ra(new Rs("auth",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=s.options;yt(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V3(e)},h=new VG(s,a,i,u);return KG(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,s)=>{t.getProvider("auth-internal").initialize()})),ra(new Rs("auth-internal",t=>{const r=Cm(t.getProvider("auth").getImmediate());return(s=>new oY(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(aE,iE,lY(e)),ts(aE,iE,"esm2020")}const uY=300,dY=YR("authIdTokenMaxAge")||uY;let oE=null;const hY=e=>async t=>{const r=t&&await t.getIdTokenResult(),s=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(s&&s>dY)return;const a=r?.token;oE!==a&&(oE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function fY(e=Sm()){const t=Yo(e,"auth");if(t.isInitialized())return t.getImmediate();const r=GG(e,{popupRedirectResolver:iY,persistence:[xK,iK,Y3]}),s=YR("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=hY(i.toString());nK(r,o,()=>o(r.currentUser)),rK(r,c=>o(c))}}const a=qR("auth");return a&&YG(r,`http://${a}`),r}function mY(){return document.getElementsByTagName("head")?.[0]??document}UG({loadJS(e){return new Promise((t,r)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const i=li("internal-error");i.customData=a,r(i)},s.type="text/javascript",s.charset="UTF-8",mY().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cY("Browser");var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var W2;(function(){var e;function t(E,C){function F(){}F.prototype=C.prototype,E.F=C.prototype,E.prototype=new F,E.prototype.constructor=E,E.D=function(L,D,M){for(var $=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)$[ee-2]=arguments[ee];return C.prototype[D].apply(L,$)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,r),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(E,C,F){F||(F=0);const L=Array(16);if(typeof C=="string")for(var D=0;D<16;++D)L[D]=C.charCodeAt(F++)|C.charCodeAt(F++)<<8|C.charCodeAt(F++)<<16|C.charCodeAt(F++)<<24;else for(D=0;D<16;++D)L[D]=C[F++]|C[F++]<<8|C[F++]<<16|C[F++]<<24;C=E.g[0],F=E.g[1],D=E.g[2];let M=E.g[3],$;$=C+(M^F&(D^M))+L[0]+3614090360&4294967295,C=F+($<<7&4294967295|$>>>25),$=M+(D^C&(F^D))+L[1]+3905402710&4294967295,M=C+($<<12&4294967295|$>>>20),$=D+(F^M&(C^F))+L[2]+606105819&4294967295,D=M+($<<17&4294967295|$>>>15),$=F+(C^D&(M^C))+L[3]+3250441966&4294967295,F=D+($<<22&4294967295|$>>>10),$=C+(M^F&(D^M))+L[4]+4118548399&4294967295,C=F+($<<7&4294967295|$>>>25),$=M+(D^C&(F^D))+L[5]+1200080426&4294967295,M=C+($<<12&4294967295|$>>>20),$=D+(F^M&(C^F))+L[6]+2821735955&4294967295,D=M+($<<17&4294967295|$>>>15),$=F+(C^D&(M^C))+L[7]+4249261313&4294967295,F=D+($<<22&4294967295|$>>>10),$=C+(M^F&(D^M))+L[8]+1770035416&4294967295,C=F+($<<7&4294967295|$>>>25),$=M+(D^C&(F^D))+L[9]+2336552879&4294967295,M=C+($<<12&4294967295|$>>>20),$=D+(F^M&(C^F))+L[10]+4294925233&4294967295,D=M+($<<17&4294967295|$>>>15),$=F+(C^D&(M^C))+L[11]+2304563134&4294967295,F=D+($<<22&4294967295|$>>>10),$=C+(M^F&(D^M))+L[12]+1804603682&4294967295,C=F+($<<7&4294967295|$>>>25),$=M+(D^C&(F^D))+L[13]+4254626195&4294967295,M=C+($<<12&4294967295|$>>>20),$=D+(F^M&(C^F))+L[14]+2792965006&4294967295,D=M+($<<17&4294967295|$>>>15),$=F+(C^D&(M^C))+L[15]+1236535329&4294967295,F=D+($<<22&4294967295|$>>>10),$=C+(D^M&(F^D))+L[1]+4129170786&4294967295,C=F+($<<5&4294967295|$>>>27),$=M+(F^D&(C^F))+L[6]+3225465664&4294967295,M=C+($<<9&4294967295|$>>>23),$=D+(C^F&(M^C))+L[11]+643717713&4294967295,D=M+($<<14&4294967295|$>>>18),$=F+(M^C&(D^M))+L[0]+3921069994&4294967295,F=D+($<<20&4294967295|$>>>12),$=C+(D^M&(F^D))+L[5]+3593408605&4294967295,C=F+($<<5&4294967295|$>>>27),$=M+(F^D&(C^F))+L[10]+38016083&4294967295,M=C+($<<9&4294967295|$>>>23),$=D+(C^F&(M^C))+L[15]+3634488961&4294967295,D=M+($<<14&4294967295|$>>>18),$=F+(M^C&(D^M))+L[4]+3889429448&4294967295,F=D+($<<20&4294967295|$>>>12),$=C+(D^M&(F^D))+L[9]+568446438&4294967295,C=F+($<<5&4294967295|$>>>27),$=M+(F^D&(C^F))+L[14]+3275163606&4294967295,M=C+($<<9&4294967295|$>>>23),$=D+(C^F&(M^C))+L[3]+4107603335&4294967295,D=M+($<<14&4294967295|$>>>18),$=F+(M^C&(D^M))+L[8]+1163531501&4294967295,F=D+($<<20&4294967295|$>>>12),$=C+(D^M&(F^D))+L[13]+2850285829&4294967295,C=F+($<<5&4294967295|$>>>27),$=M+(F^D&(C^F))+L[2]+4243563512&4294967295,M=C+($<<9&4294967295|$>>>23),$=D+(C^F&(M^C))+L[7]+1735328473&4294967295,D=M+($<<14&4294967295|$>>>18),$=F+(M^C&(D^M))+L[12]+2368359562&4294967295,F=D+($<<20&4294967295|$>>>12),$=C+(F^D^M)+L[5]+4294588738&4294967295,C=F+($<<4&4294967295|$>>>28),$=M+(C^F^D)+L[8]+2272392833&4294967295,M=C+($<<11&4294967295|$>>>21),$=D+(M^C^F)+L[11]+1839030562&4294967295,D=M+($<<16&4294967295|$>>>16),$=F+(D^M^C)+L[14]+4259657740&4294967295,F=D+($<<23&4294967295|$>>>9),$=C+(F^D^M)+L[1]+2763975236&4294967295,C=F+($<<4&4294967295|$>>>28),$=M+(C^F^D)+L[4]+1272893353&4294967295,M=C+($<<11&4294967295|$>>>21),$=D+(M^C^F)+L[7]+4139469664&4294967295,D=M+($<<16&4294967295|$>>>16),$=F+(D^M^C)+L[10]+3200236656&4294967295,F=D+($<<23&4294967295|$>>>9),$=C+(F^D^M)+L[13]+681279174&4294967295,C=F+($<<4&4294967295|$>>>28),$=M+(C^F^D)+L[0]+3936430074&4294967295,M=C+($<<11&4294967295|$>>>21),$=D+(M^C^F)+L[3]+3572445317&4294967295,D=M+($<<16&4294967295|$>>>16),$=F+(D^M^C)+L[6]+76029189&4294967295,F=D+($<<23&4294967295|$>>>9),$=C+(F^D^M)+L[9]+3654602809&4294967295,C=F+($<<4&4294967295|$>>>28),$=M+(C^F^D)+L[12]+3873151461&4294967295,M=C+($<<11&4294967295|$>>>21),$=D+(M^C^F)+L[15]+530742520&4294967295,D=M+($<<16&4294967295|$>>>16),$=F+(D^M^C)+L[2]+3299628645&4294967295,F=D+($<<23&4294967295|$>>>9),$=C+(D^(F|~M))+L[0]+4096336452&4294967295,C=F+($<<6&4294967295|$>>>26),$=M+(F^(C|~D))+L[7]+1126891415&4294967295,M=C+($<<10&4294967295|$>>>22),$=D+(C^(M|~F))+L[14]+2878612391&4294967295,D=M+($<<15&4294967295|$>>>17),$=F+(M^(D|~C))+L[5]+4237533241&4294967295,F=D+($<<21&4294967295|$>>>11),$=C+(D^(F|~M))+L[12]+1700485571&4294967295,C=F+($<<6&4294967295|$>>>26),$=M+(F^(C|~D))+L[3]+2399980690&4294967295,M=C+($<<10&4294967295|$>>>22),$=D+(C^(M|~F))+L[10]+4293915773&4294967295,D=M+($<<15&4294967295|$>>>17),$=F+(M^(D|~C))+L[1]+2240044497&4294967295,F=D+($<<21&4294967295|$>>>11),$=C+(D^(F|~M))+L[8]+1873313359&4294967295,C=F+($<<6&4294967295|$>>>26),$=M+(F^(C|~D))+L[15]+4264355552&4294967295,M=C+($<<10&4294967295|$>>>22),$=D+(C^(M|~F))+L[6]+2734768916&4294967295,D=M+($<<15&4294967295|$>>>17),$=F+(M^(D|~C))+L[13]+1309151649&4294967295,F=D+($<<21&4294967295|$>>>11),$=C+(D^(F|~M))+L[4]+4149444226&4294967295,C=F+($<<6&4294967295|$>>>26),$=M+(F^(C|~D))+L[11]+3174756917&4294967295,M=C+($<<10&4294967295|$>>>22),$=D+(C^(M|~F))+L[2]+718787259&4294967295,D=M+($<<15&4294967295|$>>>17),$=F+(M^(D|~C))+L[9]+3951481745&4294967295,E.g[0]=E.g[0]+C&4294967295,E.g[1]=E.g[1]+(D+($<<21&4294967295|$>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+M&4294967295}s.prototype.v=function(E,C){C===void 0&&(C=E.length);const F=C-this.blockSize,L=this.C;let D=this.h,M=0;for(;M<C;){if(D==0)for(;M<=F;)a(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<C;)if(L[D++]=E.charCodeAt(M++),D==this.blockSize){a(this,L),D=0;break}}else for(;M<C;)if(L[D++]=E[M++],D==this.blockSize){a(this,L),D=0;break}}this.h=D,this.o+=C},s.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var C=1;C<E.length-8;++C)E[C]=0;C=this.o*8;for(var F=E.length-8;F<E.length;++F)E[F]=C&255,C/=256;for(this.v(E),E=Array(16),C=0,F=0;F<4;++F)for(let L=0;L<32;L+=8)E[C++]=this.g[F]>>>L&255;return E};function i(E,C){var F=c;return Object.prototype.hasOwnProperty.call(F,E)?F[E]:F[E]=C(E)}function o(E,C){this.h=C;const F=[];let L=!0;for(let D=E.length-1;D>=0;D--){const M=E[D]|0;L&&M==C||(F[D]=M,L=!1)}this.g=F}var c={};function u(E){return-128<=E&&E<128?i(E,function(C){return new o([C|0],C<0?-1:0)}):new o([E|0],E<0?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return m;if(E<0)return j(h(-E));const C=[];let F=1;for(let L=0;E>=F;L++)C[L]=E/F|0,F*=4294967296;return new o(C,0)}function f(E,C){if(E.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(E.charAt(0)=="-")return j(f(E.substring(1),C));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const F=h(Math.pow(C,8));let L=m;for(let M=0;M<E.length;M+=8){var D=Math.min(8,E.length-M);const $=parseInt(E.substring(M,M+D),C);D<8?(D=h(Math.pow(C,D)),L=L.j(D).add(h($))):(L=L.j(F),L=L.add(h($)))}return L}var m=u(0),y=u(1),b=u(16777216);e=o.prototype,e.m=function(){if(N(this))return-j(this).m();let E=0,C=1;for(let F=0;F<this.g.length;F++){const L=this.i(F);E+=(L>=0?L:4294967296+L)*C,C*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(N(this))return"-"+j(this).toString(E);const C=h(Math.pow(E,6));var F=this;let L="";for(;;){const D=O(F,C).g;F=k(F,D.j(C));let M=((F.g.length>0?F.g[0]:F.h)>>>0).toString(E);if(F=D,v(F))return M+L;for(;M.length<6;)M="0"+M;L=M+L}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(let C=0;C<E.g.length;C++)if(E.g[C]!=0)return!1;return!0}function N(E){return E.h==-1}e.l=function(E){return E=k(this,E),N(E)?-1:v(E)?0:1};function j(E){const C=E.g.length,F=[];for(let L=0;L<C;L++)F[L]=~E.g[L];return new o(F,~E.h).add(y)}e.abs=function(){return N(this)?j(this):this},e.add=function(E){const C=Math.max(this.g.length,E.g.length),F=[];let L=0;for(let D=0;D<=C;D++){let M=L+(this.i(D)&65535)+(E.i(D)&65535),$=(M>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);L=$>>>16,M&=65535,$&=65535,F[D]=$<<16|M}return new o(F,F[F.length-1]&-2147483648?-1:0)};function k(E,C){return E.add(j(C))}e.j=function(E){if(v(this)||v(E))return m;if(N(this))return N(E)?j(this).j(j(E)):j(j(this).j(E));if(N(E))return j(this.j(j(E)));if(this.l(b)<0&&E.l(b)<0)return h(this.m()*E.m());const C=this.g.length+E.g.length,F=[];for(var L=0;L<2*C;L++)F[L]=0;for(L=0;L<this.g.length;L++)for(let D=0;D<E.g.length;D++){const M=this.i(L)>>>16,$=this.i(L)&65535,ee=E.i(D)>>>16,q=E.i(D)&65535;F[2*L+2*D]+=$*q,I(F,2*L+2*D),F[2*L+2*D+1]+=M*q,I(F,2*L+2*D+1),F[2*L+2*D+1]+=$*ee,I(F,2*L+2*D+1),F[2*L+2*D+2]+=M*ee,I(F,2*L+2*D+2)}for(E=0;E<C;E++)F[E]=F[2*E+1]<<16|F[2*E];for(E=C;E<2*C;E++)F[E]=0;return new o(F,0)};function I(E,C){for(;(E[C]&65535)!=E[C];)E[C+1]+=E[C]>>>16,E[C]&=65535,C++}function S(E,C){this.g=E,this.h=C}function O(E,C){if(v(C))throw Error("division by zero");if(v(E))return new S(m,m);if(N(E))return C=O(j(E),C),new S(j(C.g),j(C.h));if(N(C))return C=O(E,j(C)),new S(j(C.g),C.h);if(E.g.length>30){if(N(E)||N(C))throw Error("slowDivide_ only works with positive integers.");for(var F=y,L=C;L.l(E)<=0;)F=P(F),L=P(L);var D=R(F,1),M=R(L,1);for(L=R(L,2),F=R(F,2);!v(L);){var $=M.add(L);$.l(E)<=0&&(D=D.add(F),M=$),L=R(L,1),F=R(F,1)}return C=k(E,D.j(C)),new S(D,C)}for(D=m;E.l(C)>=0;){for(F=Math.max(1,Math.floor(E.m()/C.m())),L=Math.ceil(Math.log(F)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),M=h(F),$=M.j(C);N($)||$.l(E)>0;)F-=L,M=h(F),$=M.j(C);v(M)&&(M=y),D=D.add(M),E=k(E,$)}return new S(D,E)}e.B=function(E){return O(this,E).h},e.and=function(E){const C=Math.max(this.g.length,E.g.length),F=[];for(let L=0;L<C;L++)F[L]=this.i(L)&E.i(L);return new o(F,this.h&E.h)},e.or=function(E){const C=Math.max(this.g.length,E.g.length),F=[];for(let L=0;L<C;L++)F[L]=this.i(L)|E.i(L);return new o(F,this.h|E.h)},e.xor=function(E){const C=Math.max(this.g.length,E.g.length),F=[];for(let L=0;L<C;L++)F[L]=this.i(L)^E.i(L);return new o(F,this.h^E.h)};function P(E){const C=E.g.length+1,F=[];for(let L=0;L<C;L++)F[L]=E.i(L)<<1|E.i(L-1)>>>31;return new o(F,E.h)}function R(E,C){const F=C>>5;C%=32;const L=E.g.length-F,D=[];for(let M=0;M<L;M++)D[M]=C>0?E.i(M+F)>>>C|E.i(M+F+1)<<32-C:E.i(M+F);return new o(D,E.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,W2=o}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var Ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ng=="object"&&Ng];for(var _=0;_<x.length;++_){var B=x[_];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var s=r(this);function a(x,_){if(_)e:{var B=s;x=x.split(".");for(var Z=0;Z<x.length-1;Z++){var Ne=x[Z];if(!(Ne in B))break e;B=B[Ne]}x=x[x.length-1],Z=B[x],_=_(Z),_!=Z&&_!=null&&t(B,x,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(x){return x||function(_){var B=[],Z;for(Z in _)Object.prototype.hasOwnProperty.call(_,Z)&&B.push([Z,_[Z]]);return B}});var i=i||{},o=this||self;function c(x){var _=typeof x;return _=="object"&&x!=null||_=="function"}function u(x,_,B){return x.call.apply(x.bind,arguments)}function h(x,_,B){return h=u,h.apply(null,arguments)}function f(x,_){var B=Array.prototype.slice.call(arguments,1);return function(){var Z=B.slice();return Z.push.apply(Z,arguments),x.apply(this,Z)}}function m(x,_){function B(){}B.prototype=_.prototype,x.Z=_.prototype,x.prototype=new B,x.prototype.constructor=x,x.Ob=function(Z,Ne,Ee){for(var Ge=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)Ge[bt-2]=arguments[bt];return _.prototype[Ne].apply(Z,Ge)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function b(x){const _=x.length;if(_>0){const B=Array(_);for(let Z=0;Z<_;Z++)B[Z]=x[Z];return B}return[]}function v(x,_){for(let Z=1;Z<arguments.length;Z++){const Ne=arguments[Z];var B=typeof Ne;if(B=B!="object"?B:Ne?Array.isArray(Ne)?"array":B:"null",B=="array"||B=="object"&&typeof Ne.length=="number"){B=x.length||0;const Ee=Ne.length||0;x.length=B+Ee;for(let Ge=0;Ge<Ee;Ge++)x[B+Ge]=Ne[Ge]}else x.push(Ne)}}class N{constructor(_,B){this.i=_,this.j=B,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(x){o.setTimeout(()=>{throw x},0)}function k(){var x=E;let _=null;return x.g&&(_=x.g,x.g=x.g.next,x.g||(x.h=null),_.next=null),_}class I{constructor(){this.h=this.g=null}add(_,B){const Z=S.get();Z.set(_,B),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var S=new N(()=>new O,x=>x.reset());class O{constructor(){this.next=this.g=this.h=null}set(_,B){this.h=_,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let P,R=!1,E=new I,C=()=>{const x=Promise.resolve(void 0);P=()=>{x.then(F)}};function F(){for(var x;x=k();){try{x.h.call(x.g)}catch(B){j(B)}var _=S;_.j(x),_.h<100&&(_.h++,x.next=_.g,_.g=x)}R=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(x,_){this.type=x,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var x=!1,_=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const B=()=>{};o.addEventListener("test",B,_),o.removeEventListener("test",B,_)}catch{}return x})();function $(x){return/^[\s\xa0]*$/.test(x)}function ee(x,_){D.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,_)}m(ee,D),ee.prototype.init=function(x,_){const B=this.type=x.type,Z=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=_,_=x.relatedTarget,_||(B=="mouseover"?_=x.fromElement:B=="mouseout"&&(_=x.toElement)),this.relatedTarget=_,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var q="closure_listenable_"+(Math.random()*1e6|0),V=0;function re(x,_,B,Z,Ne){this.listener=x,this.proxy=null,this.src=_,this.type=B,this.capture=!!Z,this.ha=Ne,this.key=++V,this.da=this.fa=!1}function U(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function te(x,_,B){for(const Z in x)_.call(B,x[Z],Z,x)}function ie(x,_){for(const B in x)_.call(void 0,x[B],B,x)}function H(x){const _={};for(const B in x)_[B]=x[B];return _}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(x,_){let B,Z;for(let Ne=1;Ne<arguments.length;Ne++){Z=arguments[Ne];for(B in Z)x[B]=Z[B];for(let Ee=0;Ee<z.length;Ee++)B=z[Ee],Object.prototype.hasOwnProperty.call(Z,B)&&(x[B]=Z[B])}}function le(x){this.src=x,this.g={},this.h=0}le.prototype.add=function(x,_,B,Z,Ne){const Ee=x.toString();x=this.g[Ee],x||(x=this.g[Ee]=[],this.h++);const Ge=Ae(x,_,Z,Ne);return Ge>-1?(_=x[Ge],B||(_.fa=!1)):(_=new re(_,this.src,Ee,!!Z,Ne),_.fa=B,x.push(_)),_};function Pe(x,_){const B=_.type;if(B in x.g){var Z=x.g[B],Ne=Array.prototype.indexOf.call(Z,_,void 0),Ee;(Ee=Ne>=0)&&Array.prototype.splice.call(Z,Ne,1),Ee&&(U(_),x.g[B].length==0&&(delete x.g[B],x.h--))}}function Ae(x,_,B,Z){for(let Ne=0;Ne<x.length;++Ne){const Ee=x[Ne];if(!Ee.da&&Ee.listener==_&&Ee.capture==!!B&&Ee.ha==Z)return Ne}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),ce={};function J(x,_,B,Z,Ne){if(Array.isArray(_)){for(let Ee=0;Ee<_.length;Ee++)J(x,_[Ee],B,Z,Ne);return null}return B=xe(B),x&&x[q]?x.J(_,B,c(Z)?!!Z.capture:!1,Ne):Y(x,_,B,!1,Z,Ne)}function Y(x,_,B,Z,Ne,Ee){if(!_)throw Error("Invalid event type");const Ge=c(Ne)?!!Ne.capture:!!Ne;let bt=ve(x);if(bt||(x[fe]=bt=new le(x)),B=bt.add(_,B,Z,Ge,Ee),B.proxy)return B;if(Z=de(),B.proxy=Z,Z.src=x,Z.listener=B,x.addEventListener)M||(Ne=Ge),Ne===void 0&&(Ne=!1),x.addEventListener(_.toString(),Z,Ne);else if(x.attachEvent)x.attachEvent(se(_.toString()),Z);else if(x.addListener&&x.removeListener)x.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return B}function de(){function x(B){return _.call(x.src,x.listener,B)}const _=Q;return x}function X(x,_,B,Z,Ne){if(Array.isArray(_))for(var Ee=0;Ee<_.length;Ee++)X(x,_[Ee],B,Z,Ne);else Z=c(Z)?!!Z.capture:!!Z,B=xe(B),x&&x[q]?(x=x.i,Ee=String(_).toString(),Ee in x.g&&(_=x.g[Ee],B=Ae(_,B,Z,Ne),B>-1&&(U(_[B]),Array.prototype.splice.call(_,B,1),_.length==0&&(delete x.g[Ee],x.h--)))):x&&(x=ve(x))&&(_=x.g[_.toString()],x=-1,_&&(x=Ae(_,B,Z,Ne)),(B=x>-1?_[x]:null)&&pe(B))}function pe(x){if(typeof x!="number"&&x&&!x.da){var _=x.src;if(_&&_[q])Pe(_.i,x);else{var B=x.type,Z=x.proxy;_.removeEventListener?_.removeEventListener(B,Z,x.capture):_.detachEvent?_.detachEvent(se(B),Z):_.addListener&&_.removeListener&&_.removeListener(Z),(B=ve(_))?(Pe(B,x),B.h==0&&(B.src=null,_[fe]=null)):U(x)}}}function se(x){return x in ce?ce[x]:ce[x]="on"+x}function Q(x,_){if(x.da)x=!0;else{_=new ee(_,this);const B=x.listener,Z=x.ha||x.src;x.fa&&pe(x),x=B.call(Z,_)}return x}function ve(x){return x=x[fe],x instanceof le?x:null}var ue="__closure_events_fn_"+(Math.random()*1e9>>>0);function xe(x){return typeof x=="function"?x:(x[ue]||(x[ue]=function(_){return x.handleEvent(_)}),x[ue])}function Le(){L.call(this),this.i=new le(this),this.M=this,this.G=null}m(Le,L),Le.prototype[q]=!0,Le.prototype.removeEventListener=function(x,_,B,Z){X(this,x,_,B,Z)};function it(x,_){var B,Z=x.G;if(Z)for(B=[];Z;Z=Z.G)B.push(Z);if(x=x.M,Z=_.type||_,typeof _=="string")_=new D(_,x);else if(_ instanceof D)_.target=_.target||x;else{var Ne=_;_=new D(Z,x),ge(_,Ne)}Ne=!0;let Ee,Ge;if(B)for(Ge=B.length-1;Ge>=0;Ge--)Ee=_.g=B[Ge],Ne=St(Ee,Z,!0,_)&&Ne;if(Ee=_.g=x,Ne=St(Ee,Z,!0,_)&&Ne,Ne=St(Ee,Z,!1,_)&&Ne,B)for(Ge=0;Ge<B.length;Ge++)Ee=_.g=B[Ge],Ne=St(Ee,Z,!1,_)&&Ne}Le.prototype.N=function(){if(Le.Z.N.call(this),this.i){var x=this.i;for(const _ in x.g){const B=x.g[_];for(let Z=0;Z<B.length;Z++)U(B[Z]);delete x.g[_],x.h--}}this.G=null},Le.prototype.J=function(x,_,B,Z){return this.i.add(String(x),_,!1,B,Z)},Le.prototype.K=function(x,_,B,Z){return this.i.add(String(x),_,!0,B,Z)};function St(x,_,B,Z){if(_=x.i.g[String(_)],!_)return!0;_=_.concat();let Ne=!0;for(let Ee=0;Ee<_.length;++Ee){const Ge=_[Ee];if(Ge&&!Ge.da&&Ge.capture==B){const bt=Ge.listener,Sr=Ge.ha||Ge.src;Ge.fa&&Pe(x.i,Ge),Ne=bt.call(Sr,Z)!==!1&&Ne}}return Ne&&!Z.defaultPrevented}function La(x,_){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=h(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:o.setTimeout(x,_||0)}function ur(x){x.g=La(()=>{x.g=null,x.i&&(x.i=!1,ur(x))},x.l);const _=x.h;x.h=null,x.m.apply(null,_)}class bs extends L{constructor(_,B){super(),this.m=_,this.l=B,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ur(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(x){L.call(this),this.h=x,this.g={}}m(kr,L);var vn=[];function Tr(x){te(x.g,function(_,B){this.g.hasOwnProperty(B)&&pe(_)},x),x.g={}}kr.prototype.N=function(){kr.Z.N.call(this),Tr(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=o.JSON.stringify,we=o.JSON.parse,He=class{stringify(x){return o.JSON.stringify(x,void 0)}parse(x){return o.JSON.parse(x,void 0)}};function Ve(){}function Ft(){}var Oe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Re(){D.call(this,"d")}m(Re,D);function zt(){D.call(this,"c")}m(zt,D);var nr={},Vr=null;function Pt(){return Vr=Vr||new Le}nr.Ia="serverreachability";function Ye(x){D.call(this,nr.Ia,x)}m(Ye,D);function ne(x){const _=Pt();it(_,new Ye(_))}nr.STAT_EVENT="statevent";function _e(x,_){D.call(this,nr.STAT_EVENT,x),this.stat=_}m(_e,D);function Ke(x){const _=Pt();it(_,new _e(_,x))}nr.Ja="timingevent";function Et(x,_){D.call(this,nr.Ja,x),this.size=_}m(Et,D);function It(x,_){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){x()},_)}function Ur(){this.g=!0}Ur.prototype.ua=function(){this.g=!1};function sn(x,_,B,Z,Ne,Ee){x.info(function(){if(x.g)if(Ee){var Ge="",bt=Ee.split("&");for(let Kt=0;Kt<bt.length;Kt++){var Sr=bt[Kt].split("=");if(Sr.length>1){const Zr=Sr[0];Sr=Sr[1];const ua=Zr.split("_");Ge=ua.length>=2&&ua[1]=="type"?Ge+(Zr+"="+Sr+"&"):Ge+(Zr+"=redacted&")}}}else Ge=null;else Ge=Ee;return"XMLHTTP REQ ("+Z+") [attempt "+Ne+"]: "+_+`
`+B+`
`+Ge})}function Fs(x,_,B,Z,Ne,Ee,Ge){x.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+Ne+"]: "+_+`
`+B+`
`+Ee+" "+Ge})}function Rn(x,_,B,Z){x.info(function(){return"XMLHTTP TEXT ("+_+"): "+Yr(x,B)+(Z?" "+Z:"")})}function Fa(x,_){x.info(function(){return"TIMEOUT: "+_})}Ur.prototype.info=function(){};function Yr(x,_){if(!x.g)return _;if(!_)return null;try{const Ee=JSON.parse(_);if(Ee){for(x=0;x<Ee.length;x++)if(Array.isArray(Ee[x])){var B=Ee[x];if(!(B.length<2)){var Z=B[1];if(Array.isArray(Z)&&!(Z.length<1)){var Ne=Z[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(let Ge=1;Ge<Z.length;Ge++)Z[Ge]=""}}}}return _r(Ee)}catch{return _}}var sr={NO_ERROR:0,TIMEOUT:8},jt={},$t;function Xt(){}m(Xt,Ve),Xt.prototype.g=function(){return new XMLHttpRequest},$t=new Xt;function _t(x){return encodeURIComponent(String(x))}function Ln(x){var _=1;x=x.split(":");const B=[];for(;_>0&&x.length;)B.push(x.shift()),_--;return x.length&&B.push(x.join(":")),B}function an(x,_,B,Z){this.j=x,this.i=_,this.l=B,this.S=Z||1,this.V=new kr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var K={},me={};function oe(x,_,B){x.M=1,x.A=so(ca(_)),x.u=B,x.R=!0,We(x,null)}function We(x,_){x.F=Date.now(),ws(x),x.B=ca(x.A);var B=x.B,Z=x.S;Array.isArray(Z)||(Z=[String(Z)]),Sh(B.i,"t",Z),x.C=0,B=x.j.L,x.h=new Fn,x.g=Np(x.j,B?_:null,!x.u),x.P>0&&(x.O=new bs(h(x.Y,x,x.g),x.P)),_=x.V,B=x.g,Z=x.ba;var Ne="readystatechange";Array.isArray(Ne)||(Ne&&(vn[0]=Ne.toString()),Ne=vn);for(let Ee=0;Ee<Ne.length;Ee++){const Ge=J(B,Ne[Ee],Z||_.handleEvent,!1,_.h||_);if(!Ge)break;_.g[Ge.key]=Ge}_=x.J?H(x.J):{},x.u?(x.v||(x.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,_)):(x.v="GET",x.g.ea(x.B,x.v,null,_)),ne(),sn(x.i,x.v,x.B,x.l,x.S,x.u)}an.prototype.ba=function(x){x=x.target;const _=this.O;_&&wi(x)==3?_.j():this.Y(x)},an.prototype.Y=function(x){try{if(x==this.g)e:{const bt=wi(this.g),Sr=this.g.ya(),Kt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||wp(this.g)))){this.K||bt!=4||Sr==7||(Sr==8||Kt<=0?ne(3):ne(2)),mi(this);var _=this.g.ca();this.X=_;var B=ze(this);if(this.o=_==200,Fs(this.i,this.v,this.B,this.l,this.S,bt,_),this.o){if(this.U&&!this.L){t:{if(this.g){var Z,Ne=this.g;if((Z=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Z)){var Ee=Z;break t}}Ee=null}if(x=Ee)Rn(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tr(this,x);else{this.o=!1,this.m=3,Ke(12),$s(this),$a(this);break e}}if(this.R){x=!0;let Zr;for(;!this.K&&this.C<B.length;)if(Zr=Mt(this,B),Zr==me){bt==4&&(this.m=4,Ke(14),x=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(Zr==K){this.m=4,Ke(15),Rn(this.i,this.l,B,"[Invalid Chunk]"),x=!1;break}else Rn(this.i,this.l,Zr,null),tr(this,Zr);if(lt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||B.length!=0||this.h.h||(this.m=1,Ke(16),x=!1),this.o=this.o&&x,!x)Rn(this.i,this.l,B,"[Invalid Chunked Response]"),$s(this),$a(this);else if(B.length>0&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.aa&&!Ge.P&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),mc(Ge),Ge.P=!0,Ke(11))}}else Rn(this.i,this.l,B,null),tr(this,B);bt==4&&$s(this),this.o&&!this.K&&(bt==4?Mu(this.j,this):(this.o=!1,ws(this)))}else Ch(this.g),_==400&&B.indexOf("Unknown SID")>0?(this.m=3,Ke(12)):(this.m=0,Ke(13)),$s(this),$a(this)}}}catch{}finally{}};function ze(x){if(!lt(x))return x.g.la();const _=wp(x.g);if(_==="")return"";let B="";const Z=_.length,Ne=wi(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return $s(x),$a(x),"";x.h.i=new o.TextDecoder}for(let Ee=0;Ee<Z;Ee++)x.h.h=!0,B+=x.h.i.decode(_[Ee],{stream:!(Ne&&Ee==Z-1)});return _.length=0,x.h.g+=B,x.C=0,x.h.g}function lt(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function Mt(x,_){var B=x.C,Z=_.indexOf(`
`,B);return Z==-1?me:(B=Number(_.substring(B,Z)),isNaN(B)?K:(Z+=1,Z+B>_.length?me:(_=_.slice(Z,Z+B),x.C=Z+B,_)))}an.prototype.cancel=function(){this.K=!0,$s(this)};function ws(x){x.T=Date.now()+x.H,js(x,x.H)}function js(x,_){if(x.D!=null)throw Error("WatchDog timer not null");x.D=It(h(x.aa,x),_)}function mi(x){x.D&&(o.clearTimeout(x.D),x.D=null)}an.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(Fa(this.i,this.B),this.M!=2&&(ne(),Ke(17)),$s(this),this.m=2,$a(this)):js(this,this.T-x)};function $a(x){x.j.I==0||x.K||Mu(x.j,x)}function $s(x){mi(x);var _=x.O;_&&typeof _.dispose=="function"&&_.dispose(),x.O=null,Tr(x.V),x.g&&(_=x.g,x.g=null,_.abort(),_.dispose())}function tr(x,_){try{var B=x.j;if(B.I!=0&&(B.g==x||za(B.h,x))){if(!x.L&&za(B.h,x)&&B.I==3){try{var Z=B.Ba.g.parse(_)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var Ne=Z;if(Ne[0]==0){e:if(!B.v){if(B.g)if(B.g.F+3e3<x.F)_u(B),Us(B);else break e;ki(B),Ke(18)}}else B.xa=Ne[1],0<B.xa-B.K&&Ne[2]<37500&&B.F&&B.A==0&&!B.C&&(B.C=It(h(B.Va,B),6e3));yr(B.h)<=1&&B.ta&&(B.ta=void 0)}else Ws(B,11)}else if((x.L||B.g==x)&&_u(B),!$(_))for(Ne=B.Ba.g.parse(_),_=0;_<Ne.length;_++){let Kt=Ne[_];const Zr=Kt[0];if(!(Zr<=B.K))if(B.K=Zr,Kt=Kt[1],B.I==2)if(Kt[0]=="c"){B.M=Kt[1],B.ba=Kt[2];const ua=Kt[3];ua!=null&&(B.ka=ua,B.j.info("VER="+B.ka));const Si=Kt[4];Si!=null&&(B.za=Si,B.j.info("SVER="+B.za));const Ai=Kt[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(Z=1.5*Ai,B.O=Z,B.j.info("backChannelRequestTimeoutMs_="+Z)),Z=B;const Ci=x.g;if(Ci){const Ru=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ru){var Ee=Z.h;Ee.g||Ru.indexOf("spdy")==-1&&Ru.indexOf("quic")==-1&&Ru.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(Su(Ee,Ee.h),Ee.h=null))}if(Z.G){const Eh=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Eh&&(Z.wa=Eh,Wt(Z.J,Z.G,Eh))}}B.I=3,B.l&&B.l.ra(),B.aa&&(B.T=Date.now()-x.F,B.j.info("Handshake RTT: "+B.T+"ms")),Z=B;var Ge=x;if(Z.na=Ph(Z,Z.L?Z.ba:null,Z.W),Ge.L){oc(Z.h,Ge);var bt=Ge,Sr=Z.O;Sr&&(bt.H=Sr),bt.D&&(mi(bt),ws(bt)),Z.g=Ge}else Hn(Z);B.i.length>0&&lo(B)}else Kt[0]!="stop"&&Kt[0]!="close"||Ws(B,7);else B.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Ws(B,7):Eu(B):Kt[0]!="noop"&&B.l&&B.l.qa(Kt),B.A=0)}}ne(4)}catch{}}var ku=class{constructor(x,_){this.g=x,this.map=_}};function Ns(x){this.l=x||10,o.PerformanceNavigationTiming?(x=o.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ba(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function yr(x){return x.h?1:x.g?x.g.size:0}function za(x,_){return x.h?x.h==_:x.g?x.g.has(_):!1}function Su(x,_){x.g?x.g.add(_):x.h=_}function oc(x,_){x.h&&x.h==_?x.h=null:x.g&&x.g.has(_)&&x.g.delete(_)}Ns.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function Bs(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let _=x.i;for(const B of x.g.values())_=_.concat(B.G);return _}return b(x.i)}var yp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(x,_){if(x){x=x.split("&");for(let B=0;B<x.length;B++){const Z=x[B].indexOf("=");let Ne,Ee=null;Z>=0?(Ne=x[B].substring(0,Z),Ee=x[B].substring(Z+1)):Ne=x[B],_(Ne,Ee?decodeURIComponent(Ee.replace(/\+/g," ")):"")}}}function pi(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;x instanceof pi?(this.l=x.l,lc(this,x.j),this.o=x.o,this.g=x.g,gi(this,x.u),this.h=x.h,rl(this,Ah(x.i)),this.m=x.m):x&&(_=String(x).match(yp))?(this.l=!1,lc(this,_[1]||"",!0),this.o=cc(_[2]||""),this.g=cc(_[3]||"",!0),gi(this,_[4]),this.h=cc(_[5]||"",!0),rl(this,_[6]||"",!0),this.m=cc(_[7]||"")):(this.l=!1,this.i=new Tt(null,this.l))}pi.prototype.toString=function(){const x=[];var _=this.j;_&&x.push(uc(_,bh,!0),":");var B=this.g;return(B||_=="file")&&(x.push("//"),(_=this.o)&&x.push(uc(_,bh,!0),"@"),x.push(_t(B).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.u,B!=null&&x.push(":",String(B))),(B=this.h)&&(this.g&&B.charAt(0)!="/"&&x.push("/"),x.push(uc(B,B.charAt(0)=="/"?dc:wh,!0))),(B=this.i.toString())&&x.push("?",B),(B=this.m)&&x.push("#",uc(B,jh)),x.join("")},pi.prototype.resolve=function(x){const _=ca(this);let B=!!x.j;B?lc(_,x.j):B=!!x.o,B?_.o=x.o:B=!!x.g,B?_.g=x.g:B=x.u!=null;var Z=x.h;if(B)gi(_,x.u);else if(B=!!x.h){if(Z.charAt(0)!="/")if(this.g&&!this.h)Z="/"+Z;else{var Ne=_.h.lastIndexOf("/");Ne!=-1&&(Z=_.h.slice(0,Ne+1)+Z)}if(Ne=Z,Ne==".."||Ne==".")Z="";else if(Ne.indexOf("./")!=-1||Ne.indexOf("/.")!=-1){Z=Ne.lastIndexOf("/",0)==0,Ne=Ne.split("/");const Ee=[];for(let Ge=0;Ge<Ne.length;){const bt=Ne[Ge++];bt=="."?Z&&Ge==Ne.length&&Ee.push(""):bt==".."?((Ee.length>1||Ee.length==1&&Ee[0]!="")&&Ee.pop(),Z&&Ge==Ne.length&&Ee.push("")):(Ee.push(bt),Z=!0)}Z=Ee.join("/")}else Z=Ne}return B?_.h=Z:B=x.i.toString()!=="",B?rl(_,Ah(x.i)):B=!!x.m,B&&(_.m=x.m),_};function ca(x){return new pi(x)}function lc(x,_,B){x.j=B?cc(_,!0):_,x.j&&(x.j=x.j.replace(/:$/,""))}function gi(x,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);x.u=_}else x.u=null}function rl(x,_,B){_ instanceof Tt?(x.i=_,Cu(x.i,x.l)):(B||(_=uc(_,u0)),x.i=new Tt(_,x.l))}function Wt(x,_,B){x.i.set(_,B)}function so(x){return Wt(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function cc(x,_){return x?_?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function uc(x,_,B){return typeof x=="string"?(x=encodeURI(x).replace(_,vh),B&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function vh(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var bh=/[#\/\?@]/g,wh=/[#\?:]/g,dc=/[#\?]/g,u0=/[#\?@]/g,jh=/#/g;function Tt(x,_){this.h=this.g=null,this.i=x||null,this.j=!!_}function yi(x){x.g||(x.g=new Map,x.h=0,x.i&&zs(x.i,function(_,B){x.add(decodeURIComponent(_.replace(/\+/g," ")),B)}))}e=Tt.prototype,e.add=function(x,_){yi(this),this.i=null,x=xi(this,x);let B=this.g.get(x);return B||this.g.set(x,B=[]),B.push(_),this.h+=1,this};function Nh(x,_){yi(x),_=xi(x,_),x.g.has(_)&&(x.i=null,x.h-=x.g.get(_).length,x.g.delete(_))}function Au(x,_){return yi(x),_=xi(x,_),x.g.has(_)}e.forEach=function(x,_){yi(this),this.g.forEach(function(B,Z){B.forEach(function(Ne){x.call(_,Ne,Z,this)},this)},this)};function kh(x,_){yi(x);let B=[];if(typeof _=="string")Au(x,_)&&(B=B.concat(x.g.get(xi(x,_))));else for(x=Array.from(x.g.values()),_=0;_<x.length;_++)B=B.concat(x[_]);return B}e.set=function(x,_){return yi(this),this.i=null,x=xi(this,x),Au(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[_]),this.h+=1,this},e.get=function(x,_){return x?(x=kh(this,x),x.length>0?String(x[0]):_):_};function Sh(x,_,B){Nh(x,_),B.length>0&&(x.i=null,x.g.set(xi(x,_),b(B)),x.h+=B.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],_=Array.from(this.g.keys());for(let Z=0;Z<_.length;Z++){var B=_[Z];const Ne=_t(B);B=kh(this,B);for(let Ee=0;Ee<B.length;Ee++){let Ge=Ne;B[Ee]!==""&&(Ge+="="+_t(B[Ee])),x.push(Ge)}}return this.i=x.join("&")};function Ah(x){const _=new Tt;return _.i=x.i,x.g&&(_.g=new Map(x.g),_.h=x.h),_}function xi(x,_){return _=String(_),x.j&&(_=_.toLowerCase()),_}function Cu(x,_){_&&!x.j&&(yi(x),x.i=null,x.g.forEach(function(B,Z){const Ne=Z.toLowerCase();Z!=Ne&&(Nh(this,Z),Sh(this,Ne,B))},x)),x.j=_}function vi(x,_){const B=new Ur;if(o.Image){const Z=new Image;Z.onload=f($n,B,"TestLoadImage: loaded",!0,_,Z),Z.onerror=f($n,B,"TestLoadImage: error",!1,_,Z),Z.onabort=f($n,B,"TestLoadImage: abort",!1,_,Z),Z.ontimeout=f($n,B,"TestLoadImage: timeout",!1,_,Z),o.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=x}else _(!1)}function bi(x,_){const B=new Ur,Z=new AbortController,Ne=setTimeout(()=>{Z.abort(),$n(B,"TestPingServer: timeout",!1,_)},1e4);fetch(x,{signal:Z.signal}).then(Ee=>{clearTimeout(Ne),Ee.ok?$n(B,"TestPingServer: ok",!0,_):$n(B,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Ne),$n(B,"TestPingServer: error",!1,_)})}function $n(x,_,B,Z,Ne){try{Ne&&(Ne.onload=null,Ne.onerror=null,Ne.onabort=null,Ne.ontimeout=null),Z(B)}catch{}}function hc(){this.g=new He}function ao(x){this.i=x.Sb||null,this.h=x.ab||!1}m(ao,Ve),ao.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(x,_){Le.call(this),this.H=x,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Vs,Le),e=Vs.prototype,e.open=function(x,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=_,this.readyState=1,Va(this)},e.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(_.body=x),(this.H||o).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nl(this)),this.readyState=0},e.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xp(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function xp(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}e.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var _=x.value?x.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!x.done}))&&(this.response=this.responseText+=_)}x.done?nl(this):Va(this),this.readyState==3&&xp(this)}},e.Oa=function(x){this.g&&(this.response=this.responseText=x,nl(this))},e.Na=function(x){this.g&&(this.response=x,nl(this))},e.ga=function(){this.g&&nl(this)};function nl(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Va(x)}e.setRequestHeader=function(x,_){this.A.append(x,_)},e.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],_=this.h.entries();for(var B=_.next();!B.done;)B=B.value,x.push(B[0]+": "+B[1]),B=_.next();return x.join(`\r
`)};function Va(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function vp(x){let _="";return te(x,function(B,Z){_+=Z,_+=":",_+=B,_+=`\r
`}),_}function Iu(x,_,B){e:{for(Z in B){var Z=!1;break e}Z=!0}Z||(B=vp(B),typeof x=="string"?B!=null&&_t(B):Wt(x,_,B))}function ar(x){Le.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(ar,Le);var bp=/^https?$/i,d0=["POST","PUT"];e=ar.prototype,e.Fa=function(x){this.H=x},e.ea=function(x,_,B,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);_=_?_.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$t.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(_,String(x),!0),this.B=!1}catch(Ee){sl(this,Ee);return}if(x=B||"",B=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var Ne in Z)B.set(Ne,Z[Ne]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const Ee of Z.keys())B.set(Ee,Z.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(B.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),Ne=o.FormData&&x instanceof o.FormData,!(Array.prototype.indexOf.call(d0,_,void 0)>=0)||Z||Ne||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,Ge]of B)this.g.setRequestHeader(Ee,Ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(Ee){sl(this,Ee)}};function sl(x,_){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=_,x.o=5,al(x),oo(x)}function al(x){x.A||(x.A=!0,it(x,"complete"),it(x,"error"))}e.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,it(this,"complete"),it(this,"abort"),oo(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oo(this,!0)),ar.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?io(this):this.Xa())},e.Xa=function(){io(this)};function io(x){if(x.h&&typeof i<"u"){if(x.v&&wi(x)==4)setTimeout(x.Ca.bind(x),0);else if(it(x,"readystatechange"),wi(x)==4){x.h=!1;try{const Ee=x.ca();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var B;if(!(B=_)){var Z;if(Z=Ee===0){let Ge=String(x.D).match(yp)[1]||null;!Ge&&o.self&&o.self.location&&(Ge=o.self.location.protocol.slice(0,-1)),Z=!bp.test(Ge?Ge.toLowerCase():"")}B=Z}if(B)it(x,"complete"),it(x,"success");else{x.o=6;try{var Ne=wi(x)>2?x.g.statusText:""}catch{Ne=""}x.l=Ne+" ["+x.ca()+"]",al(x)}}finally{oo(x)}}}}function oo(x,_){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const B=x.g;x.g=null,_||it(x,"ready");try{B.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function wi(x){return x.g?x.g.readyState:0}e.ca=function(){try{return wi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(x){if(this.g){var _=this.g.responseText;return x&&_.indexOf(x)==0&&(_=_.substring(x.length)),we(_)}};function wp(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Ch(x){const _={};x=(x.g&&wi(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<x.length;Z++){if($(x[Z]))continue;var B=Ln(x[Z]);const Ne=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Ee=_[Ne]||[];_[Ne]=Ee,Ee.push(B)}ie(_,function(Z){return Z.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(x,_,B){return B&&B.internalChannelParams&&B.internalChannelParams[x]||_}function Pu(x){this.za=0,this.i=[],this.j=new Ur,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,x),this.Za=ji("retryDelaySeedMs",1e4,x),this.Ta=ji("forwardChannelMaxRetries",2,x),this.va=ji("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new Ns(x&&x.concurrentRequestLimit),this.Ba=new hc,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Pu.prototype,e.ka=8,e.I=1,e.connect=function(x,_,B,Z){Ke(0),this.W=x,this.H=_||{},B&&Z!==void 0&&(this.H.OSID=B,this.H.OAID=Z),this.F=this.X,this.J=Ph(this,null,this.W),lo(this)};function Eu(x){if(Tu(x),x.I==3){var _=x.V++,B=ca(x.J);if(Wt(B,"SID",x.M),Wt(B,"RID",_),Wt(B,"TYPE","terminate"),Ni(x,B),_=new an(x,x.j,_),_.M=2,_.A=so(ca(B)),B=!1,o.navigator&&o.navigator.sendBeacon)try{B=o.navigator.sendBeacon(_.A.toString(),"")}catch{}!B&&o.Image&&(new Image().src=_.A,B=!0),B||(_.g=Np(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ws(_)}pc(x)}function Us(x){x.g&&(mc(x),x.g.cancel(),x.g=null)}function Tu(x){Us(x),x.v&&(o.clearTimeout(x.v),x.v=null),_u(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&o.clearTimeout(x.m),x.m=null)}function lo(x){if(!Ba(x.h)&&!x.m){x.m=!0;var _=x.Ea;P||C(),R||(P(),R=!0),E.add(_,x),x.D=0}}function jp(x,_){return yr(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=_.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=It(h(x.Ea,x,_),Du(x,x.D)),x.D++,!0)}e.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const Ne=new an(this,this.j,x);let Ee=this.o;if(this.U&&(Ee?(Ee=H(Ee),ge(Ee,this.U)):Ee=this.U),this.u!==null||this.R||(Ne.J=Ee,Ee=null),this.S)e:{for(var _=0,B=0;B<this.i.length;B++){t:{var Z=this.i[B];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(_+=Z,_>4096){_=B;break e}if(_===4096||B===this.i.length-1){_=B+1;break e}}_=1e3}else _=1e3;_=Ih(this,Ne,_),B=ca(this.J),Wt(B,"RID",x),Wt(B,"CVER",22),this.G&&Wt(B,"X-HTTP-Session-Id",this.G),Ni(this,B),Ee&&(this.R?_="headers="+_t(vp(Ee))+"&"+_:this.u&&Iu(B,this.u,Ee)),Su(this.h,Ne),this.Ra&&Wt(B,"TYPE","init"),this.S?(Wt(B,"$req",_),Wt(B,"SID","null"),Ne.U=!0,oe(Ne,B,null)):oe(Ne,B,_),this.I=2}}else this.I==3&&(x?fc(this,x):this.i.length==0||Ba(this.h)||fc(this))};function fc(x,_){var B;_?B=_.l:B=x.V++;const Z=ca(x.J);Wt(Z,"SID",x.M),Wt(Z,"RID",B),Wt(Z,"AID",x.K),Ni(x,Z),x.u&&x.o&&Iu(Z,x.u,x.o),B=new an(x,x.j,B,x.D+1),x.u===null&&(B.J=x.o),_&&(x.i=_.G.concat(x.i)),_=Ih(x,B,1e3),B.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),Su(x.h,B),oe(B,Z,_)}function Ni(x,_){x.H&&te(x.H,function(B,Z){Wt(_,Z,B)}),x.l&&te({},function(B,Z){Wt(_,Z,B)})}function Ih(x,_,B){B=Math.min(x.i.length,B);const Z=x.l?h(x.l.Ka,x.l,x):null;e:{var Ne=x.i;let bt=-1;for(;;){const Sr=["count="+B];bt==-1?B>0?(bt=Ne[0].g,Sr.push("ofs="+bt)):bt=0:Sr.push("ofs="+bt);let Kt=!0;for(let Zr=0;Zr<B;Zr++){var Ee=Ne[Zr].g;const ua=Ne[Zr].map;if(Ee-=bt,Ee<0)bt=Math.max(0,Ne[Zr].g-100),Kt=!1;else try{Ee="req"+Ee+"_"||"";try{var Ge=ua instanceof Map?ua:Object.entries(ua);for(const[Si,Ai]of Ge){let Ci=Ai;c(Ai)&&(Ci=_r(Ai)),Sr.push(Ee+Si+"="+encodeURIComponent(Ci))}}catch(Si){throw Sr.push(Ee+"type="+encodeURIComponent("_badmap")),Si}}catch{Z&&Z(ua)}}if(Kt){Ge=Sr.join("&");break e}}Ge=void 0}return x=x.i.splice(0,B),_.G=x,Ge}function Hn(x){if(!x.g&&!x.v){x.Y=1;var _=x.Da;P||C(),R||(P(),R=!0),E.add(_,x),x.A=0}}function ki(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=It(h(x.Da,x),Du(x,x.A)),x.A++,!0)}e.Da=function(){if(this.v=null,il(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=It(h(this.Wa,this),x)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ke(10),Us(this),il(this))};function mc(x){x.B!=null&&(o.clearTimeout(x.B),x.B=null)}function il(x){x.g=new an(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var _=ca(x.na);Wt(_,"RID","rpc"),Wt(_,"SID",x.M),Wt(_,"AID",x.K),Wt(_,"CI",x.F?"0":"1"),!x.F&&x.ia&&Wt(_,"TO",x.ia),Wt(_,"TYPE","xmlhttp"),Ni(x,_),x.u&&x.o&&Iu(_,x.u,x.o),x.O&&(x.g.H=x.O);var B=x.g;x=x.ba,B.M=1,B.A=so(ca(_)),B.u=null,B.R=!0,We(B,x)}e.Va=function(){this.C!=null&&(this.C=null,Us(this),ki(this),Ke(19))};function _u(x){x.C!=null&&(o.clearTimeout(x.C),x.C=null)}function Mu(x,_){var B=null;if(x.g==_){_u(x),mc(x),x.g=null;var Z=2}else if(za(x.h,_))B=_.G,oc(x.h,_),Z=1;else return;if(x.I!=0){if(_.o)if(Z==1){B=_.u?_.u.length:0,_=Date.now()-_.F;var Ne=x.D;Z=Pt(),it(Z,new Et(Z,B)),lo(x)}else Hn(x);else if(Ne=_.m,Ne==3||Ne==0&&_.X>0||!(Z==1&&jp(x,_)||Z==2&&ki(x)))switch(B&&B.length>0&&(_=x.h,_.i=_.i.concat(B)),Ne){case 1:Ws(x,5);break;case 4:Ws(x,10);break;case 3:Ws(x,6);break;default:Ws(x,2)}}}function Du(x,_){let B=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(B*=2),B*_}function Ws(x,_){if(x.j.info("Error code "+_),_==2){var B=h(x.bb,x),Z=x.Ua;const Ne=!Z;Z=new pi(Z||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||lc(Z,"https"),so(Z),Ne?vi(Z.toString(),B):bi(Z.toString(),B)}else Ke(2);x.I=0,x.l&&x.l.pa(_),pc(x),Tu(x)}e.bb=function(x){x?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function pc(x){if(x.I=0,x.ja=[],x.l){const _=Bs(x.h);(_.length!=0||x.i.length!=0)&&(v(x.ja,_),v(x.ja,x.i),x.h.i.length=0,b(x.i),x.i.length=0),x.l.oa()}}function Ph(x,_,B){var Z=B instanceof pi?ca(B):new pi(B);if(Z.g!="")_&&(Z.g=_+"."+Z.g),gi(Z,Z.u);else{var Ne=o.location;Z=Ne.protocol,_=_?_+"."+Ne.hostname:Ne.hostname,Ne=+Ne.port;const Ee=new pi(null);Z&&lc(Ee,Z),_&&(Ee.g=_),Ne&&gi(Ee,Ne),B&&(Ee.h=B),Z=Ee}return B=x.G,_=x.wa,B&&_&&Wt(Z,B,_),Wt(Z,"VER",x.ka),Ni(x,Z),Z}function Np(x,_,B){if(_&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=x.Aa&&!x.ma?new ar(new ao({ab:B})):new ar(x.ma),_.Fa(x.L),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function kp(){}e=kp.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function ks(x,_){Le.call(this),this.g=new Pu(_),this.l=x,this.h=_&&_.messageUrlParams||null,x=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(x?x["X-WebChannel-Content-Type"]=_.messageContentType:x={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(x?x["X-WebChannel-Client-Profile"]=_.sa:x={"X-WebChannel-Client-Profile":_.sa}),this.g.U=x,(x=_&&_.Qb)&&!$(x)&&(this.g.u=x),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!$(_)&&(this.g.G=_,x=this.h,x!==null&&_ in x&&(x=this.h,_ in x&&delete x[_])),this.j=new ol(this)}m(ks,Le),ks.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ks.prototype.close=function(){Eu(this.g)},ks.prototype.o=function(x){var _=this.g;if(typeof x=="string"){var B={};B.__data__=x,x=B}else this.v&&(B={},B.__data__=_r(x),x=B);_.i.push(new ku(_.Ya++,x)),_.I==3&&lo(_)},ks.prototype.N=function(){this.g.l=null,delete this.j,Eu(this.g),delete this.g,ks.Z.N.call(this)};function Ou(x){Re.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var _=x.__sm__;if(_){e:{for(const B in _){x=B;break e}x=void 0}(this.i=x)&&(x=this.i,_=_!==null&&x in _?_[x]:void 0),this.data=_}else this.data=x}m(Ou,Re);function Sp(){zt.call(this),this.status=1}m(Sp,zt);function ol(x){this.g=x}m(ol,kp),ol.prototype.ra=function(){it(this.g,"a")},ol.prototype.qa=function(x){it(this.g,new Ou(x))},ol.prototype.pa=function(x){it(this.g,new Sp)},ol.prototype.oa=function(){it(this.g,"b")},ks.prototype.send=ks.prototype.o,ks.prototype.open=ks.prototype.m,ks.prototype.close=ks.prototype.close,sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,jt.COMPLETE="complete",Ft.EventType=Oe,Oe.OPEN="a",Oe.CLOSE="b",Oe.ERROR="c",Oe.MESSAGE="d",Le.prototype.listen=Le.prototype.J,ar.prototype.listenOnce=ar.prototype.K,ar.prototype.getLastError=ar.prototype.Ha,ar.prototype.getLastErrorCode=ar.prototype.ya,ar.prototype.getStatus=ar.prototype.ca,ar.prototype.getResponseJson=ar.prototype.La,ar.prototype.getResponseText=ar.prototype.la,ar.prototype.send=ar.prototype.ea,ar.prototype.setWithCredentials=ar.prototype.Fa}).apply(typeof Ng<"u"?Ng:typeof self<"u"?self:typeof window<"u"?window:{});const cE="@firebase/firestore",uE="4.9.2";let ls=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ls.UNAUTHENTICATED=new ls(null),ls.GOOGLE_CREDENTIALS=new ls("google-credentials-uid"),ls.FIRST_PARTY=new ls("first-party-uid"),ls.MOCK_USER=new ls("mock-user");let Em="12.3.0";const Md=new Zx("@firebase/firestore");function ii(e,...t){if(Md.logLevel<=Ht.DEBUG){const r=t.map(H2);Md.debug(`Firestore (${Em}): ${e}`,...r)}}function iL(e,...t){if(Md.logLevel<=Ht.ERROR){const r=t.map(H2);Md.error(`Firestore (${Em}): ${e}`,...r)}}function pY(e,...t){if(Md.logLevel<=Ht.WARN){const r=t.map(H2);Md.warn(`Firestore (${Em}): ${e}`,...r)}}function H2(e){if(typeof e=="string")return e;try{return(function(r){return JSON.stringify(r)})(e)}catch{return e}}function qf(e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,oL(e,s,r)}function oL(e,t,r){let s=`FIRESTORE (${Em}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw iL(s),new Error(s)}function _f(e,t,r,s){let a="Unexpected state";typeof r=="string"?a=r:s=r,e||oL(t,a,s)}const Ot={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Rt extends Oa{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mf{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class lL{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(ls.UNAUTHENTICATED)))}shutdown(){}}class yY{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class xY{constructor(t){this.t=t,this.currentUser=ls.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){_f(this.o===void 0,42304);let s=this.i;const a=u=>this.i!==s?(s=this.i,r(u)):Promise.resolve();let i=new Mf;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mf,t.enqueueRetryable((()=>a(this.currentUser)))};const o=()=>{const u=i;t.enqueueRetryable((async()=>{await u.promise,await a(this.currentUser)}))},c=u=>{ii("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(ii("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mf)}}),0),o()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((s=>this.i!==t?(ii("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_f(typeof s.accessToken=="string",31837,{l:s}),new lL(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _f(t===null||typeof t=="string",2055,{h:t}),new ls(t)}}class vY{constructor(t,r,s){this.P=t,this.T=r,this.I=s,this.type="FirstParty",this.user=ls.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bY{constructor(t,r,s){this.P=t,this.T=r,this.I=s}getToken(){return Promise.resolve(new vY(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(ls.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wY{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zs(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){_f(this.o===void 0,3512);const s=i=>{i.error!=null&&ii("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ii("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>s(i)))};const a=i=>{ii("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>a(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):ii("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(_f(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new dE(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jY(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let s=0;s<e;s++)r[s]=Math.floor(256*Math.random());return r}class NY{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=jY(40);for(let i=0;i<a.length;++i)s.length<20&&a[i]<r&&(s+=t.charAt(a[i]%62))}return s}}function Ul(e,t){return e<t?-1:e>t?1:0}function kY(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.charAt(s),i=t.charAt(s);if(a!==i)return rw(a)===rw(i)?Ul(a,i):rw(a)?1:-1}return Ul(e.length,t.length)}const SY=55296,AY=57343;function rw(e){const t=e.charCodeAt(0);return t>=SY&&t<=AY}const hE="__name__";class Mi{constructor(t,r,s){r===void 0?r=0:r>t.length&&qf(637,{offset:r,range:t.length}),s===void 0?s=t.length-r:s>t.length-r&&qf(1746,{length:s,range:t.length-r}),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((s=>{r.push(s)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let a=0;a<s;a++){const i=Mi.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Ul(t.length,r.length)}static compareSegments(t,r){const s=Mi.isNumericId(t),a=Mi.isNumericId(r);return s&&!a?-1:!s&&a?1:s&&a?Mi.extractNumericId(t).compare(Mi.extractNumericId(r)):kY(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return W2.fromString(t.substring(4,t.length-2))}}class Xa extends Mi{construct(t,r,s){return new Xa(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new Rt(Ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter((a=>a.length>0)))}return new Xa(r)}static emptyPath(){return new Xa([])}}const CY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lc extends Mi{construct(t,r,s){return new Lc(t,r,s)}static isValidIdentifier(t){return CY.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lc.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new Lc([hE])}static fromServerFormat(t){const r=[];let s="",a=0;const i=()=>{if(s.length===0)throw new Rt(Ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let o=!1;for(;a<t.length;){const c=t[a];if(c==="\\"){if(a+1===t.length)throw new Rt(Ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Rt(Ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=u,a+=2}else c==="`"?(o=!o,a++):c!=="."||o?(s+=c,a++):(i(),a++)}if(i(),o)throw new Rt(Ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Lc(r)}static emptyPath(){return new Lc([])}}class zc{constructor(t){this.path=t}static fromPath(t){return new zc(Xa.fromString(t))}static fromName(t){return new zc(Xa.fromString(t).popFirst(5))}static empty(){return new zc(Xa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Xa.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Xa.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new zc(new Xa(t.slice()))}}function IY(e,t,r,s){if(t===!0&&s===!0)throw new Rt(Ot.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function PY(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function EY(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":qf(12329,{type:typeof e})}function TY(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rt(Ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=EY(e);throw new Rt(Ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function en(e,t){const r={typeString:e};return t&&(r.value=t),r}function Tm(e,t){if(!PY(e))throw new Rt(Ot.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in t)if(t[s]){const a=t[s].typeString,i="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){r=`JSON missing required field: '${s}'`;break}const o=e[s];if(a&&typeof o!==a){r=`JSON field '${s}' must be a ${a}.`;break}if(i!==void 0&&o!==i.value){r=`Expected '${s}' field to equal '${i.value}'`;break}}if(r)throw new Rt(Ot.INVALID_ARGUMENT,r);return!0}const fE=-62135596800,mE=1e6;class Di{static now(){return Di.fromMillis(Date.now())}static fromDate(t){return Di.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor((t-1e3*r)*mE);return new Di(r,s)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Rt(Ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Rt(Ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<fE)throw new Rt(Ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rt(Ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(t){return this.seconds===t.seconds?Ul(this.nanoseconds,t.nanoseconds):Ul(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Di._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Tm(t,Di._jsonSchema))return new Di(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Di._jsonSchemaVersion="firestore/timestamp/1.0",Di._jsonSchema={type:en("string",Di._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};function _Y(e){return e.name==="IndexedDbTransactionError"}class MY extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class lu{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MY("Invalid base64 string: "+i):i}})(t);return new lu(r)}static fromUint8Array(t){const r=(function(a){let i="";for(let o=0;o<a.length;++o)i+=String.fromCharCode(a[o]);return i})(t);return new lu(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const s=new Uint8Array(r.length);for(let a=0;a<r.length;a++)s[a]=r.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ul(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}lu.EMPTY_BYTE_STRING=new lu("");const P1="(default)";class Ty{constructor(t,r){this.projectId=t,this.database=r||P1}static empty(){return new Ty("","")}get isDefaultDatabase(){return this.database===P1}isEqual(t){return t instanceof Ty&&t.projectId===this.projectId&&t.database===this.database}}class DY{constructor(t,r=null,s=[],a=[],i=null,o="F",c=null,u=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=a,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OY(e){return new DY(e)}var pE,Dt;(Dt=pE||(pE={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";new W2([4294967295,4294967295],0);const RY=41943040;const LY=1048576;function nw(){return typeof document<"u"?document:null}class FY{constructor(t,r,s=1e3,a=1.5,i=6e4){this.Mi=t,this.timerId=r,this.d_=s,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-s);a>0&&ii("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}class q2{constructor(t,r,s,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=a,this.removalCallback=i,this.deferred=new Mf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,a,i){const o=Date.now()+s,c=new q2(t,r,o,a,i);return c.start(s),c}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(Ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var gE,yE;(yE=gE||(gE={})).Ma="default",yE.Cache="cache";function $Y(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const xE=new Map;const cL="firestore.googleapis.com",vE=!0;class bE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Rt(Ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cL,this.ssl=vE}else this.host=t.host,this.ssl=t.ssl??vE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=RY;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<LY)throw new Rt(Ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}IY("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$Y(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Rt(Ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Rt(Ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Rt(Ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uL{constructor(t,r,s,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(Ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Rt(Ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new gY;switch(s.type){case"firstParty":return new bY(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Rt(Ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const s=xE.get(r);s&&(ii("ComponentProvider","Removing Datastore"),xE.delete(r),s.terminate())})(this),Promise.resolve()}}function BY(e,t,r,s={}){e=TY(e,uL);const a=Qd(t),i=e._getSettings(),o={...i,emulatorOptions:e._getEmulatorOptions()},c=`${t}:${r}`;a&&(N2(`https://${c}`),k2("Firestore",!0)),i.host!==cL&&i.host!==c&&pY("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:c,ssl:a,emulatorOptions:s};if(!Vl(u,o)&&(e._setSettings(u),s.mockUserToken)){let h,f;if(typeof s.mockUserToken=="string")h=s.mockUserToken,f=ls.MOCK_USER;else{h=ZR(s.mockUserToken,e._app?.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new Rt(Ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ls(m)}e._authCredentials=new yY(new lL(h,f))}}class G2{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new G2(this.firestore,t,this._query)}}class Fi{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new K2(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fi(this.firestore,t,this._key)}toJSON(){return{type:Fi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,s){if(Tm(r,Fi._jsonSchema))return new Fi(t,s||null,new zc(Xa.fromString(r.referencePath)))}}Fi._jsonSchemaVersion="firestore/documentReference/1.0",Fi._jsonSchema={type:en("string",Fi._jsonSchemaVersion),referencePath:en("string")};class K2 extends G2{constructor(t,r,s){super(t,r,OY(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fi(this.firestore,null,new zc(t))}withConverter(t){return new K2(this.firestore,t,this._path)}}const wE="AsyncQueue";class jE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FY(this,"async_queue_retry"),this._c=()=>{const s=nw();s&&ii(wE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const r=nw();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=nw();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Mf;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_Y(t))throw t;ii(wE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,iL("INTERNAL UNHANDLED ERROR: ",NE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=r,r}enqueueAfterDelay(t,r,s){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const a=q2.createAndSchedule(this,t,r,s,(i=>this.hc(i)));return this.tc.push(a),a}uc(){this.nc&&qf(47125,{Pc:NE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,s)=>r.targetTimeMs-s.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function NE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class zY extends uL{constructor(t,r,s,a){super(t,r,s,a),this.type="firestore",this._queue=new jE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jE(t),this._firestoreClient=void 0,await t}}}function VY(e,t){const r=typeof e=="object"?e:Sm(),s=typeof e=="string"?e:P1,a=Yo(r,"firestore").getImmediate({identifier:s});if(!a._initialized){const i=GR("firestore");i&&BY(a,...i)}return a}class No{constructor(t){this._byteString=t}static fromBase64String(t){try{return new No(lu.fromBase64String(t))}catch(r){throw new Rt(Ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new No(lu.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:No._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Tm(t,No._jsonSchema))return No.fromBase64String(t.bytes)}}No._jsonSchemaVersion="firestore/bytes/1.0",No._jsonSchema={type:en("string",No._jsonSchemaVersion),bytes:en("string")};class dL{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Rt(Ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lc(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Zc{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Rt(Ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Rt(Ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ul(this._lat,t._lat)||Ul(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zc._jsonSchemaVersion}}static fromJSON(t){if(Tm(t,Zc._jsonSchema))return new Zc(t.latitude,t.longitude)}}Zc._jsonSchemaVersion="firestore/geoPoint/1.0",Zc._jsonSchema={type:en("string",Zc._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class Qc{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==a[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Qc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Tm(t,Qc._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new Qc(t.vectorValues);throw new Rt(Ot.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qc._jsonSchemaVersion="firestore/vectorValue/1.0",Qc._jsonSchema={type:en("string",Qc._jsonSchemaVersion),vectorValues:en("object")};const UY=new RegExp("[~\\*/\\[\\]]");function WY(e,t,r){if(t.search(UY)>=0)throw kE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new dL(...t.split("."))._internalPath}catch{throw kE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function kE(e,t,r,s,a){let i=`Function ${t}() called with invalid data`;i+=". ";let o="";return new Rt(Ot.INVALID_ARGUMENT,i+e+o)}class hL{constructor(t,r,s,a,i){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Fi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(fL("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class HY extends hL{data(){return super.data()}}function fL(e,t){return typeof t=="string"?WY(e,t):t instanceof dL?t._internalPath:t._delegate._internalPath}class kg{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cd extends hL{constructor(t,r,s,a,i,o){super(t,r,s,a,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new iy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(fL("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(Ot.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Cd._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Cd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cd._jsonSchema={type:en("string",Cd._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class iy extends Cd{data(t={}){return super.data(t)}}class Df{constructor(t,r,s,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new kg(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((s=>{t.call(r,new iy(this._firestore,this._userDataWriter,s.key,s,new kg(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Rt(Ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,i){if(a._snapshot.oldDocs.isEmpty()){let o=0;return a._snapshot.docChanges.map((c=>{const u=new iy(a._firestore,a._userDataWriter,c.doc.key,c.doc,new kg(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const u=new iy(a._firestore,a._userDataWriter,c.doc.key,c.doc,new kg(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,f=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:qY(c.type),doc:u,oldIndex:h,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(Ot.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Df._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=NY.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],a=[];return this.docs.forEach((i=>{i._document!==null&&(r.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function qY(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qf(61501,{type:e})}}Df._jsonSchemaVersion="firestore/querySnapshot/1.0",Df._jsonSchema={type:en("string",Df._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};(function(t,r=!0){(function(a){Em=a})(xu),ra(new Rs("firestore",((s,{instanceIdentifier:a,options:i})=>{const o=s.getProvider("app").getImmediate(),c=new zY(new xY(s.getProvider("auth-internal")),new wY(o,s.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Rt(Ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ty(h.options.projectId,f)})(o,a),o);return i={useFetchStreams:r,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),ts(cE,uE,t),ts(cE,uE,"esm2020")})();const mL="firebasestorage.googleapis.com",GY="storageBucket",KY=120*1e3,YY=600*1e3;class ro extends Oa{constructor(t,r,s=0){super(sw(t),`Firebase Storage: ${r} (${sw(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ro.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return sw(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yi;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yi||(Yi={}));function sw(e){return"storage/"+e}function ZY(){const e="An unknown error occurred, please check the error payload for server response.";return new ro(Yi.UNKNOWN,e)}function QY(){return new ro(Yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XY(){return new ro(Yi.CANCELED,"User canceled the upload/download.")}function JY(e){return new ro(Yi.INVALID_URL,"Invalid URL '"+e+"'.")}function eZ(e){return new ro(Yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function SE(e){return new ro(Yi.INVALID_ARGUMENT,e)}function pL(){return new ro(Yi.APP_DELETED,"The Firebase app was deleted.")}function tZ(e){return new ro(Yi.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class oi{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let s;try{s=oi.makeFromUrl(t,r)}catch{return new oi(t,"")}if(s.path==="")return s;throw eZ(t)}static makeFromUrl(t,r){let s=null;const a="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+a+o,"i"),u={bucket:1,path:3};function h(O){O.path_=decodeURIComponent(O.path)}const f="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${m}/${f}/b/${a}/o${y}`,"i"),v={bucket:1,path:3},N=r===mL?"(?:storage.googleapis.com|storage.cloud.google.com)":r,j="([^?#]*)",k=new RegExp(`^https?://${N}/${a}/${j}`,"i"),S=[{regex:c,indices:u,postModify:i},{regex:b,indices:v,postModify:h},{regex:k,indices:{bucket:1,path:2},postModify:h}];for(let O=0;O<S.length;O++){const P=S[O],R=P.regex.exec(t);if(R){const E=R[P.indices.bucket];let C=R[P.indices.path];C||(C=""),s=new oi(E,C),P.postModify(s);break}}if(s==null)throw JY(t);return s}}class rZ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function nZ(e,t,r){let s=1,a=null,i=null,o=!1,c=0;function u(){return c===2}let h=!1;function f(...j){h||(h=!0,t.apply(null,j))}function m(j){a=setTimeout(()=>{a=null,e(b,u())},j)}function y(){i&&clearTimeout(i)}function b(j,...k){if(h){y();return}if(j){y(),f.call(null,j,...k);return}if(u()||o){y(),f.call(null,j,...k);return}s<64&&(s*=2);let S;c===1?(c=2,S=0):S=(s+Math.random())*1e3,m(S)}let v=!1;function N(j){v||(v=!0,y(),!h&&(a!==null?(j||(c=2),clearTimeout(a),m(0)):j||(c=1)))}return m(0),i=setTimeout(()=>{o=!0,N(!0)},r),N}function sZ(e){e(!1)}function aZ(e){return e!==void 0}function AE(e,t,r,s){if(s<t)throw SE(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>r)throw SE(`Invalid value for '${e}'. Expected ${r} or less.`)}function iZ(e){const t=encodeURIComponent;let r="?";for(const s in e)if(e.hasOwnProperty(s)){const a=t(s)+"="+t(e[s]);r=r+a+"&"}return r=r.slice(0,-1),r}var _y;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(_y||(_y={}));function oZ(e,t){const r=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return r||a||i}class lZ{constructor(t,r,s,a,i,o,c,u,h,f,m,y=!0,b=!1){this.url_=t,this.method_=r,this.headers_=s,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=m,this.retry=y,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,N)=>{this.resolve_=v,this.reject_=N,this.start_()})}start_(){const t=(s,a)=>{if(a){s(!1,new Sg(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=c=>{const u=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const c=i.getErrorCode()===_y.NO_ERROR,u=i.getStatus();if(!c||oZ(u,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===_y.ABORT;s(!1,new Sg(!1,null,f));return}const h=this.successCodes_.indexOf(u)!==-1;s(!0,new Sg(h,i))})},r=(s,a)=>{const i=this.resolve_,o=this.reject_,c=a.connection;if(a.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());aZ(u)?i(u):i()}catch(u){o(u)}else if(c!==null){const u=ZY();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(a.canceled){const u=this.appDelete_?pL():XY();o(u)}else{const u=QY();o(u)}};this.canceled_?r(!1,new Sg(!1,null,!0)):this.backoffId_=nZ(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&sZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sg{constructor(t,r,s){this.wasSuccessCode=t,this.connection=r,this.canceled=!!s}}function cZ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function uZ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function dZ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function hZ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function fZ(e,t,r,s,a,i,o=!0,c=!1){const u=iZ(e.urlParams),h=e.url+u,f=Object.assign({},e.headers);return dZ(f,t),cZ(f,r),uZ(f,i),hZ(f,s),new lZ(h,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,o,c)}function mZ(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function pZ(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}class My{constructor(t,r){this._service=t,r instanceof oi?this._location=r:this._location=oi.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new My(t,r)}get root(){const t=new oi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pZ(this._location.path)}get storage(){return this._service}get parent(){const t=mZ(this._location.path);if(t===null)return null;const r=new oi(this._location.bucket,t);return new My(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw tZ(t)}}function CE(e,t){const r=t?.[GY];return r==null?null:oi.makeFromBucketSpec(r,e)}function gZ(e,t,r,s={}){e.host=`${t}:${r}`;const a=Qd(t);a&&(N2(`https://${e.host}/b`),k2("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:i}=s;i&&(e._overrideAuthToken=typeof i=="string"?i:ZR(i,e.app.options.projectId))}class yZ{constructor(t,r,s,a,i,o=!1){this.app=t,this._authProvider=r,this._appCheckProvider=s,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=mL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KY,this._maxUploadRetryTime=YY,this._requests=new Set,a!=null?this._bucket=oi.makeFromBucketSpec(a,this._host):this._bucket=CE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=oi.makeFromBucketSpec(this._url,t):this._bucket=CE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){AE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){AE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Zs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new My(this,t)}_makeRequest(t,r,s,a,i=!0){if(this._deleted)return new rZ(pL());{const o=fZ(t,this._appId,s,a,r,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,r){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,s,a).getPromise()}}const IE="@firebase/storage",PE="0.14.0";const gL="storage";function xZ(e=Sm(),t){e=oa(e);const s=Yo(e,gL).getImmediate({identifier:t}),a=GR("storage");return a&&vZ(s,...a),s}function vZ(e,t,r,s={}){gZ(e,t,r,s)}function bZ(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new yZ(r,s,a,t,xu)}function wZ(){ra(new Rs(gL,bZ,"PUBLIC").setMultipleInstances(!0)),ts(IE,PE,""),ts(IE,PE,"esm2020")}wZ();const jZ="/firebase-messaging-sw.js",NZ="/firebase-cloud-messaging-push-scope",yL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kZ="https://fcmregistrations.googleapis.com/v1",xL="google.c.a.c_id",SZ="google.c.a.c_l",AZ="google.c.a.ts",CZ="google.c.a.e",EE=1e4;var TE;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(TE||(TE={}));var Gf;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Gf||(Gf={}));function wo(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function IZ(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(r),a=new Uint8Array(s.length);for(let i=0;i<s.length;++i)a[i]=s.charCodeAt(i);return a}const aw="fcm_token_details_db",PZ=5,_E="fcm_token_object_Store";async function EZ(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(aw))return null;let t=null;return(await Qx(aw,PZ,{upgrade:async(s,a,i,o)=>{if(a<2||!s.objectStoreNames.contains(_E))return;const c=o.objectStore(_E),u=await c.index("fcmSenderId").get(e);if(await c.clear(),!!u){if(a===2){const h=u;if(!h.auth||!h.p256dh||!h.endpoint)return;t={token:h.fcmToken,createTime:h.createTime??Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:wo(h.vapidKey)}}}else if(a===3){const h=u;t={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:wo(h.auth),p256dh:wo(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:wo(h.vapidKey)}}}else if(a===4){const h=u;t={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:wo(h.auth),p256dh:wo(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:wo(h.vapidKey)}}}}}})).close(),await Kb(aw),await Kb("fcm_vapid_details_db"),await Kb("undefined"),TZ(t)?t:null}function TZ(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const _Z="firebase-messaging-database",MZ=1,Kf="firebase-messaging-store";let iw=null;function vL(){return iw||(iw=Qx(_Z,MZ,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Kf)}}})),iw}async function DZ(e){const t=bL(e),s=await(await vL()).transaction(Kf).objectStore(Kf).get(t);if(s)return s;{const a=await EZ(e.appConfig.senderId);if(a)return await Y2(e,a),a}}async function Y2(e,t){const r=bL(e),a=(await vL()).transaction(Kf,"readwrite");return await a.objectStore(Kf).put(t,r),await a.done,t}function bL({appConfig:e}){return e.appId}const OZ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},rs=new ec("messaging","Messaging",OZ);async function RZ(e,t){const r=await Q2(e),s=wL(t),a={method:"POST",headers:r,body:JSON.stringify(s)};let i;try{i=await(await fetch(Z2(e.appConfig),a)).json()}catch(o){throw rs.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(i.error){const o=i.error.message;throw rs.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw rs.create("token-subscribe-no-token");return i.token}async function LZ(e,t){const r=await Q2(e),s=wL(t.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(s)};let i;try{i=await(await fetch(`${Z2(e.appConfig)}/${t.token}`,a)).json()}catch(o){throw rs.create("token-update-failed",{errorInfo:o?.toString()})}if(i.error){const o=i.error.message;throw rs.create("token-update-failed",{errorInfo:o})}if(!i.token)throw rs.create("token-update-no-token");return i.token}async function FZ(e,t){const s={method:"DELETE",headers:await Q2(e)};try{const i=await(await fetch(`${Z2(e.appConfig)}/${t}`,s)).json();if(i.error){const o=i.error.message;throw rs.create("token-unsubscribe-failed",{errorInfo:o})}}catch(a){throw rs.create("token-unsubscribe-failed",{errorInfo:a?.toString()})}}function Z2({projectId:e}){return`${kZ}/projects/${e}/registrations`}async function Q2({appConfig:e,installations:t}){const r=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function wL({p256dh:e,auth:t,endpoint:r,vapidKey:s}){const a={web:{endpoint:r,auth:t,p256dh:e}};return s!==yL&&(a.web.applicationPubKey=s),a}const $Z=10080*60*1e3;async function BZ(e){const t=await VZ(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:wo(t.getKey("auth")),p256dh:wo(t.getKey("p256dh"))},s=await DZ(e.firebaseDependencies);if(s){if(UZ(s.subscriptionOptions,r))return Date.now()>=s.createTime+$Z?zZ(e,{token:s.token,createTime:Date.now(),subscriptionOptions:r}):s.token;try{await FZ(e.firebaseDependencies,s.token)}catch(a){console.warn(a)}return ME(e.firebaseDependencies,r)}else return ME(e.firebaseDependencies,r)}async function zZ(e,t){try{const r=await LZ(e.firebaseDependencies,t),s={...t,token:r,createTime:Date.now()};return await Y2(e.firebaseDependencies,s),r}catch(r){throw r}}async function ME(e,t){const s={token:await RZ(e,t),createTime:Date.now(),subscriptionOptions:t};return await Y2(e,s),s.token}async function VZ(e,t){const r=await e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:IZ(t)})}function UZ(e,t){const r=t.vapidKey===e.vapidKey,s=t.endpoint===e.endpoint,a=t.auth===e.auth,i=t.p256dh===e.p256dh;return r&&s&&a&&i}function DE(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return WZ(t,e),HZ(t,e),qZ(t,e),t}function WZ(e,t){if(!t.notification)return;e.notification={};const r=t.notification.title;r&&(e.notification.title=r);const s=t.notification.body;s&&(e.notification.body=s);const a=t.notification.image;a&&(e.notification.image=a);const i=t.notification.icon;i&&(e.notification.icon=i)}function HZ(e,t){t.data&&(e.data=t.data)}function qZ(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const r=t.fcmOptions?.link??t.notification?.click_action;r&&(e.fcmOptions.link=r);const s=t.fcmOptions?.analytics_label;s&&(e.fcmOptions.analyticsLabel=s)}function GZ(e){return typeof e=="object"&&!!e&&xL in e}function KZ(e){if(!e||!e.options)throw ow("App Configuration Object");if(!e.name)throw ow("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const s of t)if(!r[s])throw ow(s);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function ow(e){return rs.create("missing-app-config-values",{valueName:e})}class YZ{constructor(t,r,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=KZ(t);this.firebaseDependencies={app:t,appConfig:a,installations:r,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function ZZ(e){try{e.swRegistration=await navigator.serviceWorker.register(jZ,{scope:NZ}),e.swRegistration.update().catch(()=>{}),await QZ(e.swRegistration)}catch(t){throw rs.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function QZ(e){return new Promise((t,r)=>{const s=setTimeout(()=>r(new Error(`Service worker not registered after ${EE} ms`)),EE),a=e.installing||e.waiting;e.active?(clearTimeout(s),t()):a?a.onstatechange=i=>{i.target?.state==="activated"&&(a.onstatechange=null,clearTimeout(s),t())}:(clearTimeout(s),r(new Error("No incoming service worker found.")))})}async function XZ(e,t){if(!t&&!e.swRegistration&&await ZZ(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw rs.create("invalid-sw-registration");e.swRegistration=t}}async function JZ(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=yL)}async function jL(e,t){if(!navigator)throw rs.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw rs.create("permission-blocked");return await JZ(e,t?.vapidKey),await XZ(e,t?.serviceWorkerRegistration),BZ(e)}async function eQ(e,t,r){const s=tQ(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:r[xL],message_name:r[SZ],message_time:r[AZ],message_device_time:Math.floor(Date.now()/1e3)})}function tQ(e){switch(e){case Gf.NOTIFICATION_CLICKED:return"notification_open";case Gf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function rQ(e,t){const r=t.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===Gf.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(DE(r)):e.onMessageHandler.next(DE(r)));const s=r.data;GZ(s)&&s[CZ]==="1"&&await eQ(e,r.messageType,s)}const OE="@firebase/messaging",RE="0.12.23";const nQ=e=>{const t=new YZ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>rQ(t,r)),t},sQ=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:s=>jL(t,s)}};function aQ(){ra(new Rs("messaging",nQ,"PUBLIC")),ra(new Rs("messaging-internal",sQ,"PRIVATE")),ts(OE,RE),ts(OE,RE,"esm2020")}async function iQ(){try{await A2()}catch{return!1}return typeof window<"u"&&S2()&&XR()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function oQ(e,t){if(!navigator)throw rs.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}function lQ(e=Sm()){return iQ().then(t=>{if(!t)throw rs.create("unsupported-browser")},t=>{throw rs.create("indexed-db-unsupported")}),Yo(oa(e),"messaging").getImmediate()}async function cQ(e,t){return e=oa(e),jL(e,t)}function uQ(e,t){return e=oa(e),oQ(e,t)}aQ();const dQ={apiKey:"AIzaSyCUEfJCSWFJNz7tUZMR7G77avJoSnq-dRA",authDomain:"syni-wedding.firebaseapp.com",projectId:"syni-wedding",storageBucket:"syni-wedding.firebasestorage.app",messagingSenderId:"283656730657",appId:"1:283656730657:web:650a25624659825f18cb60",measurementId:"G-JMPPZS6TS4"},_m=t3(dQ);let E1=null;if(typeof window<"u")try{E1=mG(_m)}catch(e){console.warn("Firebase Analytics initialization failed:",e)}const Dy=fY(_m);VY(_m);xZ(_m);const Oy=new Ja;let Yf=null;if(typeof window<"u"&&"serviceWorker"in navigator)try{Yf=lQ(_m)}catch(e){console.warn("Firebase Messaging initialization failed:",e)}const hQ=async()=>{if(!Yf)return console.warn("Firebase Messaging is not available"),null;try{if("serviceWorker"in navigator)try{let r=(await navigator.serviceWorker.getRegistrations()).find(s=>s.active?.scriptURL?.includes("firebase-messaging-sw.js"));r||(r=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),console.log("Service Worker registered:",r))}catch(t){return console.warn("Service Worker registration failed:",t.message),null}if(await Notification.requestPermission()==="granted")try{const t=await navigator.serviceWorker.ready;return await cQ(Yf,{vapidKey:"",serviceWorkerRegistration:t})}catch(t){return console.warn("Failed to get FCM token:",t.message),null}else return console.warn("Notification permission denied"),null}catch(e){return console.warn("Error getting FCM token:",e.message),null}},fQ=()=>Yf?new Promise(e=>{uQ(Yf,t=>{e(t)})}):Promise.reject(new Error("Firebase Messaging is not available")),mQ="https://shubhvenue.com/api",vt=async(e,t={})=>{const r=localStorage.getItem("token"),s={"Content-Type":"application/json",...t.headers};r&&(s.Authorization=`Bearer ${r}`);try{const a=await fetch(`${mQ}${e}`,{...t,headers:s});if(a.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user")),!a.ok){const i=await a.json().catch(()=>({message:"Request failed"}));throw new Error(i.message||i.error||"Request failed")}return{data:await a.json(),status:a.status}}catch(a){throw a}},pQ={getAll:()=>vt("/videos"),getById:e=>vt(`/videos/${e}`)},gQ={getAll:()=>vt("/testimonials"),getById:e=>vt(`/testimonials/${e}`)},yQ={getAll:()=>vt("/faqs"),getById:e=>vt(`/faqs/${e}`)},NL={get:()=>vt("/company")},nv={getByType:e=>vt(`/legal-pages/${e}`)},LE={submit:e=>vt("/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),getById:e=>vt(`/contact/${e}`),getByEmail:e=>vt(`/contact/by-email?email=${encodeURIComponent(e)}`)},kL={getAll:e=>{const t=e?new URLSearchParams(e).toString():"";return vt(`/categories${t?`?${t}`:""}`)},getById:e=>vt(`/categories/${e}`)},xQ={getAll:()=>vt("/admin/vendor-categories/public")},Jn={getAll:e=>{const t=e?new URLSearchParams(e).toString():"";return vt(`/vendor/venues${t?`?${t}`:""}`)},getById:e=>vt(`/vendor/venues/${e}`),search:e=>{const t=e?new URLSearchParams(e).toString():"";return vt(`/vendor/venues/search${t?`?${t}`:""}`)},getStates:()=>vt("/vendor/venues/states"),getCities:e=>{const t=e?`?state=${encodeURIComponent(e)}`:"";return vt(`/vendor/venues/cities${t}`)},getSearchSuggestions:(e,t=10)=>{const r=e?`?q=${encodeURIComponent(e)}&limit=${t}`:"";return vt(`/vendor/venues/search/suggestions${r}`)}},Ry={login:(e,t)=>vt("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})}),register:e=>vt("/auth/register",{method:"POST",body:JSON.stringify({...e,role:"customer"})}),googleLogin:(e,t="customer",r=null)=>vt("/auth/google-login",{method:"POST",body:JSON.stringify({idToken:e,role:t,fcmToken:r})}),getProfile:()=>vt("/auth/profile"),updateProfile:e=>vt("/auth/profile",{method:"PUT",body:JSON.stringify(e)})},vQ={create:(e,t,r)=>vt("/reviews",{method:"POST",body:JSON.stringify({venueId:e,rating:t,comment:r})}),getByVenue:e=>vt(`/reviews/venue/${e}`),getById:e=>vt(`/reviews/${e}`),update:(e,t,r)=>vt(`/reviews/${e}`,{method:"PUT",body:JSON.stringify({rating:t,comment:r})}),delete:e=>vt(`/reviews/${e}`,{method:"DELETE"})},Zf={create:e=>vt("/bookings",{method:"POST",body:JSON.stringify(e)}),getBookings:e=>{const t=e?new URLSearchParams(e).toString():"";return vt(`/bookings${t?`?${t}`:""}`)},getById:e=>vt(`/bookings/${e}`),updateStatus:(e,t)=>vt(`/bookings/${e}/status`,{method:"PUT",body:JSON.stringify({status:t})}),checkAvailability:(e,t,r)=>Promise.resolve({data:{available:!0,message:"Dates available"},status:200})},SL={getConfig:()=>vt("/payment/config"),createOrder:e=>vt("/payment/create-order",{method:"POST",body:JSON.stringify(e)}),verify:e=>vt("/payment/verify",{method:"POST",body:JSON.stringify(e)}),verifyForLead:e=>vt("/payment/verify-lead",{method:"POST",body:JSON.stringify(e)})},FE={getMenus:e=>{const t=e?new URLSearchParams(e).toString():"";return vt(`/menus${t?`?${t}`:""}`)},getSubmenus:e=>vt(`/menus?parentMenuId=${e}`)},Ly={toggleLike:(e,t)=>vt(`/shotlist/venue/${e}/like`,{method:"POST",body:JSON.stringify({deviceId:t})}),getAll:e=>{const t=e?`?deviceId=${encodeURIComponent(e)}`:"";return vt(`/shotlist${t}`)},checkStatus:(e,t)=>{const r=t?`?deviceId=${encodeURIComponent(t)}`:"";return vt(`/shotlist/venue/${e}/status${r}`)}};function bQ({isSidebarOpen:e,toggleSidebar:t}){const r=lr(),[s,a]=p.useState(null),[i,o]=p.useState(!1),[c,u]=p.useState(!1),[h,f]=p.useState(""),[m,y]=p.useState(""),[b,v]=p.useState([]),[N,j]=p.useState([]),[k,I]=p.useState(""),[S,O]=p.useState(!1),[P,R]=p.useState(!1),[E,C]=p.useState([]),[F,L]=p.useState(!1),[D,M]=p.useState(!1),[$,ee]=p.useState(null),q=p.useRef(null),[V,re]=p.useState(null),[U,te]=p.useState(!1),[ie,H]=p.useState(!1),z=p.useRef(null),ge=p.useRef(null);p.useEffect(()=>()=>{q.current&&clearTimeout(q.current)},[]),p.useEffect(()=>{const Y=()=>{const se=localStorage.getItem("token"),Q=localStorage.getItem("user");if(se&&Q)try{a(JSON.parse(Q))}catch(ve){console.error("Error parsing user:",ve)}else a(null)};Y();const de=se=>{se.detail?.user?a(se.detail.user):Y()},X=()=>{a(null)},pe=se=>{(se.key==="user"||se.key==="token")&&Y()};return window.addEventListener("userLogin",de),window.addEventListener("userLogout",X),window.addEventListener("storage",pe),()=>{window.removeEventListener("userLogin",de),window.removeEventListener("userLogout",X),window.removeEventListener("storage",pe)}},[]);const le=async()=>{try{o(!0);try{const Y=await tL(Dy,Oy),X=Ja.credentialFromResult(Y)?.idToken;if(X){const pe=await Ry.googleLogin(X,"customer");pe.data?.token&&pe.data?.user?(localStorage.setItem("token",pe.data.token),localStorage.setItem("user",JSON.stringify(pe.data.user)),a(pe.data.user),pe.data?.message?.includes("registered")||pe.data?.isNewUser?G.success("Registration successful! Welcome!"):G.success("Login successful!"),setTimeout(()=>{window.location.reload()},500)):G.error("Login failed. Please try again.")}o(!1)}catch(Y){if(Y.code==="auth/popup-closed-by-user"){o(!1);return}await sL(Dy,Oy)}}catch(Y){console.error("Google login error:",Y),G.error(Y.message||"Google login failed"),o(!1)}},Pe=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),u(!1),window.dispatchEvent(new CustomEvent("userLogout")),G.success("Logged out successfully"),setTimeout(()=>{window.location.reload()},500)};p.useEffect(()=>{const Y=de=>{c&&!de.target.closest(".user-info-container")&&u(!1),$&&!de.target.closest(".nav-link-wrapper")&&ee(null)};return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[c,$]),p.useEffect(()=>{(async()=>{try{O(!0);const de=await Jn.getStates();if(de.data?.success&&de.data?.states){v(de.data.states);const X=de.data.states.find(pe=>pe.toLowerCase()==="rajasthan");X&&I(X)}}catch(de){console.error("Error loading states:",de)}finally{O(!1)}})()},[]),p.useEffect(()=>{(async()=>{if(!k||!k.trim()){j([]),y(""),R(!1);return}try{R(!0);const de=await Jn.getCities(k);if(de.data?.success&&de.data?.cities)if(j(de.data.cities),k.toLowerCase()==="rajasthan"){const X=de.data.cities.find(pe=>pe.toLowerCase()==="kota");y(X||"")}else y("");else j([]),y("")}catch(de){console.error("Error loading cities:",de),j([]),y("")}finally{R(!1)}})()},[k]),p.useEffect(()=>{const Y=(pe,se=1e4)=>Promise.race([pe,new Promise((Q,ve)=>setTimeout(()=>ve(new Error("Request timeout")),se))]),de=async()=>{try{L(!0);const pe=localStorage.getItem("menus_data"),se=localStorage.getItem("menus_timestamp"),Q=1800*1e3;if(pe&&se&&Date.now()-parseInt(se,10)<Q)try{const ue=JSON.parse(pe);if(Array.isArray(ue)&&ue.length>0){C(ue),L(!1),X();return}}catch(ue){console.error("Error parsing cached menus:",ue)}await X()}catch(pe){console.error("Error loading menus:",pe);const se=localStorage.getItem("menus_data");if(se)try{const Q=JSON.parse(se);if(Array.isArray(Q)&&Q.length>0){C(Q),L(!1);return}}catch(Q){console.error("Error parsing fallback cached menus:",Q)}G.error("Could not load categories. Please try again."),C([]),L(!1)}},X=async()=>{try{const pe=await Y(FE.getMenus({active:"true",parentMenuId:null}));let se=[];pe.data&&(pe.data.menus&&Array.isArray(pe.data.menus)?se=pe.data.menus:Array.isArray(pe.data)?se=pe.data:pe.data.success&&pe.data.menus&&(se=pe.data.menus));const Q=await Promise.all(se.map(async ve=>{try{const ue=await Y(FE.getSubmenus(ve._id||ve.id));let xe=[];return ue.data&&(ue.data.menus&&Array.isArray(ue.data.menus)?xe=ue.data.menus:Array.isArray(ue.data)?xe=ue.data:ue.data.success&&ue.data.menus&&(xe=ue.data.menus)),{...ve,submenus:xe}}catch(ue){return console.error(`Error loading submenus for menu ${ve._id||ve.id}:`,ue),{...ve,submenus:[]}}}));localStorage.setItem("menus_data",JSON.stringify(Q)),localStorage.setItem("menus_timestamp",Date.now().toString()),C(Q),L(!1)}catch(pe){throw console.error("Error fetching menus from API:",pe),pe}};de()},[]),p.useEffect(()=>{if(z.current&&clearTimeout(z.current),!h||h.trim().length<2){re(null),te(!1);return}return z.current=setTimeout(async()=>{try{H(!0);const Y=await Jn.getSearchSuggestions(h.trim(),8);Y.data?.success&&Y.data?.suggestions?(re(Y.data.suggestions),te(!0)):(re(null),te(!1))}catch{re(null),te(!1)}finally{H(!1)}},300),()=>{z.current&&clearTimeout(z.current)}},[h]),p.useEffect(()=>{const Y=de=>{ge.current&&!ge.current.contains(de.target)&&te(!1)};return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[]);const Ae=Y=>{Y.preventDefault(),te(!1);const de={};h.trim()&&(de.q=h.trim()),m&&m.trim()&&(de.city=m.trim()),k&&k.trim()&&(de.state=k.trim()),r("/venues",{state:{searchParams:de}})},fe=(Y,de)=>{if(Y==="venue")f(de);else if(Y==="city"){f(de);const X=N.find(pe=>pe.toLowerCase()===de.toLowerCase());X&&y(X)}else if(Y==="state"){f(de);const X=b.find(pe=>pe.toLowerCase()===de.toLowerCase());X&&I(X)}else Y==="tag"&&f(de);te(!1),setTimeout(()=>{const X={q:de};m&&m.trim()&&(X.city=m.trim()),k&&k.trim()&&(X.state=k.trim()),r("/venues",{state:{searchParams:X}})},100)},ce=(Y,de)=>{Y.preventDefault(),Y.stopPropagation(),console.log("Submenu clicked:",de);const X=de._id||de.id,pe=de.name;return console.log("Navigating with submenuId:",X,"submenuName:",pe),r(`/venues?submenuId=${X}&submenuName=${encodeURIComponent(pe)}`,{state:{submenuId:X,submenuName:pe}}),ee(null),!1},J=(Y,de)=>{Y.preventDefault(),Y.stopPropagation(),console.log("Menu clicked:",de);const X=de._id||de.id,pe=de.name;return console.log("Navigating with menuId:",X,"menuName:",pe),r(`/venues?menuId=${X}&menuName=${encodeURIComponent(pe)}`,{state:{menuId:X,menuName:pe}}),ee(null),!1};return n.jsxs(n.Fragment,{children:[n.jsxs("nav",{className:"navbar",children:[n.jsxs("div",{className:"navbar-top",children:[n.jsx("div",{className:"navbar-left",children:n.jsxs("div",{className:"logo",children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"logo-icon",loading:"eager",decoding:"async",onError:Y=>{Y.target.onerror=null,Y.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("span",{className:"logo-text",children:"ShubhVenue"})]})}),n.jsx("div",{className:"navbar-center",children:n.jsxs("form",{className:"global-search",onSubmit:Ae,children:[n.jsxs("select",{className:"state-dropdown",value:k||"",onChange:Y=>{I(Y.target.value),y("")},children:[n.jsx("option",{value:"",children:"Select State"}),S?n.jsx("option",{children:"Loading..."}):b.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]}),n.jsxs("select",{className:"city-dropdown",value:m||"",onChange:Y=>y(Y.target.value),disabled:!k||!k.trim()||P,children:[n.jsx("option",{value:"",children:"Select City"}),P?n.jsx("option",{children:"Loading..."}):N.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]}),n.jsxs("div",{className:"search-input-wrapper",ref:ge,children:[n.jsx("input",{type:"text",placeholder:"Search Venues by Name, Sub Area, City",className:"search-input",value:h,onChange:Y=>{f(Y.target.value),te(!0)},onFocus:()=>{V&&(V.venues?.length>0||V.cities?.length>0||V.states?.length>0||V.tags?.length>0)&&te(!0)}}),U&&V&&n.jsx("div",{className:"search-suggestions",children:ie?n.jsx("div",{className:"suggestion-item loading",children:"Loading suggestions..."}):n.jsxs(n.Fragment,{children:[V.venues&&V.venues.length>0&&n.jsxs("div",{className:"suggestion-group",children:[n.jsx("div",{className:"suggestion-group-title",children:"Venues"}),V.venues.map((Y,de)=>n.jsxs("div",{className:"suggestion-item",onClick:()=>fe("venue",Y),children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),n.jsx("span",{children:Y})]},`venue-${de}`))]}),V.cities&&V.cities.length>0&&n.jsxs("div",{className:"suggestion-group",children:[n.jsx("div",{className:"suggestion-group-title",children:"Cities"}),V.cities.map((Y,de)=>n.jsxs("div",{className:"suggestion-item",onClick:()=>fe("city",Y),children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),n.jsx("span",{children:Y})]},`city-${de}`))]}),V.states&&V.states.length>0&&n.jsxs("div",{className:"suggestion-group",children:[n.jsx("div",{className:"suggestion-group-title",children:"States"}),V.states.map((Y,de)=>n.jsxs("div",{className:"suggestion-item",onClick:()=>fe("state",Y),children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),n.jsx("span",{children:Y})]},`state-${de}`))]}),V.tags&&V.tags.length>0&&n.jsxs("div",{className:"suggestion-group",children:[n.jsx("div",{className:"suggestion-group-title",children:"Tags"}),V.tags.map((Y,de)=>n.jsxs("div",{className:"suggestion-item",onClick:()=>fe("tag",Y),children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),n.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),n.jsx("span",{children:Y})]},`tag-${de}`))]}),(!V.venues||V.venues.length===0)&&(!V.cities||V.cities.length===0)&&(!V.states||V.states.length===0)&&(!V.tags||V.tags.length===0)&&n.jsx("div",{className:"suggestion-item no-results",children:"No suggestions found"})]})})]}),n.jsx("button",{type:"submit",className:"search-btn",children:n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.35-4.35"})]})})]})}),n.jsxs("div",{className:"navbar-right",children:[n.jsx("button",{type:"button",className:`mobile-search-btn ${D?"active":""}`,onClick:()=>M(Y=>!Y),"aria-label":"Search venues",children:n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"11",cy:"11",r:"7"}),n.jsx("path",{d:"m21 21-4.35-4.35"})]})}),s?n.jsxs("div",{className:"user-info-container",onClick:()=>r("/profile"),style:{cursor:"pointer"},children:[n.jsx("div",{className:"user-avatar",children:s.name?s.name.charAt(0).toUpperCase():s.email?.charAt(0).toUpperCase()||"U"}),n.jsx("span",{className:"user-name",children:s.name||s.email?.split("@")[0]}),n.jsx("button",{className:"btn-dropdown",onClick:Y=>{Y.stopPropagation(),u(!c)},title:"Menu",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"6 9 12 15 18 9"})})}),c&&n.jsxs("div",{className:"user-dropdown",onClick:Y=>Y.stopPropagation(),children:[n.jsxs("button",{className:"dropdown-item",onClick:Y=>{Y.stopPropagation(),u(!1),r("/profile")},children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Profile"]}),n.jsxs("button",{className:"dropdown-item",onClick:Y=>{Y.stopPropagation(),u(!1),r("/shotlist")},children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),"Shotlist"]}),n.jsxs("button",{className:"dropdown-item",onClick:Y=>{Y.stopPropagation(),Pe()},children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("polyline",{points:"16 17 21 12 16 7"}),n.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]}):n.jsxs("button",{className:"btn-login",onClick:le,disabled:i,children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),i?"Logging in...":"Login with Google"]})]})]}),n.jsx("div",{className:"navbar-bottom",children:n.jsxs("div",{className:"nav-links",children:[n.jsx(Ec,{to:"/",className:"nav-link",children:"Home"}),F?n.jsx("span",{className:"nav-link nav-link-muted",children:"Loading categories..."}):E.map((Y,de)=>{const X=Y._id||Y.id||de,pe=Y.submenus&&Y.submenus.length>0;return n.jsxs("div",{className:"nav-link-wrapper",onMouseEnter:()=>{q.current&&clearTimeout(q.current),ee(X)},onMouseLeave:()=>{q.current&&clearTimeout(q.current),q.current=setTimeout(()=>ee(null),150)},children:[n.jsxs("button",{type:"button",className:"nav-link nav-menu-trigger",onClick:se=>{pe&&(se.preventDefault(),ee(X)),J(se,Y)},children:[Y.name,pe&&n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),pe&&$===X&&n.jsx("div",{className:"submenu-dropdown",children:n.jsxs("ul",{className:"submenu-list",children:[n.jsx("li",{children:n.jsxs("button",{className:"submenu-item",onClick:se=>J(se,Y),style:{fontWeight:"600",color:"var(--primary-purple)"},children:["All ",Y.name]})}),Y.submenus.map(se=>n.jsx("li",{children:n.jsx("button",{className:"submenu-item",onClick:Q=>ce(Q,se),children:se.name})},se._id||se.id))]})})]},X)}),n.jsx(Ec,{to:"/booking-history",className:"nav-link",children:"Bookings"})]})})]}),D&&n.jsx("div",{className:"mobile-search-panel",children:n.jsxs("form",{className:"mobile-search-form",onSubmit:Y=>{Y.preventDefault(),Ae(Y),M(!1)},children:[n.jsxs("div",{className:"mobile-search-row",children:[n.jsxs("select",{className:"state-dropdown",value:k||"",onChange:Y=>{I(Y.target.value),y("")},children:[n.jsx("option",{value:"",children:"Select State"}),S?n.jsx("option",{children:"Loading..."}):b.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]}),n.jsxs("select",{className:"city-dropdown",value:m||"",onChange:Y=>y(Y.target.value),disabled:!k||!k.trim()||P,children:[n.jsx("option",{value:"",children:"Select City"}),P?n.jsx("option",{children:"Loading..."}):N.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]})]}),n.jsxs("div",{className:"mobile-search-row",children:[n.jsxs("div",{className:"search-input-wrapper",children:[n.jsx("input",{type:"text",placeholder:"Search Venues by Name, Sub Area, City",className:"search-input",value:h,onChange:Y=>{f(Y.target.value),te(!0)},onFocus:()=>{V&&(V.venues?.length>0||V.cities?.length>0||V.states?.length>0||V.tags?.length>0)&&te(!0)}}),U&&V&&n.jsx("div",{className:"search-suggestions mobile-suggestions",children:ie?n.jsx("div",{className:"suggestion-item loading",children:"Loading suggestions..."}):n.jsxs(n.Fragment,{children:[V.venues&&V.venues.length>0&&n.jsxs("div",{className:"suggestion-group",children:[n.jsx("div",{className:"suggestion-group-title",children:"Venues"}),V.venues.map((Y,de)=>n.jsxs("div",{className:"suggestion-item",onClick:()=>{fe("venue",Y),M(!1)},children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),n.jsx("span",{children:Y})]},`venue-${de}`))]}),V.cities&&V.cities.length>0&&n.jsxs("div",{className:"suggestion-group",children:[n.jsx("div",{className:"suggestion-group-title",children:"Cities"}),V.cities.map((Y,de)=>n.jsxs("div",{className:"suggestion-item",onClick:()=>{fe("city",Y),M(!1)},children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),n.jsx("span",{children:Y})]},`city-${de}`))]}),V.states&&V.states.length>0&&n.jsxs("div",{className:"suggestion-group",children:[n.jsx("div",{className:"suggestion-group-title",children:"States"}),V.states.map((Y,de)=>n.jsxs("div",{className:"suggestion-item",onClick:()=>{fe("state",Y),M(!1)},children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),n.jsx("span",{children:Y})]},`state-${de}`))]}),V.tags&&V.tags.length>0&&n.jsxs("div",{className:"suggestion-group",children:[n.jsx("div",{className:"suggestion-group-title",children:"Tags"}),V.tags.map((Y,de)=>n.jsxs("div",{className:"suggestion-item",onClick:()=>{fe("tag",Y),M(!1)},children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),n.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),n.jsx("span",{children:Y})]},`tag-${de}`))]}),(!V.venues||V.venues.length===0)&&(!V.cities||V.cities.length===0)&&(!V.states||V.states.length===0)&&(!V.tags||V.tags.length===0)&&n.jsx("div",{className:"suggestion-item no-results",children:"No suggestions found"})]})})]}),n.jsx("button",{type:"submit",className:"search-btn",children:n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.35-4.35"})]})}),n.jsx("button",{type:"button",className:"mobile-search-close",onClick:()=>{M(!1),te(!1)},"aria-label":"Close search",children:n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})}),n.jsxs("div",{className:"mobile-bottom-nav",children:[n.jsxs(Ec,{to:"/",className:({isActive:Y})=>`mobile-nav-item ${Y?"active":""}`,children:[n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M3 11.5L12 4l9 7.5"}),n.jsx("path",{d:"M5 10.5V20h14v-9.5"})]}),n.jsx("span",{children:"Home"})]}),n.jsxs(Ec,{to:"/booking-history",className:({isActive:Y})=>`mobile-nav-item ${Y?"active":""}`,children:[n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),n.jsx("path",{d:"M16 2v4"}),n.jsx("path",{d:"M8 2v4"}),n.jsx("path",{d:"M3 10h18"})]}),n.jsx("span",{children:"Bookings"})]})]}),n.jsx("div",{className:`sidebar-overlay ${e?"active":""}`,onClick:t}),n.jsxs("div",{className:`sidebar ${e?"active":""}`,children:[n.jsxs("div",{className:"sidebar-header",children:[n.jsxs("div",{className:"logo",children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"logo-icon",loading:"eager",decoding:"async",onError:Y=>{Y.target.onerror=null,Y.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("span",{className:"logo-text",children:"ShubhVenue"})]}),n.jsx("button",{className:"close-btn",onClick:t,children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),n.jsxs("div",{className:"sidebar-content",children:[n.jsxs("div",{className:"sidebar-search",children:[n.jsxs("select",{className:"state-dropdown",value:k||"",onChange:Y=>{I(Y.target.value),y("")},children:[n.jsx("option",{value:"",children:"Select State"}),S?n.jsx("option",{children:"Loading..."}):b.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]}),n.jsxs("select",{className:"city-dropdown",value:m||"",onChange:Y=>y(Y.target.value),disabled:!k||!k.trim()||P,children:[n.jsx("option",{value:"",children:"Select City"}),P?n.jsx("option",{children:"Loading..."}):N.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]}),n.jsx("input",{type:"text",placeholder:"Search Venues by Name, Sub Area, City",className:"search-input",value:h,onChange:Y=>f(Y.target.value)}),n.jsx("button",{type:"button",className:"search-btn",onClick:Y=>{Y.preventDefault(),Ae(Y),t()},children:n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.35-4.35"})]})})]}),n.jsx("div",{className:"sidebar-buttons",children:s?n.jsxs("div",{className:"sidebar-user-info",children:[n.jsx("div",{className:"user-avatar",children:s.name?s.name.charAt(0).toUpperCase():s.email?.charAt(0).toUpperCase()||"U"}),n.jsx("span",{className:"user-name",children:s.name||s.email?.split("@")[0]}),n.jsxs("button",{className:"btn-logout",onClick:Pe,title:"Logout",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("polyline",{points:"16 17 21 12 16 7"}),n.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]}):n.jsxs("button",{className:"btn-login",onClick:le,disabled:i,children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),i?"Logging in...":"Login with Google"]})}),n.jsxs("div",{className:"sidebar-links",children:[n.jsx(Ec,{to:"/",className:"sidebar-link",onClick:t,children:"Home"}),n.jsx(Ec,{to:"/booking-history",className:"sidebar-link",onClick:t,children:"Bookings"})]})]})]})]})}function wQ(){const{pathname:e}=Wn();return p.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e]),null}function jQ({onLoadComplete:e}){const t=lr(),[r,s]=p.useState([]),[a,i]=p.useState(0),[o,c]=p.useState(null),u=p.useRef(null),[h,f]=p.useState(""),[m,y]=p.useState(""),[b,v]=p.useState([]),[N,j]=p.useState([]),[k,I]=p.useState(!1),S=p.useRef(!1),O=p.useRef(!1),P=p.useRef({videos:!0,cities:!0,categories:!0}),R=p.useRef(e);p.useEffect(()=>{R.current=e},[e]);const E=async()=>{try{I(!0);const ee=await Jn.getCities("Rajasthan");if(ee.data?.success&&ee.data?.cities){v(ee.data.cities);const q=ee.data.cities.find(V=>V.toLowerCase()==="kota");q&&f(q)}}catch(ee){console.error("Error loading cities:",ee)}finally{I(!1),P.current.cities=!1,F()}},C=async()=>{try{const ee=await kL.getAll({active:"true"});ee.data?.success&&ee.data?.categories&&j(ee.data.categories)}catch(ee){console.error("Error loading categories:",ee)}finally{P.current.categories=!1,F()}},F=()=>{Object.values(P.current).every(q=>!q)&&R.current&&!O.current&&(O.current=!0,R.current(!0))};p.useEffect(()=>{S.current||(S.current=!0,D(),E(),C())},[]);const L=()=>{const ee={},q=new URLSearchParams;if(h&&h.trim()&&(ee.city=h.trim(),ee.state="Rajasthan",q.set("city",h.trim()),q.set("state","Rajasthan")),m){const re=N.find(U=>U.name===m);re&&(ee.categoryId=re._id,q.set("categoryId",re._id),q.set("categoryName",encodeURIComponent(m)))}const V=q.toString();t(`/venues${V?`?${V}`:""}`,{state:{searchParams:ee,categoryName:m||void 0,categoryId:ee.categoryId||void 0}})},D=async()=>{try{const q=(await pQ.getAll()).data?.videos||[];if(s(q),q.length>0){const V=q[0],re=M(V.video);c(re)}else c("https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4")}catch(ee){console.error("Error fetching videos:",ee),c("https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4")}finally{P.current.videos=!1,F()}},M=ee=>ee?ee.startsWith("/uploads/")?`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${ee}`:ee.startsWith("http://")||ee.startsWith("https://")?ee:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}/uploads/videos/${ee}`:null,$=()=>{if(r.length>1){const ee=(a+1)%r.length;i(ee);const q=r[ee],V=M(q.video);c(V)}};return p.useEffect(()=>{if(u.current&&o){u.current.preload="auto",u.current.load();const ee=()=>{u.current&&u.current.play().catch(q=>{console.error("Video play error:",q)})};return u.current.addEventListener("loadeddata",ee),u.current.addEventListener("canplay",ee),()=>{u.current&&(u.current.removeEventListener("loadeddata",ee),u.current.removeEventListener("canplay",ee))}}},[o]),n.jsxs("section",{className:"hero-section",children:[o?n.jsxs("video",{ref:u,className:"hero-video",autoPlay:!0,loop:r.length<=1,muted:!0,playsInline:!0,preload:"auto",disablePictureInPicture:!0,disableRemotePlayback:!0,onEnded:$,onError:ee=>{console.error("Video load error:",ee),c("https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4")},onLoadedMetadata:ee=>{ee.target&&ee.target.play().catch(()=>{})},children:[n.jsx("source",{src:o,type:"video/mp4"}),"Your browser does not support the video tag."]}):n.jsxs("video",{className:"hero-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",disablePictureInPicture:!0,disableRemotePlayback:!0,children:[n.jsx("source",{src:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),n.jsx("div",{className:"hero-overlay"}),n.jsxs("div",{className:"hero-content",children:[n.jsx("h1",{className:"hero-title",children:"Find Your Perfect Event Venue"}),n.jsxs("div",{className:"hero-search",children:[n.jsxs("select",{className:"hero-select",value:h,onChange:ee=>f(ee.target.value),disabled:k,children:[n.jsx("option",{value:"",children:"Select City"}),k?n.jsx("option",{children:"Loading cities..."}):b.map(ee=>n.jsx("option",{value:ee,children:ee},ee))]}),n.jsxs("select",{className:"hero-select",value:m,onChange:ee=>y(ee.target.value),children:[n.jsx("option",{value:"",children:"Select Occasion"}),N.map(ee=>n.jsx("option",{value:ee.name,children:ee.name},ee._id))]}),n.jsx("button",{className:"hero-search-btn",onClick:L,children:n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.35-4.35"})]})})]})]})]})}function NQ(){const e=lr(),[t,r]=p.useState([]),[s,a]=p.useState(!0),[i,o]=p.useState(0),[c,u]=p.useState(0),h=p.useRef(null),f=N=>N?N.startsWith("/uploads/")?`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${N}`:N.startsWith("http://")||N.startsWith("https://")?N:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}/uploads/categories/${N}`:"https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=200&h=200&fit=crop";p.useEffect(()=>{(async()=>{try{a(!0);const j=await kL.getAll({active:"true"});if(j.data?.success&&j.data?.categories){const k=j.data.categories.map(I=>({...I,image:f(I.image)}));r(k)}}catch(j){console.error("Error loading categories:",j)}finally{a(!1)}})()},[]),p.useEffect(()=>{if(!s&&t.length>0&&h.current){const N=()=>{if(h.current){const I=h.current,S=I.scrollWidth-I.clientWidth;u(Math.max(0,S)),o(I.scrollLeft)}};N();const j=setTimeout(N,100),k=setTimeout(N,500);return window.addEventListener("resize",N),()=>{clearTimeout(j),clearTimeout(k),window.removeEventListener("resize",N)}}},[t,s]);const m=()=>{h.current&&h.current.scrollBy({left:-300,behavior:"smooth"})},y=()=>{h.current&&h.current.scrollBy({left:300,behavior:"smooth"})},b=()=>{if(h.current){const N=h.current,j=N.scrollLeft,k=N.scrollWidth-N.clientWidth;o(j),u(Math.max(0,k))}},v=N=>{e(`/venues?categoryId=${N._id}&categoryName=${encodeURIComponent(N.name)}`,{state:{categoryId:N._id,categoryName:N.name}})};return n.jsxs("section",{className:"categories",children:[n.jsx("img",{src:"/image/Flowers.webp",alt:"Decorative flowers",className:"categories-flower"}),n.jsx("div",{className:"categories-container",children:n.jsxs("div",{className:"categories-wrapper",children:[n.jsx("button",{className:"category-arrow category-arrow-left",onClick:m,"aria-label":"Scroll left",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"15 18 9 12 15 6"})})}),n.jsx("div",{className:"categories-list",ref:h,onScroll:b,children:s?n.jsx("div",{style:{padding:"20px",textAlign:"center",width:"100%"},children:"Loading categories..."}):t.length>0?t.map(N=>n.jsxs("div",{className:"category-item",onClick:()=>v(N),children:[n.jsx("div",{className:"category-icon",children:n.jsx("img",{src:N.image,alt:N.name,onError:j=>{j.target.src="https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=200&h=200&fit=crop"}})}),n.jsx("p",{className:"category-label",children:N.name})]},N._id)):n.jsx("div",{style:{padding:"20px",textAlign:"center",width:"100%"},children:"No categories available"})}),n.jsx("button",{className:"category-arrow category-arrow-right",onClick:y,"aria-label":"Scroll right",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})})]})}function kQ(){return n.jsx("section",{className:"how-it-works",children:n.jsxs("div",{className:"how-it-works-container",children:[n.jsx("h2",{className:"how-it-works-title",children:"How it Works?"}),n.jsxs("div",{className:"steps-container",children:[n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-icon-wrapper",children:n.jsx("div",{className:"step-icon browse-icon",children:n.jsx("img",{src:"/image/find.png",alt:"Browse Venues"})})}),n.jsxs("div",{className:"step-content",children:[n.jsx("h3",{className:"step-title",children:"Browse Venues"}),n.jsx("p",{className:"step-description",children:"Check out the best suited Venues, compare photos, special offers and function packages."})]})]}),n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-icon-wrapper",children:n.jsx("div",{className:"step-icon quote-icon",children:n.jsx("img",{src:"/image/request.png",alt:"Request Quotes"})})}),n.jsxs("div",{className:"step-content",children:[n.jsx("h3",{className:"step-title",children:"Request Quotes"}),n.jsx("p",{className:"step-description",children:"Get custom quotes of your short-listed Venues at the click of GET FREE QUOTES button."})]})]}),n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-icon-wrapper",children:n.jsx("div",{className:"step-icon book-icon",children:n.jsx("img",{src:"/image/booking.png",alt:"Book a Venue"})})}),n.jsxs("div",{className:"step-content",children:[n.jsx("h3",{className:"step-title",children:"Book a Venue"}),n.jsx("p",{className:"step-description",children:"Select and Book the perfect venue in no time at all. Time is money, save both."})]})]}),n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-icon-wrapper",children:n.jsx("div",{className:"step-icon planning-icon",children:n.jsx("img",{src:"/image/banner.png",alt:"Event Planning"})})}),n.jsxs("div",{className:"step-content",children:[n.jsx("h3",{className:"step-title",children:"Event Planning"}),n.jsx("p",{className:"step-description",children:"Plan your event effortlessly with expert guidance. Save time, stay stress-free."})]})]})]})]})})}function SQ(){return n.jsx("section",{className:"why-venuemonk",children:n.jsxs("div",{className:"why-venuemonk-container",children:[n.jsx("h2",{className:"why-venuemonk-title",children:"Why ShubhVenue?"}),n.jsxs("div",{className:"features-container",children:[n.jsxs("div",{className:"feature",children:[n.jsx("div",{className:"feature-icon-wrapper",children:n.jsx("div",{className:"feature-icon",children:n.jsx("img",{src:"/image/saving.png",alt:"Save Money"})})}),n.jsxs("div",{className:"feature-content",children:[n.jsx("h3",{className:"feature-title",children:"Save Money"}),n.jsx("p",{className:"feature-subtitle",children:"Lowest Price Guaranteed"})]})]}),n.jsxs("div",{className:"feature",children:[n.jsx("div",{className:"feature-icon-wrapper",children:n.jsx("div",{className:"feature-icon",children:n.jsx("img",{src:"/image/checklist.png",alt:"Verified Listing"})})}),n.jsxs("div",{className:"feature-content",children:[n.jsx("h3",{className:"feature-title",children:"Verified Listing"}),n.jsx("p",{className:"feature-subtitle",children:"Dependable & Accurate"})]})]}),n.jsxs("div",{className:"feature",children:[n.jsx("div",{className:"feature-icon-wrapper",children:n.jsx("div",{className:"feature-icon",children:n.jsx("img",{src:"/image/hassle-free.png",alt:"Hassle Free Booking"})})}),n.jsxs("div",{className:"feature-content",children:[n.jsx("h3",{className:"feature-title",children:"Hassle Free Booking"}),n.jsx("p",{className:"feature-subtitle",children:"Convenience"})]})]})]})]})})}const AQ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CQ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase()),$E=e=>{const t=CQ(e);return t.charAt(0).toUpperCase()+t.slice(1)},AL=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim(),IQ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var PQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const EQ=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...c},u)=>p.createElement("svg",{ref:u,...PQ,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:AL("lucide",a),...!i&&!IQ(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,f])=>p.createElement(h,f)),...Array.isArray(i)?i:[i]]));const st=(e,t)=>{const r=p.forwardRef(({className:s,...a},i)=>p.createElement(EQ,{ref:i,iconNode:t,className:AL(`lucide-${AQ($E(e))}`,`lucide-${e}`,s),...a}));return r.displayName=$E(e),r};const TQ=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],_Q=st("arrow-down-right",TQ);const MQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],CL=st("arrow-left",MQ);const DQ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],OQ=st("arrow-up-right",DQ);const RQ=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BE=st("ban",RQ);const LQ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],FQ=st("bell",LQ);const $Q=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BQ=st("book-open",$Q);const zQ=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],IL=st("building-2",zQ);const VQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],T1=st("calendar-days",VQ);const UQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cn=st("calendar",UQ);const WQ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],HQ=st("chart-column",WQ);const qQ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wl=st("check",qQ);const GQ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mm=st("chevron-down",GQ);const KQ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],X2=st("chevron-left",KQ);const YQ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Jd=st("chevron-right",YQ);const ZQ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],QQ=st("chevron-up",ZQ);const XQ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ca=st("circle-check-big",XQ);const JQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],PL=st("circle-question-mark",JQ);const eX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hl=st("circle-x",eX);const tX=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ia=st("clock",tX);const rX=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Qf=st("credit-card",rX);const nX=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sv=st("dollar-sign",nX);const sX=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_o=st("eye-off",sX);const aX=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gr=st("eye",aX);const iX=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],oX=st("file-text",iX);const lX=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],EL=st("funnel",lX);const cX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Of=st("image",cX);const uX=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],_1=st("layout-dashboard",uX);const dX=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],M1=st("loader-circle",dX);const hX=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cu=st("lock",hX);const fX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],J2=st("log-out",fX);const mX=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],di=st("mail",mX);const pX=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gs=st("map-pin",pX);const gX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],av=st("menu",gX);const yX=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Zi=st("message-square",yX);const xX=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],TL=st("moon",xX);const vX=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],tc=st("phone",vX);const bX=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],zE=st("play",bX);const wX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fr=st("plus",wX);const jX=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],NX=st("power-off",jX);const kX=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],VE=st("power",kX);const SX=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vu=st("refresh-cw",SX);const AX=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],CX=st("reply",AX);const IX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_L=st("save",IX);const PX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],la=st("search",PX);const EX=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],TX=st("send",EX);const _X=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D1=st("settings",_X);const MX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],na=st("shield",MX);const DX=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ss=st("square-pen",DX);const OX=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ri=st("star",OX);const RX=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],ML=st("store",RX);const LX=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],DL=st("sun",LX);const FX=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],O1=st("tag",FX);const $X=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Kr=st("trash-2",$X);const BX=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],OL=st("trending-down",BX);const zX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ek=st("trending-up",zX);const VX=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Fy=st("upload",VX);const UX=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$y=st("user-cog",UX);const WX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],HX=st("user-plus",WX);const qX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sa=st("user",qX);const GX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Dm=st("users",GX);const KX=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Xf=st("video",KX);const YX=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Jf=st("wallet",YX);const ZX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],er=st("x",ZX),QX=()=>"https://shubhvenue.com/api".replace("/api","");function XX(){const e=lr(),[t,r]=p.useState([]),[s,a]=p.useState(!0),i=p.useRef(null);p.useEffect(()=>{o()},[]);const o=async()=>{try{const h=await xQ.getAll();console.log("Vendor Categories API Response:",h);let f=[];h.data&&(Array.isArray(h.data)?f=h.data:h.data.categories&&Array.isArray(h.data.categories)?f=h.data.categories:h.data.data&&Array.isArray(h.data.data)&&(f=h.data.data)),console.log("Parsed Categories:",f);const m=f.filter(y=>y.isActive!==!1);console.log("Active Categories:",m),r(m),a(!1)}catch(h){console.error("Failed to fetch vendor categories:",h),console.error("Error details:",h.response||h.message),a(!1)}},c=()=>{i.current&&i.current.scrollBy({left:-320,behavior:"smooth"})},u=()=>{i.current&&i.current.scrollBy({left:320,behavior:"smooth"})};return s?n.jsx("section",{className:"vendor-categories",children:n.jsxs("div",{className:"vendor-categories-container",children:[n.jsx("h2",{className:"vendor-categories-title",children:"Vendors By Category"}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})]})}):t.length===0?(console.log("No categories to display - returning null"),null):(console.log("Rendering",t.length,"categories"),n.jsx("section",{className:"vendor-categories",children:n.jsxs("div",{className:"vendor-categories-container",children:[n.jsx("h2",{className:"vendor-categories-title",children:"Vendors By Category"}),n.jsxs("div",{className:"vendor-categories-wrapper",children:[n.jsx("button",{className:"vendor-categories-nav-btn vendor-categories-nav-left",onClick:c,"aria-label":"Scroll left",children:n.jsx(X2,{className:"w-6 h-6"})}),n.jsx("div",{className:"vendor-categories-scroll",ref:i,children:t.map(h=>n.jsxs("div",{className:"vendor-category-card",onClick:()=>{e(`/venues?vendorCategoryId=${h._id}&vendorCategoryName=${encodeURIComponent(h.name)}`,{state:{vendorCategoryId:h._id,vendorCategoryName:h.name}})},children:[n.jsx("div",{className:"vendor-category-image-wrapper",children:h.image?n.jsx("img",{src:h.image.startsWith("http")?h.image:`${QX()}${h.image}`,alt:h.name,className:"vendor-category-image",onError:f=>{f.target.src="/image/placeholder-category.jpg"}}):n.jsx("div",{className:"vendor-category-placeholder",children:n.jsx("span",{className:"vendor-category-placeholder-text",children:h.name.charAt(0).toUpperCase()})})}),n.jsx("div",{className:"vendor-category-name",children:h.name})]},h._id))}),n.jsx("button",{className:"vendor-categories-nav-btn vendor-categories-nav-right",onClick:u,"aria-label":"Scroll right",children:n.jsx(Jd,{className:"w-6 h-6"})})]})]})}))}const ql=e=>e?e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"";function JX({onLoadComplete:e}){const t=lr(),[r,s]=p.useState([]),[a,i]=p.useState(!0),o=p.useRef(!1),c=p.useRef(!1),u=p.useRef(e);p.useEffect(()=>{u.current=e},[e]);const h=y=>{if(!y||y.length===0)return"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop";const b=Array.isArray(y)?y[0]:y;return b.startsWith("/uploads/")?`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${b}`:b.startsWith("http://")||b.startsWith("https://")?b:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}/uploads/venues/${b}`},f=y=>y?typeof y=="number"?`${y.toFixed(2)} Lakh`:y:"Price on request",m=y=>y?typeof y=="object"&&y.city?`${y.city}${y.state?`, ${y.state}`:""}`:typeof y=="string"?y.length>20?`${y.substring(0,20)}...`:y:"Location not specified":"Location not specified";return p.useEffect(()=>{if(o.current)return;o.current=!0,(async()=>{const b=v=>{const N=v?.data;let j=[];return N?.success&&N?.data?j=Array.isArray(N.data)?N.data:[]:N?.venues?j=Array.isArray(N.venues)?N.venues:[]:N?.data?j=Array.isArray(N.data)?N.data:[]:Array.isArray(N)?j=N:N?.results&&Array.isArray(N.results)&&(j=N.results),Array.isArray(j)?j:[]};try{i(!0);const v=await Jn.getAll({isFeatured:"true",limit:"6",status:"active"});if(console.log("Featured Venues API Response:",v),console.log("Response Data:",v.data),v.data){let N=b(v);if(N.length===0){console.log("No active featured venues, trying approved featured venues...");const k=await Jn.getAll({isFeatured:"true",limit:"6",status:"approved"});N=b(k)}if(console.log("Extracted Featured Venues Data:",N),console.log("Featured Venues Count:",N.length),N.length===0){console.log("No featured venues found, fetching approved venues as fallback...");const k=await Jn.getAll({status:"active",limit:"6"});if(N=b(k),N.length===0){console.log("No active venues found, trying admin-approved venues...");const I=await Jn.getAll({status:"approved",limit:"6"});N=b(I)}console.log("Fallback Venues Count:",N.length)}const j=N.slice(0,6).map(k=>{let I=0;k.rating&&(typeof k.rating=="object"&&k.rating.average!==void 0?I=Number(k.rating.average)||0:typeof k.rating=="number"?I=k.rating:k.averageRating&&(I=Number(k.averageRating)||0));let S=0;return k.reviewCount!==void 0?S=Number(k.reviewCount)||0:k.rating&&typeof k.rating=="object"&&k.rating.totalReviews!==void 0?S=Number(k.rating.totalReviews)||0:k.reviews!==void 0&&(S=Number(k.reviews)||0),{id:k._id||k.id,name:k.name||"Unnamed Venue",image:h(k.images||k.image||k.coverImage),rating:I,reviews:S,location:m(k.location),type:k.categoryId?.name||k.category?.name||k.venueType||"Venue",price:f(k.price||k.pricingInfo?.rentalPrice),rooms:k.rooms||k.roomCount||0,capacity:k.capacity?typeof k.capacity=="object"?`${k.capacity.minGuests||k.capacity.min||0}-${k.capacity.maxGuests||k.capacity.max||0}`:`${k.capacity}`:null,highlights:k.highlights||[],moreTags:k.tags?.length||0,categoryId:k.categoryId,category:k.category}});console.log("Formatted Featured Venues:",j),s(j)}else console.error("Invalid API response:",v.data),G.error("Failed to load featured venues"),s([])}catch(v){console.error("Error fetching featured venues:",v),G.error("Failed to load featured venues"),s([])}finally{i(!1),u.current&&!c.current&&(c.current=!0,u.current(!0))}})()},[]),n.jsx("section",{className:"featured-venues",children:n.jsxs("div",{className:"featured-venues-container",children:[n.jsx("h2",{className:"featured-venues-title",children:"Featured Venues"}),a?n.jsxs("div",{className:"featured-venues-loading",children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"featured-venues-loading-logo",onError:y=>{y.target.onerror=null,y.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("div",{className:"featured-venues-loading-text",children:"Loading featured venues..."})]}):r.length>0?n.jsx("div",{className:"venues-grid",children:r.map(y=>n.jsxs("div",{className:"venue-card",onClick:()=>{const b=ql(y.name),v=y.categoryId?.name||y.category?.name||y.type,N=v?ql(v):null,j=N?`/venue/${N}/${b}`:`/venue/${b}`;t(j)},children:[n.jsx("div",{className:"venue-image-wrapper",children:n.jsx("img",{src:y.image,alt:y.name,className:"venue-image",onError:b=>{b.target.src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop"}})}),n.jsxs("div",{className:"venue-content",children:[n.jsx("h3",{className:"venue-name",children:y.name}),n.jsxs("div",{className:"venue-rating",children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),n.jsx("span",{className:"rating-value",children:typeof y.rating=="number"&&y.rating>0?y.rating.toFixed(1):"N/A"}),n.jsxs("span",{className:"rating-reviews",children:["(",y.reviews," reviews)"]})]}),n.jsxs("div",{className:"venue-location",children:[n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),n.jsx("span",{children:y.location}),n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),n.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),n.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),n.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]}),n.jsx("span",{children:y.type})]}),n.jsxs("div",{className:"venue-tags",children:[y.capacity&&y.capacity!=="Capacity not specified"&&n.jsxs("span",{className:"venue-tag",children:[y.capacity," Guests"]}),y.rooms>0&&n.jsxs("span",{className:"venue-tag",children:[y.rooms," Rooms"]}),y.highlights&&y.highlights.length>0&&n.jsxs("span",{className:"venue-tag",children:[y.highlights.length," Highlights"]}),y.moreTags>0&&n.jsxs("span",{className:"venue-tag",children:["+",y.moreTags," more"]})]})]})]},y.id))}):n.jsx("div",{style:{padding:"60px 20px",textAlign:"center"},children:n.jsx("div",{style:{fontSize:"18px",color:"var(--gray-medium)"},children:"No featured venues available"})}),n.jsx("div",{className:"view-all-container",children:n.jsxs("button",{className:"view-all-btn",onClick:()=>t("/venues"),children:["View All",n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("polyline",{points:"9 18 15 12 9 6"})})]})})]})})}function eJ(){const e=lr();return n.jsxs("section",{className:"cta-section",children:[n.jsx("img",{src:"/image/Flowers-bottom.png",alt:"Decorative flowers",className:"cta-flower cta-flower--top-left"}),n.jsx("img",{src:"/image/Flowers-bottom.png",alt:"Decorative flowers",className:"cta-flower cta-flower--bottom-right"}),n.jsxs("div",{className:"cta-container",children:[n.jsxs("div",{className:"cta-content",children:[n.jsx("h2",{className:"cta-title",children:"Ready to Book Your Perfect Venue?"}),n.jsx("p",{className:"cta-description",children:"Join thousands of satisfied customers who found their dream venue with us. Start your journey today and make your event unforgettable."}),n.jsxs("div",{className:"cta-buttons",children:[n.jsxs("button",{className:"cta-btn-primary",onClick:()=>e("/venues"),children:["Browse All Venues",n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),n.jsx("button",{className:"cta-btn-secondary",onClick:()=>e("/contact-us"),children:"Contact Us"})]})]}),n.jsxs("div",{className:"cta-stats",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("div",{className:"stat-number",children:"500+"}),n.jsx("div",{className:"stat-label",children:"Venues"})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("div",{className:"stat-number",children:"10K+"}),n.jsx("div",{className:"stat-label",children:"Happy Customers"})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("div",{className:"stat-number",children:"50+"}),n.jsx("div",{className:"stat-label",children:"Cities"})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("div",{className:"stat-number",children:"98%"}),n.jsx("div",{className:"stat-label",children:"Satisfaction Rate"})]})]})]})]})}function tJ({onLoadComplete:e}){const[t,r]=p.useState([]),[s,a]=p.useState(!0),[i,o]=p.useState(0),[c,u]=p.useState(2),h=p.useRef(!1),f=p.useRef(!1),m=p.useRef(e);p.useEffect(()=>{m.current=e},[e]),p.useEffect(()=>{if(h.current)return;h.current=!0,(async()=>{try{a(!0);const I=await gQ.getAll();I.data?.success&&I.data?.testimonials?r(I.data.testimonials):r([])}catch(I){console.error("Error fetching testimonials:",I),G.error("Failed to load testimonials"),r([])}finally{a(!1),m.current&&!f.current&&(f.current=!0,m.current(!0))}})()},[]),p.useEffect(()=>{const k=()=>{const I=window.innerWidth<=768?1:2;u(I)};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const y=Math.ceil(t.length/c);p.useEffect(()=>{o(0)},[c]);const b=()=>{o(k=>k===0?y-1:k-1)},v=()=>{o(k=>k===y-1?0:k+1)},N=k=>{o(k)},j=()=>{const k=i*c;return t.slice(k,k+c)};return s?n.jsx("section",{className:"testimonials",children:n.jsxs("div",{className:"testimonials-container",children:[n.jsx("h2",{className:"testimonials-title",children:"Testimonials"}),n.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite"},onError:k=>{k.target.onerror=null,k.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("div",{className:"loading-spinner",style:{margin:"0 auto"}}),n.jsx("p",{style:{marginTop:"20px",color:"var(--gray-medium)"},children:"Loading testimonials..."})]})]})}):t.length===0?null:n.jsx("section",{id:"testimonials",className:"testimonials",children:n.jsxs("div",{className:"testimonials-container",children:[n.jsx("h2",{className:"testimonials-title",children:"Testimonials"}),n.jsxs("div",{className:"testimonials-slider",children:[n.jsx("button",{className:"testimonials-arrow testimonials-arrow-left",onClick:b,"aria-label":"Previous testimonials",children:n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("polyline",{points:"15 18 9 12 15 6"})})}),n.jsx("div",{className:"testimonials-content",children:j().map(k=>n.jsxs("div",{className:"testimonial-card",children:[n.jsx("div",{className:"testimonial-quote-open",children:n.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.996 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.984zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"})})}),n.jsx("p",{className:"testimonial-text",children:k.text}),n.jsx("div",{className:"testimonial-quote-close",children:n.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.996 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.984zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"})})}),n.jsxs("div",{className:"testimonial-author",children:[n.jsx("div",{className:"testimonial-name",children:k.name}),k.event&&n.jsx("div",{className:"testimonial-event",children:k.event})]})]},k._id||k.id))}),n.jsx("button",{className:"testimonials-arrow testimonials-arrow-right",onClick:v,"aria-label":"Next testimonials",children:n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),n.jsx("div",{className:"testimonials-dots",children:Array.from({length:y}).map((k,I)=>n.jsx("button",{className:`testimonial-dot ${I===i?"active":""}`,onClick:()=>N(I),"aria-label":`Go to page ${I+1}`},I))})]})})}function rJ({onLoadComplete:e}){const[t,r]=p.useState(0),[s,a]=p.useState([]),[i,o]=p.useState(!0),c=p.useRef(!1),u=p.useRef(!1),h=p.useRef(e);p.useEffect(()=>{h.current=e},[e]),p.useEffect(()=>{if(c.current)return;c.current=!0,(async()=>{try{o(!0);const y=await yQ.getAll();y.data?.success&&y.data?.faqs?a(y.data.faqs):a([])}catch(y){console.error("Error fetching FAQs:",y),G.error("Failed to load FAQs"),a([])}finally{o(!1),h.current&&!u.current&&(u.current=!0,h.current(!0))}})()},[]);const f=m=>{r(t===m?null:m)};return i?n.jsx("section",{className:"faq-section",children:n.jsxs("div",{className:"faq-container",children:[n.jsx("h2",{className:"faq-title",children:"Frequently Asked Questions"}),n.jsx("p",{className:"faq-subtitle",children:"Got questions? We've got answers!"}),n.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite"},onError:m=>{m.target.onerror=null,m.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("div",{className:"loading-spinner",style:{margin:"0 auto"}}),n.jsx("p",{style:{marginTop:"20px",color:"var(--gray-medium)"},children:"Loading FAQs..."})]})]})}):s.length===0?null:n.jsx("section",{className:"faq-section",children:n.jsxs("div",{className:"faq-container",children:[n.jsx("h2",{className:"faq-title",children:"Frequently Asked Questions"}),n.jsx("p",{className:"faq-subtitle",children:"Got questions? We've got answers!"}),n.jsx("div",{className:"faq-list",children:s.map((m,y)=>n.jsxs("div",{className:`faq-item ${t===y?"open":""}`,children:[n.jsxs("button",{className:"faq-question",onClick:()=>f(y),"aria-expanded":t===y,children:[n.jsxs("div",{className:"faq-question-content",children:[n.jsx("span",{className:"faq-number",children:String(y+1).padStart(2,"0")}),n.jsx("span",{className:"faq-question-text",children:m.question})]}),n.jsx("div",{className:"faq-icon-wrapper",children:n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"faq-icon",children:n.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),n.jsx("div",{className:"faq-answer",children:n.jsx("p",{children:m.answer})})]},m._id||m.id))})]})})}function mn(){const e=lr(),[t,r]=p.useState({companyName:"ShubhVenue",description:"Your trusted partner in finding the perfect venue for every occasion. Making event planning simple and stress-free.",address:"",phone:"",email:"",facebook:"",twitter:"",instagram:"",linkedin:"",copyright:" 2024 ShubhVenue. All rights reserved."}),[s,a]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{a(!0);const o=await NL.get();o.data?.success&&o.data?.company&&r(o.data.company)}catch(o){console.error("Error fetching company data:",o)}finally{a(!1)}})()},[]),s?n.jsx("footer",{className:"footer",children:n.jsx("div",{className:"footer-container",children:n.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"rgba(255, 255, 255, 0.7)"},children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"70px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite",filter:"brightness(0) invert(1)"},onError:i=>{i.target.onerror=null,i.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTAiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTMiIHk9IjEzIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),"Loading..."]})})}):n.jsx("footer",{className:"footer",children:n.jsxs("div",{className:"footer-container",children:[n.jsxs("div",{className:"footer-content",children:[n.jsxs("div",{className:"footer-column",children:[n.jsxs("div",{className:"footer-logo-container",children:[n.jsx("div",{className:"footer-logo-wrapper",children:n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"footer-logo-img",onError:i=>{i.target.onerror=null,i.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHZpZXdCb3g9IjAgMCA0NSA0NSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ1IiBoZWlnaHQ9IjQ1IiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSIxMC41IiB5PSIxMC41IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}})}),n.jsx("h3",{className:"footer-logo",children:t.companyName||"ShubhVenue"})]}),n.jsx("p",{className:"footer-description",children:t.description||"Your trusted partner in finding the perfect venue for every occasion. Making event planning simple and stress-free."}),n.jsxs("div",{className:"footer-social",children:[t.facebook&&n.jsx("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"Facebook",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),t.twitter&&n.jsx("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"Twitter",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})}),t.instagram&&n.jsx("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"Instagram",children:n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),n.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),n.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),t.linkedin&&n.jsx("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"LinkedIn",children:n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),n.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),n.jsx("circle",{cx:"4",cy:"4",r:"2"})]})})]})]}),n.jsxs("div",{className:"footer-column",children:[n.jsx("h4",{className:"footer-heading",children:"Quick Links"}),n.jsxs("ul",{className:"footer-links",children:[n.jsx("li",{children:n.jsx(Ks,{to:"/about-us",children:"About Us"})}),n.jsx("li",{children:n.jsx(Ks,{to:"/how-it-works",children:"How It Works"})}),n.jsx("li",{children:n.jsx(Ks,{to:"/venues",children:"Featured Venues"})}),n.jsx("li",{children:n.jsx("a",{href:"/#testimonials",onClick:i=>{i.preventDefault(),window.location.pathname==="/"?window.scrollTo({top:document.getElementById("testimonials")?.offsetTop||0,behavior:"smooth"}):(e("/#testimonials"),setTimeout(()=>{window.scrollTo({top:document.getElementById("testimonials")?.offsetTop||0,behavior:"smooth"})},100))},children:"Testimonials"})}),n.jsx("li",{children:n.jsx(Ks,{to:"/blog",children:"Blog"})})]})]}),n.jsxs("div",{className:"footer-column",children:[n.jsx("h4",{className:"footer-heading",children:"Services"}),n.jsxs("ul",{className:"footer-links",children:[n.jsx("li",{children:n.jsx("a",{href:"/venues",onClick:i=>{i.preventDefault(),e("/venues",{state:{categoryName:"Wedding"}})},children:"Wedding Venues"})}),n.jsx("li",{children:n.jsx("a",{href:"/venues",onClick:i=>{i.preventDefault(),e("/venues",{state:{categoryName:"Corporate Event"}})},children:"Corporate Events"})}),n.jsx("li",{children:n.jsx("a",{href:"/venues",onClick:i=>{i.preventDefault(),e("/venues",{state:{categoryName:"Birthday"}})},children:"Birthday Parties"})}),n.jsx("li",{children:n.jsx("a",{href:"/venues",onClick:i=>{i.preventDefault(),e("/venues",{state:{categoryName:"Conference"}})},children:"Conferences"})}),n.jsx("li",{children:n.jsx("a",{href:"/venues",onClick:i=>{i.preventDefault(),e("/venues",{state:{categoryName:"Anniversary"}})},children:"Anniversaries"})})]})]}),n.jsxs("div",{className:"footer-column",children:[n.jsx("h4",{className:"footer-heading",children:"Contact"}),n.jsxs("ul",{className:"footer-contact",children:[t.address&&n.jsxs("li",{children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),n.jsx("span",{children:t.address})]}),t.phone&&n.jsxs("li",{children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),n.jsx("span",{children:t.phone})]}),t.email&&n.jsxs("li",{children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),n.jsx("polyline",{points:"22,6 12,13 2,6"})]}),n.jsx("span",{children:t.email})]})]})]})]}),n.jsxs("div",{className:"footer-bottom",children:[n.jsxs("div",{className:"footer-copyright",children:[n.jsx("p",{children:t.copyright||" 2024 ShubhVenue. All rights reserved."}),n.jsx("p",{className:"footer-version",children:"Version 1.0.0"})]}),n.jsxs("div",{className:"footer-bottom-right",children:[n.jsxs("div",{className:"footer-vendor-buttons",children:[n.jsxs("a",{href:"/vendor/login",target:"_blank",rel:"noopener noreferrer",className:"footer-vendor-btn footer-vendor-btn-login",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),n.jsx("polyline",{points:"10 17 15 12 10 7"}),n.jsx("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]}),"Vendor Login"]}),n.jsxs("a",{href:"/vendor/register",target:"_blank",rel:"noopener noreferrer",className:"footer-vendor-btn footer-vendor-btn-register",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),n.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),n.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),"Vendor Register"]})]}),n.jsxs("div",{className:"footer-legal",children:[n.jsx(Ks,{to:"/privacy-policy",children:"Privacy Policy"}),n.jsx(Ks,{to:"/terms-of-service",children:"Terms of Service"}),n.jsx(Ks,{to:"/cookie-policy",children:"Cookie Policy"})]})]})]})]})})}const nJ=["Jaipur","Kota","Delhi","Mumbai","Bangalore","Chennai","Kolkata","Hyderabad","Pune","Ahmedabad","Surat","Lucknow","Kanpur","Nagpur","Indore","Thane","Bhopal","Visakhapatnam","Patna","Vadodara","Ghaziabad","Ludhiana","Agra","Nashik","Faridabad","Meerut","Rajkot","Varanasi","Srinagar","Amritsar","Jodhpur","Udaipur","Bikaner","Ajmer","Jalandhar","Patiala","Chandigarh","Gurgaon","Noida","Greater Noida","Gwalior","Jabalpur","Raipur","Bhubaneswar","Coimbatore","Madurai","Mysore","Vijayawada","Kochi","Thiruvananthapuram"],iv=({title:e,description:t,keywords:r,image:s="/image/venuebook.png",location:a=null,type:i="website",url:o=null})=>{const c=Wn(),u="https://shubhvenue.com",h=o||`${u}${c.pathname}`,f=a?`Best Wedding Venues in ${a} | ${a} Venues | ShubhVenue`:"Best Wedding Venues in India | Jaipur, Kota, Delhi, Mumbai | ShubhVenue",m=a?`Find the perfect wedding venue in ${a}. Book banquet halls, hotels, palaces, resorts, and convention centers in ${a}. Best ${a.toLowerCase()} venues for weddings, parties, and events.`:"Find the perfect wedding venue in Jaipur, Kota, Delhi, Mumbai, and all major cities in India. Book banquet halls, hotels, palaces, resorts, and convention centers for your special day. Best venues for weddings, parties, and events.",y=a?`${a.toLowerCase()} venues, wedding venues in ${a.toLowerCase()}, ${a.toLowerCase()} wedding halls, ${a.toLowerCase()} banquet halls, ${a.toLowerCase()} marriage venues, ${a.toLowerCase()} event venues, ${a.toLowerCase()} party venues, best venues in ${a.toLowerCase()}, affordable venues ${a.toLowerCase()}, luxury venues ${a.toLowerCase()}, venues near ${a.toLowerCase()}, wedding booking ${a.toLowerCase()}, venue booking ${a.toLowerCase()}, wedding venues, venues, banquet halls, wedding halls, marriage venues, event venues, party venues`:"wedding venues, venues, jaipur venues, kota venues, delhi venues, mumbai venues, banquet halls, wedding halls, marriage venues, event venues, party venues, hotel venues, palace venues, resort venues, convention centers, wedding booking, venue booking, best wedding venues, affordable wedding venues, luxury wedding venues, wedding venues near me, venues in jaipur, venues in kota, venues in delhi, venues in mumbai, venues in rajasthan, venues in india",b=e||f,v=t||m,N=r||y,j=()=>{const S={"@context":"https://schema.org","@type":"LocalBusiness",name:"ShubhVenue",description:v,url:u,logo:`${u}${s}`,image:`${u}${s}`,address:{"@type":"PostalAddress",addressCountry:"IN",addressRegion:a||"India"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",reviewCount:"500"},priceRange:"$$",servesCuisine:"Indian",areaServed:nJ.map(O=>({"@type":"City",name:O})),hasOfferCatalog:{"@type":"OfferCatalog",name:"Wedding Venues",itemListElement:[{"@type":"Offer",itemOffered:{"@type":"Service",name:"Wedding Venue Booking",description:"Book wedding venues in multiple cities across India"}}]}};return a&&(S.address.addressLocality=a,S.areaServed=[{"@type":"City",name:a}]),S},k=()=>{const S=c.pathname.split("/").filter(Boolean),O=[{"@type":"ListItem",position:1,name:"Home",item:u}];let P="";return S.forEach((R,E)=>{P+=`/${R}`,O.push({"@type":"ListItem",position:E+2,name:R.charAt(0).toUpperCase()+R.slice(1).replace(/-/g," "),item:`${u}${P}`})}),{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:O}},I=()=>({"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:`What are the best wedding venues in ${a||"India"}?`,acceptedAnswer:{"@type":"Answer",text:`ShubhVenue offers the best wedding venues in ${a||"major cities across India"} including Jaipur, Kota, Delhi, Mumbai, and more. We provide banquet halls, hotels, palaces, resorts, and convention centers for all types of events.`}},{"@type":"Question",name:`How do I book a venue in ${a||"my city"}?`,acceptedAnswer:{"@type":"Answer",text:`You can easily book a venue through ShubhVenue by browsing our extensive collection of venues, checking availability, and making a reservation online. We offer venues in ${a||"all major cities"} including Jaipur, Kota, Delhi, Mumbai, and more.`}},{"@type":"Question",name:"What types of venues are available?",acceptedAnswer:{"@type":"Answer",text:"We offer various types of venues including banquet halls, hotels, palaces, resorts, convention centers, marriage gardens, rooftop venues, and clubs. All venues are available in major cities like Jaipur, Kota, Delhi, Mumbai, and across India."}}]});return n.jsxs(e7,{children:[n.jsx("title",{children:b}),n.jsx("meta",{name:"title",content:b}),n.jsx("meta",{name:"description",content:v}),n.jsx("meta",{name:"keywords",content:N}),n.jsx("meta",{property:"og:type",content:i}),n.jsx("meta",{property:"og:url",content:h}),n.jsx("meta",{property:"og:title",content:b}),n.jsx("meta",{property:"og:description",content:v}),n.jsx("meta",{property:"og:image",content:`${u}${s}`}),n.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),n.jsx("meta",{property:"twitter:url",content:h}),n.jsx("meta",{property:"twitter:title",content:b}),n.jsx("meta",{property:"twitter:description",content:v}),n.jsx("meta",{property:"twitter:image",content:`${u}${s}`}),n.jsx("link",{rel:"canonical",href:h}),a&&n.jsxs(n.Fragment,{children:[n.jsx("meta",{name:"geo.region",content:"IN"}),n.jsx("meta",{name:"geo.placename",content:a})]}),n.jsx("script",{type:"application/ld+json",children:JSON.stringify(j())}),n.jsx("script",{type:"application/ld+json",children:JSON.stringify(k())}),n.jsx("script",{type:"application/ld+json",children:JSON.stringify(I())})]})};function sJ(){const[e,t]=p.useState({heroSection:!0,featuredVenues:!0,testimonials:!0,faq:!0}),[r,s]=p.useState(!0),a=p.useCallback((h,f)=>{t(m=>m[h]===!f?m:{...m,[h]:!f})},[]);p.useEffect(()=>{if(Object.values(e).every(f=>!f)){const f=setTimeout(()=>{s(!1)},300);return()=>clearTimeout(f)}},[e]);const i=p.useCallback(h=>{a("heroSection",h)},[a]),o=p.useCallback(h=>{a("featuredVenues",h)},[a]),c=p.useCallback(h=>{a("testimonials",h)},[a]),u=p.useCallback(h=>{a("faq",h)},[a]);return n.jsxs(n.Fragment,{children:[n.jsx(iv,{}),r&&n.jsx("div",{className:"home-page-loader",children:n.jsx("div",{className:"home-loader-content",children:n.jsx("div",{className:"home-loading-spinner"})})}),n.jsxs("div",{className:`home-content ${r?"home-content-hidden":""}`,children:[n.jsx(jQ,{onLoadComplete:i}),n.jsx(NQ,{}),n.jsx(kQ,{}),n.jsx(SQ,{}),n.jsx(XX,{}),n.jsx(JX,{onLoadComplete:o}),n.jsx(eJ,{}),n.jsx(tJ,{onLoadComplete:c}),n.jsx(rJ,{onLoadComplete:u}),n.jsx(mn,{})]})]})}function tk({isOpen:e,onClose:t,onLoginSuccess:r}){const[s,a]=p.useState(!1);if(!e)return null;const i=async()=>{try{a(!0);try{const o=await tL(Dy,Oy),u=Ja.credentialFromResult(o)?.idToken;if(u){const h=await Ry.googleLogin(u,"customer");h.data?.token&&h.data?.user?(localStorage.setItem("token",h.data.token),localStorage.setItem("user",JSON.stringify(h.data.user)),h.data?.message?.includes("registered")||h.data?.isNewUser?G.success("Registration successful! Welcome!"):G.success("Login successful!"),window.dispatchEvent(new CustomEvent("userLogin",{detail:{user:h.data.user}})),r&&r(h.data.user),t()):G.error("Login failed. Please try again.")}a(!1)}catch(o){if(o.code==="auth/popup-closed-by-user"){a(!1);return}await sL(Dy,Oy)}}catch(o){console.error("Google login error:",o),G.error(o.message||"Google login failed"),a(!1)}};return n.jsx("div",{className:"login-modal-overlay",onClick:t,children:n.jsxs("div",{className:"login-modal",onClick:o=>o.stopPropagation(),children:[n.jsx("button",{className:"login-modal-close",onClick:t,children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),n.jsxs("div",{className:"login-modal-content",children:[n.jsx("div",{className:"login-modal-icon",children:n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),n.jsx("h2",{className:"login-modal-title",children:"Login Required"}),n.jsx("p",{className:"login-modal-message",children:"Please login to continue with your booking and access all features."}),n.jsx("button",{className:"login-modal-button",onClick:i,disabled:s,children:s?n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"spinner",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Logging in..."]}):n.jsxs(n.Fragment,{children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),n.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),n.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),n.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Login with Google"]})})]})]})})}function UE(){const{slug:e,categorySlug:t}=D7(),r=lr(),[s,a]=p.useState(null),[i,o]=p.useState(!0),[c,u]=p.useState(!1),[h,f]=p.useState(!1),[m,y]=p.useState(!1),[b,v]=p.useState(!1),[N,j]=p.useState(null),[k,I]=p.useState(null),[S,O]=p.useState(null),[P,R]=p.useState(!1),[E,C]=p.useState(!1),[F,L]=p.useState(!1),[D,M]=p.useState(null),[$,ee]=p.useState(0),[q,V]=p.useState(!1),[re,U]=p.useState(typeof window<"u"?window.innerWidth<=768:!1),[te,ie]=p.useState(null),[H,z]=p.useState({}),[ge,le]=p.useState(!1),[Pe,Ae]=p.useState(!1),[fe,ce]=p.useState(!1),[J,Y]=p.useState({rating:5,comment:""}),[de,X]=p.useState({checkIn:"",checkOut:"",guests:"",rooms:"",fullName:"",email:"",phone:"",eventType:"",foodPreference:"both",specialRequests:""}),pe=we=>{O(we)},se=we=>{if(!we||isNaN(we))return"0:00";const He=Math.floor(we/60),Ve=Math.floor(we%60);return`${He}:${Ve.toString().padStart(2,"0")}`},Q=(we,He)=>{const Ve=He.duration;Ve&&!isNaN(Ve)&&z(Ft=>({...Ft,[we]:se(Ve)}))},ve=we=>{if(!we||we==="Not specified")return"Not specified";const He=we.match(/(\d{1,2}):(\d{2})/);if(!He)return we;let Ve=parseInt(He[1]);const Ft=He[2],Oe=Ve>=12?"PM":"AM";return Ve=Ve%12,Ve=Ve||12,`${Ve}:${Ft} ${Oe}`};p.useEffect(()=>{(async()=>{try{const He=document.createElement("script");He.src="https://checkout.razorpay.com/v1/checkout.js",He.async=!0,document.body.appendChild(He);const Ve=await SL.getConfig();Ve.data?.success&&Ve.data?.razorpayKeyId&&M(Ve.data.razorpayKeyId)}catch(He){console.error("Error loading Razorpay:",He)}})()},[]);const ue=()=>{let we=localStorage.getItem("deviceId");return we||(we=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",we)),we},xe=async()=>{if(!de.checkIn||!de.checkOut||!de.guests||!de.fullName||!de.email||!de.phone||!de.eventType){G.error("Please fill all required fields");return}try{C(!0);const we=new Date(de.checkIn),He=new Date(de.checkOut),Oe=1e4*(Math.ceil((He-we)/(1e3*60*60*24))||1),Re={venueId:s.id,date:de.checkIn,dateFrom:de.checkIn,dateTo:de.checkOut,guests:parseInt(de.guests),rooms:de.rooms&&de.rooms!==""&&parseInt(de.rooms)||0,eventType:de.eventType,marriageFor:"boy",name:de.fullName,email:de.email,phone:de.phone,foodPreference:de.foodPreference,totalAmount:Oe,deviceId:ue(),specialRequests:de.specialRequests},zt=await Zf.create(Re);zt.data?.success?(G.success(zt.data.message||"Inquiry submitted successfully! Venue will contact you soon."),v(!1),X({checkIn:"",checkOut:"",guests:"",rooms:"",fullName:"",email:"",phone:"",eventType:"",foodPreference:"both",specialRequests:""})):G.error(zt.data?.error||"Failed to submit inquiry")}catch(we){console.error("Contact venue error:",we),G.error(we.message||"Failed to submit inquiry")}finally{C(!1)}},Le=we=>we?we.startsWith("http://")||we.startsWith("https://")?we:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${we.startsWith("/")?we:`/${we}`}`:"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=1200&h=600&fit=crop",it=we=>we?typeof we=="object"&&we.city?`${we.city}${we.state?`, ${we.state}`:""}`:typeof we=="string"?we:"Location not specified":"Location not specified";p.useEffect(()=>{(async()=>{const He=t?e:e||"";if(!He){G.error("Venue not found"),r("/venues");return}try{o(!0);const Ve=await Jn.getAll();let Ft=null;if(Ve.data){let Re=[];Ve.data.success&&Ve.data.data?Re=Array.isArray(Ve.data.data)?Ve.data.data:[]:Ve.data.venues?Re=Array.isArray(Ve.data.venues)?Ve.data.venues:[]:Ve.data.data?Re=Array.isArray(Ve.data.data)?Ve.data.data:[]:Array.isArray(Ve.data)?Re=Ve.data:Ve.data.results&&Array.isArray(Ve.data.results)&&(Re=Ve.data.results);const zt=Re.find(nr=>ql(nr.name||"")===He);zt&&(Ft=zt._id||zt.id)}if(!Ft){G.error("Venue not found"),r("/venues");return}const Oe=await Jn.getById(Ft);if(Oe.data?.success&&Oe.data?.data){const Re=Oe.data.data,zt=Re.rating?.reviews||[];console.log("Venue Data from API:",Re),console.log("Booking Button Enabled:",Re.bookingButtonEnabled),console.log("Leads Button Enabled:",Re.leadsButtonEnabled),console.log("Highlights from API:",Re.highlights),console.log("Reviews with Replies from Venue API:",zt),zt.forEach((Ye,ne)=>{Ye.reply&&Ye.reply.message?console.log(` Review ${ne} HAS reply:`,{message:Ye.reply.message,repliedBy:Ye.reply.repliedBy,repliedAt:Ye.reply.repliedAt}):console.log(` Review ${ne} has NO reply`,Ye)});let nr=0;Re.rating&&(typeof Re.rating=="object"&&Re.rating.average!==void 0?nr=Number(Re.rating.average)||0:typeof Re.rating=="number"&&(nr=Re.rating));let Vr=0;Re.reviewCount!==void 0?Vr=Number(Re.reviewCount)||0:Re.rating&&typeof Re.rating=="object"&&Re.rating.totalReviews!==void 0&&(Vr=Number(Re.rating.totalReviews)||0);const Pt={id:Re._id||Re.id,name:Re.name||"Unnamed Venue",previousName:Re.previousName||Re.formerName||null,images:(Re.gallery?.photos||Re.images||(Re.coverImage?[Re.coverImage]:[])).map(Ye=>Le(Ye)),rating:nr,reviews:Vr,location:Re.location&&typeof Re.location=="object"&&`${Re.location.city||""}${Re.location.state?`, ${Re.location.state}`:""}`.trim()||it(Re.location),fullLocation:Re.location&&typeof Re.location=="object"&&`${Re.location.address||""} ${Re.location.city||""} ${Re.location.state||""}`.trim()||it(Re.location),locationCity:Re.location&&typeof Re.location=="object"?Re.location.city:null,locationState:Re.location&&typeof Re.location=="object"?Re.location.state:null,type:Re.category?.name||Re.categoryId?.name||Re.venueType||"Venue",price:Re.price||Re.pricingInfo?.rentalPrice||0,pricingInfo:Re.pricingInfo||null,rooms:Re.rooms||0,capacity:Re.capacity?typeof Re.capacity=="object"?`${Re.capacity.minGuests||Re.capacity.min||0}-${Re.capacity.maxGuests||Re.capacity.max||0}`:`${Re.capacity}`:"Not specified",description:Re.about||Re.description||"No description available",amenities:Array.isArray(Re.amenities)?Re.amenities:[],highlights:Array.isArray(Re.highlights)?Re.highlights:[],policies:{checkIn:ve(Re.availability?.openTime)||"Not specified",checkOut:ve(Re.availability?.closeTime)||"Not specified",cancellation:Re.bookingInfo?.cancellationPolicy||"Contact venue for details",pets:"Contact venue",smoking:"Contact venue"},ratingBreakdown:(()=>{const Ye={5:0,4:0,3:0,2:0,1:0};return(Re.rating?.reviews||[]).forEach(_e=>{const Ke=_e.rating||_e.ratingValue||0;Ke>=1&&Ke<=5&&(Ye[Ke]=(Ye[Ke]||0)+1)}),Ye})(),reviewsList:zt.map((ne,_e)=>{const Ke=ne.user||ne.userId?.name||ne.userName||"Anonymous",Et=Ke?Ke.charAt(0).toUpperCase():"A",It=ne.rating||ne.ratingValue||0,Ur=ne.comment||ne.text||ne.review||"",sn=ne.date||ne.createdAt||ne.updatedAt||new Date().toISOString();let Fs=sn;sn instanceof Date?Fs=sn.toISOString().split("T")[0]:typeof sn=="string"&&(Fs=sn.split("T")[0]);const Rn=new Date(sn),Fa=new Date,Yr=Math.abs(Fa-Rn),sr=Math.floor(Yr/(1e3*60*60*24));let jt=Fs;if(sr===0)jt="Today";else if(sr===1)jt="1 day ago";else if(sr<7)jt=`${sr} days ago`;else if(sr<30){const _t=Math.floor(sr/7);jt=`${_t} ${_t===1?"week":"weeks"} ago`}else if(sr<365){const _t=Math.floor(sr/30);jt=`${_t} ${_t===1?"month":"months"} ago`}else jt=Fs;const $t=ne.reply||null;let Xt=null;if($t&&typeof $t=="object"&&$t.message&&typeof $t.message=="string"&&$t.message.trim()){const _t=$t.repliedAt||$t.date||new Date;let Ln=_t;_t instanceof Date?Ln=_t.toISOString().split("T")[0]:typeof _t=="string"?Ln=_t.split("T")[0]:Ln=new Date().toISOString().split("T")[0];const an=new Date(_t);if(isNaN(an.getTime()))Xt={message:$t.message.trim(),repliedBy:$t.repliedBy&&typeof $t.repliedBy=="object"&&$t.repliedBy.name?$t.repliedBy.name:typeof $t.repliedBy=="string"?$t.repliedBy:"Venue Owner",repliedAt:"Recently"};else{const Fn=Math.abs(Fa-an),K=Math.floor(Fn/(1e3*60*60*24));let me=Ln;if(K===0)me="Today";else if(K===1)me="1 day ago";else if(K<7)me=`${K} days ago`;else if(K<30){const oe=Math.floor(K/7);me=`${oe} ${oe===1?"week":"weeks"} ago`}else if(K<365){const oe=Math.floor(K/30);me=`${oe} ${oe===1?"month":"months"} ago`}else me=Ln;Xt={message:$t.message.trim(),repliedBy:$t.repliedBy&&typeof $t.repliedBy=="object"&&$t.repliedBy.name?$t.repliedBy.name:typeof $t.repliedBy=="string"?$t.repliedBy:"Venue Owner",repliedAt:me}}}return{id:ne._id||ne.id||_e,userName:Ke,userAvatar:Et,rating:It,date:jt,comment:Ur,verified:ne.verified||!1,reply:Xt}}),albums:(()=>{const Ye=[];Re.gallery?.photos&&Array.isArray(Re.gallery.photos)&&Ye.push(...Re.gallery.photos),Re.images&&Array.isArray(Re.images)&&Ye.push(...Re.images),Re.coverImage&&!Ye.includes(Re.coverImage)&&Ye.push(Re.coverImage);const ne=[...new Set(Ye)];return ne.length>0?[{id:1,title:"Gallery",coverImage:Le(ne[0]),imageCount:ne.length,images:ne.map(_e=>Le(_e))}]:[]})(),videos:(()=>{const Ye=Re.galleryInfo?.videos||Re.gallery?.videos||Re.videos||[];return Array.isArray(Ye)&&Ye.length>0?Ye.map((ne,_e)=>{const Ke=Le(ne);return{id:_e+1,title:`Video ${_e+1}`,thumbnail:Ke,videoUrl:Ke,duration:"0:00"}}):[]})(),bookingButtonEnabled:Re.bookingButtonEnabled!==void 0?Re.bookingButtonEnabled:!0,leadsButtonEnabled:Re.leadsButtonEnabled!==void 0?Re.leadsButtonEnabled:!0};Pt.images.length===0&&(Pt.images=["https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=1200&h=600&fit=crop"]),console.log("Formatted Venue:",Pt),console.log("Formatted Highlights:",Pt.highlights),console.log("Highlights Array Check:",Array.isArray(Pt.highlights),Pt.highlights.length),a(Pt)}else G.error("Venue not found"),r("/venues")}catch(Ve){console.error("Error fetching venue:",Ve),G.error("Failed to load venue details"),r("/venues")}finally{o(!1)}})()},[e,t,r]),p.useEffect(()=>{(async()=>{if(s?.id)try{const He=ue(),Ve=await Ly.checkStatus(s.id,He);Ve.data?.success&&Ae(Ve.data.isLiked||!1)}catch(He){console.error("Error checking shotlist status:",He)}})()},[s?.id]);const St=async()=>{try{const we=window.location.href;navigator.share?(await navigator.share({title:s?.name||"Venue",text:s?.description||`Check out this venue: ${s?.name||""}`,url:we}),G.success("Shared successfully!")):(await navigator.clipboard.writeText(we),G.success("URL copied to clipboard!"))}catch(we){if(we.name!=="AbortError")try{await navigator.clipboard.writeText(window.location.href),G.success("URL copied to clipboard!")}catch{const Ve=window.location.href,Ft=document.createElement("textarea");Ft.value=Ve,Ft.style.position="fixed",Ft.style.opacity="0",document.body.appendChild(Ft),Ft.select();try{document.execCommand("copy"),G.success("URL copied to clipboard!")}catch{G.error("Failed to copy URL. Please copy manually: "+Ve)}document.body.removeChild(Ft)}}},La=async()=>{if(s?.id)try{ce(!0);const we=ue(),He=await Ly.toggleLike(s.id,we);He.data?.success?(Ae(He.data.isLiked),He.data.isLiked?G.success("Venue added to shotlist"):G.success("Venue removed from shotlist")):G.error(He.data?.error||"Failed to update shotlist")}catch(we){console.error("Error toggling like:",we),G.error(we.message||"Failed to update shotlist")}finally{ce(!1)}};p.useEffect(()=>{ee(0)},[s?.id]),p.useEffect(()=>{const we=()=>{U(window.innerWidth<=768)};return we(),window.addEventListener("resize",we),()=>window.removeEventListener("resize",we)},[]),p.useEffect(()=>{if(!s||!s.images||s.images.length<=1||q)return;const we=setInterval(()=>{ee(He=>He===s.images.length-1?0:He+1)},4e3);return()=>clearInterval(we)},[s?.images,s?.images?.length,q]);const ur=async()=>{const we=t?e:e||"";if(we)try{const He=await Jn.getAll();let Ve=null;if(He.data){let Oe=[];He.data.success&&He.data.data?Oe=Array.isArray(He.data.data)?He.data.data:[]:He.data.venues?Oe=Array.isArray(He.data.venues)?He.data.venues:[]:He.data.data?Oe=Array.isArray(He.data.data)?He.data.data:[]:Array.isArray(He.data)?Oe=He.data:He.data.results&&Array.isArray(He.data.results)&&(Oe=He.data.results);const Re=Oe.find(zt=>ql(zt.name||"")===we);Re&&(Ve=Re._id||Re.id)}if(!Ve)return;const Ft=await Jn.getById(Ve);if(Ft.data?.success&&Ft.data?.data){const Oe=Ft.data.data,Re=Oe.rating?.reviews||[];let zt=0;Oe.rating&&(typeof Oe.rating=="object"&&Oe.rating.average!==void 0?zt=Number(Oe.rating.average)||0:typeof Oe.rating=="number"&&(zt=Oe.rating));let nr=0;Oe.reviewCount!==void 0?nr=Number(Oe.reviewCount)||0:Oe.rating&&typeof Oe.rating=="object"&&Oe.rating.totalReviews!==void 0&&(nr=Number(Oe.rating.totalReviews)||0);const Vr={id:Oe._id||Oe.id,name:Oe.name||"Unnamed Venue",previousName:Oe.previousName||Oe.formerName||null,images:(Oe.gallery?.photos||Oe.images||(Oe.coverImage?[Oe.coverImage]:[])).map(Pt=>Le(Pt)),rating:zt,reviews:nr,location:Oe.location&&typeof Oe.location=="object"&&`${Oe.location.city||""}${Oe.location.state?`, ${Oe.location.state}`:""}`.trim()||it(Oe.location),fullLocation:Oe.location&&typeof Oe.location=="object"&&`${Oe.location.address||""} ${Oe.location.city||""} ${Oe.location.state||""}`.trim()||it(Oe.location),locationCity:Oe.location&&typeof Oe.location=="object"?Oe.location.city:null,locationState:Oe.location&&typeof Oe.location=="object"?Oe.location.state:null,type:Oe.category?.name||Oe.categoryId?.name||Oe.venueType||"Venue",price:Oe.price||Oe.pricingInfo?.rentalPrice||0,pricingInfo:Oe.pricingInfo||null,rooms:Oe.rooms||0,capacity:Oe.capacity?typeof Oe.capacity=="object"?`${Oe.capacity.minGuests||Oe.capacity.min||0}-${Oe.capacity.maxGuests||Oe.capacity.max||0}`:`${Oe.capacity}`:"Not specified",description:Oe.about||Oe.description||"No description available",amenities:Array.isArray(Oe.amenities)?Oe.amenities:[],highlights:Array.isArray(Oe.highlights)?Oe.highlights:[],policies:{checkIn:ve(Oe.availability?.openTime)||"Not specified",checkOut:ve(Oe.availability?.closeTime)||"Not specified",cancellation:Oe.bookingInfo?.cancellationPolicy||"Contact venue for details",pets:"Contact venue",smoking:"Contact venue"},ratingBreakdown:(()=>{const Pt={5:0,4:0,3:0,2:0,1:0};return Re.forEach(ne=>{const _e=ne.rating||ne.ratingValue||0;_e>=1&&_e<=5&&(Pt[_e]=(Pt[_e]||0)+1)}),Pt})(),reviewsList:Re.map((Ye,ne)=>{const _e=Ye.user||Ye.userId?.name||Ye.userName||"Anonymous",Ke=_e?_e.charAt(0).toUpperCase():"A",Et=Ye.rating||Ye.ratingValue||0,It=Ye.comment||Ye.text||Ye.review||"",Ur=Ye.date||Ye.createdAt||Ye.updatedAt||new Date().toISOString();let sn=Ur;Ur instanceof Date?sn=Ur.toISOString().split("T")[0]:typeof Ur=="string"&&(sn=Ur.split("T")[0]);const Fs=new Date(Ur),Rn=new Date,Fa=Math.abs(Rn-Fs),Yr=Math.floor(Fa/(1e3*60*60*24));let sr=sn;if(Yr===0)sr="Today";else if(Yr===1)sr="1 day ago";else if(Yr<7)sr=`${Yr} days ago`;else if(Yr<30){const Xt=Math.floor(Yr/7);sr=`${Xt} ${Xt===1?"week":"weeks"} ago`}else if(Yr<365){const Xt=Math.floor(Yr/30);sr=`${Xt} ${Xt===1?"month":"months"} ago`}else sr=sn;const jt=Ye.reply||null;let $t=null;if(jt&&typeof jt=="object"&&jt.message&&typeof jt.message=="string"&&jt.message.trim()){const Xt=jt.repliedAt||jt.date||new Date;let _t=Xt;Xt instanceof Date?_t=Xt.toISOString().split("T")[0]:typeof Xt=="string"?_t=Xt.split("T")[0]:_t=new Date().toISOString().split("T")[0];const Ln=new Date(Xt);if(isNaN(Ln.getTime()))$t={message:jt.message.trim(),repliedBy:jt.repliedBy&&typeof jt.repliedBy=="object"&&jt.repliedBy.name?jt.repliedBy.name:typeof jt.repliedBy=="string"?jt.repliedBy:"Venue Owner",repliedAt:"Recently"};else{const an=Math.abs(Rn-Ln),Fn=Math.floor(an/(1e3*60*60*24));let K=_t;if(Fn===0)K="Today";else if(Fn===1)K="1 day ago";else if(Fn<7)K=`${Fn} days ago`;else if(Fn<30){const me=Math.floor(Fn/7);K=`${me} ${me===1?"week":"weeks"} ago`}else if(Fn<365){const me=Math.floor(Fn/30);K=`${me} ${me===1?"month":"months"} ago`}else K=_t;$t={message:jt.message.trim(),repliedBy:jt.repliedBy&&typeof jt.repliedBy=="object"&&jt.repliedBy.name?jt.repliedBy.name:typeof jt.repliedBy=="string"?jt.repliedBy:"Venue Owner",repliedAt:K}}}return{id:Ye._id||Ye.id||ne,userName:_e,userAvatar:Ke,rating:Et,date:sr,comment:It,verified:Ye.verified||!1,reply:$t}}),albums:(()=>{const Pt=[];Oe.gallery?.photos&&Array.isArray(Oe.gallery.photos)&&Pt.push(...Oe.gallery.photos),Oe.images&&Array.isArray(Oe.images)&&Pt.push(...Oe.images),Oe.coverImage&&!Pt.includes(Oe.coverImage)&&Pt.push(Oe.coverImage);const Ye=[...new Set(Pt)];return Ye.length>0?[{id:1,title:"Gallery",coverImage:Le(Ye[0]),imageCount:Ye.length,images:Ye.map(ne=>Le(ne))}]:[]})(),videos:Oe.gallery?.videos?Oe.gallery.videos.map((Pt,Ye)=>({id:Ye+1,title:`Video ${Ye+1}`,thumbnail:Le(Oe.coverImage),videoUrl:Le(Pt),duration:"0:00"})):[],bookingButtonEnabled:Oe.bookingButtonEnabled!==void 0?Oe.bookingButtonEnabled:!0,leadsButtonEnabled:Oe.leadsButtonEnabled!==void 0?Oe.leadsButtonEnabled:!0};Vr.images.length===0&&(Vr.images=["https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=1200&h=600&fit=crop"]),a(Vr)}}catch(He){console.error("Error refreshing venue:",He)}},bs=async we=>{if(we.preventDefault(),!localStorage.getItem("token")){G.error("Please login to submit a review");return}if(!s||!s.id){G.error("Venue information not available");return}try{u(!0);const Ve=await vQ.create(s.id,J.rating,J.comment);Ve.data?.success?(G.success("Review submitted successfully!"),f(!1),Y({rating:5,comment:""}),await ur()):G.error(Ve.data?.error||"Failed to submit review")}catch(Ve){console.error("Error submitting review:",Ve),G.error(Ve.message||"Failed to submit review. Please try again.")}finally{u(!1)}};if(i)return n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",flexDirection:"column",gap:"20px"},children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"80px",width:"auto",objectFit:"contain",animation:"pulse 2s ease-in-out infinite"},onError:we=>{we.target.onerror=null,we.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTYiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMjgiIHk9IjI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("p",{style:{color:"var(--gray-medium)",fontSize:"16px"},children:"Loading venue details..."})]});if(!s)return n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",flexDirection:"column",gap:"20px"},children:[n.jsx("h2",{children:"Venue not found"}),n.jsx("button",{onClick:()=>r("/venues"),style:{padding:"12px 24px",backgroundColor:"#8B5CF6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Back to Venues"})]});const kr=s?.location?.city||s?.location?.state||null,vn=s?.name||"",Tr=s?.description||s?.highlights?.join(", ")||"",_r=s?.images?.[0]?Le(s.images[0]):"https://shubhvenue.com/image/venuebook.png";return n.jsxs("div",{className:"venue-detail",children:[n.jsx(iv,{title:s?`${vn} - Best Wedding Venue in ${kr||"India"} | ShubhVenue`:"Venue Details | ShubhVenue",description:s?`Book ${vn} in ${kr||"India"} for your wedding. ${Tr.substring(0,150)}... Best wedding venue with excellent facilities.`:"Find the perfect wedding venue for your special day.",keywords:s?`${vn}, ${kr} venues, wedding venue ${kr}, ${kr} wedding halls, ${kr} banquet halls, wedding booking ${kr}, venue booking`:"wedding venues, venues, venue booking",location:kr,image:_r,type:"website"}),s&&n.jsx("div",{className:"breadcrumb-nav",children:n.jsxs("div",{className:"breadcrumb-container",children:[n.jsx("a",{href:"/",className:"breadcrumb-item",children:"Home"}),n.jsx("span",{className:"breadcrumb-separator",children:" > "}),n.jsx("a",{href:"/venues",className:"breadcrumb-item",children:"Venues"}),s.type&&s.type!=="Venue"&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"breadcrumb-separator",children:" > "}),n.jsx("span",{className:"breadcrumb-item",children:s.type})]}),s.location&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"breadcrumb-separator",children:" > "}),n.jsxs("span",{className:"breadcrumb-item",children:["Wedding Venues ",s.location]})]}),n.jsx("span",{className:"breadcrumb-separator",children:" > "}),n.jsx("span",{className:"breadcrumb-item active",children:s.name})]})}),n.jsxs("div",{className:"venue-gallery-slider-wrapper",children:[n.jsx("div",{className:"venue-gallery-slider",children:n.jsxs("div",{className:"slider-container",onMouseEnter:()=>V(!0),onMouseLeave:()=>V(!1),onTouchStart:we=>{!re||!s?.images?.length||ie(we.touches[0].clientX)},onTouchMove:we=>{if(!re||te===null)return;const He=we.touches[0].clientX-te;Math.abs(He)>10&&we.preventDefault()},onTouchEnd:we=>{if(!re||te===null||!s?.images?.length)return;const Ve=we.changedTouches[0].clientX-te;Math.abs(Ve)>40&&(Ve<0?ee(Oe=>Oe===s.images.length-1?0:Oe+1):ee(Oe=>Oe===0?s.images.length-1:Oe-1)),ie(null)},children:[s.images.length>1&&n.jsx("button",{className:"slider-nav-btn slider-prev",onClick:()=>ee(we=>we===0?s.images.length-1:we-1),"aria-label":"Previous image",children:n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"15 18 9 12 15 6"})})}),n.jsx("div",{className:"slider-wrapper",children:n.jsx("div",{className:"slider-track-single",children:n.jsx("div",{className:"slider-slide-single",children:n.jsx("img",{src:Le(s.images[$]),alt:`${s.name} ${$+1}`,onClick:()=>I(Le(s.images[$])),onError:we=>{we.target.src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=1200&h=600&fit=crop"}})})})}),s.images.length>1&&n.jsx("button",{className:"slider-nav-btn slider-next",onClick:()=>ee(we=>we===s.images.length-1?0:we+1),"aria-label":"Next image",children:n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})}),n.jsxs("div",{className:"slider-right-buttons",children:[(s.bookingButtonEnabled===!0||s.bookingButtonEnabled===void 0)&&n.jsxs("button",{className:"slider-action-btn book-btn",onClick:()=>{if(!localStorage.getItem("token")){G.error("Please login to continue with booking"),L(!0);return}r("/booking",{state:{venue:s}})},children:["Book Now",n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),(s.leadsButtonEnabled===!0||s.leadsButtonEnabled===void 0)&&n.jsx("button",{className:"slider-action-btn contact-btn",onClick:()=>r("/contact-venue",{state:{venue:s}}),children:"Contact Venue"}),n.jsxs("div",{className:"slider-info-note",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),n.jsx("span",{children:"Best price guaranteed. Free cancellation."})]})]})]}),n.jsx("div",{className:"venue-detail-container",children:n.jsx("div",{className:"venue-detail-content",children:n.jsxs("div",{className:"venue-info-main",children:[n.jsx("div",{className:"venue-header",children:n.jsxs("div",{className:"venue-title-section",children:[n.jsx("div",{className:"venue-title-row",children:n.jsxs("div",{className:"venue-title-left",children:[n.jsx("h1",{className:"venue-title",children:s.name}),s.previousName&&n.jsxs("p",{className:"venue-previous-name",children:["(Formerly known as ",s.previousName,")"]})]})}),n.jsxs("div",{className:"venue-meta",children:[n.jsxs("div",{className:"venue-location",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),n.jsx("span",{children:s.location}),n.jsx("span",{className:"view-map-link",onClick:()=>le(!0),style:{cursor:"pointer"},children:"(View on Map)"})]}),s.fullLocation&&n.jsx("div",{className:"venue-address",children:s.fullLocation})]}),n.jsxs("div",{className:"venue-action-buttons",children:[n.jsxs("button",{className:"venue-action-btn",onClick:()=>I(s.images[0]),children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),n.jsx("polyline",{points:"21 15 16 10 5 21"})]}),n.jsxs("span",{children:[s.images?.length||0," Photos"]})]}),n.jsxs("button",{className:`venue-action-btn ${Pe?"liked":""}`,onClick:La,disabled:fe,title:Pe?"Remove from shotlist":"Add to shotlist",children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:Pe?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),n.jsx("span",{children:fe?"...":"Shortlist"})]}),n.jsxs("button",{className:"venue-action-btn",onClick:()=>f(!0),children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M12 20h9"}),n.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]}),n.jsx("span",{children:"Write a Review"})]}),n.jsxs("button",{className:"venue-action-btn",onClick:St,children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"18",cy:"5",r:"3"}),n.jsx("circle",{cx:"6",cy:"12",r:"3"}),n.jsx("circle",{cx:"18",cy:"19",r:"3"}),n.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),n.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),n.jsx("span",{children:"Share"})]})]})]})}),n.jsxs("div",{className:"venue-section",children:[n.jsx("h2",{className:"section-title",children:"About This Venue"}),n.jsx("p",{className:"venue-description",children:s.description})]}),s.highlights&&s.highlights.length>0&&n.jsxs("div",{className:"venue-section",children:[n.jsx("h2",{className:"section-title",children:"Highlights"}),n.jsx("ul",{className:"highlights-list",children:s.highlights.map((we,He)=>n.jsxs("li",{children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"20 6 9 17 4 12"})}),we]},He))})]}),n.jsxs("div",{className:"venue-section",children:[n.jsx("h2",{className:"section-title",children:"Amenities"}),n.jsx("div",{className:"amenities-grid",children:s.amenities.map((we,He)=>n.jsxs("div",{className:"amenity-item",children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"20 6 9 17 4 12"})}),n.jsx("span",{children:we})]},He))})]}),n.jsxs("div",{className:"venue-section",children:[n.jsx("h2",{className:"section-title",children:"Policies & Guidelines"}),n.jsxs("div",{className:"policies-grid",children:[n.jsxs("div",{className:"policy-item",children:[n.jsx("span",{className:"policy-label",children:"Check-in"}),n.jsx("span",{className:"policy-value",children:s.policies.checkIn})]}),n.jsxs("div",{className:"policy-item",children:[n.jsx("span",{className:"policy-label",children:"Check-out"}),n.jsx("span",{className:"policy-value",children:s.policies.checkOut})]}),n.jsxs("div",{className:"policy-item",children:[n.jsx("span",{className:"policy-label",children:"Cancellation"}),n.jsx("span",{className:"policy-value",children:s.policies.cancellation})]}),n.jsxs("div",{className:"policy-item",children:[n.jsx("span",{className:"policy-label",children:"Pets"}),n.jsx("span",{className:"policy-value",children:s.policies.pets})]}),n.jsxs("div",{className:"policy-item",children:[n.jsx("span",{className:"policy-label",children:"Smoking"}),n.jsx("span",{className:"policy-value",children:s.policies.smoking})]})]})]}),n.jsxs("div",{className:"venue-section",children:[n.jsx("h2",{className:"section-title",children:"Portfolio & Albums"}),n.jsx("div",{className:"album-images-grid",style:{marginTop:"24px"},children:(()=>{const we=[];s.albums&&Array.isArray(s.albums)&&s.albums.forEach(Ve=>{Ve.images&&Array.isArray(Ve.images)&&we.push(...Ve.images)}),s.images&&Array.isArray(s.images)&&s.images.forEach(Ve=>{we.includes(Ve)||we.push(Ve)});const He=[...new Set(we)];return He.length>0?He.map((Ve,Ft)=>n.jsx("div",{className:"album-image-item",onClick:()=>I(Ve),style:{cursor:"pointer"},children:n.jsx("img",{src:Ve,alt:`Gallery ${Ft+1}`})},Ft)):n.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px",color:"#666"},children:"No photos available"})})()})]}),s.videos&&Array.isArray(s.videos)&&s.videos.length>0&&n.jsxs("div",{className:"venue-section",children:[n.jsx("h2",{className:"section-title",children:"Videos"}),n.jsx("div",{className:"videos-grid",children:s.videos.map(we=>n.jsxs("div",{className:"video-card",onClick:()=>pe(we),children:[n.jsxs("div",{className:"video-thumbnail-wrapper",children:[n.jsx("video",{src:we.videoUrl,preload:"metadata",muted:!0,playsInline:!0,className:"video-thumbnail",onLoadedMetadata:He=>{Q(we.id,He.target)},onError:He=>{He.target.style.display="none";const Ve=document.createElement("div");Ve.className="video-thumbnail-placeholder",Ve.innerHTML='<svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>',He.target.parentNode.appendChild(Ve)}}),n.jsx("div",{className:"video-play-overlay",children:n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"rgba(0,0,0,0.5)"}),n.jsx("polygon",{points:"10 8 16 12 10 16",fill:"white"})]})}),n.jsx("div",{className:"video-duration",children:H[we.id]||we.duration||"0:00"})]}),n.jsx("h3",{className:"video-title",children:we.title})]},we.id))})]}),n.jsxs("div",{className:"venue-section",children:[n.jsx("div",{className:"reviews-header",children:n.jsxs("div",{children:[n.jsx("h2",{className:"section-title",children:"Ratings & Reviews"}),n.jsx("div",{className:"reviews-summary",children:n.jsxs("div",{className:"overall-rating",children:[n.jsx("span",{className:"overall-rating-value",children:typeof s.rating=="number"?s.rating.toFixed(1):"0.0"}),n.jsx("div",{className:"overall-rating-stars",children:[...Array(5)].map((we,He)=>{const Ve=He+1,Ft=typeof s.rating=="number"?s.rating:0,Oe=Ve<=Math.floor(Ft);return n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:Oe?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:Oe?"star-filled":"star-empty",children:n.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})},He)})}),n.jsxs("span",{className:"overall-rating-count",children:["Based on ",s.reviews," reviews"]})]})})]})}),n.jsxs("div",{className:"rating-breakdown",children:[n.jsx("h3",{className:"breakdown-title",children:"Rating Breakdown"}),n.jsx("div",{className:"breakdown-bars",children:[5,4,3,2,1].map(we=>{const He=s.ratingBreakdown[we]||0,Ve=s.reviews>0?He/s.reviews*100:0;return n.jsxs("div",{className:"breakdown-item",children:[n.jsx("span",{className:"breakdown-star",children:we}),n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),n.jsx("div",{className:"breakdown-bar",children:n.jsx("div",{className:"breakdown-bar-fill",style:{width:`${Ve}%`}})}),n.jsx("span",{className:"breakdown-count",children:He})]},we)})})]}),n.jsxs("div",{className:"reviews-list",children:[n.jsx("h3",{className:"reviews-list-title",children:"Guest Reviews"}),s.reviewsList&&s.reviewsList.length>0?s.reviewsList.map(we=>n.jsxs("div",{className:"review-card",children:[n.jsxs("div",{className:"review-header",children:[n.jsxs("div",{className:"review-user",children:[n.jsx("div",{className:"review-avatar",children:we.userAvatar}),n.jsxs("div",{className:"review-user-info",children:[n.jsxs("div",{className:"review-user-name",children:[we.userName,we.verified&&n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",className:"verified-badge",children:[n.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})]}),n.jsx("div",{className:"review-date",children:we.date})]})]}),n.jsx("div",{className:"review-rating",children:[...Array(5)].map((He,Ve)=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:Ve<we.rating?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:Ve<we.rating?"star-filled":"star-empty",children:n.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})},Ve))})]}),n.jsx("p",{className:"review-comment",children:we.comment}),we.reply&&we.reply.message&&typeof we.reply.message=="string"&&we.reply.message.trim()&&n.jsxs("div",{className:"vendor-reply",children:[n.jsxs("div",{className:"vendor-reply-header",children:[n.jsxs("div",{className:"vendor-reply-badge",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),n.jsx("span",{children:we.reply.repliedBy||"Venue Owner"})]}),n.jsx("span",{className:"vendor-reply-date",children:we.reply.repliedAt||"Recently"})]}),n.jsx("p",{className:"vendor-reply-message",children:we.reply.message})]})]},we.id)):n.jsx("div",{className:"no-reviews",children:n.jsx("p",{children:"No reviews yet. Be the first to review this venue!"})}),n.jsxs("button",{className:"write-review-btn",onClick:()=>f(!0),children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),n.jsx("line",{x1:"9",y1:"10",x2:"15",y2:"10"}),n.jsx("line",{x1:"12",y1:"7",x2:"12",y2:"13"})]}),"Write a Review"]})]})]})]})})}),N&&n.jsx("div",{className:"modal-overlay",onClick:()=>j(null),children:n.jsxs("div",{className:"album-modal",onClick:we=>we.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:N.title}),n.jsx("button",{className:"modal-close",onClick:()=>j(null),children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),n.jsx("div",{className:"album-images-grid",children:N.images.map((we,He)=>n.jsx("div",{className:"album-image-item",onClick:()=>I(we),children:n.jsx("img",{src:we,alt:`${N.title} ${He+1}`})},He))})]})}),k&&n.jsx("div",{className:"modal-overlay",onClick:()=>I(null),children:n.jsxs("div",{className:"image-modal",onClick:we=>we.stopPropagation(),children:[n.jsx("button",{className:"modal-close",onClick:()=>I(null),children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),n.jsx("img",{src:k,alt:"Full size"})]})}),S&&n.jsx("div",{className:"modal-overlay",onClick:()=>O(null),children:n.jsxs("div",{className:"video-modal",onClick:we=>we.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:S.title}),n.jsx("button",{className:"modal-close",onClick:()=>O(null),children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),n.jsxs("video",{className:"video-player-full",controls:!0,autoPlay:!0,children:[n.jsx("source",{src:S.videoUrl,type:"video/mp4"}),"Your browser does not support the video tag."]})]})}),ge&&s&&n.jsx("div",{className:"modal-overlay",onClick:()=>le(!1),children:n.jsxs("div",{className:"map-modal",onClick:we=>we.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("div",{children:[n.jsx("h2",{children:s.name}),n.jsx("p",{className:"map-location-text",children:s.fullLocation||s.location})]}),n.jsx("button",{className:"modal-close",onClick:()=>le(!1),children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),n.jsx("div",{className:"map-container",children:n.jsx("iframe",{width:"100%",height:"100%",style:{border:0,borderRadius:"8px"},loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade",src:`https://www.google.com/maps?q=${encodeURIComponent(`${s.name}, ${s.fullLocation||s.location||""}`)}&output=embed`})}),n.jsx("div",{className:"map-actions",children:n.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${s.name}, ${s.fullLocation||s.location||""}`)}`,target:"_blank",rel:"noopener noreferrer",className:"map-open-btn",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),n.jsx("polyline",{points:"15 3 21 3 21 9"}),n.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),"Open in Google Maps"]})})]})}),b&&n.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:n.jsxs("div",{className:"booking-modal",onClick:we=>we.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("div",{children:[n.jsxs("h2",{children:["Contact ",s?.name]}),n.jsxs("p",{className:"booking-venue-info",children:[s?.type,"  ",s?.location]})]}),n.jsx("button",{className:"modal-close",onClick:()=>v(!1),children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),n.jsx("div",{className:"booking-modal-content",children:n.jsxs("form",{className:"booking-form",onSubmit:we=>{we.preventDefault(),xe()},children:[n.jsxs("div",{className:"booking-form-section",children:[n.jsxs("h3",{className:"form-section-title",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Dates & Guests"]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Check-in Date *"}),n.jsx("input",{type:"date",value:de.checkIn,onChange:we=>X({...de,checkIn:we.target.value}),required:!0,min:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Check-out Date *"}),n.jsx("input",{type:"date",value:de.checkOut,onChange:we=>X({...de,checkOut:we.target.value}),required:!0,min:de.checkIn||new Date().toISOString().split("T")[0]})]})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Number of Guests *"}),n.jsx("input",{type:"number",value:de.guests,onChange:we=>X({...de,guests:we.target.value}),placeholder:"e.g., 100",min:"1",max:"1000",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Number of Rooms"}),n.jsx("input",{type:"number",value:de.rooms,onChange:we=>X({...de,rooms:we.target.value}),placeholder:"Number of rooms",min:"1"})]})]})]}),n.jsxs("div",{className:"booking-form-section",children:[n.jsxs("h3",{className:"form-section-title",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Contact Information"]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Full Name *"}),n.jsx("input",{type:"text",value:de.fullName,onChange:we=>X({...de,fullName:we.target.value}),placeholder:"Enter your full name",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Email Address *"}),n.jsx("input",{type:"email",value:de.email,onChange:we=>X({...de,email:we.target.value}),placeholder:"your.email@example.com",required:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Phone Number *"}),n.jsx("input",{type:"tel",value:de.phone,onChange:we=>X({...de,phone:we.target.value}),placeholder:"+91 98765 43210",required:!0})]})]}),n.jsxs("div",{className:"booking-form-section",children:[n.jsxs("h3",{className:"form-section-title",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Event Details"]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Event Type *"}),n.jsxs("select",{value:de.eventType,onChange:we=>X({...de,eventType:we.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Select event type"}),n.jsx("option",{value:"wedding",children:"Wedding"}),n.jsx("option",{value:"party",children:"Party"}),n.jsx("option",{value:"birthday party",children:"Birthday Party"}),n.jsx("option",{value:"anniversary",children:"Anniversary"}),n.jsx("option",{value:"engagement",children:"Engagement"}),n.jsx("option",{value:"reception",children:"Reception"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Food Preference *"}),n.jsxs("select",{value:de.foodPreference,onChange:we=>X({...de,foodPreference:we.target.value}),required:!0,children:[n.jsx("option",{value:"both",children:"Both (Veg & Non-Veg)"}),n.jsx("option",{value:"veg",children:"Vegetarian"}),n.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Special Requests"}),n.jsx("textarea",{value:de.specialRequests,onChange:we=>X({...de,specialRequests:we.target.value}),placeholder:"Any special requirements or requests...",rows:"4"})]})]}),n.jsxs("div",{className:"booking-form-actions",children:[n.jsx("button",{type:"button",className:"cancel-booking-btn",onClick:()=>v(!1),disabled:E,children:"Cancel"}),n.jsx("button",{type:"submit",className:"confirm-booking-btn",disabled:E,children:E?"Submitting...":"Submit Inquiry"})]})]})})]})}),h&&n.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:n.jsxs("div",{className:"review-modal",onClick:we=>we.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Write a Review"}),n.jsx("button",{className:"modal-close",onClick:()=>f(!1),children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),n.jsxs("form",{className:"review-form",onSubmit:bs,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Rating"}),n.jsx("div",{className:"rating-input",children:[1,2,3,4,5].map(we=>n.jsx("button",{type:"button",className:`star-btn ${we<=J.rating?"active":""}`,onClick:()=>Y({...J,rating:we}),children:n.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})},we))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Your Review"}),n.jsx("textarea",{value:J.comment,onChange:we=>Y({...J,comment:we.target.value}),placeholder:"Share your experience...",rows:"6",required:!0})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>f(!1),disabled:c,children:"Cancel"}),n.jsx("button",{type:"submit",className:"submit-btn",disabled:c,children:c?"Submitting...":"Submit Review"})]})]})]})}),n.jsx(tk,{isOpen:F,onClose:()=>L(!1),onLoginSuccess:()=>{L(!1)}})]})}const aJ=()=>{const e=lr(),t=Wn(),[r,s]=p.useState(""),[a,i]=p.useState("all"),[o,c]=p.useState("all"),[u,h]=p.useState("all"),[f,m]=p.useState("all"),[y,b]=p.useState("default"),[v,N]=p.useState(!1),[j,k]=p.useState(!1),[I,S]=p.useState([]),[O,P]=p.useState(!0),[R,E]=p.useState(1),[C]=p.useState(9),F=X=>{if(!X||X.length===0)return"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop";const pe=Array.isArray(X)?X[0]:X;return pe.startsWith("/uploads/")?`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${pe}`:pe.startsWith("http://")||pe.startsWith("https://")?pe:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}/uploads/venues/${pe}`},L=X=>X?typeof X=="number"?X:parseFloat(X)||0:0,D=X=>X?typeof X=="object"&&X.city?`${X.city}${X.state?`, ${X.state}`:""}`:typeof X=="string"?X:"Location not specified":"Location not specified",M=t.state?.searchParams||{},$=new URLSearchParams(t.search),ee=t.state?.categoryId||M.categoryId||$.get("categoryId"),q=t.state?.categoryName||M.categoryName||$.get("categoryName"),V=t.state?.vendorCategoryId||$.get("vendorCategoryId"),re=t.state?.vendorCategoryName||$.get("vendorCategoryName"),U=t.state?.submenuId||$.get("submenuId"),te=t.state?.submenuName||$.get("submenuName"),ie=t.state?.menuId||$.get("menuId"),H=t.state?.menuName||$.get("menuName");p.useEffect(()=>{U&&console.log("Venue page - submenuId:",U,"submenuName:",te),ie&&console.log("Venue page - menuId:",ie,"menuName:",H)},[U,te,ie,H]),p.useEffect(()=>{if(!(t.state&&(t.state.vendorCategoryId||t.state.categoryId||t.state.menuId||t.state.submenuId)))return;const pe=new URLSearchParams;V&&(pe.set("vendorCategoryId",V),re&&pe.set("vendorCategoryName",re)),ee&&(pe.set("categoryId",ee),q&&pe.set("categoryName",q)),ie&&(pe.set("menuId",ie),H&&pe.set("menuName",H)),U&&(pe.set("submenuId",U),te&&pe.set("submenuName",te));const se=pe.toString(),Q=t.search.replace("?","");se!==Q&&e(`/venues${se?`?${se}`:""}`,{replace:!0})},[V,re,ee,q,ie,H,U,te,e,t.search,t.state]),p.useEffect(()=>{(async()=>{try{P(!0);const pe={status:"active"};if(console.log("Fetching venues with filters - submenuId:",U,"menuId:",ie,"categoryId:",ee,"vendorCategoryId:",V),console.log("Location state:",t.state),ee&&(pe.categoryId=ee),V&&(pe.vendorCategory=V),M.q&&(pe.search=M.q),M.city&&(pe.city=M.city),M.state&&(pe.state=M.state),U){const Q=String(U).trim();pe.subMenuId=Q,console.log("Adding subMenuId filter:",Q,"(original:",U,")")}ie&&(pe.menuId=ie,console.log("Adding menuId filter:",ie)),console.log("API Params:",pe);let se;if(M.q||M.city||M.state){const Q={};M.q&&(Q.q=M.q),M.city&&(Q.city=M.city),M.state&&(Q.state=M.state),ee&&(Q.categoryId=ee),V&&(Q.vendorCategory=V),U&&(Q.subMenuId=U),ie&&(Q.menuId=ie),Q.status="active",Q.limit=50,se=await Promise.race([Jn.search(Q),new Promise((ve,ue)=>setTimeout(()=>ue(new Error("Request timeout")),3e4))])}else se=await Promise.race([Jn.getAll(pe),new Promise((Q,ve)=>setTimeout(()=>ve(new Error("Request timeout")),3e4))]);if(console.log("Full API Response:",se),console.log("Response Data:",se.data),se.data){let Q=[];if(se.data.success&&se.data.data?Q=Array.isArray(se.data.data)?se.data.data:[]:se.data.venues?Q=Array.isArray(se.data.venues)?se.data.venues:[]:se.data.data?Q=Array.isArray(se.data.data)?se.data.data:[]:Array.isArray(se.data)?Q=se.data:se.data.results&&Array.isArray(se.data.results)&&(Q=se.data.results),console.log("Extracted Venues Data:",Q),console.log("Venues Count:",Q.length),Q.length===0){console.warn("No active venues found. Trying approved venues as fallback...");try{let xe;if(M.q||M.city||M.state){const Le={};M.q&&(Le.q=M.q),M.city&&(Le.city=M.city),M.state&&(Le.state=M.state),ee&&(Le.categoryId=ee),U&&(Le.subMenuId=String(U).trim()),ie&&(Le.menuId=String(ie).trim()),Le.status="approved",Le.limit=50,xe=await Promise.race([Jn.search(Le),new Promise((it,St)=>setTimeout(()=>St(new Error("Request timeout")),3e4))])}else{const Le={...pe,status:"approved"};xe=await Promise.race([Jn.getAll(Le),new Promise((it,St)=>setTimeout(()=>St(new Error("Request timeout")),3e4))])}xe.data&&(xe.data.success&&xe.data.data?Q=Array.isArray(xe.data.data)?xe.data.data:[]:xe.data.venues?Q=Array.isArray(xe.data.venues)?xe.data.venues:[]:xe.data.data?Q=Array.isArray(xe.data.data)?xe.data.data:[]:Array.isArray(xe.data)&&(Q=xe.data),console.log("Fallback approved venues count:",Q.length))}catch(xe){console.error("Error fetching fallback venues:",xe)}}Q.length===0&&console.warn("No venues found after fallback. Full response:",JSON.stringify(se.data,null,2));const ue=Q.filter(xe=>xe.vendorActive!==!1).map(xe=>{const Le=xe.capacity?typeof xe.capacity=="object"?`${xe.capacity.minGuests||xe.capacity.min||0}-${xe.capacity.maxGuests||xe.capacity.max||0}`:`${xe.capacity}`:null;(xe.name==="test"||xe._id)&&console.log("Venue capacity debug:",{name:xe.name,capacity:xe.capacity,capacityValue:Le,rooms:xe.rooms});let it=0;xe.rating&&(typeof xe.rating=="object"&&xe.rating.average!==void 0?it=Number(xe.rating.average)||0:typeof xe.rating=="number"?it=xe.rating:xe.averageRating&&(it=Number(xe.averageRating)||0));let St=0;return xe.reviewCount!==void 0?St=Number(xe.reviewCount)||0:xe.rating&&typeof xe.rating=="object"&&xe.rating.totalReviews!==void 0?St=Number(xe.rating.totalReviews)||0:xe.reviews!==void 0&&(St=Number(xe.reviews)||0),{id:xe._id||xe.id,name:xe.name||"Unnamed Venue",image:F(xe.images||xe.image),rating:it,reviews:St,location:D(xe.location),type:xe.categoryId?.name||xe.category?.name||xe.venueType||"Venue",price:L(xe.price),priceDisplay:L(xe.price)>0?`${L(xe.price).toFixed(2)} Lakh`:"Price on request",rooms:xe.rooms||xe.roomCount||0,capacity:Le,highlights:xe.highlights||[],moreTags:xe.tags?.length||0,categoryId:xe.categoryId,category:xe.category,locationObj:xe.location}});console.log("Formatted Venues:",ue),console.log("Formatted Venues Count:",ue.length),ue.length>0?S(ue):(console.warn("No venues found in response"),S([]))}else console.error("Invalid API response:",se.data),G.error("Failed to load venues"),S([])}catch(pe){console.error("Error fetching venues:",pe),pe.message==="Request timeout"?G.error("Request took too long. Please try again."):G.error("Failed to load venues"),S([])}finally{P(!1)}})()},[ee,U,ie,M.q,M.city,M.state]);const z=p.useMemo(()=>{const X=new Set;return I.forEach(pe=>{if(pe.locationObj&&typeof pe.locationObj=="object")pe.locationObj.city&&X.add(pe.locationObj.city),pe.locationObj.state&&X.add(pe.locationObj.state);else if(pe.location&&typeof pe.location=="string"){const se=pe.location.split(",")[0].trim();se&&X.add(se)}}),["all",...Array.from(X).sort()]},[I]),ge=p.useMemo(()=>["all",...Array.from(new Set(I.map(pe=>pe.type).filter(Boolean))).sort()],[I]);p.useEffect(()=>{c(q||"all")},[q]);const le=p.useMemo(()=>{console.log("=== FILTERING VENUES ==="),console.log("Total venues in allVenues:",I.length),console.log("All venues:",I),console.log("Filters - Search:",r,"Location:",a,"Type:",o,"Rating:",u,"Price:",f);let X=I.filter(pe=>{const se=r===""||pe.name.toLowerCase().includes(r.toLowerCase())||pe.location.toLowerCase().includes(r.toLowerCase())||pe.type.toLowerCase().includes(r.toLowerCase()),Q=a==="all"||pe.locationObj&&typeof pe.locationObj=="object"&&(pe.locationObj.city===a||pe.locationObj.state===a)||pe.location.toLowerCase().includes(a.toLowerCase()),ve=o==="all"||pe.type===o,ue=u==="all"||u==="4+"&&pe.rating>=4||u==="4.5+"&&pe.rating>=4.5||u==="5"&&pe.rating===5,xe=f==="all"||f==="low"&&pe.price<10||f==="medium"&&pe.price>=10&&pe.price<20||f==="high"&&pe.price>=20,Le=se&&Q&&ve&&ue&&xe;return!Le&&I.length<=5&&console.log(`Venue "${pe.name}" filtered out:`,{matchesSearch:se,matchesLocation:Q,matchesType:ve,matchesRating:ue,matchesPrice:xe,venueLocation:pe.location,venueType:pe.type,venueRating:pe.rating,venuePrice:pe.price}),Le});return y==="price-low"?X.sort((pe,se)=>pe.price-se.price):y==="price-high"?X.sort((pe,se)=>se.price-pe.price):y==="rating"?X.sort((pe,se)=>se.rating-pe.rating):y==="reviews"&&X.sort((pe,se)=>se.reviews-pe.reviews),console.log("Filtered venues count:",X.length),console.log("Filtered venues:",X),console.log("=== END FILTERING ==="),X},[I,r,a,o,u,f,y]),Pe=Math.ceil(le.length/C),Ae=(R-1)*C,fe=Ae+C,ce=le.slice(Ae,fe);p.useEffect(()=>{E(1)},[r,a,o,u,f,y]),p.useEffect(()=>{const X=pe=>{j&&!pe.target.closest(".sort-dropdown-wrapper")&&k(!1)};return document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[j]);const J=()=>{s(""),i("all"),c("all"),h("all"),m("all"),b("default")},Y=[r,a!=="all",o!=="all",u!=="all",f!=="all",y!=="default"].filter(Boolean).length,de=M.city||M.state||(a!=="all"?a:null);return n.jsxs("div",{className:"venues-page",children:[n.jsx(iv,{location:de}),(q||te||H||re)&&n.jsx("div",{style:{background:"linear-gradient(135deg, #92487a 0%, #b85a8f 100%)",color:"white",padding:"16px 20px",textAlign:"center",marginBottom:"20px"},children:n.jsxs("p",{style:{margin:0,fontSize:"16px",fontWeight:"600"},children:["Showing venues for: ",n.jsx("strong",{children:re||te||H||q}),n.jsx("button",{onClick:()=>{e("/venues",{replace:!0}),window.location.reload()},style:{marginLeft:"12px",padding:"6px 12px",background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"6px",color:"white",cursor:"pointer",fontSize:"14px"},children:"Clear Filter"})]})}),n.jsxs("div",{className:"venues-hero",children:[n.jsxs("div",{className:"venues-hero-content",children:[n.jsxs("h1",{className:"venues-page-title",children:["Discover Your Perfect",n.jsx("span",{className:"gradient-text",children:" Venue"})]}),n.jsx("p",{className:"venues-page-subtitle",children:"Explore our curated collection of premium venues for your special occasions"}),n.jsxs("div",{className:"venues-toolbar",children:[n.jsx("div",{className:"search-bar-wrapper",children:n.jsxs("div",{className:"search-bar",children:[n.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.35-4.35"})]}),n.jsx("input",{type:"text",placeholder:"Search venues by name, location, or type...",value:r,onChange:X=>s(X.target.value),className:"search-input"}),r&&n.jsx("button",{className:"clear-search-btn",onClick:()=>s(""),children:n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),n.jsxs("div",{className:"toolbar-actions",children:[n.jsxs("button",{className:`filter-toggle-btn ${v?"active":""}`,onClick:()=>N(!v),children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filters",Y>0&&n.jsx("span",{className:"filter-badge",children:Y})]}),n.jsxs("div",{className:`sort-dropdown-wrapper ${j?"show":""}`,children:[n.jsxs("button",{className:"sort-select",onClick:()=>k(!j),children:[n.jsxs("span",{children:[y==="default"&&"Sort by: Default",y==="rating"&&"Sort by: Rating",y==="reviews"&&"Sort by: Reviews",y==="price-low"&&"Sort by: Price (Low to High)",y==="price-high"&&"Sort by: Price (High to Low)"]}),n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),j&&n.jsxs("div",{className:"sort-dropdown-menu",children:[n.jsx("button",{className:`sort-dropdown-item ${y==="default"?"active":""}`,onClick:()=>{b("default"),k(!1)},children:"Sort by: Default"}),n.jsx("button",{className:`sort-dropdown-item ${y==="rating"?"active":""}`,onClick:()=>{b("rating"),k(!1)},children:"Sort by: Rating"}),n.jsx("button",{className:`sort-dropdown-item ${y==="reviews"?"active":""}`,onClick:()=>{b("reviews"),k(!1)},children:"Sort by: Reviews"}),n.jsx("button",{className:`sort-dropdown-item ${y==="price-low"?"active":""}`,onClick:()=>{b("price-low"),k(!1)},children:"Sort by: Price (Low to High)"}),n.jsx("button",{className:`sort-dropdown-item ${y==="price-high"?"active":""}`,onClick:()=>{b("price-high"),k(!1)},children:"Sort by: Price (High to Low)"})]})]})]})]})]}),n.jsxs("div",{className:"hero-decoration",children:[n.jsx("div",{className:"decoration-circle circle-1"}),n.jsx("div",{className:"decoration-circle circle-2"}),n.jsx("div",{className:"decoration-circle circle-3"})]})]}),n.jsxs("div",{className:"venues-page-container",children:[Y>0&&n.jsxs("div",{className:"active-filters",children:[n.jsx("span",{className:"active-filters-label",children:"Active Filters:"}),n.jsxs("div",{className:"filter-tags",children:[r&&n.jsxs("span",{className:"filter-tag",children:['Search: "',r,'"',n.jsx("button",{onClick:()=>s(""),children:""})]}),a!=="all"&&n.jsxs("span",{className:"filter-tag",children:[a,n.jsx("button",{onClick:()=>i("all"),children:""})]}),o!=="all"&&n.jsxs("span",{className:"filter-tag",children:[o,n.jsx("button",{onClick:()=>c("all"),children:""})]}),u!=="all"&&n.jsxs("span",{className:"filter-tag",children:[u==="4+"?"4+ Stars":u==="4.5+"?"4.5+ Stars":"5 Stars",n.jsx("button",{onClick:()=>h("all"),children:""})]}),f!=="all"&&n.jsxs("span",{className:"filter-tag",children:[f==="low"?"Under 10L":f==="medium"?"10-20L":"Above 20L",n.jsx("button",{onClick:()=>m("all"),children:""})]}),n.jsx("button",{className:"clear-all-btn",onClick:J,children:"Clear All"})]})]}),v&&n.jsxs("div",{className:"filters-panel",children:[n.jsxs("div",{className:"filters-header",children:[n.jsx("h3",{children:"Filter Venues"}),n.jsx("button",{className:"close-filters-btn",onClick:()=>N(!1),children:n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),n.jsxs("div",{className:"filters-content",children:[n.jsxs("div",{className:"filter-group",children:[n.jsxs("label",{children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Location"]}),n.jsx("div",{className:"filter-options",children:z.map(X=>n.jsx("button",{className:`filter-chip ${a===X?"active":""}`,onClick:()=>i(X),children:X==="all"?"All Locations":X},X))})]}),n.jsxs("div",{className:"filter-group",children:[n.jsxs("label",{children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),"Venue Type"]}),n.jsx("div",{className:"filter-options",children:ge.map(X=>n.jsx("button",{className:`filter-chip ${o===X?"active":""}`,onClick:()=>c(X),children:X==="all"?"All Types":X},X))})]}),n.jsxs("div",{className:"filter-group",children:[n.jsxs("label",{children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),"Rating"]}),n.jsx("div",{className:"filter-options",children:["all","4+","4.5+","5"].map(X=>n.jsx("button",{className:`filter-chip ${u===X?"active":""}`,onClick:()=>h(X),children:X==="all"?"All Ratings":X==="4+"?"4+ Stars":X==="4.5+"?"4.5+ Stars":"5 Stars Only"},X))})]}),n.jsxs("div",{className:"filter-group",children:[n.jsxs("label",{children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),n.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),"Price Range"]}),n.jsx("div",{className:"filter-options",children:[{value:"all",label:"All Prices"},{value:"low",label:"Under 10 Lakh"},{value:"medium",label:"10-20 Lakh"},{value:"high",label:"Above 20 Lakh"}].map(X=>n.jsx("button",{className:`filter-chip ${f===X.value?"active":""}`,onClick:()=>m(X.value),children:X.label},X.value))})]})]})]}),O?n.jsxs("div",{className:"venues-loading",children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"venues-loading-logo",onError:X=>{X.target.onerror=null,X.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("div",{className:"venues-loading-text",children:"Loading venues..."})]}):null,O?n.jsx("div",{className:"venues-grid",children:[...Array(6)].map((X,pe)=>n.jsxs("div",{className:"venue-card",style:{opacity:.7},children:[n.jsx("div",{className:"venue-image-wrapper",style:{background:"linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite"},children:n.jsx("div",{style:{width:"100%",height:"100%"}})}),n.jsxs("div",{className:"venue-content",children:[n.jsx("div",{style:{height:"24px",background:"#e0e0e0",borderRadius:"4px",marginBottom:"12px",width:"70%"}}),n.jsx("div",{style:{height:"16px",background:"#e0e0e0",borderRadius:"4px",marginBottom:"8px",width:"50%"}}),n.jsx("div",{style:{height:"16px",background:"#e0e0e0",borderRadius:"4px",width:"60%"}})]})]},pe))}):le.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"venues-grid",children:ce.map(X=>n.jsxs("div",{className:"venue-card",onClick:()=>{const pe=ql(X.name),se=X.categoryId?.name||X.category?.name||X.type,Q=se?ql(se):null;console.log("Navigation - Venue:",X.name),console.log("Navigation - Category Name:",se),console.log("Navigation - Category Slug:",Q);const ve=Q?`/venue/${Q}/${pe}`:`/venue/${pe}`;console.log("Navigation - Final URL:",ve),e(ve)},children:[n.jsx("div",{className:"venue-image-wrapper",children:n.jsx("img",{src:X.image,alt:X.name,className:"venue-image",onError:pe=>{pe.target.src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop"}})}),n.jsxs("div",{className:"venue-content",children:[n.jsx("h3",{className:"venue-name",children:X.name}),n.jsxs("div",{className:"venue-rating",children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),n.jsx("span",{className:"rating-value",children:typeof X.rating=="number"&&X.rating>0?X.rating.toFixed(1):"N/A"}),n.jsxs("span",{className:"rating-reviews",children:["(",X.reviews," reviews)"]})]}),n.jsxs("div",{className:"venue-location",children:[n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),n.jsx("span",{children:X.location}),n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),n.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),n.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),n.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]}),n.jsx("span",{children:X.type})]}),n.jsxs("div",{className:"venue-tags",children:[X.capacity&&X.capacity!=="Capacity not specified"&&n.jsxs("span",{className:"venue-tag",children:[X.capacity," Guests"]}),X.rooms>0&&n.jsxs("span",{className:"venue-tag",children:[X.rooms," Rooms"]}),X.highlights&&X.highlights.length>0&&n.jsxs("span",{className:"venue-tag",children:[X.highlights.length," Highlights"]}),X.moreTags>0&&n.jsxs("span",{className:"venue-tag",children:["+",X.moreTags," more"]})]})]})]},X.id))}),Pe>1&&n.jsxs("div",{className:"pagination",children:[n.jsx("div",{className:"pagination-info",children:n.jsxs("span",{className:"pagination-text",children:["Page ",n.jsx("strong",{children:R})," of ",n.jsx("strong",{children:Pe})]})}),n.jsxs("button",{className:"pagination-btn",onClick:()=>E(X=>Math.max(1,X-1)),disabled:R===1,children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Previous"]}),n.jsx("div",{className:"pagination-numbers",children:Array.from({length:Pe},(X,pe)=>pe+1).map(X=>X===1||X===Pe||X>=R-1&&X<=R+1?n.jsx("button",{className:`pagination-number ${R===X?"active":""}`,onClick:()=>E(X),children:X},X):X===R-2||X===R+2?n.jsx("span",{className:"pagination-ellipsis",children:"..."},X):null)}),n.jsxs("button",{className:"pagination-btn",onClick:()=>E(X=>Math.min(Pe,X+1)),disabled:R===Pe,children:["Next",n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]})]}):I.length===0?n.jsx("div",{className:"no-results",children:n.jsxs("div",{className:"no-results-content",children:[n.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.35-4.35"})]}),n.jsx("h3",{children:"No venues available"}),n.jsx("p",{children:"Please check back later or contact support"})]})}):n.jsx("div",{className:"no-results",children:n.jsxs("div",{className:"no-results-content",children:[n.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.35-4.35"})]}),n.jsx("h3",{children:"No venues found"}),n.jsx("p",{children:"Try adjusting your filters or search query"}),n.jsx("button",{className:"clear-filters-btn",onClick:J,children:"Clear All Filters"})]})})]}),n.jsx(mn,{})]})};function iJ(){const e=lr(),[t,r]=p.useState({fullName:"",email:"",phone:""}),[s,a]=p.useState(!0),[i,o]=p.useState(!1);p.useEffect(()=>{(async()=>{try{if(a(!0),!localStorage.getItem("token")){G.error("Please login to view profile"),e("/");return}const y=await Ry.getProfile();if(y.data?.user){const b=y.data.user;r({fullName:b.name||"",email:b.email||"",phone:b.phone||""})}}catch(m){console.error("Error fetching profile:",m),G.error(m.message||"Failed to load profile"),(m.message?.includes("Unauthorized")||m.message?.includes("401"))&&(localStorage.removeItem("token"),localStorage.removeItem("user"),e("/"))}finally{a(!1)}})()},[e]);const c=f=>{r({...t,[f.target.name]:f.target.value})},u=async f=>{f.preventDefault();try{o(!0);const m={};t.fullName&&(m.name=t.fullName.trim()),t.email&&(m.email=t.email.trim()),t.phone&&(m.phone=t.phone.trim());const y=await Ry.updateProfile(m);if(y.data?.user){const b={...JSON.parse(localStorage.getItem("user")||"{}"),name:y.data.user.name,email:y.data.user.email,phone:y.data.user.phone};localStorage.setItem("user",JSON.stringify(b)),G.success("Profile updated successfully!")}}catch(m){console.error("Error updating profile:",m),G.error(m.message||"Failed to update profile")}finally{o(!1)}},h=()=>{window.confirm("Are you sure you want to logout?")&&(localStorage.removeItem("token"),localStorage.removeItem("user"),G.success("Logged out successfully"),e("/"))};return s?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"profile-container",children:[n.jsx("div",{className:"profile-background-decoration"}),n.jsx("div",{className:"profile-wrapper",children:n.jsxs("div",{className:"profile-loading",children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px"},onError:f=>{f.target.onerror=null,f.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading profile..."})]})})]}),n.jsx(mn,{})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"profile-container",children:[n.jsx("div",{className:"profile-background-decoration"}),n.jsxs("div",{className:"profile-wrapper",children:[n.jsxs("div",{className:"profile-header",children:[n.jsxs("div",{className:"profile-title-wrapper",children:[n.jsx("h1",{className:"profile-title",children:"Profile"}),n.jsx("div",{className:"profile-title-underline"})]}),n.jsxs("div",{className:"profile-user-info",children:[n.jsxs("div",{className:"profile-avatar-wrapper",children:[n.jsx("div",{className:"profile-avatar",children:t.fullName?n.jsx("span",{children:t.fullName.charAt(0).toUpperCase()}):n.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),n.jsx("div",{className:"profile-avatar-ring"})]}),n.jsxs("div",{className:"profile-user-details",children:[n.jsx("p",{className:"profile-user-label",children:t.fullName||"User"}),n.jsx("p",{className:"profile-user-email",children:t.email||"No email"})]})]})]}),n.jsxs("form",{className:"profile-form",onSubmit:u,children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"fullName",className:"form-label",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Full Name"]}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("input",{type:"text",id:"fullName",name:"fullName",value:t.fullName,onChange:c,className:"form-input",placeholder:"Enter your full name"}),n.jsx("div",{className:"input-focus-indicator"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"email",className:"form-label",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),n.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Email"]}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:c,className:"form-input",placeholder:"Enter your email"}),n.jsx("div",{className:"input-focus-indicator"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"phone",className:"form-label",children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Phone"]}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:c,className:"form-input",placeholder:"Enter your phone number"}),n.jsx("div",{className:"input-focus-indicator"})]})]}),n.jsxs("div",{className:"form-actions",children:[n.jsxs("button",{type:"submit",className:"btn-save",disabled:i,children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),n.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),n.jsx("polyline",{points:"7 3 7 8 15 8"})]}),n.jsx("span",{children:i?"Saving...":"Save Changes"})]}),n.jsxs("button",{type:"button",className:"btn-logout",onClick:h,children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("polyline",{points:"16 17 21 12 16 7"}),n.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),n.jsx("span",{children:"Logout"})]})]})]})]})]}),n.jsx(mn,{})]})}function oJ(){const e=lr(),t=Wn(),[r,s]=p.useState(!1),a=t.state?.venue||{id:1,name:"Riva Beach Resort",image:"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop",location:"Mandrem, Goa",price:16,priceDisplay:"16.00 Lakh",rooms:140,capacity:"100-500 pax"},o={...a,image:(E=>E?E.startsWith("http://")||E.startsWith("https://")?E:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${E.startsWith("/")?E:`/${E}`}`:"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop")(a.images?.[0]||a.image||a.coverImage),price:typeof a.price=="string"?parseFloat(a.price.replace(/[^0-9.]/g,"")):a.price||16,priceDisplay:a.priceDisplay||a.price||"16.00 Lakh",pricingInfo:a.pricingInfo||null,rooms:a.rooms||0,capacity:a.capacity||"100-500 pax"},[c,u]=p.useState({checkIn:"",checkOut:"",guests:"",rooms:"",fullName:"",email:"",phone:"",eventType:"",foodPreference:"both",specialRequests:""}),[h,f]=p.useState({}),[m,y]=p.useState(!1),[b,v]=p.useState(!1);p.useEffect(()=>{localStorage.getItem("token")||(G.error("Please login to continue with booking"),s(!0))},[]);const N=()=>{let E=localStorage.getItem("deviceId");return E||(E=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",E)),E},j=E=>{const{name:C,value:F}=E.target;u({...c,[C]:F}),h[C]&&f({...h,[C]:""})},k=()=>{if(c.checkIn&&c.checkOut){const E=new Date(c.checkIn),C=new Date(c.checkOut),F=Math.abs(C-E),L=Math.ceil(F/(1e3*60*60*24));return L>0?L:0}return 0},I=()=>{const E=k();return E>0&&o.price?(typeof o.price=="number"?o.price:parseFloat(o.priceDisplay.toString().replace(" Lakh","").replace(/[^0-9.]/g,""))*1e5||0)*E:typeof o.price=="number"?o.price:parseFloat(o.priceDisplay.toString().replace(" Lakh","").replace(/[^0-9.]/g,""))*1e5||0},S=()=>{const E={};if(c.checkIn||(E.checkIn="Check-in date is required"),c.checkOut||(E.checkOut="Check-out date is required"),c.checkIn&&c.checkOut){const C=new Date(c.checkIn);new Date(c.checkOut)<=C&&(E.checkOut="Check-out must be after check-in")}return c.guests||(E.guests="Number of guests is required"),c.fullName||(E.fullName="Full name is required"),c.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(E.email="Please enter a valid email"):E.email="Email is required",c.phone?/^[0-9]{10}$/.test(c.phone.replace(/\D/g,""))||(E.phone="Please enter a valid 10-digit phone number"):E.phone="Phone number is required",c.eventType||(E.eventType="Event type is required"),f(E),Object.keys(E).length===0},O=async E=>{if(E.preventDefault(),!localStorage.getItem("token")){G.error("Please login to continue with booking"),s(!0);return}if(S()){if(!o.id){G.error("Venue information is missing"),e("/venues");return}console.log(" Checking availability for venue:",o.id,"dates:",c.checkIn,"to",c.checkOut);try{v(!0);const F=await Zf.checkAvailability(o.id,c.checkIn,c.checkOut);if(console.log(" Availability check result:",F),!F.data?.available){const L=F.data?.message||"Selected dates are already booked. Please choose different dates.";console.error(" Date not available:",L),G.error(L,{duration:6e3,style:{background:"#ef4444",color:"#fff",fontSize:"16px",padding:"16px"}}),v(!1);return}console.log(" Dates are available, proceeding with payment")}catch(F){console.error(" Availability check error:",F);const L=F.message||"Unable to verify date availability. Please try again.";G.error(L,{duration:6e3,style:{background:"#ef4444",color:"#fff",fontSize:"16px",padding:"16px"}}),v(!1);return}try{const F=new Date(c.checkIn),L=new Date(c.checkOut),D=Math.ceil((L-F)/(1e3*60*60*24))||1;console.log(" Venue Object for Price:",{venue:o,venuePrice:o.price,venuePriceType:typeof o.price,venuePriceDisplay:o.priceDisplay,venuePricingInfo:o.pricingInfo});let M=0;if(o.pricingInfo&&o.pricingInfo.rentalPrice&&(M=typeof o.pricingInfo.rentalPrice=="number"?o.pricingInfo.rentalPrice:parseFloat(o.pricingInfo.rentalPrice)||0,console.log(" Using pricingInfo.rentalPrice:",M)),M<=0&&o.price){if(typeof o.price=="number")M=o.price,console.log(" Using venue.price (number):",M);else if(typeof o.price=="string"){const re=o.price.toString().replace(" Lakh","").replace(/[^0-9.]/g,"");M=parseFloat(re)||0,console.log(" Using venue.price (string):",M)}}if(M<=0&&o.priceDisplay){const re=o.priceDisplay.toString().replace(/[^0-9.]/g,"");M=parseFloat(re)||0,console.log(" Using venue.priceDisplay (treated as rupees):",M)}M<=0&&(console.warn(" Venue price not found, using default 10,000"),M=1e4);let $=Math.round(M*D*100);$<100&&(console.warn(" Amount too low, setting minimum 1"),$=100),console.log(" Final Payment Calculation:",{venuePrice:M,nights:D,totalAmountRupees:$/100,totalAmountPaise:$});const ee=c.rooms&&c.rooms.toString().trim()!==""?parseInt(c.rooms):0;console.log(" Booking Data - Rooms:",{formDataRooms:c.rooms,roomsValue:ee,type:typeof c.rooms});const q={venueId:o.id,date:c.checkIn,dateFrom:c.checkIn,dateTo:c.checkOut,guests:parseInt(c.guests),rooms:ee,eventType:c.eventType,marriageFor:"boy",name:c.fullName,email:c.email,phone:c.phone,foodPreference:c.foodPreference,totalAmount:$/100,deviceId:N(),specialRequests:c.specialRequests};console.log(" Sending Booking Data:",q);let V;try{V=await SL.createOrder({amount:$,currency:"INR",bookingData:q})}catch(re){console.error(" Payment order creation error:",re);const U=re.data?.error||re.data?.message||re.message||"Failed to create payment order";U.includes("already booked")||U.includes("not available")||U.includes("blocked")||re.status===409?G.error(U,{duration:5e3}):G.error(U,{duration:5e3}),v(!1);return}if(!V.data?.success){const re=V.data?.error||V.data?.message||"Failed to create payment order";console.error(" Payment order creation failed:",re),G.error(re,{duration:5e3}),v(!1);return}if(V.data?.success&&V.data?.order){const re=V.data.order,U=`${window.location.origin}/booking-history`,te=`https://payments.synilogic.in/pay/${re.id}?return_url=${encodeURIComponent(U)}`;console.log(" Redirecting to hosted checkout:",te),window.location.href=te;return}else{const re=V.data?.error||V.data?.message||"Failed to create payment order";re.includes("already booked")||re.includes("not available")||re.includes("blocked"),G.error(re),v(!1)}}catch(F){console.error("Booking error:",F),G.error(F.message||"Failed to process booking"),v(!1)}}},P=k(),R=I();return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"booking-page",children:[n.jsxs("button",{className:"back-button",onClick:()=>e(-1),children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]}),n.jsxs("div",{className:"booking-hero",children:[n.jsxs("div",{className:"booking-hero-content",children:[n.jsxs("h1",{className:"booking-page-title",children:["Complete Your",n.jsx("span",{className:"gradient-text",children:" Booking"})]}),n.jsx("p",{className:"booking-page-subtitle",children:"Fill in the details below to secure your venue reservation"})]}),n.jsxs("div",{className:"hero-decoration",children:[n.jsx("div",{className:"decoration-circle circle-1"}),n.jsx("div",{className:"decoration-circle circle-2"}),n.jsx("div",{className:"decoration-circle circle-3"})]})]}),n.jsx("div",{className:"booking-container",children:n.jsxs("div",{className:"booking-content",children:[n.jsxs("div",{className:"booking-form-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsxs("h2",{className:"section-title",children:[n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),n.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),n.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Booking Details"]}),n.jsx("div",{className:"section-underline"})]}),n.jsxs("form",{className:"booking-form",onSubmit:O,children:[n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"checkIn",className:"form-label",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Check-in Date"]}),n.jsx("input",{type:"date",id:"checkIn",name:"checkIn",value:c.checkIn,onChange:j,className:`form-input ${h.checkIn?"error":""}`,min:new Date().toISOString().split("T")[0]}),h.checkIn&&n.jsx("span",{className:"error-message",children:h.checkIn})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"checkOut",className:"form-label",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Check-out Date"]}),n.jsx("input",{type:"date",id:"checkOut",name:"checkOut",value:c.checkOut,onChange:j,className:`form-input ${h.checkOut?"error":""}`,min:c.checkIn||new Date().toISOString().split("T")[0]}),h.checkOut&&n.jsx("span",{className:"error-message",children:h.checkOut})]})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"guests",className:"form-label",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Number of Guests"]}),n.jsx("input",{type:"number",id:"guests",name:"guests",value:c.guests,onChange:j,className:`form-input ${h.guests?"error":""}`,placeholder:"Enter number of guests",min:"1"}),h.guests&&n.jsx("span",{className:"error-message",children:h.guests})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"rooms",className:"form-label",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),n.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),"Number of Rooms ",o.rooms>0&&`(Max: ${o.rooms})`]}),n.jsx("input",{type:"number",id:"rooms",name:"rooms",value:c.rooms,onChange:j,className:"form-input",placeholder:"Enter number of rooms",min:"1"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"eventType",className:"form-label",children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),"Event Type *"]}),n.jsxs("select",{id:"eventType",name:"eventType",value:c.eventType,onChange:j,className:`form-input ${h.eventType?"error":""}`,required:!0,children:[n.jsx("option",{value:"",children:"Select event type"}),n.jsx("option",{value:"wedding",children:"Wedding"}),n.jsx("option",{value:"party",children:"Party"}),n.jsx("option",{value:"birthday party",children:"Birthday Party"}),n.jsx("option",{value:"anniversary",children:"Anniversary"}),n.jsx("option",{value:"engagement",children:"Engagement"}),n.jsx("option",{value:"reception",children:"Reception"}),n.jsx("option",{value:"other",children:"Other"})]}),h.eventType&&n.jsx("span",{className:"error-message",children:h.eventType})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"foodPreference",className:"form-label",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),n.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),n.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),"Food Preference *"]}),n.jsxs("select",{id:"foodPreference",name:"foodPreference",value:c.foodPreference,onChange:j,className:"form-input",required:!0,children:[n.jsx("option",{value:"both",children:"Both (Veg & Non-Veg)"}),n.jsx("option",{value:"veg",children:"Vegetarian"}),n.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]})]}),n.jsx("div",{className:"section-header",children:n.jsxs("h3",{className:"section-subtitle",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Contact Information"]})}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"fullName",className:"form-label",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Full Name"]}),n.jsx("input",{type:"text",id:"fullName",name:"fullName",value:c.fullName,onChange:j,className:`form-input ${h.fullName?"error":""}`,placeholder:"Enter your full name"}),h.fullName&&n.jsx("span",{className:"error-message",children:h.fullName})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"email",className:"form-label",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),n.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Email Address"]}),n.jsx("input",{type:"email",id:"email",name:"email",value:c.email,onChange:j,className:`form-input ${h.email?"error":""}`,placeholder:"Enter your email"}),h.email&&n.jsx("span",{className:"error-message",children:h.email})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"phone",className:"form-label",children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Phone Number"]}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:c.phone,onChange:j,className:`form-input ${h.phone?"error":""}`,placeholder:"Enter your phone number"}),h.phone&&n.jsx("span",{className:"error-message",children:h.phone})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"specialRequests",className:"form-label",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Special Requests (Optional)"]}),n.jsx("textarea",{id:"specialRequests",name:"specialRequests",value:c.specialRequests,onChange:j,className:"form-input form-textarea",placeholder:"Any special requests or additional information...",rows:"4"})]}),n.jsx("button",{type:"submit",className:"submit-btn",disabled:b||m,children:b?n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"spinner",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Processing Payment..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Proceed to Payment"]})})]})]}),n.jsxs("div",{className:"booking-summary",children:[n.jsxs("div",{className:"summary-header",children:[n.jsx("h3",{className:"summary-title",children:"Booking Summary"}),n.jsx("div",{className:"summary-underline"})]}),n.jsxs("div",{className:"venue-card-summary",children:[n.jsx("div",{className:"venue-image-summary",children:n.jsx("img",{src:o.image,alt:o.name,onError:E=>{E.target.src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop"}})}),n.jsxs("div",{className:"venue-info-summary",children:[n.jsx("h4",{className:"venue-name-summary",children:o.name}),n.jsxs("p",{className:"venue-location-summary",children:[n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),o.location]}),n.jsxs("div",{className:"venue-capacity-summary",children:[n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),o.capacity]})]})]}),n.jsxs("div",{className:"summary-details",children:[n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{className:"summary-label",children:"Price per day"}),n.jsxs("span",{className:"summary-value",children:[" ",typeof o.price=="number"?o.price.toLocaleString("en-IN"):o.priceDisplay.replace(" Lakh","").replace(/[^0-9.]/g,"")]})]}),P>0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{className:"summary-label",children:"Duration"}),n.jsxs("span",{className:"summary-value",children:[P," ",P===1?"night":"nights"]})]}),n.jsxs("div",{className:"summary-row summary-total",children:[n.jsx("span",{className:"summary-label",children:"Total Amount"}),n.jsxs("span",{className:"summary-value",children:[" ",typeof R=="number"?R.toLocaleString("en-IN"):R]})]})]}),c.guests&&n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{className:"summary-label",children:"Guests"}),n.jsx("span",{className:"summary-value",children:c.guests})]}),c.rooms&&n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{className:"summary-label",children:"Rooms"}),n.jsx("span",{className:"summary-value",children:c.rooms})]})]}),n.jsxs("div",{className:"summary-note",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),n.jsx("p",{children:"Your booking is subject to availability. We'll confirm within 24 hours."})]})]})]})})]}),n.jsx(mn,{}),n.jsx(tk,{isOpen:r,onClose:()=>{s(!1),e("/")},onLoginSuccess:()=>{s(!1),window.location.reload()}})]})}function lJ(){const e=lr(),[t,r]=p.useState(""),[s,a]=p.useState("all"),[i,o]=p.useState("newest"),[c,u]=p.useState([]),[h,f]=p.useState(!0),[m,y]=p.useState(!1),b=R=>{if(!R)return"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop";if(R.startsWith("http://")||R.startsWith("https://"))return R;const E="https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com";return R.startsWith("/uploads/")||R.startsWith("/uploads")?`${E}${R}`:R.startsWith("uploads/")?`${E}/${R}`:`${E}${R.startsWith("/")?R:`/${R}`}`},v=R=>R?typeof R=="object"&&R.city?`${R.city}${R.state?`, ${R.state}`:""}`:typeof R=="string"?R:"Location not specified":"Location not specified",N=()=>{let R=localStorage.getItem("deviceId");return R||(R=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",R)),R};p.useEffect(()=>{localStorage.getItem("token")||(G.error("Please login to view your bookings"),y(!0))},[]);const j=async(R=!0)=>{try{if(!localStorage.getItem("token")){y(!0);return}R&&f(!0);const C=N(),F=await Zf.getBookings({deviceId:C});console.log(" Full API Response:",F.data);let L=[];F.data?.success?L=F.data.bookings||F.data.data||[]:Array.isArray(F.data)&&(L=F.data),console.log(" Extracted Bookings Data:",L),console.log(" Total Bookings Count:",L.length);const D=L.map(M=>{const $=M.venueId||M.venue||{},ee=M.dateFrom||M.date,q=M.dateTo||M.date;let V=M.status;M.type==="lead"?V="lead":(!V||V==="")&&(V="pending");let re=M.paymentStatus;(!re||re==="")&&(re="pending"),console.log(" Booking from API:",{id:M._id||M.id,rooms:M.rooms,roomsType:typeof M.rooms,status:M.status,extractedStatus:V,paymentStatus:M.paymentStatus,extractedPaymentStatus:re,type:M.type,deviceId:M.deviceId,fullBooking:M});const U=$.images?.[0]||$.coverImage||$.image||null;return console.log(" Venue Image Debug:",{venueId:$._id||$.id,venueName:$.name,images:$.images,coverImage:$.coverImage,image:$.image,extractedImage:U,formattedImage:b(U)}),{id:M._id||M.id,bookingId:M._id||M.id,venue:{id:$._id||$.id,name:$.name||"Unnamed Venue",image:b(U),location:v($.location)},checkIn:ee?typeof ee=="string"?ee.split("T")[0]:new Date(ee).toISOString().split("T")[0]:"",checkOut:q?typeof q=="string"?q.split("T")[0]:new Date(q).toISOString().split("T")[0]:"",guests:M.guests||0,rooms:M.rooms!==void 0&&M.rooms!==null?Number(M.rooms):0,eventType:M.eventType||"Wedding",totalAmount:M.totalAmount||0,status:V,paymentStatus:re,type:M.type||null,bookingDate:M.createdAt||M.bookingDate||new Date().toISOString()}});console.log(" Transformed Bookings:",D),console.log(" Transformed Count:",D.length),console.log(" Status Breakdown:",D.reduce((M,$)=>(M[$.status]=(M[$.status]||0)+1,M),{})),u(D)}catch(E){console.error("Error fetching bookings:",E),R&&G.error("Failed to load bookings"),u([])}finally{R&&f(!1)}};p.useEffect(()=>{j();const R=setInterval(()=>{j(!1)},3e4),E=()=>{document.hidden||j(!1)};return document.addEventListener("visibilitychange",E),()=>{clearInterval(R),document.removeEventListener("visibilitychange",E)}},[]);const k=p.useMemo(()=>{console.log(" Filtering bookings:",{totalBookings:c.length,statusFilter:s,searchQuery:t});let R=c.filter(E=>{const C=t===""||E.venue.name.toLowerCase().includes(t.toLowerCase())||E.venue.location.toLowerCase().includes(t.toLowerCase())||E.bookingId&&E.bookingId.toString().toLowerCase().includes(t.toLowerCase()),F=E.status?E.status.toString().toLowerCase().trim():"pending",L=s?s.toString().toLowerCase().trim():"all",D=L==="all"||F===L;return console.log(" Booking filter check:",{id:E.id,status:E.status,normalizedStatus:F,filterStatus:L,matchesStatus:D,matchesSearch:C}),C&&D});return console.log(" Filtered bookings count:",R.length),i==="newest"?R.sort((E,C)=>new Date(C.bookingDate)-new Date(E.bookingDate)):i==="oldest"?R.sort((E,C)=>new Date(E.bookingDate)-new Date(C.bookingDate)):i==="amount-high"?R.sort((E,C)=>{const F=typeof E.totalAmount=="number"?E.totalAmount:parseFloat(E.totalAmount)||0;return(typeof C.totalAmount=="number"?C.totalAmount:parseFloat(C.totalAmount)||0)-F}):i==="amount-low"&&R.sort((E,C)=>{const F=typeof E.totalAmount=="number"?E.totalAmount:parseFloat(E.totalAmount)||0,L=typeof C.totalAmount=="number"?C.totalAmount:parseFloat(C.totalAmount)||0;return F-L}),R},[t,s,i,c]),I=R=>{const E=R?R.toString().toLowerCase().trim():"pending",C={confirmed:{label:"Confirmed",class:"status-confirmed"},pending:{label:"Pending",class:"status-pending"},completed:{label:"Completed",class:"status-completed"},cancelled:{label:"Cancelled",class:"status-cancelled"},canceled:{label:"Cancelled",class:"status-cancelled"},failed:{label:"Failed",class:"status-cancelled"},new:{label:"New",class:"status-pending"},lead:{label:"Lead",class:"status-pending"},contacted:{label:"Contacted",class:"status-pending"},qualified:{label:"Qualified",class:"status-confirmed"},converted:{label:"Converted",class:"status-confirmed"},lost:{label:"Lost",class:"status-cancelled"}};return C[E]||C.pending},S=R=>{const E=R?R.toString().toLowerCase().trim():"pending",C={paid:{label:"Paid",class:"payment-paid"},pending:{label:"Pending",class:"payment-pending"},failed:{label:"Failed",class:"payment-failed"},refunded:{label:"Refunded",class:"payment-refunded"}};return C[E]||C.pending},O=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),P=(R,E)=>{const C=new Date(R),F=new Date(E),L=Math.abs(F-C);return Math.ceil(L/(1e3*60*60*24))};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"booking-history-page",children:[n.jsxs("div",{className:"booking-history-hero",children:[n.jsxs("div",{className:"booking-history-hero-content",children:[n.jsxs("h1",{className:"booking-history-page-title",children:["My Booking",n.jsx("span",{className:"gradient-text",children:" History"})]}),n.jsx("p",{className:"booking-history-page-subtitle",children:"View and manage all your venue bookings in one place"})]}),n.jsxs("div",{className:"hero-decoration",children:[n.jsx("div",{className:"decoration-circle circle-1"}),n.jsx("div",{className:"decoration-circle circle-2"}),n.jsx("div",{className:"decoration-circle circle-3"})]})]}),n.jsxs("div",{className:"booking-history-container",children:[n.jsxs("div",{className:"booking-history-toolbar",children:[n.jsx("div",{className:"search-bar-wrapper",children:n.jsxs("div",{className:"search-bar",children:[n.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.35-4.35"})]}),n.jsx("input",{type:"text",placeholder:"Search by venue name, location, or booking ID...",value:t,onChange:R=>r(R.target.value),className:"search-input"}),t&&n.jsx("button",{className:"clear-search-btn",onClick:()=>r(""),children:n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),n.jsxs("div",{className:"toolbar-actions",children:[n.jsxs("select",{className:"filter-select",value:s,onChange:R=>a(R.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"lead",children:"Lead"}),n.jsx("option",{value:"new",children:"New"}),n.jsx("option",{value:"qualified",children:"Qualified"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"failed",children:"Failed"})]}),n.jsxs("select",{className:"sort-select",value:i,onChange:R=>o(R.target.value),children:[n.jsx("option",{value:"newest",children:"Sort: Newest First"}),n.jsx("option",{value:"oldest",children:"Sort: Oldest First"}),n.jsx("option",{value:"amount-high",children:"Sort: Amount (High to Low)"}),n.jsx("option",{value:"amount-low",children:"Sort: Amount (Low to High)"})]})]})]}),n.jsx("div",{className:"results-info",children:n.jsxs("span",{className:"results-count",children:[n.jsx("strong",{children:k.length})," ",k.length===1?"booking":"bookings"," found"]})}),k.length>0?n.jsx("div",{className:"bookings-list",children:k.map(R=>{const E=I(R.status),C=S(R.paymentStatus),F=P(R.checkIn,R.checkOut);return n.jsxs("div",{className:"booking-card",children:[n.jsxs("div",{className:"booking-card-image",children:[n.jsx("img",{src:R.venue.image,alt:R.venue.name,onError:L=>{L.target.src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop"}}),n.jsxs("div",{className:"status-badges-container",children:[n.jsx("div",{className:`status-badge ${E.class}`,children:E.label}),R.type!=="lead"&&n.jsx("div",{className:`status-badge payment-badge ${C.class}`,children:C.label})]})]}),n.jsxs("div",{className:"booking-card-content",children:[n.jsxs("div",{className:"booking-card-header",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"booking-venue-name",children:R.venue.name}),n.jsxs("p",{className:"booking-venue-location",children:[n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),R.venue.location]})]}),n.jsxs("div",{className:"booking-id",children:[n.jsx("span",{className:"booking-id-label",children:R.type==="lead"?"Lead Booking ID":"Booking ID"}),n.jsx("span",{className:"booking-id-value",children:R.bookingId})]})]}),n.jsxs("div",{className:"booking-details-grid",children:[n.jsxs("div",{className:"booking-detail-item",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"detail-label",children:"Check-in"}),n.jsx("span",{className:"detail-value",children:O(R.checkIn)})]})]}),n.jsxs("div",{className:"booking-detail-item",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"detail-label",children:"Check-out"}),n.jsx("span",{className:"detail-value",children:O(R.checkOut)})]})]}),n.jsxs("div",{className:"booking-detail-item",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"detail-label",children:"Guests"}),n.jsxs("span",{className:"detail-value",children:[R.guests," guests"]})]})]}),n.jsxs("div",{className:"booking-detail-item",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),n.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"detail-label",children:"Rooms"}),n.jsxs("span",{className:"detail-value",children:[R.rooms," rooms"]})]})]}),n.jsxs("div",{className:"booking-detail-item",children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),n.jsxs("div",{children:[n.jsx("span",{className:"detail-label",children:"Event Type"}),n.jsx("span",{className:"detail-value",children:R.eventType})]})]}),n.jsxs("div",{className:"booking-detail-item",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),n.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"detail-label",children:"Duration"}),n.jsxs("span",{className:"detail-value",children:[F," ",F===1?"night":"nights"]})]})]})]}),n.jsxs("div",{className:"booking-card-footer",children:[R.type!=="lead"&&n.jsxs("div",{className:"booking-amount",children:[n.jsx("span",{className:"amount-label",children:"Total Amount"}),n.jsxs("span",{className:"amount-value",children:[" ",typeof R.totalAmount=="number"?R.totalAmount.toLocaleString("en-IN"):R.totalAmount]})]}),n.jsxs("div",{className:"booking-actions",children:[n.jsxs("button",{className:"action-btn view-btn",onClick:()=>e(`/venue/${ql(R.venue.name)}`),children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"View Venue"]}),(R.status==="pending"||R.status==="confirmed")&&n.jsxs("button",{className:"action-btn cancel-btn",onClick:async()=>{if(window.confirm("Are you sure you want to cancel this booking?"))try{await Zf.updateStatus(R.id,"cancelled"),G.success("Booking cancelled successfully"),j(!1)}catch(L){console.error("Error cancelling booking:",L),G.error("Failed to cancel booking")}},children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Cancel"]}),R.status==="completed"&&n.jsxs("button",{className:"action-btn review-btn",children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),"Write Review"]})]})]})]})]},R.id)})}):n.jsxs("div",{className:"no-bookings",children:[n.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),n.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),n.jsx("polyline",{points:"7 3 7 8 15 8"})]}),n.jsx("h3",{children:"No bookings found"}),n.jsx("p",{children:"Try adjusting your filters or search query"}),n.jsx("button",{className:"browse-venues-btn",onClick:()=>e("/venues"),children:"Browse Venues"})]})]})]}),n.jsx(mn,{}),n.jsx(tk,{isOpen:m,onClose:()=>{y(!1),e("/")},onLoginSuccess:()=>{y(!1),window.location.reload()}})]})}function cJ(){const e=lr(),r=Wn().state?.venue;p.useEffect(()=>{r||(G.error("Venue information is missing"),e("/venues"))},[r,e]);const s=r?{...r,id:r.id||r._id,image:r.images?.[0]||r.coverImage||r.image||"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop"}:null,[a,i]=p.useState({checkIn:"",checkOut:"",guests:"",rooms:"",fullName:"",email:"",phone:"",eventType:"",foodPreference:"both",specialRequests:""}),[o,c]=p.useState({}),[u,h]=p.useState(!1),m=(()=>{if(a.checkIn&&a.checkOut){const j=new Date(a.checkIn),k=new Date(a.checkOut),I=Math.abs(k-j),S=Math.ceil(I/(1e3*60*60*24));return S>0?S:0}return 0})(),y=()=>{let j=localStorage.getItem("deviceId");return j||(j=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",j)),j},b=j=>{const{name:k,value:I}=j.target;i(S=>({...S,[k]:I})),o[k]&&c(S=>({...S,[k]:""}))},v=()=>{const j={};if(a.checkIn||(j.checkIn="Check-in date is required"),a.checkOut||(j.checkOut="Check-out date is required"),a.checkIn&&a.checkOut){const k=new Date(a.checkIn);new Date(a.checkOut)<=k&&(j.checkOut="Check-out must be after check-in")}return a.guests||(j.guests="Number of guests is required"),a.fullName||(j.fullName="Full name is required"),a.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(j.email="Please enter a valid email"):j.email="Email is required",a.phone?/^[0-9]{10}$/.test(a.phone.replace(/\D/g,""))||(j.phone="Please enter a valid 10-digit phone number"):j.phone="Phone number is required",a.eventType||(j.eventType="Event type is required"),c(j),Object.keys(j).length===0},N=async j=>{if(j.preventDefault(),!s?.id){G.error("Venue information is missing"),e("/venues");return}if(v())try{h(!0);const k=new Date(a.checkIn),I=new Date(a.checkOut),P=1e4*(Math.ceil((I-k)/(1e3*60*60*24))||1),R={venueId:s.id,date:a.checkIn,dateFrom:a.checkIn,dateTo:a.checkOut,guests:parseInt(a.guests),rooms:a.rooms&&a.rooms!==""&&parseInt(a.rooms)||0,eventType:a.eventType,marriageFor:"boy",name:a.fullName,email:a.email,phone:a.phone,foodPreference:a.foodPreference,totalAmount:P,deviceId:y(),specialRequests:a.specialRequests},E=await Zf.create(R);E.data?.success?(G.success(E.data.message||"Inquiry submitted successfully! Venue will contact you soon."),e(-1)):G.error(E.data?.error||"Failed to submit inquiry")}catch(k){console.error("Contact venue error:",k),G.error(k.message||"Failed to submit inquiry")}finally{h(!1)}};return s?n.jsxs("div",{className:"booking-page",children:[n.jsxs("button",{type:"button",className:"back-button",onClick:()=>e(-1),children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]}),n.jsxs("div",{className:"booking-hero",children:[n.jsxs("div",{className:"hero-decoration",children:[n.jsx("div",{className:"decoration-circle circle-1"}),n.jsx("div",{className:"decoration-circle circle-2"}),n.jsx("div",{className:"decoration-circle circle-3"})]}),n.jsxs("div",{className:"booking-hero-content",children:[n.jsx("h1",{className:"booking-page-title",children:"Contact Venue"}),n.jsx("p",{className:"booking-page-subtitle",children:"Share your event details and the venue will contact you soon."})]})]}),n.jsx("div",{className:"booking-container",children:n.jsxs("div",{className:"booking-content",children:[n.jsxs("div",{className:"booking-form-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsxs("h2",{className:"section-title",children:[n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"7 10 12 15 17 10"}),n.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Inquiry Form"]}),n.jsx("div",{className:"section-underline"})]}),n.jsxs("form",{className:"booking-form",onSubmit:N,children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"section-subtitle",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Dates & Guests"]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Check-in Date *"}),n.jsx("input",{type:"date",name:"checkIn",value:a.checkIn,onChange:b,className:`form-input ${o.checkIn?"error":""}`,required:!0,min:new Date().toISOString().split("T")[0]}),o.checkIn&&n.jsx("span",{className:"error-message",children:o.checkIn})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Check-out Date *"}),n.jsx("input",{type:"date",name:"checkOut",value:a.checkOut,onChange:b,className:`form-input ${o.checkOut?"error":""}`,required:!0,min:a.checkIn||new Date().toISOString().split("T")[0]}),o.checkOut&&n.jsx("span",{className:"error-message",children:o.checkOut})]})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Guests *"}),n.jsx("input",{type:"number",name:"guests",value:a.guests,onChange:b,className:`form-input ${o.guests?"error":""}`,placeholder:"e.g. 200",min:"1",required:!0}),o.guests&&n.jsx("span",{className:"error-message",children:o.guests})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Rooms (Optional)"}),n.jsx("input",{type:"number",name:"rooms",value:a.rooms,onChange:b,className:"form-input",placeholder:"e.g. 10",min:"0"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"section-subtitle",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Your Details"]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Full Name *"}),n.jsx("input",{type:"text",name:"fullName",value:a.fullName,onChange:b,className:`form-input ${o.fullName?"error":""}`,placeholder:"Your name",required:!0}),o.fullName&&n.jsx("span",{className:"error-message",children:o.fullName})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Email *"}),n.jsx("input",{type:"email",name:"email",value:a.email,onChange:b,className:`form-input ${o.email?"error":""}`,placeholder:"you@example.com",required:!0}),o.email&&n.jsx("span",{className:"error-message",children:o.email})]})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Phone *"}),n.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:b,className:`form-input ${o.phone?"error":""}`,placeholder:"10-digit number",required:!0}),o.phone&&n.jsx("span",{className:"error-message",children:o.phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Event Type *"}),n.jsxs("select",{name:"eventType",value:a.eventType,onChange:b,className:`form-input ${o.eventType?"error":""}`,required:!0,children:[n.jsx("option",{value:"",children:"Select event type"}),n.jsx("option",{value:"wedding",children:"Wedding"}),n.jsx("option",{value:"party",children:"Party"}),n.jsx("option",{value:"birthday party",children:"Birthday Party"}),n.jsx("option",{value:"anniversary",children:"Anniversary"}),n.jsx("option",{value:"engagement",children:"Engagement"}),n.jsx("option",{value:"reception",children:"Reception"}),n.jsx("option",{value:"other",children:"Other"})]}),o.eventType&&n.jsx("span",{className:"error-message",children:o.eventType})]})]}),n.jsx("div",{className:"form-row",children:n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Food Preference *"}),n.jsxs("select",{name:"foodPreference",value:a.foodPreference,onChange:b,className:"form-input",required:!0,children:[n.jsx("option",{value:"both",children:"Both (Veg & Non-Veg)"}),n.jsx("option",{value:"veg",children:"Vegetarian"}),n.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]})]})}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Special Requests"}),n.jsx("textarea",{name:"specialRequests",value:a.specialRequests,onChange:b,className:"form-input form-textarea",placeholder:"Any special requirements or requests...",rows:"4"})]})]}),n.jsx("button",{type:"submit",className:"submit-btn",disabled:u,children:u?n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"spinner",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Submitting..."]}):n.jsxs(n.Fragment,{children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M22 2L11 13"}),n.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),"Submit Inquiry"]})})]})]}),n.jsxs("div",{className:"booking-summary",children:[n.jsxs("div",{className:"summary-header",children:[n.jsx("h3",{className:"summary-title",children:"Inquiry Summary"}),n.jsx("div",{className:"summary-underline"})]}),n.jsxs("div",{className:"venue-card-summary",children:[n.jsx("div",{className:"venue-image-summary",children:n.jsx("img",{src:s.image,alt:s.name})}),n.jsxs("div",{className:"venue-info-summary",children:[n.jsx("h4",{className:"venue-name-summary",children:s.name}),n.jsxs("p",{className:"venue-location-summary",children:[n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),typeof s.location=="object"?`${s.location.city||""}${s.location.state?`, ${s.location.state}`:""}`:s.location]}),s.capacity&&n.jsxs("div",{className:"venue-capacity-summary",children:[n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),typeof s.capacity=="object"?`${s.capacity.minGuests||""}${s.capacity.maxGuests?`-${s.capacity.maxGuests}`:""}`:s.capacity]})]})]}),n.jsxs("div",{className:"summary-details",children:[a.checkIn&&n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{className:"summary-label",children:"Check-in"}),n.jsx("span",{className:"summary-value",children:a.checkIn})]}),a.checkOut&&n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{className:"summary-label",children:"Check-out"}),n.jsx("span",{className:"summary-value",children:a.checkOut})]}),m>0&&n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{className:"summary-label",children:"Duration"}),n.jsxs("span",{className:"summary-value",children:[m," ",m===1?"night":"nights"]})]}),a.guests&&n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{className:"summary-label",children:"Guests"}),n.jsx("span",{className:"summary-value",children:a.guests})]}),a.rooms&&n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{className:"summary-label",children:"Rooms"}),n.jsx("span",{className:"summary-value",children:a.rooms})]}),a.eventType&&n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{className:"summary-label",children:"Event Type"}),n.jsx("span",{className:"summary-value",children:a.eventType})]})]}),n.jsxs("div",{className:"summary-note",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),n.jsx("p",{children:"Your inquiry will be shared with the venue. They will contact you soon."})]})]})]})}),n.jsx(mn,{})]}):null}const uJ=()=>{const e=lr(),[t,r]=p.useState([]),[s,a]=p.useState(!0),[i,o]=p.useState(null),c=()=>{let v=localStorage.getItem("deviceId");return v||(v=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",v)),v},u=v=>{if(!v||v.length===0)return"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop";const N=Array.isArray(v)?v[0]:v;return N.startsWith("/uploads/")?`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${N}`:N.startsWith("http://")||N.startsWith("https://")?N:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}/uploads/venues/${N}`},h=v=>{if(!v)return"Price on request";if(typeof v=="number")return`${v.toLocaleString("en-IN")}`;const N=parseFloat(v);return isNaN(N)?"Price on request":`${N.toLocaleString("en-IN")}`},f=v=>v?typeof v=="object"&&v.city?`${v.city}${v.state?`, ${v.state}`:""}`:typeof v=="string"?v:"Location not specified":"Location not specified",m=v=>v?typeof v=="object"&&v.minGuests&&v.maxGuests?`${v.minGuests} - ${v.maxGuests} guests`:typeof v=="number"?`Up to ${v} guests`:String(v):"Not specified";p.useEffect(()=>{(async()=>{try{a(!0);const N=c(),j=await Ly.getAll(N);j.data?.success?r(j.data.venues||[]):(G.error(j.data?.error||"Failed to load shotlist"),r([]))}catch(N){console.error("Error fetching shotlist:",N),G.error(N.message||"Failed to load shotlist"),r([])}finally{a(!1)}})()},[]);const y=async v=>{try{o(v);const N=c(),j=await Ly.toggleLike(v,N);j.data?.success&&!j.data.isLiked?(r(k=>k.filter(I=>I.id!==v)),G.success("Venue removed from shotlist")):G.error(j.data?.error||"Failed to remove venue")}catch(N){console.error("Error removing from shotlist:",N),G.error(N.message||"Failed to remove venue")}finally{o(null)}},b=v=>{const N=v.slug||ql(v.name);e(`/venue/${N}`)};return n.jsxs(n.Fragment,{children:[n.jsx(iv,{title:"My Shotlist - ShubhVenue",description:"View your saved venues on ShubhVenue",keywords:"shotlist, saved venues, favorite venues, wedding venues"}),n.jsx("div",{className:"shotlist-page",children:n.jsxs("div",{className:"container",children:[n.jsxs("div",{className:"shotlist-header",children:[n.jsx("h1",{children:"My Shotlist"}),n.jsx("p",{className:"shotlist-subtitle",children:t.length===0?"No venues in your shotlist yet":`${t.length} ${t.length===1?"venue":"venues"} saved`})]}),s?n.jsxs("div",{className:"shotlist-loading",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading your shotlist..."})]}):t.length===0?n.jsxs("div",{className:"shotlist-empty",children:[n.jsx("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),n.jsx("h2",{children:"Your shotlist is empty"}),n.jsx("p",{children:"Start exploring venues and add them to your shotlist!"}),n.jsx("button",{className:"btn-primary",onClick:()=>e("/venues"),children:"Browse Venues"})]}):n.jsx("div",{className:"shotlist-grid",children:t.map(v=>n.jsxs("div",{className:"shotlist-card",children:[n.jsxs("div",{className:"shotlist-card-image",onClick:()=>b(v),children:[n.jsx("img",{src:u(v.images),alt:v.name,loading:"lazy"}),n.jsx("button",{className:"shotlist-remove-btn",onClick:N=>{N.stopPropagation(),y(v.id)},disabled:i===v.id,title:"Remove from shotlist",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),v.ratingInfo?.average>0&&n.jsxs("div",{className:"venue-rating-badge",children:[n.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),n.jsx("span",{children:v.ratingInfo.average.toFixed(1)})]})]}),n.jsxs("div",{className:"shotlist-card-content",children:[n.jsx("h3",{className:"shotlist-card-title",onClick:()=>b(v),children:v.name}),n.jsxs("div",{className:"shotlist-card-info",children:[n.jsxs("div",{className:"info-item",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),n.jsx("span",{children:f(v.location)})]}),n.jsxs("div",{className:"info-item",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),n.jsx("span",{children:m(v.capacity)})]}),v.pricingInfo?.vegPerPlate>0||v.pricingInfo?.nonVegPerPlate>0?n.jsxs("div",{className:"info-item",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),n.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),n.jsxs("span",{children:[v.pricingInfo.vegPerPlate>0&&`${v.pricingInfo.vegPerPlate}/plate (Veg)`,v.pricingInfo.vegPerPlate>0&&v.pricingInfo.nonVegPerPlate>0&&"  ",v.pricingInfo.nonVegPerPlate>0&&`${v.pricingInfo.nonVegPerPlate}/plate (Non-Veg)`]})]}):v.price>0?n.jsxs("div",{className:"info-item",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),n.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),n.jsx("span",{children:h(v.price)})]}):null]}),n.jsx("div",{className:"shotlist-card-actions",children:n.jsx("button",{className:"btn-primary",onClick:()=>b(v),children:"View Details"})})]})]},v.id))})]})}),n.jsx(mn,{})]})};function dJ(){const[e,t]=p.useState({title:"About ShubhVenue",content:"",lastUpdated:new Date}),[r,s]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{s(!0);const i=await nv.getByType("about-us");i.data?.success&&i.data?.legalPage&&t({title:i.data.legalPage.title||"About ShubhVenue",content:i.data.legalPage.content||"",lastUpdated:i.data.legalPage.lastUpdated?new Date(i.data.legalPage.lastUpdated):new Date})}catch(i){console.error("Error fetching about us:",i),G.error("Failed to load about us page")}finally{s(!1)}})()},[]),r?n.jsxs("div",{className:"about-us-page",children:[n.jsx("div",{className:"about-us-container",children:n.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[n.jsx("img",{src:"/image/venuebook.png",alt:"VenueBook Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite"},onError:a=>{a.target.onerror=null,a.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("div",{className:"loading-spinner",style:{margin:"0 auto"}}),n.jsx("p",{style:{marginTop:"20px",color:"var(--gray-medium)"},children:"Loading..."})]})}),n.jsx(mn,{})]}):n.jsxs("div",{className:"about-us-page",children:[n.jsxs("div",{className:"about-us-container",children:[n.jsxs("div",{className:"about-hero",children:[n.jsx("h1",{className:"about-title",children:e.title}),n.jsxs("p",{className:"about-subtitle",children:["Last updated: ",e.lastUpdated.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),n.jsx("div",{className:"about-content",children:n.jsx("div",{className:"about-html-content",dangerouslySetInnerHTML:{__html:e.content.replace(/\n/g,"<br />")}})})]}),n.jsx(mn,{})]})}function hJ(){return n.jsxs("div",{className:"how-it-works-page",children:[n.jsxs("div",{className:"how-it-works-container",children:[n.jsx("h2",{className:"how-it-works-title",children:"How it Works?"}),n.jsxs("div",{className:"steps-container",children:[n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-number",children:"01"}),n.jsx("div",{className:"step-icon",children:n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"}),n.jsx("line",{x1:"9",y1:"16",x2:"15",y2:"16"}),n.jsx("line",{x1:"9",y1:"20",x2:"15",y2:"20"}),n.jsx("circle",{cx:"17",cy:"17",r:"2.5",fill:"none"}),n.jsx("line",{x1:"19",y1:"19",x2:"21",y2:"21",strokeWidth:"1.5"})]})}),n.jsxs("div",{className:"step-content",children:[n.jsx("h3",{className:"step-title",children:"Discover"}),n.jsx("p",{className:"step-description",children:"Browse Venues to create your shortlist"})]})]}),n.jsx("div",{className:"step-connector",children:n.jsxs("svg",{width:"60",height:"20",viewBox:"0 0 60 20",fill:"none",children:[n.jsx("path",{d:"M5 10 L55 10",stroke:"url(#gradient)",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M50 5 L55 10 L50 15",stroke:"url(#gradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#6B46C1"}),n.jsx("stop",{offset:"100%",stopColor:"#EC4899"})]})})]})}),n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-number",children:"02"}),n.jsx("div",{className:"step-icon",children:n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[n.jsx("path",{d:"M9 2H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-2"}),n.jsx("path",{d:"M9 2v4h6V2"}),n.jsx("line",{x1:"9",y1:"6",x2:"15",y2:"6"}),n.jsx("line",{x1:"9",y1:"10",x2:"15",y2:"10"}),n.jsx("line",{x1:"9",y1:"14",x2:"15",y2:"14"}),n.jsx("line",{x1:"9",y1:"18",x2:"15",y2:"18"}),n.jsx("path",{d:"M16 2l2 2M16 4l2-2",strokeWidth:"1.5"}),n.jsx("line",{x1:"18",y1:"2",x2:"18",y2:"4",strokeWidth:"1.5"})]})}),n.jsxs("div",{className:"step-content",children:[n.jsx("h3",{className:"step-title",children:"Shortlist"}),n.jsx("p",{className:"step-description",children:"Get negotiated rates for your shortlisted venues"})]})]}),n.jsx("div",{className:"step-connector",children:n.jsxs("svg",{width:"60",height:"20",viewBox:"0 0 60 20",fill:"none",children:[n.jsx("path",{d:"M5 10 L55 10",stroke:"url(#gradient2)",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M50 5 L55 10 L50 15",stroke:"url(#gradient2)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"gradient2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#6B46C1"}),n.jsx("stop",{offset:"100%",stopColor:"#EC4899"})]})})]})}),n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-number",children:"03"}),n.jsx("div",{className:"step-icon",children:n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),n.jsx("circle",{cx:"18",cy:"18",r:"3",fill:"none"}),n.jsx("polyline",{points:"17 18 18 19 20 17",strokeWidth:"2"})]})}),n.jsxs("div",{className:"step-content",children:[n.jsx("h3",{className:"step-title",children:"Book"}),n.jsxs("p",{className:"step-description",children:["Book online at our guaranteed lowest price ",n.jsx("span",{className:"discount-badge",children:"Upto 20% off"})]})]})]})]})]}),n.jsx(mn,{})]})}function fJ(){return n.jsxs("div",{className:"blog-page",children:[n.jsxs("div",{className:"blog-container",children:[n.jsxs("div",{className:"blog-hero",children:[n.jsx("h1",{className:"blog-title",children:"Blog"}),n.jsx("p",{className:"blog-subtitle",children:"Tips, guides, and inspiration for your perfect event"})]}),n.jsx("div",{className:"blog-content",children:n.jsxs("div",{className:"coming-soon",children:[n.jsx("div",{className:"coming-soon-icon",children:""}),n.jsx("h2",{className:"coming-soon-title",children:"Coming Soon"}),n.jsx("p",{className:"coming-soon-text",children:"We're working on bringing you amazing content about event planning, venue selection tips, and inspiration for your special occasions. Stay tuned!"})]})})]}),n.jsx(mn,{})]})}function mJ(){const[e,t]=p.useState({title:"Privacy Policy",content:"",lastUpdated:new Date}),[r,s]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{s(!0);const i=await nv.getByType("privacy-policy");i.data?.success&&i.data?.legalPage&&t({title:i.data.legalPage.title||"Privacy Policy",content:i.data.legalPage.content||"",lastUpdated:i.data.legalPage.lastUpdated?new Date(i.data.legalPage.lastUpdated):new Date})}catch(i){console.error("Error fetching privacy policy:",i),G.error("Failed to load privacy policy")}finally{s(!1)}})()},[]),r?n.jsxs("div",{className:"privacy-page",children:[n.jsx("div",{className:"privacy-container",children:n.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite"},onError:a=>{a.target.onerror=null,a.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("div",{className:"loading-spinner",style:{margin:"0 auto"}}),n.jsx("p",{style:{marginTop:"20px",color:"var(--gray-medium)"},children:"Loading..."})]})}),n.jsx(mn,{})]}):n.jsxs("div",{className:"privacy-page",children:[n.jsxs("div",{className:"privacy-container",children:[n.jsxs("div",{className:"privacy-hero",children:[n.jsx("h1",{className:"privacy-title",children:e.title}),n.jsxs("p",{className:"privacy-subtitle",children:["Last updated: ",e.lastUpdated.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),n.jsx("div",{className:"privacy-content",children:n.jsx("div",{className:"privacy-html-content",dangerouslySetInnerHTML:{__html:e.content.replace(/\n/g,"<br />")}})})]}),n.jsx(mn,{})]})}function pJ(){const[e,t]=p.useState({title:"Terms of Service",content:"",lastUpdated:new Date}),[r,s]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{s(!0);const i=await nv.getByType("terms-of-service");i.data?.success&&i.data?.legalPage&&t({title:i.data.legalPage.title||"Terms of Service",content:i.data.legalPage.content||"",lastUpdated:i.data.legalPage.lastUpdated?new Date(i.data.legalPage.lastUpdated):new Date})}catch(i){console.error("Error fetching terms of service:",i),G.error("Failed to load terms of service")}finally{s(!1)}})()},[]),r?n.jsxs("div",{className:"terms-page",children:[n.jsx("div",{className:"terms-container",children:n.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite"},onError:a=>{a.target.onerror=null,a.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("div",{className:"loading-spinner",style:{margin:"0 auto"}}),n.jsx("p",{style:{marginTop:"20px",color:"var(--gray-medium)"},children:"Loading..."})]})}),n.jsx(mn,{})]}):n.jsxs("div",{className:"terms-page",children:[n.jsxs("div",{className:"terms-container",children:[n.jsxs("div",{className:"terms-hero",children:[n.jsx("h1",{className:"terms-title",children:e.title}),n.jsxs("p",{className:"terms-subtitle",children:["Last updated: ",e.lastUpdated.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),n.jsx("div",{className:"terms-content",children:n.jsx("div",{className:"terms-html-content",dangerouslySetInnerHTML:{__html:e.content.replace(/\n/g,"<br />")}})})]}),n.jsx(mn,{})]})}function gJ(){const[e,t]=p.useState({title:"Cookie Policy",content:"",lastUpdated:new Date}),[r,s]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{s(!0);const i=await nv.getByType("cookie-policy");i.data?.success&&i.data?.legalPage&&t({title:i.data.legalPage.title||"Cookie Policy",content:i.data.legalPage.content||"",lastUpdated:i.data.legalPage.lastUpdated?new Date(i.data.legalPage.lastUpdated):new Date})}catch(i){console.error("Error fetching cookie policy:",i),G.error("Failed to load cookie policy")}finally{s(!1)}})()},[]),r?n.jsxs("div",{className:"cookie-page",children:[n.jsx("div",{className:"cookie-container",children:n.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite"},onError:a=>{a.target.onerror=null,a.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("div",{className:"loading-spinner",style:{margin:"0 auto"}}),n.jsx("p",{style:{marginTop:"20px",color:"var(--gray-medium)"},children:"Loading..."})]})}),n.jsx(mn,{})]}):n.jsxs("div",{className:"cookie-page",children:[n.jsxs("div",{className:"cookie-container",children:[n.jsxs("div",{className:"cookie-hero",children:[n.jsx("h1",{className:"cookie-title",children:e.title}),n.jsxs("p",{className:"cookie-subtitle",children:["Last updated: ",e.lastUpdated.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),n.jsx("div",{className:"cookie-content",children:n.jsx("div",{className:"cookie-html-content",dangerouslySetInnerHTML:{__html:e.content.replace(/\n/g,"<br />")}})})]}),n.jsx(mn,{})]})}function yJ(){const[e,t]=p.useState({companyName:"ShubhVenue",email:"",phone:"",address:""}),[r,s]=p.useState(!0),[a,i]=p.useState({name:"",email:"",phone:"",subject:"",message:""}),[o,c]=p.useState(!1),[u,h]=p.useState(""),[f,m]=p.useState(!1),[y,b]=p.useState(null),[v,N]=p.useState(!1);p.useEffect(()=>{(async()=>{try{s(!0);const S=await NL.get();S.data?.success&&S.data?.company&&t({companyName:S.data.company.companyName||"ShubhVenue",email:S.data.company.email||"",phone:S.data.company.phone||"",address:S.data.company.address||""})}catch(S){console.error("Error fetching company data:",S)}finally{s(!1)}})()},[]);const j=async I=>{if(I.preventDefault(),!a.name||!a.email||!a.message){G.error("Please fill in all required fields");return}c(!0);try{const S=await LE.submit({name:a.name,email:a.email,phone:a.phone,subject:a.subject,message:a.message});S.data?.success?(G.success(S.data.message||"Thank you for contacting us! We will get back to you soon."),i({name:"",email:"",phone:"",subject:"",message:""})):G.error(S.data?.error||"Failed to send message")}catch(S){console.error("Error submitting contact form:",S);const O=S.response?.data?.error||S.message||"Failed to send message. Please try again.";G.error(O)}finally{c(!1)}},k=async I=>{if(I.preventDefault(),!u||!u.trim()){G.error("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){G.error("Please enter a valid email address");return}m(!0);try{const O=await LE.getByEmail(u.trim());O.data?.success&&O.data?.contacts?O.data.contacts.length>0?(b(O.data.contacts[0]),G.success("Submission found!")):(G.error("No submissions found for this email"),b(null)):(G.error(O.data?.error||"No submissions found"),b(null))}catch(O){console.error("Error checking submission:",O);const P=O.response?.data?.error||O.message||"Failed to check submission. Please try again.";G.error(P),b(null)}finally{m(!1)}};return n.jsxs("div",{className:"contact-us-page",children:[n.jsxs("div",{className:"contact-us-container",children:[n.jsxs("div",{className:"contact-hero",children:[n.jsx("h1",{className:"contact-title",children:"Contact Us"}),n.jsx("p",{className:"contact-subtitle",children:"We'd love to hear from you. Get in touch with us!"})]}),n.jsxs("div",{className:"check-submission-section",children:[n.jsxs("button",{className:"check-submission-toggle",onClick:()=>N(!v),children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polyline",{points:"12 16 12 12 16 8"}),n.jsx("line",{x1:"8",y1:"12",x2:"12",y2:"12"})]}),v?"Hide":"Check"," Your Submission Status"]}),v&&n.jsxs("div",{className:"check-submission-form",children:[n.jsx("h3",{className:"check-title",children:"Check Your Submission"}),n.jsx("p",{className:"check-description",children:"Enter your email to view your submission status and replies"}),n.jsxs("form",{onSubmit:k,className:"check-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"checkEmail",className:"form-label",children:"Email Address"}),n.jsx("input",{type:"email",id:"checkEmail",className:"form-input",value:u,onChange:I=>h(I.target.value),placeholder:"Enter the email you used to contact us",required:!0})]}),n.jsx("button",{type:"submit",className:"check-btn",disabled:f,children:f?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"spinner"}),"Checking..."]}):n.jsxs(n.Fragment,{children:["Check Status",n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"9 18 15 12 9 6"})})]})})]}),y&&n.jsxs("div",{className:"submission-details",children:[n.jsx("h4",{className:"details-title",children:"Your Submission"}),n.jsxs("div",{className:"details-content",children:[n.jsxs("div",{className:"detail-item",children:[n.jsx("span",{className:"detail-label",children:"Status:"}),n.jsx("span",{className:`detail-value status-${y.status}`,children:y.status==="new"?"New":y.status==="read"?"Read":y.status==="replied"?"Replied":y.status==="resolved"?"Resolved":y.status})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("span",{className:"detail-label",children:"Submitted:"}),n.jsx("span",{className:"detail-value",children:new Date(y.createdAt).toLocaleString()})]}),y.replyMessage&&n.jsxs("div",{className:"reply-section",children:[n.jsx("h5",{className:"reply-title",children:"Reply from ShubhVenue:"}),n.jsx("div",{className:"reply-message",children:y.replyMessage}),y.repliedAt&&n.jsxs("p",{className:"reply-date",children:["Replied on: ",new Date(y.repliedAt).toLocaleString()]})]})]})]})]})]}),n.jsxs("div",{className:"contact-content",children:[n.jsxs("div",{className:"contact-info-section",children:[n.jsxs("div",{className:"info-card",children:[n.jsx("div",{className:"info-icon",children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),n.jsx("h3",{className:"info-title",children:"Address"}),n.jsx("p",{className:"info-text",children:e.address||"123 Event Street, City, State 12345"})]}),n.jsxs("div",{className:"info-card",children:[n.jsx("div",{className:"info-icon",children:n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})}),n.jsx("h3",{className:"info-title",children:"Phone"}),n.jsx("p",{className:"info-text",children:e.phone?n.jsx("a",{href:`tel:${e.phone}`,className:"info-link",children:e.phone}):"+1 (555) 123-4567"})]}),n.jsxs("div",{className:"info-card",children:[n.jsx("div",{className:"info-icon",children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),n.jsx("polyline",{points:"22,6 12,13 2,6"})]})}),n.jsx("h3",{className:"info-title",children:"Email"}),n.jsx("p",{className:"info-text",children:e.email?n.jsx("a",{href:`mailto:${e.email}`,className:"info-link",children:e.email}):"info@shubhvenue.com"})]})]}),n.jsx("div",{className:"contact-form-section",children:n.jsxs("form",{onSubmit:j,className:"contact-form",children:[n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",className:"form-input",value:a.name,onChange:I=>i({...a,name:I.target.value}),placeholder:"Your full name",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"email",id:"email",className:"form-input",value:a.email,onChange:I=>i({...a,email:I.target.value}),placeholder:"your.email@example.com",required:!0})]})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),n.jsx("input",{type:"tel",id:"phone",className:"form-input",value:a.phone,onChange:I=>i({...a,phone:I.target.value}),placeholder:"+1 (555) 123-4567"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"subject",className:"form-label",children:"Subject"}),n.jsx("input",{type:"text",id:"subject",className:"form-input",value:a.subject,onChange:I=>i({...a,subject:I.target.value}),placeholder:"What is this regarding?"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"message",className:"form-label",children:["Message ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("textarea",{id:"message",className:"form-textarea",value:a.message,onChange:I=>i({...a,message:I.target.value}),placeholder:"Tell us how we can help you...",rows:6,required:!0})]}),n.jsx("button",{type:"submit",className:"submit-btn",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"spinner"}),"Sending..."]}):n.jsxs(n.Fragment,{children:["Send Message",n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),n.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})]})})]})})]})]}),n.jsx(mn,{})]})}const Dr=({children:e})=>localStorage.getItem("admin_token")?e:n.jsx(Uf,{to:"/admin/login",replace:!0}),rk=p.createContext({});function nk(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const sk=typeof window<"u",RL=sk?p.useLayoutEffect:p.useEffect,ov=p.createContext(null);function ak(e,t){e.indexOf(t)===-1&&e.push(t)}function ik(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const $o=(e,t,r)=>r>t?t:r<e?e:r;let ok=()=>{};const Bo={},LL=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function FL(e){return typeof e=="object"&&e!==null}const $L=e=>/^0[^.\s]+$/u.test(e);function lk(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pa=e=>e,xJ=(e,t)=>r=>t(e(r)),Om=(...e)=>e.reduce(xJ),em=(e,t,r)=>{const s=t-e;return s===0?1:(r-e)/s};class ck{constructor(){this.subscriptions=[]}add(t){return ak(this.subscriptions,t),()=>ik(this.subscriptions,t)}notify(t,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hi=e=>e*1e3,Sa=e=>e/1e3;function BL(e,t){return t?e*(1e3/t):0}const zL=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,vJ=1e-7,bJ=12;function wJ(e,t,r,s,a){let i,o,c=0;do o=t+(r-t)/2,i=zL(o,s,a)-e,i>0?r=o:t=o;while(Math.abs(i)>vJ&&++c<bJ);return o}function Rm(e,t,r,s){if(e===t&&r===s)return Pa;const a=i=>wJ(i,0,1,e,r);return i=>i===0||i===1?i:zL(a(i),t,s)}const VL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,UL=e=>t=>1-e(1-t),WL=Rm(.33,1.53,.69,.99),uk=UL(WL),HL=VL(uk),qL=e=>(e*=2)<1?.5*uk(e):.5*(2-Math.pow(2,-10*(e-1))),dk=e=>1-Math.sin(Math.acos(e)),GL=UL(dk),KL=VL(dk),jJ=Rm(.42,0,1,1),NJ=Rm(0,0,.58,1),YL=Rm(.42,0,.58,1),kJ=e=>Array.isArray(e)&&typeof e[0]!="number",ZL=e=>Array.isArray(e)&&typeof e[0]=="number",SJ={linear:Pa,easeIn:jJ,easeInOut:YL,easeOut:NJ,circIn:dk,circInOut:KL,circOut:GL,backIn:uk,backInOut:HL,backOut:WL,anticipate:qL},AJ=e=>typeof e=="string",WE=e=>{if(ZL(e)){ok(e.length===4);const[t,r,s,a]=e;return Rm(t,r,s,a)}else if(AJ(e))return SJ[e];return e},Ag=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CJ(e,t){let r=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(h.schedule(f),e()),f(c)}const h={schedule:(f,m=!1,y=!1)=>{const v=y&&a?r:s;return m&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{s.delete(f),o.delete(f)},process:f=>{if(c=f,a){i=!0;return}a=!0,[r,s]=[s,r],r.forEach(u),r.clear(),a=!1,i&&(i=!1,h.process(f))}};return h}const IJ=40;function QL(e,t){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Ag.reduce((S,O)=>(S[O]=CJ(i),S),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:f,update:m,preRender:y,render:b,postRender:v}=o,N=()=>{const S=Bo.useManualTiming?a.timestamp:performance.now();r=!1,Bo.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(S-a.timestamp,IJ),1)),a.timestamp=S,a.isProcessing=!0,c.process(a),u.process(a),h.process(a),f.process(a),m.process(a),y.process(a),b.process(a),v.process(a),a.isProcessing=!1,r&&t&&(s=!1,e(N))},j=()=>{r=!0,s=!0,a.isProcessing||e(N)};return{schedule:Ag.reduce((S,O)=>{const P=o[O];return S[O]=(R,E=!1,C=!1)=>(r||j(),P.schedule(R,E,C)),S},{}),cancel:S=>{for(let O=0;O<Ag.length;O++)o[Ag[O]].cancel(S)},state:a,steps:o}}const{schedule:br,cancel:Gl,state:Un,steps:lw}=QL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pa,!0);let oy;function PJ(){oy=void 0}const _s={now:()=>(oy===void 0&&_s.set(Un.isProcessing||Bo.useManualTiming?Un.timestamp:performance.now()),oy),set:e=>{oy=e,queueMicrotask(PJ)}},XL=e=>t=>typeof t=="string"&&t.startsWith(e),JL=XL("--"),EJ=XL("var(--"),hk=e=>EJ(e)?TJ.test(e.split("/*")[0].trim()):!1,TJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,eh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tm={...eh,transform:e=>$o(0,1,e)},Cg={...eh,default:1},Rf=e=>Math.round(e*1e5)/1e5,fk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _J(e){return e==null}const MJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mk=(e,t)=>r=>!!(typeof r=="string"&&MJ.test(r)&&r.startsWith(e)||t&&!_J(r)&&Object.prototype.hasOwnProperty.call(r,t)),e5=(e,t,r)=>s=>{if(typeof s!="string")return s;const[a,i,o,c]=s.match(fk);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},DJ=e=>$o(0,255,e),cw={...eh,transform:e=>Math.round(DJ(e))},Vc={test:mk("rgb","red"),parse:e5("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+cw.transform(e)+", "+cw.transform(t)+", "+cw.transform(r)+", "+Rf(tm.transform(s))+")"};function OJ(e){let t="",r="",s="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const R1={test:mk("#"),parse:OJ,transform:Vc.transform},Lm=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cl=Lm("deg"),qi=Lm("%"),mt=Lm("px"),RJ=Lm("vh"),LJ=Lm("vw"),HE={...qi,parse:e=>qi.parse(e)/100,transform:e=>qi.transform(e*100)},fd={test:mk("hsl","hue"),parse:e5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+qi.transform(Rf(t))+", "+qi.transform(Rf(r))+", "+Rf(tm.transform(s))+")"},Xr={test:e=>Vc.test(e)||R1.test(e)||fd.test(e),parse:e=>Vc.test(e)?Vc.parse(e):fd.test(e)?fd.parse(e):R1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vc.transform(e):fd.transform(e),getAnimatableNone:e=>{const t=Xr.parse(e);return t.alpha=0,Xr.transform(t)}},FJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $J(e){return isNaN(e)&&typeof e=="string"&&(e.match(fk)?.length||0)+(e.match(FJ)?.length||0)>0}const t5="number",r5="color",BJ="var",zJ="var(",qE="${}",VJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rm(e){const t=e.toString(),r=[],s={color:[],number:[],var:[]},a=[];let i=0;const c=t.replace(VJ,u=>(Xr.test(u)?(s.color.push(i),a.push(r5),r.push(Xr.parse(u))):u.startsWith(zJ)?(s.var.push(i),a.push(BJ),r.push(u)):(s.number.push(i),a.push(t5),r.push(parseFloat(u))),++i,qE)).split(qE);return{values:r,split:c,indexes:s,types:a}}function n5(e){return rm(e).values}function s5(e){const{split:t,types:r}=rm(e),s=t.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],a[o]!==void 0){const c=r[o];c===t5?i+=Rf(a[o]):c===r5?i+=Xr.transform(a[o]):i+=a[o]}return i}}const UJ=e=>typeof e=="number"?0:Xr.test(e)?Xr.getAnimatableNone(e):e;function WJ(e){const t=n5(e);return s5(e)(t.map(UJ))}const Kl={test:$J,parse:n5,createTransformer:s5,getAnimatableNone:WJ};function uw(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function HJ({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const c=r<.5?r*(1+t):r+t-r*t,u=2*r-c;a=uw(u,c,e+1/3),i=uw(u,c,e),o=uw(u,c,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function By(e,t){return r=>r>0?t:e}const Pr=(e,t,r)=>e+(t-e)*r,dw=(e,t,r)=>{const s=e*e,a=r*(t*t-s)+s;return a<0?0:Math.sqrt(a)},qJ=[R1,Vc,fd],GJ=e=>qJ.find(t=>t.test(e));function GE(e){const t=GJ(e);if(!t)return!1;let r=t.parse(e);return t===fd&&(r=HJ(r)),r}const KE=(e,t)=>{const r=GE(e),s=GE(t);if(!r||!s)return By(e,t);const a={...r};return i=>(a.red=dw(r.red,s.red,i),a.green=dw(r.green,s.green,i),a.blue=dw(r.blue,s.blue,i),a.alpha=Pr(r.alpha,s.alpha,i),Vc.transform(a))},L1=new Set(["none","hidden"]);function KJ(e,t){return L1.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function YJ(e,t){return r=>Pr(e,t,r)}function pk(e){return typeof e=="number"?YJ:typeof e=="string"?hk(e)?By:Xr.test(e)?KE:XJ:Array.isArray(e)?a5:typeof e=="object"?Xr.test(e)?KE:ZJ:By}function a5(e,t){const r=[...e],s=r.length,a=e.map((i,o)=>pk(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}}function ZJ(e,t){const r={...e,...t},s={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(s[a]=pk(e[a])(e[a],t[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}}function QJ(e,t){const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][s[i]],c=e.values[o]??0;r[a]=c,s[i]++}return r}const XJ=(e,t)=>{const r=Kl.createTransformer(t),s=rm(e),a=rm(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?L1.has(e)&&!a.values.length||L1.has(t)&&!s.values.length?KJ(e,t):Om(a5(QJ(s,a),a.values),r):By(e,t)};function i5(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Pr(e,t,r):pk(e)(e,t)}const JJ=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>br.update(t,r),stop:()=>Gl(t),now:()=>Un.isProcessing?Un.timestamp:_s.now()}},o5=(e,t,r=10)=>{let s="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)s+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},zy=2e4;function gk(e){let t=0;const r=50;let s=e.next(t);for(;!s.done&&t<zy;)t+=r,s=e.next(t);return t>=zy?1/0:t}function eee(e,t=100,r){const s=r({...e,keyframes:[0,t]}),a=Math.min(gk(s),zy);return{type:"keyframes",ease:i=>s.next(a*i).value/t,duration:Sa(a)}}const tee=5;function l5(e,t,r){const s=Math.max(t-tee,0);return BL(r-e(s),t-s)}const Rr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hw=.001;function ree({duration:e=Rr.duration,bounce:t=Rr.bounce,velocity:r=Rr.velocity,mass:s=Rr.mass}){let a,i,o=1-t;o=$o(Rr.minDamping,Rr.maxDamping,o),e=$o(Rr.minDuration,Rr.maxDuration,Sa(e)),o<1?(a=h=>{const f=h*o,m=f*e,y=f-r,b=F1(h,o),v=Math.exp(-m);return hw-y/b*v},i=h=>{const m=h*o*e,y=m*r+r,b=Math.pow(o,2)*Math.pow(h,2)*e,v=Math.exp(-m),N=F1(Math.pow(h,2),o);return(-a(h)+hw>0?-1:1)*((y-b)*v)/N}):(a=h=>{const f=Math.exp(-h*e),m=(h-r)*e+1;return-hw+f*m},i=h=>{const f=Math.exp(-h*e),m=(r-h)*(e*e);return f*m});const c=5/e,u=see(a,i,c);if(e=Hi(e),isNaN(u))return{stiffness:Rr.stiffness,damping:Rr.damping,duration:e};{const h=Math.pow(u,2)*s;return{stiffness:h,damping:o*2*Math.sqrt(s*h),duration:e}}}const nee=12;function see(e,t,r){let s=r;for(let a=1;a<nee;a++)s=s-e(s)/t(s);return s}function F1(e,t){return e*Math.sqrt(1-t*t)}const aee=["duration","bounce"],iee=["stiffness","damping","mass"];function YE(e,t){return t.some(r=>e[r]!==void 0)}function oee(e){let t={velocity:Rr.velocity,stiffness:Rr.stiffness,damping:Rr.damping,mass:Rr.mass,isResolvedFromDuration:!1,...e};if(!YE(e,iee)&&YE(e,aee))if(e.visualDuration){const r=e.visualDuration,s=2*Math.PI/(r*1.2),a=s*s,i=2*$o(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Rr.mass,stiffness:a,damping:i}}else{const r=ree(e);t={...t,...r,mass:Rr.mass},t.isResolvedFromDuration=!0}return t}function Vy(e=Rr.visualDuration,t=Rr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:h,mass:f,duration:m,velocity:y,isResolvedFromDuration:b}=oee({...r,velocity:-Sa(r.velocity||0)}),v=y||0,N=h/(2*Math.sqrt(u*f)),j=o-i,k=Sa(Math.sqrt(u/f)),I=Math.abs(j)<5;s||(s=I?Rr.restSpeed.granular:Rr.restSpeed.default),a||(a=I?Rr.restDelta.granular:Rr.restDelta.default);let S;if(N<1){const P=F1(k,N);S=R=>{const E=Math.exp(-N*k*R);return o-E*((v+N*k*j)/P*Math.sin(P*R)+j*Math.cos(P*R))}}else if(N===1)S=P=>o-Math.exp(-k*P)*(j+(v+k*j)*P);else{const P=k*Math.sqrt(N*N-1);S=R=>{const E=Math.exp(-N*k*R),C=Math.min(P*R,300);return o-E*((v+N*k*j)*Math.sinh(C)+P*j*Math.cosh(C))/P}}const O={calculatedDuration:b&&m||null,next:P=>{const R=S(P);if(b)c.done=P>=m;else{let E=P===0?v:0;N<1&&(E=P===0?Hi(v):l5(S,P,R));const C=Math.abs(E)<=s,F=Math.abs(o-R)<=a;c.done=C&&F}return c.value=c.done?o:R,c},toString:()=>{const P=Math.min(gk(O),zy),R=o5(E=>O.next(P*E).value,P,30);return P+"ms "+R},toTransition:()=>{}};return O}Vy.applyToOptions=e=>{const t=eee(e,100,Vy);return e.ease=t.ease,e.duration=Hi(t.duration),e.type="keyframes",e};function $1({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:u,restDelta:h=.5,restSpeed:f}){const m=e[0],y={done:!1,value:m},b=C=>c!==void 0&&C<c||u!==void 0&&C>u,v=C=>c===void 0?u:u===void 0||Math.abs(c-C)<Math.abs(u-C)?c:u;let N=r*t;const j=m+N,k=o===void 0?j:o(j);k!==j&&(N=k-m);const I=C=>-N*Math.exp(-C/s),S=C=>k+I(C),O=C=>{const F=I(C),L=S(C);y.done=Math.abs(F)<=h,y.value=y.done?k:L};let P,R;const E=C=>{b(y.value)&&(P=C,R=Vy({keyframes:[y.value,v(y.value)],velocity:l5(S,C,y.value),damping:a,stiffness:i,restDelta:h,restSpeed:f}))};return E(0),{calculatedDuration:null,next:C=>{let F=!1;return!R&&P===void 0&&(F=!0,O(C),E(C)),P!==void 0&&C>=P?R.next(C-P):(!F&&O(C),y)}}}function lee(e,t,r){const s=[],a=r||Bo.mix||i5,i=e.length-1;for(let o=0;o<i;o++){let c=a(e[o],e[o+1]);if(t){const u=Array.isArray(t)?t[o]||Pa:t;c=Om(u,c)}s.push(c)}return s}function cee(e,t,{clamp:r=!0,ease:s,mixer:a}={}){const i=e.length;if(ok(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=lee(t,s,a),u=c.length,h=f=>{if(o&&f<e[0])return t[0];let m=0;if(u>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const y=em(e[m],e[m+1],f);return c[m](y)};return r?f=>h($o(e[0],e[i-1],f)):h}function uee(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const a=em(0,t,s);e.push(Pr(r,1,a))}}function dee(e){const t=[0];return uee(t,e.length-1),t}function hee(e,t){return e.map(r=>r*t)}function fee(e,t){return e.map(()=>t||YL).splice(0,e.length-1)}function Lf({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){const a=kJ(s)?s.map(WE):WE(s),i={done:!1,value:t[0]},o=hee(r&&r.length===t.length?r:dee(t),e),c=cee(o,t,{ease:Array.isArray(a)?a:fee(t,a)});return{calculatedDuration:e,next:u=>(i.value=c(u),i.done=u>=e,i)}}const mee=e=>e!==null;function yk(e,{repeat:t,repeatType:r="loop"},s,a=1){const i=e.filter(mee),c=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!c||s===void 0?i[c]:s}const pee={decay:$1,inertia:$1,tween:Lf,keyframes:Lf,spring:Vy};function c5(e){typeof e.type=="string"&&(e.type=pee[e.type])}class xk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const gee=e=>e/100;class vk extends xk{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==_s.now()&&this.tick(_s.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;c5(t);const{type:r=Lf,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:c}=t;const u=r||Lf;u!==Lf&&typeof c[0]!="number"&&(this.mixKeyframes=Om(gee,i5(c[0],c[1])),c=[0,100]);const h=u({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=gk(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=h}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:f,repeat:m,repeatType:y,repeatDelay:b,type:v,onUpdate:N,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const k=this.currentTime-h*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?k<0:k>a;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let S=this.currentTime,O=s;if(m){const C=Math.min(this.currentTime,a)/c;let F=Math.floor(C),L=C%1;!L&&C>=1&&(L=1),L===1&&F--,F=Math.min(F,m+1),!!(F%2)&&(y==="reverse"?(L=1-L,b&&(L-=b/c)):y==="mirror"&&(O=o)),S=$o(0,1,L)*c}const P=I?{done:!1,value:f[0]}:O.next(S);i&&(P.value=i(P.value));let{done:R}=P;!I&&u!==null&&(R=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return E&&v!==$1&&(P.value=yk(f,this.options,j,this.speed)),N&&N(P.value),E&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return Sa(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sa(t)}get time(){return Sa(this.currentTime)}set time(t){t=Hi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_s.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Sa(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=JJ,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_s.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function yee(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Uc=e=>e*180/Math.PI,B1=e=>{const t=Uc(Math.atan2(e[1],e[0]));return z1(t)},xee={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:B1,rotateZ:B1,skewX:e=>Uc(Math.atan(e[1])),skewY:e=>Uc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},z1=e=>(e=e%360,e<0&&(e+=360),e),ZE=B1,QE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),XE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),vee={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:QE,scaleY:XE,scale:e=>(QE(e)+XE(e))/2,rotateX:e=>z1(Uc(Math.atan2(e[6],e[5]))),rotateY:e=>z1(Uc(Math.atan2(-e[2],e[0]))),rotateZ:ZE,rotate:ZE,skewX:e=>Uc(Math.atan(e[4])),skewY:e=>Uc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function V1(e){return e.includes("scale")?1:0}function U1(e,t){if(!e||e==="none")return V1(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(r)s=vee,a=r;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=xee,a=c}if(!a)return V1(t);const i=s[t],o=a[1].split(",").map(wee);return typeof i=="function"?i(o):o[i]}const bee=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return U1(r,t)};function wee(e){return parseFloat(e.trim())}const th=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rh=new Set(th),JE=e=>e===eh||e===mt,jee=new Set(["x","y","z"]),Nee=th.filter(e=>!jee.has(e));function kee(e){const t=[];return Nee.forEach(r=>{const s=e.getValue(r);s!==void 0&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t}const Xc={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>U1(t,"x"),y:(e,{transform:t})=>U1(t,"y")};Xc.translateX=Xc.x;Xc.translateY=Xc.y;const Jc=new Set;let W1=!1,H1=!1,q1=!1;function u5(){if(H1){const e=Array.from(Jc).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),r=new Map;t.forEach(s=>{const a=kee(s);a.length&&(r.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=r.get(s);a&&a.forEach(([i,o])=>{s.getValue(i)?.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}H1=!1,W1=!1,Jc.forEach(e=>e.complete(q1)),Jc.clear()}function d5(){Jc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(H1=!0)})}function See(){q1=!0,d5(),u5(),q1=!1}class bk{constructor(t,r,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Jc.add(this),W1||(W1=!0,br.read(d5),br.resolveKeyframes(u5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:s,motionValue:a}=this;if(t[0]===null){const i=a?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&r){const c=s.readValue(r,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}yee(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Jc.delete(this)}cancel(){this.state==="scheduled"&&(Jc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Aee=e=>e.startsWith("--");function Cee(e,t,r){Aee(t)?e.style.setProperty(t,r):e.style[t]=r}const Iee=lk(()=>window.ScrollTimeline!==void 0),Pee={};function Eee(e,t){const r=lk(e);return()=>Pee[t]??r()}const h5=Eee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sf=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,eT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sf([0,.65,.55,1]),circOut:Sf([.55,0,1,.45]),backIn:Sf([.31,.01,.66,-.59]),backOut:Sf([.33,1.53,.69,.99])};function f5(e,t){if(e)return typeof e=="function"?h5()?o5(e,t):"ease-out":ZL(e)?Sf(e):Array.isArray(e)?e.map(r=>f5(r,t)||eT.easeOut):eT[e]}function Tee(e,t,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:u}={},h=void 0){const f={[t]:r};u&&(f.offset=u);const m=f5(c,a);Array.isArray(m)&&(f.easing=m);const y={delay:s,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),e.animate(f,y)}function m5(e){return typeof e=="function"&&"applyToOptions"in e}function _ee({type:e,...t}){return m5(e)&&h5()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Mee extends xk{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:u}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,ok(typeof t.type!="string");const h=_ee(t);this.animation=Tee(r,s,a,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=yk(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):Cee(r,s,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Sa(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sa(t)}get time(){return Sa(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Hi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Iee()?(this.animation.timeline=t,Pa):r(this)}}const p5={anticipate:qL,backInOut:HL,circInOut:KL};function Dee(e){return e in p5}function Oee(e){typeof e.ease=="string"&&Dee(e.ease)&&(e.ease=p5[e.ease])}const tT=10;class Ree extends Mee{constructor(t){Oee(t),c5(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const c=new vk({...o,autoplay:!1}),u=Hi(this.finishedTime??this.time);r.setWithVelocity(c.sample(u-tT).value,c.sample(u).value,tT),c.stop()}}const rT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Kl.test(e)||e==="0")&&!e.startsWith("url("));function Lee(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Fee(e,t,r,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=rT(a,t),c=rT(i,t);return!o||!c?!1:Lee(e)||(r==="spring"||m5(r))&&s}function G1(e){e.duration=0,e.type="keyframes"}const $ee=new Set(["opacity","clipPath","filter","transform"]),Bee=lk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zee(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=t.owner.getProps();return Bee()&&r&&$ee.has(r)&&(r!=="transform"||!h)&&!u&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const Vee=40;class Uee extends xk{constructor({autoplay:t=!0,delay:r=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:u,motionValue:h,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_s.now();const y={autoplay:t,delay:r,type:s,repeat:a,repeatDelay:i,repeatType:o,name:u,motionValue:h,element:f,...m},b=f?.KeyframeResolver||bk;this.keyframeResolver=new b(c,(v,N,j)=>this.onKeyframesResolved(v,N,y,!j),u,h,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:u,isHandoff:h,onUpdate:f}=s;this.resolvedAt=_s.now(),Fee(t,i,o,c)||((Bo.instantAnimations||!u)&&f?.(yk(t,s,r)),t[0]=t[t.length-1],G1(s),s.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Vee?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:t},b=!h&&zee(y)?new Ree({...y,element:y.motionValue.owner.current}):new vk(y);b.finished.then(()=>this.notifyFinished()).catch(Pa),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),See()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Wee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Hee(e){const t=Wee.exec(e);if(!t)return[,];const[,r,s,a]=t;return[`--${r??s}`,a]}function g5(e,t,r=1){const[s,a]=Hee(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return LL(o)?parseFloat(o):o}return hk(a)?g5(a,t,r+1):a}function wk(e,t){return e?.[t]??e?.default??e}const y5=new Set(["width","height","top","left","right","bottom",...th]),qee={test:e=>e==="auto",parse:e=>e},x5=e=>t=>t.test(e),v5=[eh,mt,qi,Cl,LJ,RJ,qee],nT=e=>v5.find(x5(e));function Gee(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$L(e):!0}const Kee=new Set(["brightness","contrast","saturate","opacity"]);function Yee(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=r.match(fk)||[];if(!s)return e;const a=r.replace(s,"");let i=Kee.has(t)?1:0;return s!==r&&(i*=100),t+"("+i+a+")"}const Zee=/\b([a-z-]*)\(.*?\)/gu,K1={...Kl,getAnimatableNone:e=>{const t=e.match(Zee);return t?t.map(Yee).join(" "):e}},sT={...eh,transform:Math.round},Qee={rotate:Cl,rotateX:Cl,rotateY:Cl,rotateZ:Cl,scale:Cg,scaleX:Cg,scaleY:Cg,scaleZ:Cg,skew:Cl,skewX:Cl,skewY:Cl,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:tm,originX:HE,originY:HE,originZ:mt},jk={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt,...Qee,zIndex:sT,fillOpacity:tm,strokeOpacity:tm,numOctaves:sT},Xee={...jk,color:Xr,backgroundColor:Xr,outlineColor:Xr,fill:Xr,stroke:Xr,borderColor:Xr,borderTopColor:Xr,borderRightColor:Xr,borderBottomColor:Xr,borderLeftColor:Xr,filter:K1,WebkitFilter:K1},b5=e=>Xee[e];function w5(e,t){let r=b5(e);return r!==K1&&(r=Kl),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Jee=new Set(["auto","none","0"]);function ete(e,t,r){let s=0,a;for(;s<e.length&&!a;){const i=e[s];typeof i=="string"&&!Jee.has(i)&&rm(i).values.length&&(a=e[s]),s++}if(a&&r)for(const i of t)e[i]=w5(r,a)}class tte extends bk{constructor(t,r,s,a,i){super(t,r,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let h=t[u];if(typeof h=="string"&&(h=h.trim(),hk(h))){const f=g5(h,r.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!y5.has(s)||t.length!==2)return;const[a,i]=t,o=nT(a),c=nT(i);if(o!==c)if(JE(o)&&JE(c))for(let u=0;u<t.length;u++){const h=t[u];typeof h=="string"&&(t[u]=parseFloat(h))}else Xc[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||Gee(t[a]))&&s.push(a);s.length&&ete(t,s,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xc[s](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=Xc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function rte(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=r?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const j5=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function N5(e){return FL(e)&&"offsetHeight"in e}const aT=30,nte=e=>!isNaN(parseFloat(e));class ste{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=_s.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=_s.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=nte(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ck);const s=this.events[t].add(r);return t==="change"?()=>{s(),br.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_s.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>aT)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,aT);return BL(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dd(e,t){return new ste(e,t)}const{schedule:Nk}=QL(queueMicrotask,!1),Za={x:!1,y:!1};function k5(){return Za.x||Za.y}function ate(e){return e==="x"||e==="y"?Za[e]?null:(Za[e]=!0,()=>{Za[e]=!1}):Za.x||Za.y?null:(Za.x=Za.y=!0,()=>{Za.x=Za.y=!1})}function S5(e,t){const r=rte(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[r,a,()=>s.abort()]}function iT(e){return!(e.pointerType==="touch"||k5())}function ite(e,t,r={}){const[s,a,i]=S5(e,r),o=c=>{if(!iT(c))return;const{target:u}=c,h=t(u,c);if(typeof h!="function"||!u)return;const f=m=>{iT(m)&&(h(m),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,a)};return s.forEach(c=>{c.addEventListener("pointerenter",o,a)}),i}const A5=(e,t)=>t?e===t?!0:A5(e,t.parentElement):!1,kk=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ote=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lte(e){return ote.has(e.tagName)||e.tabIndex!==-1}const ly=new WeakSet;function oT(e){return t=>{t.key==="Enter"&&e(t)}}function fw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const cte=(e,t)=>{const r=e.currentTarget;if(!r)return;const s=oT(()=>{if(ly.has(r))return;fw(r,"down");const a=oT(()=>{fw(r,"up")}),i=()=>fw(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",s,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),t)};function lT(e){return kk(e)&&!k5()}function ute(e,t,r={}){const[s,a,i]=S5(e,r),o=c=>{const u=c.currentTarget;if(!lT(c))return;ly.add(u);const h=t(u,c),f=(b,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),ly.has(u)&&ly.delete(u),lT(b)&&typeof h=="function"&&h(b,{success:v})},m=b=>{f(b,u===window||u===document||r.useGlobalTarget||A5(u,b.target))},y=b=>{f(b,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",y,a)};return s.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,a),N5(c)&&(c.addEventListener("focus",h=>cte(h,a)),!lte(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function C5(e){return FL(e)&&"ownerSVGElement"in e}function dte(e){return C5(e)&&e.tagName==="svg"}const es=e=>!!(e&&e.getVelocity),hte=[...v5,Xr,Kl],fte=e=>hte.find(x5(e)),Sk=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function cT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function mte(...e){return t=>{let r=!1;const s=e.map(a=>{const i=cT(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():cT(e[a],null)}}}}function pte(...e){return p.useCallback(mte(...e),e)}class gte extends p.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const s=r.offsetParent,a=N5(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function yte({children:e,isPresent:t,anchorX:r,root:s}){const a=p.useId(),i=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=p.useContext(Sk),u=pte(i,e?.ref);return p.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:y,right:b}=o.current;if(t||!i.current||!h||!f)return;const v=r==="left"?`left: ${y}`:`right: ${b}`;i.current.dataset.motionPopId=a;const N=document.createElement("style");c&&(N.nonce=c);const j=s??document.head;return j.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${v}px !important;
            top: ${m}px !important;
          }
        `),()=>{j.contains(N)&&j.removeChild(N)}},[t]),n.jsx(gte,{isPresent:t,childRef:i,sizeRef:o,children:p.cloneElement(e,{ref:u})})}const xte=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o,anchorX:c,root:u})=>{const h=nk(vte),f=p.useId();let m=!0,y=p.useMemo(()=>(m=!1,{id:f,initial:t,isPresent:r,custom:a,onExitComplete:b=>{h.set(b,!0);for(const v of h.values())if(!v)return;s&&s()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[r,h,s]);return i&&m&&(y={...y}),p.useMemo(()=>{h.forEach((b,v)=>h.set(v,!1))},[r]),p.useEffect(()=>{!r&&!h.size&&s&&s()},[r]),o==="popLayout"&&(e=n.jsx(yte,{isPresent:r,anchorX:c,root:u,children:e})),n.jsx(ov.Provider,{value:y,children:e})};function vte(){return new Map}function I5(e=!0){const t=p.useContext(ov);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=t,i=p.useId();p.useEffect(()=>{if(e)return a(i)},[e]);const o=p.useCallback(()=>e&&s&&s(i),[i,s,e]);return!r&&s?[!1,o]:[!0]}const Ig=e=>e.key||"";function uT(e){const t=[];return p.Children.forEach(e,r=>{p.isValidElement(r)&&t.push(r)}),t}const bte=({children:e,custom:t,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:c="left",root:u})=>{const[h,f]=I5(o),m=p.useMemo(()=>uT(e),[e]),y=o&&!h?[]:m.map(Ig),b=p.useRef(!0),v=p.useRef(m),N=nk(()=>new Map),[j,k]=p.useState(m),[I,S]=p.useState(m);RL(()=>{b.current=!1,v.current=m;for(let R=0;R<I.length;R++){const E=Ig(I[R]);y.includes(E)?N.delete(E):N.get(E)!==!0&&N.set(E,!1)}},[I,y.length,y.join("-")]);const O=[];if(m!==j){let R=[...m];for(let E=0;E<I.length;E++){const C=I[E],F=Ig(C);y.includes(F)||(R.splice(E,0,C),O.push(C))}return i==="wait"&&O.length&&(R=O),S(uT(R)),k(m),null}const{forceRender:P}=p.useContext(rk);return n.jsx(n.Fragment,{children:I.map(R=>{const E=Ig(R),C=o&&!h?!1:m===I||y.includes(E),F=()=>{if(N.has(E))N.set(E,!0);else return;let L=!0;N.forEach(D=>{D||(L=!1)}),L&&(P?.(),S(v.current),o&&f?.(),s&&s())};return n.jsx(xte,{isPresent:C,initial:!b.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:u,onExitComplete:C?void 0:F,anchorX:c,children:R},E)})})},P5=p.createContext({strict:!1}),dT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Od={};for(const e in dT)Od[e]={isEnabled:t=>dT[e].some(r=>!!t[r])};function wte(e){for(const t in e)Od[t]={...Od[t],...e[t]}}const jte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uy(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jte.has(e)}let E5=e=>!Uy(e);function Nte(e){typeof e=="function"&&(E5=t=>t.startsWith("on")?!Uy(t):e(t))}try{Nte(require("@emotion/is-prop-valid").default)}catch{}function kte(e,t,r){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(E5(a)||r===!0&&Uy(a)||!t&&!Uy(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const lv=p.createContext({});function cv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function nm(e){return typeof e=="string"||Array.isArray(e)}const Ak=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ck=["initial",...Ak];function uv(e){return cv(e.animate)||Ck.some(t=>nm(e[t]))}function T5(e){return!!(uv(e)||e.variants)}function Ste(e,t){if(uv(e)){const{initial:r,animate:s}=e;return{initial:r===!1||nm(r)?r:void 0,animate:nm(s)?s:void 0}}return e.inherit!==!1?t:{}}function Ate(e){const{initial:t,animate:r}=Ste(e,p.useContext(lv));return p.useMemo(()=>({initial:t,animate:r}),[hT(t),hT(r)])}function hT(e){return Array.isArray(e)?e.join(" "):e}function fT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const af={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(mt.test(e))e=parseFloat(e);else return e;const r=fT(e,t.target.x),s=fT(e,t.target.y);return`${r}% ${s}%`}},Cte={correct:(e,{treeScale:t,projectionDelta:r})=>{const s=e,a=Kl.parse(e);if(a.length>5)return s;const i=Kl.createTransformer(e),o=typeof a[0]!="number"?1:0,c=r.x.scale*t.x,u=r.y.scale*t.y;a[0+o]/=c,a[1+o]/=u;const h=Pr(c,u,.5);return typeof a[2+o]=="number"&&(a[2+o]/=h),typeof a[3+o]=="number"&&(a[3+o]/=h),i(a)}},Y1={borderRadius:{...af,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:af,borderTopRightRadius:af,borderBottomLeftRadius:af,borderBottomRightRadius:af,boxShadow:Cte};function _5(e,{layout:t,layoutId:r}){return rh.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Y1[e]||e==="opacity")}const Ite={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pte=th.length;function Ete(e,t,r){let s="",a=!0;for(let i=0;i<Pte;i++){const o=th[i],c=e[o];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(o.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||r){const h=j5(c,jk[o]);if(!u){a=!1;const f=Ite[o]||o;s+=`${f}(${h}) `}r&&(t[o]=h)}}return s=s.trim(),r?s=r(t,a?"":s):a&&(s="none"),s}function Ik(e,t,r){const{style:s,vars:a,transformOrigin:i}=e;let o=!1,c=!1;for(const u in t){const h=t[u];if(rh.has(u)){o=!0;continue}else if(JL(u)){a[u]=h;continue}else{const f=j5(h,jk[u]);u.startsWith("origin")?(c=!0,i[u]=f):s[u]=f}}if(t.transform||(o||r?s.transform=Ete(t,e.transform,r):s.transform&&(s.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:f=0}=i;s.transformOrigin=`${u} ${h} ${f}`}}const Pk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function M5(e,t,r){for(const s in t)!es(t[s])&&!_5(s,r)&&(e[s]=t[s])}function Tte({transformTemplate:e},t){return p.useMemo(()=>{const r=Pk();return Ik(r,t,e),Object.assign({},r.vars,r.style)},[t])}function _te(e,t){const r=e.style||{},s={};return M5(s,r,e),Object.assign(s,Tte(e,t)),s}function Mte(e,t){const r={},s=_te(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const Dte={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ote={offset:"strokeDashoffset",array:"strokeDasharray"};function Rte(e,t,r=1,s=0,a=!0){e.pathLength=1;const i=a?Dte:Ote;e[i.offset]=mt.transform(-s);const o=mt.transform(t),c=mt.transform(r);e[i.array]=`${o} ${c}`}function D5(e,{attrX:t,attrY:r,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...c},u,h,f){if(Ik(e,c,h),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:y}=e;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=f?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),s!==void 0&&(m.scale=s),a!==void 0&&Rte(m,a,i,o,!1)}const O5=()=>({...Pk(),attrs:{}}),R5=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Lte(e,t,r,s){const a=p.useMemo(()=>{const i=O5();return D5(i,t,R5(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};M5(i,e.style,e),a.style={...i,...a.style}}return a}const Fte=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ek(e){return typeof e!="string"||e.includes("-")?!1:!!(Fte.indexOf(e)>-1||/[A-Z]/u.test(e))}function $te(e,t,r,{latestValues:s},a,i=!1){const c=(Ek(e)?Lte:Mte)(t,s,a,e),u=kte(t,typeof e=="string",i),h=e!==p.Fragment?{...u,...c,ref:r}:{},{children:f}=t,m=p.useMemo(()=>es(f)?f.get():f,[f]);return p.createElement(e,{...h,children:m})}function mT(e){const t=[{},{}];return e?.values.forEach((r,s)=>{t[0][s]=r.get(),t[1][s]=r.getVelocity()}),t}function Tk(e,t,r,s){if(typeof t=="function"){const[a,i]=mT(s);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=mT(s);t=t(r!==void 0?r:e.custom,a,i)}return t}function cy(e){return es(e)?e.get():e}function Bte({scrapeMotionValuesFromProps:e,createRenderState:t},r,s,a){return{latestValues:zte(r,s,a,e),renderState:t()}}function zte(e,t,r,s){const a={},i=s(e,{});for(const y in i)a[y]=cy(i[y]);let{initial:o,animate:c}=e;const u=uv(e),h=T5(e);t&&h&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const m=f?c:o;if(m&&typeof m!="boolean"&&!cv(m)){const y=Array.isArray(m)?m:[m];for(let b=0;b<y.length;b++){const v=Tk(e,y[b]);if(v){const{transitionEnd:N,transition:j,...k}=v;for(const I in k){let S=k[I];if(Array.isArray(S)){const O=f?S.length-1:0;S=S[O]}S!==null&&(a[I]=S)}for(const I in N)a[I]=N[I]}}}return a}const L5=e=>(t,r)=>{const s=p.useContext(lv),a=p.useContext(ov),i=()=>Bte(e,t,s,a);return r?i():nk(i)};function _k(e,t,r){const{style:s}=e,a={};for(const i in s)(es(s[i])||t.style&&es(t.style[i])||_5(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=s[i]);return a}const Vte=L5({scrapeMotionValuesFromProps:_k,createRenderState:Pk});function F5(e,t,r){const s=_k(e,t,r);for(const a in e)if(es(e[a])||es(t[a])){const i=th.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=e[a]}return s}const Ute=L5({scrapeMotionValuesFromProps:F5,createRenderState:O5}),Wte=Symbol.for("motionComponentSymbol");function md(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Hte(e,t,r){return p.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),r&&(typeof r=="function"?r(s):md(r)&&(r.current=s))},[t])}const Mk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qte="framerAppearId",$5="data-"+Mk(qte),B5=p.createContext({});function Gte(e,t,r,s,a){const{visualElement:i}=p.useContext(lv),o=p.useContext(P5),c=p.useContext(ov),u=p.useContext(Sk).reducedMotion,h=p.useRef(null);s=s||o.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,m=p.useContext(B5);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&Kte(h.current,r,a,m);const y=p.useRef(!1);p.useInsertionEffect(()=>{f&&y.current&&f.update(r,c)});const b=r[$5],v=p.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return RL(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),v.current=!1),f.enteringChildren=void 0)}),f}function Kte(e,t,r,s){const{layoutId:a,layout:i,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:z5(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||c&&md(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:f,layoutScroll:u,layoutRoot:h})}function z5(e){if(e)return e.options.allowProjection!==!1?e.projection:z5(e.parent)}function mw(e,{forwardMotionProps:t=!1}={},r,s){r&&wte(r);const a=Ek(e)?Ute:Vte;function i(c,u){let h;const f={...p.useContext(Sk),...c,layoutId:Yte(c)},{isStatic:m}=f,y=Ate(c),b=a(c,m);if(!m&&sk){Zte();const v=Qte(f);h=v.MeasureLayout,y.visualElement=Gte(e,b,f,s,v.ProjectionNode)}return n.jsxs(lv.Provider,{value:y,children:[h&&y.visualElement?n.jsx(h,{visualElement:y.visualElement,...f}):null,$te(e,c,Hte(b,y.visualElement,u),b,m,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=p.forwardRef(i);return o[Wte]=e,o}function Yte({layoutId:e}){const t=p.useContext(rk).id;return t&&e!==void 0?t+"-"+e:e}function Zte(e,t){p.useContext(P5).strict}function Qte(e){const{drag:t,layout:r}=Od;if(!t&&!r)return{};const s={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Xte(e,t){if(typeof Proxy>"u")return mw;const r=new Map,s=(i,o)=>mw(i,o,e,t),a=(i,o)=>s(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?s:(r.has(o)||r.set(o,mw(o,void 0,e,t)),r.get(o))})}function V5({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function Jte({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ere(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function pw(e){return e===void 0||e===1}function Z1({scale:e,scaleX:t,scaleY:r}){return!pw(e)||!pw(t)||!pw(r)}function _c(e){return Z1(e)||U5(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function U5(e){return pT(e.x)||pT(e.y)}function pT(e){return e&&e!=="0%"}function Wy(e,t,r){const s=e-r,a=t*s;return r+a}function gT(e,t,r,s,a){return a!==void 0&&(e=Wy(e,a,s)),Wy(e,r,s)+t}function Q1(e,t=0,r=1,s,a){e.min=gT(e.min,t,r,s,a),e.max=gT(e.max,t,r,s,a)}function W5(e,{x:t,y:r}){Q1(e.x,t.translate,t.scale,t.originPoint),Q1(e.y,r.translate,r.scale,r.originPoint)}const yT=.999999999999,xT=1.0000000000001;function tre(e,t,r,s=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let c=0;c<a;c++){i=r[c],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gd(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,W5(e,o)),s&&_c(i.latestValues)&&gd(e,i.latestValues))}t.x<xT&&t.x>yT&&(t.x=1),t.y<xT&&t.y>yT&&(t.y=1)}function pd(e,t){e.min=e.min+t,e.max=e.max+t}function vT(e,t,r,s,a=.5){const i=Pr(e.min,e.max,a);Q1(e,t,r,i,s)}function gd(e,t){vT(e.x,t.x,t.scaleX,t.scale,t.originX),vT(e.y,t.y,t.scaleY,t.scale,t.originY)}function H5(e,t){return V5(ere(e.getBoundingClientRect(),t))}function rre(e,t,r){const s=H5(e,r),{scroll:a}=t;return a&&(pd(s.x,a.offset.x),pd(s.y,a.offset.y)),s}const bT=()=>({translate:0,scale:1,origin:0,originPoint:0}),yd=()=>({x:bT(),y:bT()}),wT=()=>({min:0,max:0}),un=()=>({x:wT(),y:wT()}),X1={current:null},q5={current:!1};function nre(){if(q5.current=!0,!!sk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>X1.current=e.matches;e.addEventListener("change",t),t()}else X1.current=!1}const sre=new WeakMap;function are(e,t,r){for(const s in t){const a=t[s],i=r[s];if(es(a))e.addValue(s,a);else if(es(i))e.addValue(s,Dd(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(s);e.addValue(s,Dd(o!==void 0?o:a,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const jT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ire{scrapeMotionValuesFromProps(t,r,s){return{}}constructor({parent:t,props:r,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=_s.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,br.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=h,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=uv(r),this.isVariantNode=T5(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in m){const b=m[y];u[y]!==void 0&&es(b)&&b.set(u[y])}}mount(t){this.current=t,sre.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),q5.current||nre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:X1.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Gl(this.notifyUpdate),Gl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=rh.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&br.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Od){const r=Od[t];if(!r)continue;const{isEnabled:s,Feature:a}=r;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):un()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<jT.length;s++){const a=jT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=are(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const s=this.values.get(t);r!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&r!==void 0&&(s=Dd(r===null?void 0:r,{owner:this}),this.addValue(t,s)),s}readValue(t,r){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(LL(s)||$L(s))?s=parseFloat(s):!fte(s)&&Kl.test(r)&&(s=w5(t,r)),this.setBaseTarget(t,es(s)?s.get():s)),es(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=Tk(this.props,r,this.presenceContext?.custom);i&&(s=i[t])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!es(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ck),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Nk.render(this.render)}}class G5 extends ire{constructor(){super(...arguments),this.KeyframeResolver=tte}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:s}){delete r[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;es(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function K5(e,{style:t,vars:r},s,a){const i=e.style;let o;for(o in t)i[o]=t[o];a?.applyProjectionStyles(i,s);for(o in r)i.setProperty(o,r[o])}function ore(e){return window.getComputedStyle(e)}class lre extends G5{constructor(){super(...arguments),this.type="html",this.renderInstance=K5}readValueFromInstance(t,r){if(rh.has(r))return this.projection?.isProjecting?V1(r):bee(t,r);{const s=ore(t),a=(JL(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return H5(t,r)}build(t,r,s){Ik(t,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,r,s){return _k(t,r,s)}}const Y5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cre(e,t,r,s){K5(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(Y5.has(a)?a:Mk(a),t.attrs[a])}class ure extends G5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=un}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(rh.has(r)){const s=b5(r);return s&&s.default||0}return r=Y5.has(r)?r:Mk(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,s){return F5(t,r,s)}build(t,r,s){D5(t,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,r,s,a){cre(t,r,s,a)}mount(t){this.isSVGTag=R5(t.tagName),super.mount(t)}}const dre=(e,t)=>Ek(e)?new ure(t):new lre(t,{allowProjection:e!==p.Fragment});function Id(e,t,r){const s=e.getProps();return Tk(s,t,r!==void 0?r:s.custom,e)}const J1=e=>Array.isArray(e);function hre(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Dd(r))}function fre(e){return J1(e)?e[e.length-1]||0:e}function mre(e,t){const r=Id(e,t);let{transitionEnd:s={},transition:a={},...i}=r||{};i={...i,...s};for(const o in i){const c=fre(i[o]);hre(e,o,c)}}function pre(e){return!!(es(e)&&e.add)}function eN(e,t){const r=e.getValue("willChange");if(pre(r))return r.add(t);if(!r&&Bo.WillChange){const s=new Bo.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Z5(e){return e.props[$5]}const gre=e=>e!==null;function yre(e,{repeat:t,repeatType:r="loop"},s){const a=e.filter(gre),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const xre={type:"spring",stiffness:500,damping:25,restSpeed:10},vre=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),bre={type:"keyframes",duration:.8},wre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jre=(e,{keyframes:t})=>t.length>2?bre:rh.has(e)?e.startsWith("scale")?vre(t[1]):xre:wre;function Nre({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:c,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const Dk=(e,t,r,s={},a,i)=>o=>{const c=wk(s,e)||{},u=c.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Hi(u);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:y=>{t.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:i?void 0:a};Nre(c)||Object.assign(f,jre(e,f)),f.duration&&(f.duration=Hi(f.duration)),f.repeatDelay&&(f.repeatDelay=Hi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(G1(f),f.delay===0&&(m=!0)),(Bo.instantAnimations||Bo.skipAnimations)&&(m=!0,G1(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,m&&!i&&t.get()!==void 0){const y=yre(f.keyframes,c);if(y!==void 0){br.update(()=>{f.onUpdate(y),f.onComplete()});return}}return c.isSync?new vk(f):new Uee(f)};function kre({protectedKeys:e,needsAnimating:t},r){const s=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,s}function Q5(e,t,{delay:r=0,transitionOverride:s,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...c}=t;s&&(i=s);const u=[],h=a&&e.animationState&&e.animationState.getState()[a];for(const f in c){const m=e.getValue(f,e.latestValues[f]??null),y=c[f];if(y===void 0||h&&kre(h,f))continue;const b={delay:r,...wk(i||{},f)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===v&&!b.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const k=Z5(e);if(k){const I=window.MotionHandoffAnimation(k,f,br);I!==null&&(b.startTime=I,N=!0)}}eN(e,f),m.start(Dk(f,m,y,e.shouldReduceMotion&&y5.has(f)?{type:!1}:b,e,N));const j=m.animation;j&&u.push(j)}return o&&Promise.all(u).then(()=>{br.update(()=>{o&&mre(e,o)})}),u}function X5(e,t,r,s=0,a=1){const i=Array.from(e).sort((h,f)=>h.sortNodePosition(f)).indexOf(t),o=e.size,c=(o-1)*s;return typeof r=="function"?r(i,o):a===1?i*s:c-i*s}function tN(e,t,r={}){const s=Id(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const i=s?()=>Promise.all(Q5(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=a;return Sre(e,t,u,h,f,m,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,h]=c==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function Sre(e,t,r=0,s=0,a=0,i=1,o){const c=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),c.push(tN(u,t,{...o,delay:r+(typeof s=="function"?0:s)+X5(e.variantChildren,u,s,a,i)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(c)}function Are(e,t,r={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>tN(e,i,r));s=Promise.all(a)}else if(typeof t=="string")s=tN(e,t,r);else{const a=typeof t=="function"?Id(e,t,r.custom):t;s=Promise.all(Q5(e,a,r))}return s.then(()=>{e.notify("AnimationComplete",t)})}function J5(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}const Cre=Ck.length;function e6(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?e6(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Cre;r++){const s=Ck[r],a=e.props[s];(nm(a)||a===!1)&&(t[s]=a)}return t}const Ire=[...Ak].reverse(),Pre=Ak.length;function Ere(e){return t=>Promise.all(t.map(({animation:r,options:s})=>Are(e,r,s)))}function Tre(e){let t=Ere(e),r=NT(),s=!0;const a=u=>(h,f)=>{const m=Id(e,f,u==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:b,...v}=m;h={...h,...v,...b}}return h};function i(u){t=u(e)}function o(u){const{props:h}=e,f=e6(e.parent)||{},m=[],y=new Set;let b={},v=1/0;for(let j=0;j<Pre;j++){const k=Ire[j],I=r[k],S=h[k]!==void 0?h[k]:f[k],O=nm(S),P=k===u?I.isActive:null;P===!1&&(v=j);let R=S===f[k]&&S!==h[k]&&O;if(R&&s&&e.manuallyAnimateOnMount&&(R=!1),I.protectedKeys={...b},!I.isActive&&P===null||!S&&!I.prevProp||cv(S)||typeof S=="boolean")continue;const E=_re(I.prevProp,S);let C=E||k===u&&I.isActive&&!R&&O||j>v&&O,F=!1;const L=Array.isArray(S)?S:[S];let D=L.reduce(a(k),{});P===!1&&(D={});const{prevResolvedValues:M={}}=I,$={...M,...D},ee=re=>{C=!0,y.has(re)&&(F=!0,y.delete(re)),I.needsAnimating[re]=!0;const U=e.getValue(re);U&&(U.liveStyle=!1)};for(const re in $){const U=D[re],te=M[re];if(b.hasOwnProperty(re))continue;let ie=!1;J1(U)&&J1(te)?ie=!J5(U,te):ie=U!==te,ie?U!=null?ee(re):y.add(re):U!==void 0&&y.has(re)?ee(re):I.protectedKeys[re]=!0}I.prevProp=S,I.prevResolvedValues=D,I.isActive&&(b={...b,...D}),s&&e.blockInitialAnimation&&(C=!1);const q=R&&E;C&&(!q||F)&&m.push(...L.map(re=>{const U={type:k};if(typeof re=="string"&&s&&!q&&e.manuallyAnimateOnMount&&e.parent){const{parent:te}=e,ie=Id(te,re);if(te.enteringChildren&&ie){const{delayChildren:H}=ie.transition||{};U.delay=X5(te.enteringChildren,e,H)}}return{animation:re,options:U}}))}if(y.size){const j={};if(typeof h.initial!="boolean"){const k=Id(e,Array.isArray(h.initial)?h.initial[0]:h.initial);k&&k.transition&&(j.transition=k.transition)}y.forEach(k=>{const I=e.getBaseTarget(k),S=e.getValue(k);S&&(S.liveStyle=!0),j[k]=I??null}),m.push({animation:j})}let N=!!m.length;return s&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(N=!1),s=!1,N?t(m):Promise.resolve()}function c(u,h){if(r[u].isActive===h)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(u,h)),r[u].isActive=h;const f=o(u);for(const m in r)r[m].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>r,reset:()=>{r=NT()}}}function _re(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!J5(t,e):!1}function Ic(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NT(){return{animate:Ic(!0),whileInView:Ic(),whileHover:Ic(),whileTap:Ic(),whileDrag:Ic(),whileFocus:Ic(),exit:Ic()}}class rc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Mre extends rc{constructor(t){super(t),t.animationState||(t.animationState=Tre(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();cv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Dre=0;class Ore extends rc{constructor(){super(...arguments),this.id=Dre++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Rre={animation:{Feature:Mre},exit:{Feature:Ore}};function sm(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}function Fm(e){return{point:{x:e.pageX,y:e.pageY}}}const Lre=e=>t=>kk(t)&&e(t,Fm(t));function Ff(e,t,r,s){return sm(e,t,Lre(r),s)}const t6=1e-4,Fre=1-t6,$re=1+t6,r6=.01,Bre=0-r6,zre=0+r6;function hs(e){return e.max-e.min}function Vre(e,t,r){return Math.abs(e-t)<=r}function kT(e,t,r,s=.5){e.origin=s,e.originPoint=Pr(t.min,t.max,e.origin),e.scale=hs(r)/hs(t),e.translate=Pr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Fre&&e.scale<=$re||isNaN(e.scale))&&(e.scale=1),(e.translate>=Bre&&e.translate<=zre||isNaN(e.translate))&&(e.translate=0)}function $f(e,t,r,s){kT(e.x,t.x,r.x,s?s.originX:void 0),kT(e.y,t.y,r.y,s?s.originY:void 0)}function ST(e,t,r){e.min=r.min+t.min,e.max=e.min+hs(t)}function Ure(e,t,r){ST(e.x,t.x,r.x),ST(e.y,t.y,r.y)}function AT(e,t,r){e.min=t.min-r.min,e.max=e.min+hs(t)}function Hy(e,t,r){AT(e.x,t.x,r.x),AT(e.y,t.y,r.y)}function ba(e){return[e("x"),e("y")]}const n6=({current:e})=>e?e.ownerDocument.defaultView:null,CT=(e,t)=>Math.abs(e-t);function Wre(e,t){const r=CT(e.x,t.x),s=CT(e.y,t.y);return Math.sqrt(r**2+s**2)}class s6{constructor(t,r,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=yw(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=Wre(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!v)return;const{point:N}=y,{timestamp:j}=Un;this.history.push({...N,timestamp:j});const{onStart:k,onMove:I}=this.handlers;b||(k&&k(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=gw(b,this.transformPagePoint),br.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:v,onSessionEnd:N,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=yw(y.type==="pointercancel"?this.lastMoveEventInfo:gw(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(y,k),N&&N(y,k)},!kk(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const c=Fm(t),u=gw(c,this.transformPagePoint),{point:h}=u,{timestamp:f}=Un;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=r;m&&m(t,yw(u,this.history)),this.removeListeners=Om(Ff(this.contextWindow,"pointermove",this.handlePointerMove),Ff(this.contextWindow,"pointerup",this.handlePointerUp),Ff(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gl(this.updatePoint)}}function gw(e,t){return t?{point:t(e.point)}:e}function IT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yw({point:e},t){return{point:e,delta:IT(e,a6(t)),offset:IT(e,Hre(t)),velocity:qre(t,.1)}}function Hre(e){return e[0]}function a6(e){return e[e.length-1]}function qre(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const a=a6(e);for(;r>=0&&(s=e[r],!(a.timestamp-s.timestamp>Hi(t)));)r--;if(!s)return{x:0,y:0};const i=Sa(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Gre(e,{min:t,max:r},s){return t!==void 0&&e<t?e=s?Pr(t,e,s.min):Math.max(e,t):r!==void 0&&e>r&&(e=s?Pr(r,e,s.max):Math.min(e,r)),e}function PT(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Kre(e,{top:t,left:r,bottom:s,right:a}){return{x:PT(e.x,r,a),y:PT(e.y,t,s)}}function ET(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function Yre(e,t){return{x:ET(e.x,t.x),y:ET(e.y,t.y)}}function Zre(e,t){let r=.5;const s=hs(e),a=hs(t);return a>s?r=em(t.min,t.max-s,e.min):s>a&&(r=em(e.min,e.max-a,t.min)),$o(0,1,r)}function Qre(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const rN=.35;function Xre(e=rN){return e===!1?e=0:e===!0&&(e=rN),{x:TT(e,"left","right"),y:TT(e,"top","bottom")}}function TT(e,t,r){return{min:_T(e,t),max:_T(e,r)}}function _T(e,t){return typeof e=="number"?e:e[t]||0}const Jre=new WeakMap;class ene{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=un(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Fm(m).point)},o=(m,y)=>{const{drag:b,dragPropagation:v,onDragStart:N}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ate(b),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ba(k=>{let I=this.getAxisMotionValue(k).get()||0;if(qi.test(I)){const{projection:S}=this.visualElement;if(S&&S.layout){const O=S.layout.layoutBox[k];O&&(I=hs(O)*(parseFloat(I)/100))}}this.originPoint[k]=I}),N&&br.postRender(()=>N(m,y)),eN(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:N,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:k}=y;if(v&&this.currentDirection===null){this.currentDirection=tne(k),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",y.point,k),this.updateAxis("y",y.point,k),this.visualElement.render(),j&&j(m,y)},u=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y,this.stop(m,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>ba(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new s6(t,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:s,contextWindow:n6(this.visualElement)})}stop(t,r){const s=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&br.postRender(()=>c(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,s){const{drag:a}=this.getProps();if(!s||!Pg(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=Gre(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&md(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Kre(s.layoutBox,t):this.constraints=!1,this.elastic=Xre(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ba(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Qre(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!md(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=rre(s,a.root,this.visualElement.getTransformPagePoint());let o=Yre(a.layout.layoutBox,i);if(r){const c=r(Jte(o));this.hasMutatedConstraints=!!c,c&&(o=V5(c))}return o}startAnimation(t){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=ba(f=>{if(!Pg(f,r,this.currentDirection))return;let m=u&&u[f]||{};o&&(m={min:0,max:0});const y=a?200:1e6,b=a?40:1e7,v={type:"inertia",velocity:s?t[f]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(f,v)});return Promise.all(h).then(c)}startAxisValueAnimation(t,r){const s=this.getAxisMotionValue(t);return eN(this.visualElement,t),s.start(Dk(t,s,0,r,this.visualElement,!1))}stopAnimation(){ba(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ba(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ba(r=>{const{drag:s}=this.getProps();if(!Pg(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:c}=a.layout.layoutBox[r];i.set(t[r]-Pr(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!md(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ba(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();a[o]=Zre({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ba(o=>{if(!Pg(o,t,null))return;const c=this.getAxisMotionValue(o),{min:u,max:h}=this.constraints[o];c.set(Pr(u,h,a[o]))})}addListeners(){if(!this.visualElement.current)return;Jre.set(this.visualElement,this);const t=this.visualElement.current,r=Ff(t,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();md(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),br.read(s);const o=sm(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(ba(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=u[f].translate,m.set(m.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=rN,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function Pg(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function tne(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class rne extends rc{constructor(t){super(t),this.removeGroupControls=Pa,this.removeListeners=Pa,this.controls=new ene(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pa}unmount(){this.removeGroupControls(),this.removeListeners()}}const MT=e=>(t,r)=>{e&&br.postRender(()=>e(t,r))};class nne extends rc{constructor(){super(...arguments),this.removePointerDownListener=Pa}onPointerDown(t){this.session=new s6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:MT(t),onStart:MT(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&br.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Ff(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let xw=!1;class sne extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),xw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),uy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,xw=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||br.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Nk.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=t;xw=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function i6(e){const[t,r]=I5(),s=p.useContext(rk);return n.jsx(sne,{...e,layoutGroup:s,switchLayoutGroup:p.useContext(B5),isPresent:t,safeToRemove:r})}function ane(e,t,r){const s=es(e)?e:Dd(e);return s.start(Dk("",s,t,r)),s.animation}const ine=(e,t)=>e.depth-t.depth;class one{constructor(){this.children=[],this.isDirty=!1}add(t){ak(this.children,t),this.isDirty=!0}remove(t){ik(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ine),this.isDirty=!1,this.children.forEach(t)}}function lne(e,t){const r=_s.now(),s=({timestamp:a})=>{const i=a-r;i>=t&&(Gl(s),e(i-t))};return br.setup(s,!0),()=>Gl(s)}const o6=["TopLeft","TopRight","BottomLeft","BottomRight"],cne=o6.length,DT=e=>typeof e=="string"?parseFloat(e):e,OT=e=>typeof e=="number"||mt.test(e);function une(e,t,r,s,a,i){a?(e.opacity=Pr(0,r.opacity??1,dne(s)),e.opacityExit=Pr(t.opacity??1,0,hne(s))):i&&(e.opacity=Pr(t.opacity??1,r.opacity??1,s));for(let o=0;o<cne;o++){const c=`border${o6[o]}Radius`;let u=RT(t,c),h=RT(r,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||OT(u)===OT(h)?(e[c]=Math.max(Pr(DT(u),DT(h),s),0),(qi.test(h)||qi.test(u))&&(e[c]+="%")):e[c]=h}(t.rotate||r.rotate)&&(e.rotate=Pr(t.rotate||0,r.rotate||0,s))}function RT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const dne=l6(0,.5,GL),hne=l6(.5,.95,Pa);function l6(e,t,r){return s=>s<e?0:s>t?1:r(em(e,t,s))}function LT(e,t){e.min=t.min,e.max=t.max}function Ya(e,t){LT(e.x,t.x),LT(e.y,t.y)}function FT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $T(e,t,r,s,a){return e-=t,e=Wy(e,1/r,s),a!==void 0&&(e=Wy(e,1/a,s)),e}function fne(e,t=0,r=1,s=.5,a,i=e,o=e){if(qi.test(t)&&(t=parseFloat(t),t=Pr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=Pr(i.min,i.max,s);e===i&&(c-=t),e.min=$T(e.min,t,r,c,a),e.max=$T(e.max,t,r,c,a)}function BT(e,t,[r,s,a],i,o){fne(e,t[r],t[s],t[a],t.scale,i,o)}const mne=["x","scaleX","originX"],pne=["y","scaleY","originY"];function zT(e,t,r,s){BT(e.x,t,mne,r?r.x:void 0,s?s.x:void 0),BT(e.y,t,pne,r?r.y:void 0,s?s.y:void 0)}function VT(e){return e.translate===0&&e.scale===1}function c6(e){return VT(e.x)&&VT(e.y)}function UT(e,t){return e.min===t.min&&e.max===t.max}function gne(e,t){return UT(e.x,t.x)&&UT(e.y,t.y)}function WT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function u6(e,t){return WT(e.x,t.x)&&WT(e.y,t.y)}function HT(e){return hs(e.x)/hs(e.y)}function qT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class yne{constructor(){this.members=[]}add(t){ak(this.members,t),t.scheduleRender()}remove(t){if(ik(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,r){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,r&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:s}=t;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xne(e,t,r){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=r?.z||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:h,rotate:f,rotateX:m,rotateY:y,skewX:b,skewY:v}=r;h&&(s=`perspective(${h}px) ${s}`),f&&(s+=`rotate(${f}deg) `),m&&(s+=`rotateX(${m}deg) `),y&&(s+=`rotateY(${y}deg) `),b&&(s+=`skewX(${b}deg) `),v&&(s+=`skewY(${v}deg) `)}const c=e.x.scale*t.x,u=e.y.scale*t.y;return(c!==1||u!==1)&&(s+=`scale(${c}, ${u})`),s||"none"}const vw=["","X","Y","Z"],vne=1e3;let bne=0;function bw(e,t,r,s){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function d6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Z5(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",br,!(a||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&d6(s)}function h6({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},c=t?.()){this.id=bne++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Nne),this.nodes.forEach(Cne),this.nodes.forEach(Ine),this.nodes.forEach(kne)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new one)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ck),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=C5(o)&&!dte(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),e){let f,m=0;const y=()=>this.root.updateBlockedByResize=!1;br.read(()=>{m=window.innerWidth}),e(o,()=>{const b=window.innerWidth;b!==m&&(m=b,this.root.updateBlockedByResize=!0,f&&f(),f=lne(y,250),uy.hasAnimatedSinceResize&&(uy.hasAnimatedSinceResize=!1,this.nodes.forEach(YT)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||Mne,{onLayoutAnimationStart:N,onLayoutAnimationComplete:j}=h.getProps(),k=!this.targetLayout||!u6(this.targetLayout,b),I=!m&&y;if(this.options.layoutRoot||this.resumeFrom||I||m&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...wk(v,"layout"),onPlay:N,onComplete:j};(h.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(f,I)}else m||YT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pne),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&d6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(KT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ane),this.nodes.forEach(wne),this.nodes.forEach(jne)):this.nodes.forEach(KT),this.clearAllSnapshots();const c=_s.now();Un.delta=$o(0,1e3/60,c-Un.timestamp),Un.timestamp=c,Un.isProcessing=!0,lw.update.process(Un),lw.preRender.process(Un),lw.render.process(Un),Un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Nk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Sne),this.sharedNodes.forEach(Ene)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,br.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){br.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hs(this.snapshot.measuredBox.x)&&!hs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!c6(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||_c(this.latestValues)||f)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),Dne(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return un();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(One))){const{scroll:h}=this.root;h&&(pd(c.x,h.offset.x),pd(c.y,h.offset.y))}return c}removeElementScroll(o){const c=un();if(Ya(c,o),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Ya(c,o),pd(c.x,f.offset.x),pd(c.y,f.offset.y))}return c}applyTransform(o,c=!1){const u=un();Ya(u,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&gd(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),_c(f.latestValues)&&gd(u,f.latestValues)}return _c(this.latestValues)&&gd(u,this.latestValues),u}removeTransform(o){const c=un();Ya(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!_c(h.latestValues))continue;Z1(h.latestValues)&&h.updateSnapshot();const f=un(),m=h.measurePageBox();Ya(f,m),zT(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return _c(this.latestValues)&&zT(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=Un.timestamp;const y=this.getClosestProjectingParent();y&&this.linkedParentVersion!==y.layoutVersion&&!y.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(y&&y.layout?this.createRelativeTarget(y,this.layout.layoutBox,y.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=un(),this.targetWithTransforms=un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ure(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ya(this.target,this.layout.layoutBox),W5(this.target,this.targetDelta)):Ya(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?this.createRelativeTarget(y,this.target,y.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Z1(this.parent.latestValues)||U5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),Hy(this.relativeTargetOrigin,c,u),Ya(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Un.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Ya(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;tre(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=un());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(FT(this.prevProjectionDelta.x,this.projectionDelta.x),FT(this.prevProjectionDelta.y,this.projectionDelta.y)),$f(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!qT(this.projectionDelta.x,this.prevProjectionDelta.x)||!qT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yd(),this.projectionDelta=yd(),this.projectionDeltaWithTransform=yd()}setAnimationOrigin(o,c=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},m=yd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=un(),b=u?u.source:void 0,v=this.layout?this.layout.source:void 0,N=b!==v,j=this.getStack(),k=!j||j.members.length<=1,I=!!(N&&!k&&this.options.crossfade===!0&&!this.path.some(_ne));this.animationProgress=0;let S;this.mixTargetDelta=O=>{const P=O/1e3;ZT(m.x,o.x,P),ZT(m.y,o.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hy(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Tne(this.relativeTarget,this.relativeTargetOrigin,y,P),S&&gne(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=un()),Ya(S,this.relativeTarget)),N&&(this.animationValues=f,une(f,h,this.latestValues,P,I,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Gl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=br.update(()=>{uy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Dd(0)),this.currentAnimation=ane(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vne),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:f}=o;if(!(!c||!u||!h)){if(this!==o&&this.layout&&h&&f6(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||un();const m=hs(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+m;const y=hs(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+y}Ya(c,u),gd(c,f),$f(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new yne),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&bw("z",o,h,this.animationValues);for(let f=0;f<vw.length;f++)bw(`rotate${vw[f]}`,o,h,this.animationValues),bw(`skew${vw[f]}`,o,h,this.animationValues);o.render();for(const f in h)o.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=cy(c?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=cy(c?.pointerEvents)||""),this.hasProjected&&!_c(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=xne(this.projectionDeltaWithTransform,this.treeScale,f);u&&(m=u(f,m)),o.transform=m;const{x:y,y:b}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?o.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Y1){if(f[v]===void 0)continue;const{correct:N,applyTo:j,isCSSVariable:k}=Y1[v],I=m==="none"?f[v]:N(f[v],h);if(j){const S=j.length;for(let O=0;O<S;O++)o[j[O]]=I}else k?this.options.visualElement.renderState.vars[v]=I:o[v]=I}this.options.layoutId&&(o.pointerEvents=h===this?cy(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(GT),this.root.sharedNodes.clear()}}}function wne(e){e.updateLayout()}function jne(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?ba(f=>{const m=i?t.measuredBox[f]:t.layoutBox[f],y=hs(m);m.min=r[f].min,m.max=m.min+y}):f6(a,t.layoutBox,r)&&ba(f=>{const m=i?t.measuredBox[f]:t.layoutBox[f],y=hs(r[f]);m.max=m.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+y)});const o=yd();$f(o,r,t.layoutBox);const c=yd();i?$f(c,e.applyTransform(s,!0),t.measuredBox):$f(c,r,t.layoutBox);const u=!c6(o);let h=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:y}=f;if(m&&y){const b=un();Hy(b,t.layoutBox,m.layoutBox);const v=un();Hy(v,r,y.layoutBox),u6(b,v)||(h=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Nne(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kne(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Sne(e){e.clearSnapshot()}function GT(e){e.clearMeasurements()}function KT(e){e.isLayoutDirty=!1}function Ane(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function YT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Cne(e){e.resolveTargetDelta()}function Ine(e){e.calcProjection()}function Pne(e){e.resetSkewAndRotation()}function Ene(e){e.removeLeadSnapshot()}function ZT(e,t,r){e.translate=Pr(t.translate,0,r),e.scale=Pr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function QT(e,t,r,s){e.min=Pr(t.min,r.min,s),e.max=Pr(t.max,r.max,s)}function Tne(e,t,r,s){QT(e.x,t.x,r.x,s),QT(e.y,t.y,r.y,s)}function _ne(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Mne={duration:.45,ease:[.4,0,.1,1]},XT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),JT=XT("applewebkit/")&&!XT("chrome/")?Math.round:Pa;function e4(e){e.min=JT(e.min),e.max=JT(e.max)}function Dne(e){e4(e.x),e4(e.y)}function f6(e,t,r){return e==="position"||e==="preserve-aspect"&&!Vre(HT(t),HT(r),.2)}function One(e){return e!==e.root&&e.scroll?.wasRoot}const Rne=h6({attachResizeListener:(e,t)=>sm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ww={current:void 0},m6=h6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ww.current){const e=new Rne({});e.mount(window),e.setOptions({layoutScroll:!0}),ww.current=e}return ww.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Lne={pan:{Feature:nne},drag:{Feature:rne,ProjectionNode:m6,MeasureLayout:i6}};function t4(e,t,r){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=s[a];i&&br.postRender(()=>i(t,Fm(t)))}class Fne extends rc{mount(){const{current:t}=this.node;t&&(this.unmount=ite(t,(r,s)=>(t4(this.node,s,"Start"),a=>t4(this.node,a,"End"))))}unmount(){}}class $ne extends rc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Om(sm(this.node.current,"focus",()=>this.onFocus()),sm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function r4(e,t,r){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=s[a];i&&br.postRender(()=>i(t,Fm(t)))}class Bne extends rc{mount(){const{current:t}=this.node;t&&(this.unmount=ute(t,(r,s)=>(r4(this.node,s,"Start"),(a,{success:i})=>r4(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nN=new WeakMap,jw=new WeakMap,zne=e=>{const t=nN.get(e.target);t&&t(e)},Vne=e=>{e.forEach(zne)};function Une({root:e,...t}){const r=e||document;jw.has(r)||jw.set(r,{});const s=jw.get(r),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(Vne,{root:e,...t})),s[a]}function Wne(e,t,r){const s=Une(t);return nN.set(e,r),s.observe(e),()=>{nN.delete(e),s.unobserve(e)}}const Hne={some:0,all:1};class qne extends rc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Hne[a]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),y=h?f:m;y&&y(u)};return Wne(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Gne(t,r))&&this.startObserver()}unmount(){}}function Gne({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Kne={inView:{Feature:qne},tap:{Feature:Bne},focus:{Feature:$ne},hover:{Feature:Fne}},Yne={layout:{ProjectionNode:m6,MeasureLayout:i6}},Zne={...Rre,...Kne,...Lne,...Yne},$i=Xte(Zne,dre);function p6(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=p6(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Lt(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=p6(e))&&(s&&(s+=" "),s+=t);return s}const Qne=(e,t)=>{const r=new Array(e.length+t.length);for(let s=0;s<e.length;s++)r[s]=e[s];for(let s=0;s<t.length;s++)r[e.length+s]=t[s];return r},Xne=(e,t)=>({classGroupId:e,validator:t}),g6=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),qy="-",n4=[],Jne="arbitrary..",ese=e=>{const t=rse(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return tse(o);const c=o.split(qy),u=c[0]===""&&c.length>1?1:0;return y6(c,u,t)},getConflictingClassGroupIds:(o,c)=>{if(c){const u=s[o],h=r[o];return u?h?Qne(h,u):u:h||n4}return r[o]||n4}}},y6=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const h=y6(e,t+1,i);if(h)return h}const o=r.validators;if(o===null)return;const c=t===0?e.join(qy):e.slice(t).join(qy),u=o.length;for(let h=0;h<u;h++){const f=o[h];if(f.validator(c))return f.classGroupId}},tse=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),s=t.slice(0,r);return s?Jne+s:void 0})(),rse=e=>{const{theme:t,classGroups:r}=e;return nse(r,t)},nse=(e,t)=>{const r=g6();for(const s in e){const a=e[s];Ok(a,r,s,t)}return r},Ok=(e,t,r,s)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];sse(o,t,r,s)}},sse=(e,t,r,s)=>{if(typeof e=="string"){ase(e,t,r);return}if(typeof e=="function"){ise(e,t,r,s);return}ose(e,t,r,s)},ase=(e,t,r)=>{const s=e===""?t:x6(t,e);s.classGroupId=r},ise=(e,t,r,s)=>{if(lse(e)){Ok(e(s),t,r,s);return}t.validators===null&&(t.validators=[]),t.validators.push(Xne(r,e))},ose=(e,t,r,s)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[c,u]=a[o];Ok(u,x6(t,c),r,s)}},x6=(e,t)=>{let r=e;const s=t.split(qy),a=s.length;for(let i=0;i<a;i++){const o=s[i];let c=r.nextPart.get(o);c||(c=g6(),r.nextPart.set(o,c)),r=c}return r},lse=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,cse=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),s=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,s=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=s[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},sN="!",s4=":",use=[],a4=(e,t,r,s,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:s,isExternal:a}),dse=e=>{const{prefix:t,experimentalParseClassName:r}=e;let s=a=>{const i=[];let o=0,c=0,u=0,h;const f=a.length;for(let N=0;N<f;N++){const j=a[N];if(o===0&&c===0){if(j===s4){i.push(a.slice(u,N)),u=N+1;continue}if(j==="/"){h=N;continue}}j==="["?o++:j==="]"?o--:j==="("?c++:j===")"&&c--}const m=i.length===0?a:a.slice(u);let y=m,b=!1;m.endsWith(sN)?(y=m.slice(0,-1),b=!0):m.startsWith(sN)&&(y=m.slice(1),b=!0);const v=h&&h>u?h-u:void 0;return a4(i,b,y,v)};if(t){const a=t+s4,i=s;s=o=>o.startsWith(a)?i(o.slice(a.length)):a4(use,!1,o,void 0,!0)}if(r){const a=s;s=i=>r({className:i,parseClassName:a})}return s},hse=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,s)=>{t.set(r,1e6+s)}),r=>{const s=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],c=o[0]==="[",u=t.has(o);c||u?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(o)):a.push(o)}return a.length>0&&(a.sort(),s.push(...a)),s}},fse=e=>({cache:cse(e.cacheSize),parseClassName:dse(e),sortModifiers:hse(e),...ese(e)}),mse=/\s+/,pse=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],c=e.trim().split(mse);let u="";for(let h=c.length-1;h>=0;h-=1){const f=c[h],{isExternal:m,modifiers:y,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:N}=r(f);if(m){u=f+(u.length>0?" "+u:u);continue}let j=!!N,k=s(j?v.substring(0,N):v);if(!k){if(!j){u=f+(u.length>0?" "+u:u);continue}if(k=s(v),!k){u=f+(u.length>0?" "+u:u);continue}j=!1}const I=y.length===0?"":y.length===1?y[0]:i(y).join(":"),S=b?I+sN:I,O=S+k;if(o.indexOf(O)>-1)continue;o.push(O);const P=a(k,j);for(let R=0;R<P.length;++R){const E=P[R];o.push(S+E)}u=f+(u.length>0?" "+u:u)}return u},gse=(...e)=>{let t=0,r,s,a="";for(;t<e.length;)(r=e[t++])&&(s=v6(r))&&(a&&(a+=" "),a+=s);return a},v6=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=v6(e[s]))&&(r&&(r+=" "),r+=t);return r},yse=(e,...t)=>{let r,s,a,i;const o=u=>{const h=t.reduce((f,m)=>m(f),e());return r=fse(h),s=r.cache.get,a=r.cache.set,i=c,c(u)},c=u=>{const h=s(u);if(h)return h;const f=pse(u,r);return a(u,f),f};return i=o,(...u)=>i(gse(...u))},xse=[],cn=e=>{const t=r=>r[e]||xse;return t.isThemeGetter=!0,t},b6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,w6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vse=/^\d+\/\d+$/,bse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Nse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sd=e=>vse.test(e),kt=e=>!!e&&!Number.isNaN(Number(e)),Nl=e=>!!e&&Number.isInteger(Number(e)),Nw=e=>e.endsWith("%")&&kt(e.slice(0,-1)),vo=e=>bse.test(e),Sse=()=>!0,Ase=e=>wse.test(e)&&!jse.test(e),j6=()=>!1,Cse=e=>Nse.test(e),Ise=e=>kse.test(e),Pse=e=>!rt(e)&&!nt(e),Ese=e=>nh(e,S6,j6),rt=e=>b6.test(e),Pc=e=>nh(e,A6,Ase),kw=e=>nh(e,Ose,kt),i4=e=>nh(e,N6,j6),Tse=e=>nh(e,k6,Ise),Eg=e=>nh(e,C6,Cse),nt=e=>w6.test(e),of=e=>sh(e,A6),_se=e=>sh(e,Rse),o4=e=>sh(e,N6),Mse=e=>sh(e,S6),Dse=e=>sh(e,k6),Tg=e=>sh(e,C6,!0),nh=(e,t,r)=>{const s=b6.exec(e);return s?s[1]?t(s[1]):r(s[2]):!1},sh=(e,t,r=!1)=>{const s=w6.exec(e);return s?s[1]?t(s[1]):r:!1},N6=e=>e==="position"||e==="percentage",k6=e=>e==="image"||e==="url",S6=e=>e==="length"||e==="size"||e==="bg-size",A6=e=>e==="length",Ose=e=>e==="number",Rse=e=>e==="family-name",C6=e=>e==="shadow",Lse=()=>{const e=cn("color"),t=cn("font"),r=cn("text"),s=cn("font-weight"),a=cn("tracking"),i=cn("leading"),o=cn("breakpoint"),c=cn("container"),u=cn("spacing"),h=cn("radius"),f=cn("shadow"),m=cn("inset-shadow"),y=cn("text-shadow"),b=cn("drop-shadow"),v=cn("blur"),N=cn("perspective"),j=cn("aspect"),k=cn("ease"),I=cn("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...O(),nt,rt],R=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],C=()=>[nt,rt,u],F=()=>[sd,"full","auto",...C()],L=()=>[Nl,"none","subgrid",nt,rt],D=()=>["auto",{span:["full",Nl,nt,rt]},Nl,nt,rt],M=()=>[Nl,"auto",nt,rt],$=()=>["auto","min","max","fr",nt,rt],ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...C()],re=()=>[sd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],U=()=>[e,nt,rt],te=()=>[...O(),o4,i4,{position:[nt,rt]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",Mse,Ese,{size:[nt,rt]}],z=()=>[Nw,of,Pc],ge=()=>["","none","full",h,nt,rt],le=()=>["",kt,of,Pc],Pe=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[kt,Nw,o4,i4],ce=()=>["","none",v,nt,rt],J=()=>["none",kt,nt,rt],Y=()=>["none",kt,nt,rt],de=()=>[kt,nt,rt],X=()=>[sd,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vo],breakpoint:[vo],color:[Sse],container:[vo],"drop-shadow":[vo],ease:["in","out","in-out"],font:[Pse],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vo],shadow:[vo],spacing:["px",kt],text:[vo],"text-shadow":[vo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",sd,rt,nt,j]}],container:["container"],columns:[{columns:[kt,rt,nt,c]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[Nl,"auto",nt,rt]}],basis:[{basis:[sd,"full","auto",c,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[kt,sd,"auto","initial","none",rt]}],grow:[{grow:["",kt,nt,rt]}],shrink:[{shrink:["",kt,nt,rt]}],order:[{order:[Nl,"first","last","none",nt,rt]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[c,"screen",...re()]}],"min-w":[{"min-w":[c,"screen","none",...re()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",r,of,Pc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,nt,kw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nw,rt]}],"font-family":[{font:[_se,rt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,nt,rt]}],"line-clamp":[{"line-clamp":[kt,"none",nt,kw]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",nt,rt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",nt,rt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[kt,"from-font","auto",nt,Pc]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[kt,"auto",nt,rt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt,rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt,rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Nl,nt,rt],radial:["",nt,rt],conic:[Nl,nt,rt]},Dse,Tse]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:ge()}],"rounded-s":[{"rounded-s":ge()}],"rounded-e":[{"rounded-e":ge()}],"rounded-t":[{"rounded-t":ge()}],"rounded-r":[{"rounded-r":ge()}],"rounded-b":[{"rounded-b":ge()}],"rounded-l":[{"rounded-l":ge()}],"rounded-ss":[{"rounded-ss":ge()}],"rounded-se":[{"rounded-se":ge()}],"rounded-ee":[{"rounded-ee":ge()}],"rounded-es":[{"rounded-es":ge()}],"rounded-tl":[{"rounded-tl":ge()}],"rounded-tr":[{"rounded-tr":ge()}],"rounded-br":[{"rounded-br":ge()}],"rounded-bl":[{"rounded-bl":ge()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[kt,nt,rt]}],"outline-w":[{outline:["",kt,of,Pc]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",f,Tg,Eg]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",m,Tg,Eg]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[kt,Pc]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",y,Tg,Eg]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[kt,nt,rt]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[kt]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[nt,rt]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[kt]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",nt,rt]}],filter:[{filter:["","none",nt,rt]}],blur:[{blur:ce()}],brightness:[{brightness:[kt,nt,rt]}],contrast:[{contrast:[kt,nt,rt]}],"drop-shadow":[{"drop-shadow":["","none",b,Tg,Eg]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",kt,nt,rt]}],"hue-rotate":[{"hue-rotate":[kt,nt,rt]}],invert:[{invert:["",kt,nt,rt]}],saturate:[{saturate:[kt,nt,rt]}],sepia:[{sepia:["",kt,nt,rt]}],"backdrop-filter":[{"backdrop-filter":["","none",nt,rt]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[kt,nt,rt]}],"backdrop-contrast":[{"backdrop-contrast":[kt,nt,rt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",kt,nt,rt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[kt,nt,rt]}],"backdrop-invert":[{"backdrop-invert":["",kt,nt,rt]}],"backdrop-opacity":[{"backdrop-opacity":[kt,nt,rt]}],"backdrop-saturate":[{"backdrop-saturate":[kt,nt,rt]}],"backdrop-sepia":[{"backdrop-sepia":["",kt,nt,rt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",nt,rt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[kt,"initial",nt,rt]}],ease:[{ease:["linear","initial",k,nt,rt]}],delay:[{delay:[kt,nt,rt]}],animate:[{animate:["none",I,nt,rt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,nt,rt]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:Y()}],"scale-x":[{"scale-x":Y()}],"scale-y":[{"scale-y":Y()}],"scale-z":[{"scale-z":Y()}],"scale-3d":["scale-3d"],skew:[{skew:de()}],"skew-x":[{"skew-x":de()}],"skew-y":[{"skew-y":de()}],transform:[{transform:[nt,rt,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:X()}],"translate-x":[{"translate-x":X()}],"translate-y":[{"translate-y":X()}],"translate-z":[{"translate-z":X()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt,rt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt,rt]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[kt,of,Pc,kw]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Fse=yse(Lse);function An(...e){return Fse(Lt(e))}const Rk=()=>{try{const e=localStorage.getItem("admin_permissions");if(e)return JSON.parse(e)}catch(e){console.error("Error parsing permissions:",e)}return[]},Gt=e=>{const t=Rk();return t.includes("*")||t.includes("admin")?!0:t.includes(e)},I6=()=>localStorage.getItem("admin_role")||"admin",Lk=()=>{const e=I6(),t=Rk();return e==="admin"||t.includes("*")||t.includes("admin")},$se=[{path:"/admin/dashboard",icon:_1,label:"Dashboard",permission:"view_dashboard"},{path:"/admin/users",icon:Dm,label:"Users",permission:"view_users"},{path:"/admin/vendors",icon:ML,label:"Vendors",permission:"view_vendors"},{path:"/admin/vendor-categories",icon:O1,label:"Vendor Categories",permission:"view_vendors"},{path:"/admin/venues",icon:gs,label:"Venues",permission:"view_venues"},{path:"/admin/categories",icon:O1,label:"Categories",permission:"view_categories"},{path:"/admin/menus",icon:av,label:"Menus",permission:"view_menus"},{path:"/admin/videos",icon:Xf,label:"Videos",permission:"view_videos"},{path:"/admin/leads",icon:HX,label:"Leads",permission:"view_leads"},{path:"/admin/bookings",icon:Cn,label:"Bookings",permission:"view_bookings"},{path:"/admin/payouts",icon:sv,label:"Payouts",permission:"view_payouts"},{path:"/admin/reviews",icon:Ri,label:"Reviews",permission:"view_reviews"},{label:"Staff",icon:$y,permission:"view_staff",children:[{path:"/admin/roles",label:"Roles",icon:na,permission:"view_roles"},{path:"/admin/staff",label:"Staff",permission:"view_staff"}]},{path:"/admin/analytics",icon:HQ,label:"Analytics",permission:"view_analytics"},{label:"Settings",icon:D1,permission:"view_settings",children:[{path:"/admin/testimonials",label:"Testimonials",icon:Zi,permission:"view_testimonials"},{path:"/admin/faqs",label:"FAQs",icon:PL,permission:"view_faqs"},{path:"/admin/company",label:"Company",icon:IL,permission:"view_company"},{path:"/admin/contacts",label:"Contact Us",icon:di,permission:"view_contacts"},{path:"/admin/settings",label:"General Settings",icon:D1,permission:"view_settings"}]}],l4=(e,t)=>e==="view_dashboard"||Lk()?!0:!t||t.length===0?!1:t.includes(e),Bse=()=>{const[e,t]=p.useState(!1),[r,s]=p.useState({Staff:!0,Settings:!0}),a=Wn(),i=p.useRef(null),o=p.useRef(0),c=p.useRef(!1),u=p.useMemo(()=>Rk(),[]);p.useMemo(()=>Lk(),[]);const h=p.useMemo(()=>$se.map(m=>{if(!m.permission)return m;if(!l4(m.permission,u))return null;if(m.children){const y=m.children.filter(b=>b.permission?l4(b.permission,u):!0);return y.length===0?null:{...m,children:y}}return m}).filter(m=>m!==null),[u]),f=({onClose:m})=>n.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"w-10 h-10 object-contain",onError:y=>{y.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"ShubhVenue"})]}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Admin Panel"})]}),n.jsx("nav",{ref:i,className:"flex-1 p-4 space-y-2 overflow-y-auto",onScroll:y=>{if(c.current){y.target.scrollTop=o.current;return}o.current=y.target.scrollTop},children:h.map(y=>{const b=y.icon;if(y.children){const N=y.children.some(k=>a.pathname.startsWith(k.path)),j=r[y.label]??N;return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("button",{type:"button",tabIndex:-1,onClick:k=>{k.preventDefault(),k.stopPropagation();const I=i.current?.scrollTop||0;o.current=I,c.current=!0,s(O=>({...O,[y.label]:!j}));const S=()=>{i.current&&c.current&&(i.current.scrollTop=I,o.current=I)};S(),requestAnimationFrame(()=>{S(),requestAnimationFrame(()=>{S()})}),setTimeout(S,0),setTimeout(S,10),setTimeout(S,50),setTimeout(()=>{S(),c.current=!1},150)},onMouseDown:k=>{k.preventDefault(),i.current&&(o.current=i.current.scrollTop,c.current=!0);const I=k.currentTarget;setTimeout(()=>{I.click()},0)},onFocus:k=>{k.target.blur()},style:{outline:"none",cursor:"pointer"},className:An("w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all duration-200 font-medium",N?"gradient-primary text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[n.jsxs("span",{className:"flex items-center gap-3",children:[n.jsx(b,{className:An("w-5 h-5",N&&"text-white")}),y.label]}),j?n.jsx(Mm,{className:"w-4 h-4"}):n.jsx(Jd,{className:"w-4 h-4"})]}),j&&n.jsx("div",{className:"pl-10 space-y-1",children:y.children.map(k=>{const I=k.icon,S=a.pathname===k.path||a.pathname.startsWith(k.path);return n.jsxs(Ks,{to:k.path,onClick:m,className:An("flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm font-medium",S?"gradient-primary text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[I?n.jsx(I,{className:An("w-4 h-4",S&&"text-white")}):n.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300 dark:border-gray-600"}),n.jsx("span",{children:k.label})]},k.path)})})]},y.label)}const v=a.pathname===y.path||y.path!=="/admin/dashboard"&&a.pathname.startsWith(y.path);return n.jsxs(Ks,{to:y.path,onClick:m,className:An("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 font-medium",v?"gradient-primary text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[n.jsx(b,{className:An("w-5 h-5",v&&"text-white")}),n.jsx("span",{children:y.label})]},y.path)})})]});return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>t(!0),className:"lg:hidden fixed top-4 left-4 z-40 p-2 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:n.jsx(av,{className:"w-6 h-6"})}),n.jsx("aside",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 z-20",children:n.jsx(f,{})}),e&&n.jsxs(n.Fragment,{children:[n.jsx($i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"fixed inset-0 bg-black/50 z-40 lg:hidden"}),n.jsxs($i.aside,{initial:{x:-300},animate:{x:0},exit:{x:-300},className:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 z-50 lg:hidden",children:[n.jsx("div",{className:"p-4 flex justify-end",children:n.jsx("button",{onClick:()=>t(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:n.jsx(er,{className:"w-6 h-6"})})}),n.jsx(f,{onClose:()=>t(!1)})]})]})]})};function P6(e,t){return function(){return e.apply(t,arguments)}}const{toString:zse}=Object.prototype,{getPrototypeOf:Fk}=Object,{iterator:dv,toStringTag:E6}=Symbol,hv=(e=>t=>{const r=zse.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),hi=e=>(e=e.toLowerCase(),t=>hv(t)===e),fv=e=>t=>typeof t===e,{isArray:ah}=Array,Rd=fv("undefined");function $m(e){return e!==null&&!Rd(e)&&e.constructor!==null&&!Rd(e.constructor)&&Ds(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const T6=hi("ArrayBuffer");function Vse(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&T6(e.buffer),t}const Use=fv("string"),Ds=fv("function"),_6=fv("number"),Bm=e=>e!==null&&typeof e=="object",Wse=e=>e===!0||e===!1,dy=e=>{if(hv(e)!=="object")return!1;const t=Fk(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(E6 in e)&&!(dv in e)},Hse=e=>{if(!Bm(e)||$m(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qse=hi("Date"),Gse=hi("File"),Kse=hi("Blob"),Yse=hi("FileList"),Zse=e=>Bm(e)&&Ds(e.pipe),Qse=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ds(e.append)&&((t=hv(e))==="formdata"||t==="object"&&Ds(e.toString)&&e.toString()==="[object FormData]"))},Xse=hi("URLSearchParams"),[Jse,eae,tae,rae]=["ReadableStream","Request","Response","Headers"].map(hi),nae=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zm(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),ah(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if($m(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(s=0;s<o;s++)c=i[s],t.call(null,e[c],c,e)}}function M6(e,t){if($m(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const Wc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,D6=e=>!Rd(e)&&e!==Wc;function aN(){const{caseless:e,skipUndefined:t}=D6(this)&&this||{},r={},s=(a,i)=>{const o=e&&M6(r,i)||i;dy(r[o])&&dy(a)?r[o]=aN(r[o],a):dy(a)?r[o]=aN({},a):ah(a)?r[o]=a.slice():(!t||!Rd(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&zm(arguments[a],s);return r}const sae=(e,t,r,{allOwnKeys:s}={})=>(zm(t,(a,i)=>{r&&Ds(a)?e[i]=P6(a,r):e[i]=a},{allOwnKeys:s}),e),aae=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),iae=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},oae=(e,t,r,s)=>{let a,i,o;const c={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&Fk(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},lae=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},cae=e=>{if(!e)return null;if(ah(e))return e;let t=e.length;if(!_6(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},uae=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Fk(Uint8Array)),dae=(e,t)=>{const s=(e&&e[dv]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},hae=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},fae=hi("HTMLFormElement"),mae=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),c4=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),pae=hi("RegExp"),O6=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};zm(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},gae=e=>{O6(e,(t,r)=>{if(Ds(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Ds(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},yae=(e,t)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return ah(e)?s(e):s(String(e).split(t)),r},xae=()=>{},vae=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function bae(e){return!!(e&&Ds(e.append)&&e[E6]==="FormData"&&e[dv])}const wae=e=>{const t=new Array(10),r=(s,a)=>{if(Bm(s)){if(t.indexOf(s)>=0)return;if($m(s))return s;if(!("toJSON"in s)){t[a]=s;const i=ah(s)?[]:{};return zm(s,(o,c)=>{const u=r(o,a+1);!Rd(u)&&(i[c]=u)}),t[a]=void 0,i}}return s};return r(e,0)},jae=hi("AsyncFunction"),Nae=e=>e&&(Bm(e)||Ds(e))&&Ds(e.then)&&Ds(e.catch),R6=((e,t)=>e?setImmediate:t?((r,s)=>(Wc.addEventListener("message",({source:a,data:i})=>{a===Wc&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),Wc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ds(Wc.postMessage)),kae=typeof queueMicrotask<"u"?queueMicrotask.bind(Wc):typeof process<"u"&&process.nextTick||R6,Sae=e=>e!=null&&Ds(e[dv]),Te={isArray:ah,isArrayBuffer:T6,isBuffer:$m,isFormData:Qse,isArrayBufferView:Vse,isString:Use,isNumber:_6,isBoolean:Wse,isObject:Bm,isPlainObject:dy,isEmptyObject:Hse,isReadableStream:Jse,isRequest:eae,isResponse:tae,isHeaders:rae,isUndefined:Rd,isDate:qse,isFile:Gse,isBlob:Kse,isRegExp:pae,isFunction:Ds,isStream:Zse,isURLSearchParams:Xse,isTypedArray:uae,isFileList:Yse,forEach:zm,merge:aN,extend:sae,trim:nae,stripBOM:aae,inherits:iae,toFlatObject:oae,kindOf:hv,kindOfTest:hi,endsWith:lae,toArray:cae,forEachEntry:dae,matchAll:hae,isHTMLForm:fae,hasOwnProperty:c4,hasOwnProp:c4,reduceDescriptors:O6,freezeMethods:gae,toObjectSet:yae,toCamelCase:mae,noop:xae,toFiniteNumber:vae,findKey:M6,global:Wc,isContextDefined:D6,isSpecCompliantForm:bae,toJSONObject:wae,isAsyncFn:jae,isThenable:Nae,setImmediate:R6,asap:kae,isIterable:Sae};function wt(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Te.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const L6=wt.prototype,F6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{F6[e]={value:e}});Object.defineProperties(wt,F6);Object.defineProperty(L6,"isAxiosError",{value:!0});wt.from=(e,t,r,s,a,i)=>{const o=Object.create(L6);Te.toFlatObject(e,o,function(f){return f!==Error.prototype},h=>h!=="isAxiosError");const c=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return wt.call(o,c,u,r,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Aae=null;function iN(e){return Te.isPlainObject(e)||Te.isArray(e)}function $6(e){return Te.endsWith(e,"[]")?e.slice(0,-2):e}function u4(e,t,r){return e?e.concat(t).map(function(a,i){return a=$6(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function Cae(e){return Te.isArray(e)&&!e.some(iN)}const Iae=Te.toFlatObject(Te,{},null,function(t){return/^is[A-Z]/.test(t)});function mv(e,t,r){if(!Te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,j){return!Te.isUndefined(j[N])});const s=r.metaTokens,a=r.visitor||f,i=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(t);if(!Te.isFunction(a))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(Te.isDate(v))return v.toISOString();if(Te.isBoolean(v))return v.toString();if(!u&&Te.isBlob(v))throw new wt("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(v)||Te.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,N,j){let k=v;if(v&&!j&&typeof v=="object"){if(Te.endsWith(N,"{}"))N=s?N:N.slice(0,-2),v=JSON.stringify(v);else if(Te.isArray(v)&&Cae(v)||(Te.isFileList(v)||Te.endsWith(N,"[]"))&&(k=Te.toArray(v)))return N=$6(N),k.forEach(function(S,O){!(Te.isUndefined(S)||S===null)&&t.append(o===!0?u4([N],O,i):o===null?N:N+"[]",h(S))}),!1}return iN(v)?!0:(t.append(u4(j,N,i),h(v)),!1)}const m=[],y=Object.assign(Iae,{defaultVisitor:f,convertValue:h,isVisitable:iN});function b(v,N){if(!Te.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+N.join("."));m.push(v),Te.forEach(v,function(k,I){(!(Te.isUndefined(k)||k===null)&&a.call(t,k,Te.isString(I)?I.trim():I,N,y))===!0&&b(k,N?N.concat(I):[I])}),m.pop()}}if(!Te.isObject(e))throw new TypeError("data must be an object");return b(e),t}function d4(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function $k(e,t){this._pairs=[],e&&mv(e,this,t)}const B6=$k.prototype;B6.append=function(t,r){this._pairs.push([t,r])};B6.toString=function(t){const r=t?function(s){return t.call(this,s,d4)}:d4;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Pae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function z6(e,t,r){if(!t)return e;const s=r&&r.encode||Pae;Te.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=Te.isURLSearchParams(t)?t.toString():new $k(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class h4{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Te.forEach(this.handlers,function(s){s!==null&&t(s)})}}const V6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Eae=typeof URLSearchParams<"u"?URLSearchParams:$k,Tae=typeof FormData<"u"?FormData:null,_ae=typeof Blob<"u"?Blob:null,Mae={isBrowser:!0,classes:{URLSearchParams:Eae,FormData:Tae,Blob:_ae},protocols:["http","https","file","blob","url","data"]},Bk=typeof window<"u"&&typeof document<"u",oN=typeof navigator=="object"&&navigator||void 0,Dae=Bk&&(!oN||["ReactNative","NativeScript","NS"].indexOf(oN.product)<0),Oae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rae=Bk&&window.location.href||"http://localhost",Lae=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bk,hasStandardBrowserEnv:Dae,hasStandardBrowserWebWorkerEnv:Oae,navigator:oN,origin:Rae},Symbol.toStringTag,{value:"Module"})),Xn={...Lae,...Mae};function Fae(e,t){return mv(e,new Xn.classes.URLSearchParams,{visitor:function(r,s,a,i){return Xn.isNode&&Te.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function $ae(e){return Te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Bae(e){const t={},r=Object.keys(e);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],t[i]=e[i];return t}function U6(e){function t(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=i>=r.length;return o=!o&&Te.isArray(a)?a.length:o,u?(Te.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!c):((!a[o]||!Te.isObject(a[o]))&&(a[o]=[]),t(r,s,a[o],i)&&Te.isArray(a[o])&&(a[o]=Bae(a[o])),!c)}if(Te.isFormData(e)&&Te.isFunction(e.entries)){const r={};return Te.forEachEntry(e,(s,a)=>{t($ae(s),a,r,0)}),r}return null}function zae(e,t,r){if(Te.isString(e))try{return(t||JSON.parse)(e),Te.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Vm={transitional:V6,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=Te.isObject(t);if(i&&Te.isHTMLForm(t)&&(t=new FormData(t)),Te.isFormData(t))return a?JSON.stringify(U6(t)):t;if(Te.isArrayBuffer(t)||Te.isBuffer(t)||Te.isStream(t)||Te.isFile(t)||Te.isBlob(t)||Te.isReadableStream(t))return t;if(Te.isArrayBufferView(t))return t.buffer;if(Te.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Fae(t,this.formSerializer).toString();if((c=Te.isFileList(t))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return mv(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),zae(t)):t}],transformResponse:[function(t){const r=this.transitional||Vm.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Te.isResponse(t)||Te.isReadableStream(t))return t;if(t&&Te.isString(t)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?wt.from(c,wt.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xn.classes.FormData,Blob:Xn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],e=>{Vm.headers[e]={}});const Vae=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Uae=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||t[r]&&Vae[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},f4=Symbol("internals");function lf(e){return e&&String(e).trim().toLowerCase()}function hy(e){return e===!1||e==null?e:Te.isArray(e)?e.map(hy):String(e)}function Wae(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const Hae=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Sw(e,t,r,s,a){if(Te.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!Te.isString(t)){if(Te.isString(s))return t.indexOf(s)!==-1;if(Te.isRegExp(s))return s.test(t)}}function qae(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function Gae(e,t){const r=Te.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}let Os=class{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function i(c,u,h){const f=lf(u);if(!f)throw new Error("header name must be a non-empty string");const m=Te.findKey(a,f);(!m||a[m]===void 0||h===!0||h===void 0&&a[m]!==!1)&&(a[m||u]=hy(c))}const o=(c,u)=>Te.forEach(c,(h,f)=>i(h,f,u));if(Te.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Te.isString(t)&&(t=t.trim())&&!Hae(t))o(Uae(t),r);else if(Te.isObject(t)&&Te.isIterable(t)){let c={},u,h;for(const f of t){if(!Te.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[h=f[0]]=(u=c[h])?Te.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(c,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=lf(t),t){const s=Te.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return Wae(a);if(Te.isFunction(r))return r.call(this,a,s);if(Te.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=lf(t),t){const s=Te.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Sw(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function i(o){if(o=lf(o),o){const c=Te.findKey(s,o);c&&(!r||Sw(s,s[c],c,r))&&(delete s[c],a=!0)}}return Te.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!t||Sw(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,s={};return Te.forEach(this,(a,i)=>{const o=Te.findKey(s,i);if(o){r[o]=hy(a),delete r[i];return}const c=t?qae(i):String(i).trim();c!==i&&delete r[i],r[c]=hy(a),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Te.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&Te.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[f4]=this[f4]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=lf(o);s[c]||(Gae(a,o),s[c]=!0)}return Te.isArray(t)?t.forEach(i):i(t),this}};Os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(Os.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});Te.freezeMethods(Os);function Aw(e,t){const r=this||Vm,s=t||r,a=Os.from(s.headers);let i=s.data;return Te.forEach(e,function(c){i=c.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function W6(e){return!!(e&&e.__CANCEL__)}function ih(e,t,r){wt.call(this,e??"canceled",wt.ERR_CANCELED,t,r),this.name="CanceledError"}Te.inherits(ih,wt,{__CANCEL__:!0});function H6(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new wt("Request failed with status code "+r.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Kae(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Yae(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const h=Date.now(),f=s[i];o||(o=h),r[a]=u,s[a]=h;let m=i,y=0;for(;m!==a;)y+=r[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),h-o<t)return;const b=f&&h-f;return b?Math.round(y*1e3/b):void 0}}function Zae(e,t){let r=0,s=1e3/t,a,i;const o=(h,f=Date.now())=>{r=f,a=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const f=Date.now(),m=f-r;m>=s?o(h,f):(a=h,i||(i=setTimeout(()=>{i=null,o(a)},s-m)))},()=>a&&o(a)]}const Gy=(e,t,r=3)=>{let s=0;const a=Yae(50,250);return Zae(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,u=o-s,h=a(u),f=o<=c;s=o;const m={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&f?(c-o)/h:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(m)},r)},m4=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},p4=e=>(...t)=>Te.asap(()=>e(...t)),Qae=Xn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xn.origin),Xn.navigator&&/(msie|trident)/i.test(Xn.navigator.userAgent)):()=>!0,Xae=Xn.hasStandardBrowserEnv?{write(e,t,r,s,a,i,o){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];Te.isNumber(r)&&c.push(`expires=${new Date(r).toUTCString()}`),Te.isString(s)&&c.push(`path=${s}`),Te.isString(a)&&c.push(`domain=${a}`),i===!0&&c.push("secure"),Te.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Jae(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function eie(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function q6(e,t,r){let s=!Jae(t);return e&&(s||r==!1)?eie(e,t):t}const g4=e=>e instanceof Os?{...e}:e;function uu(e,t){t=t||{};const r={};function s(h,f,m,y){return Te.isPlainObject(h)&&Te.isPlainObject(f)?Te.merge.call({caseless:y},h,f):Te.isPlainObject(f)?Te.merge({},f):Te.isArray(f)?f.slice():f}function a(h,f,m,y){if(Te.isUndefined(f)){if(!Te.isUndefined(h))return s(void 0,h,m,y)}else return s(h,f,m,y)}function i(h,f){if(!Te.isUndefined(f))return s(void 0,f)}function o(h,f){if(Te.isUndefined(f)){if(!Te.isUndefined(h))return s(void 0,h)}else return s(void 0,f)}function c(h,f,m){if(m in t)return s(h,f);if(m in e)return s(void 0,h)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,f,m)=>a(g4(h),g4(f),m,!0)};return Te.forEach(Object.keys({...e,...t}),function(f){const m=u[f]||a,y=m(e[f],t[f],f);Te.isUndefined(y)&&m!==c||(r[f]=y)}),r}const G6=e=>{const t=uu({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=t;if(t.headers=o=Os.from(o),t.url=z6(q6(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Te.isFormData(r)){if(Xn.hasStandardBrowserEnv||Xn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Te.isFunction(r.getHeaders)){const u=r.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([f,m])=>{h.includes(f.toLowerCase())&&o.set(f,m)})}}if(Xn.hasStandardBrowserEnv&&(s&&Te.isFunction(s)&&(s=s(t)),s||s!==!1&&Qae(t.url))){const u=a&&i&&Xae.read(i);u&&o.set(a,u)}return t},tie=typeof XMLHttpRequest<"u",rie=tie&&function(e){return new Promise(function(r,s){const a=G6(e);let i=a.data;const o=Os.from(a.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=a,f,m,y,b,v;function N(){b&&b(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function k(){if(!j)return;const S=Os.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),P={data:!c||c==="text"||c==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:S,config:e,request:j};H6(function(E){r(E),N()},function(E){s(E),N()},P),j=null}"onloadend"in j?j.onloadend=k:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(k)},j.onabort=function(){j&&(s(new wt("Request aborted",wt.ECONNABORTED,e,j)),j=null)},j.onerror=function(O){const P=O&&O.message?O.message:"Network Error",R=new wt(P,wt.ERR_NETWORK,e,j);R.event=O||null,s(R),j=null},j.ontimeout=function(){let O=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const P=a.transitional||V6;a.timeoutErrorMessage&&(O=a.timeoutErrorMessage),s(new wt(O,P.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,e,j)),j=null},i===void 0&&o.setContentType(null),"setRequestHeader"in j&&Te.forEach(o.toJSON(),function(O,P){j.setRequestHeader(P,O)}),Te.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),c&&c!=="json"&&(j.responseType=a.responseType),h&&([y,v]=Gy(h,!0),j.addEventListener("progress",y)),u&&j.upload&&([m,b]=Gy(u),j.upload.addEventListener("progress",m),j.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(f=S=>{j&&(s(!S||S.type?new ih(null,e,j):S),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const I=Kae(a.url);if(I&&Xn.protocols.indexOf(I)===-1){s(new wt("Unsupported protocol "+I+":",wt.ERR_BAD_REQUEST,e));return}j.send(i||null)})},nie=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const i=function(h){if(!a){a=!0,c();const f=h instanceof Error?h:this.reason;s.abort(f instanceof wt?f:new ih(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new wt(`timeout ${t} of ms exceeded`,wt.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:u}=s;return u.unsubscribe=()=>Te.asap(c),u}},sie=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},aie=async function*(e,t){for await(const r of iie(e))yield*sie(r,t)},iie=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},y4=(e,t,r,s)=>{const a=aie(e,t);let i=0,o,c=u=>{o||(o=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await a.next();if(h){c(),u.close();return}let m=f.byteLength;if(r){let y=i+=m;r(y)}u.enqueue(new Uint8Array(f))}catch(h){throw c(h),h}},cancel(u){return c(u),a.return()}},{highWaterMark:2})},x4=64*1024,{isFunction:_g}=Te,oie=(({Request:e,Response:t})=>({Request:e,Response:t}))(Te.global),{ReadableStream:v4,TextEncoder:b4}=Te.global,w4=(e,...t)=>{try{return!!e(...t)}catch{return!1}},lie=e=>{e=Te.merge.call({skipUndefined:!0},oie,e);const{fetch:t,Request:r,Response:s}=e,a=t?_g(t):typeof fetch=="function",i=_g(r),o=_g(s);if(!a)return!1;const c=a&&_g(v4),u=a&&(typeof b4=="function"?(v=>N=>v.encode(N))(new b4):async v=>new Uint8Array(await new r(v).arrayBuffer())),h=i&&c&&w4(()=>{let v=!1;const N=new r(Xn.origin,{body:new v4,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!N}),f=o&&c&&w4(()=>Te.isReadableStream(new s("").body)),m={stream:f&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!m[v]&&(m[v]=(N,j)=>{let k=N&&N[v];if(k)return k.call(N);throw new wt(`Response type '${v}' is not supported`,wt.ERR_NOT_SUPPORT,j)})});const y=async v=>{if(v==null)return 0;if(Te.isBlob(v))return v.size;if(Te.isSpecCompliantForm(v))return(await new r(Xn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(v)||Te.isArrayBuffer(v))return v.byteLength;if(Te.isURLSearchParams(v)&&(v=v+""),Te.isString(v))return(await u(v)).byteLength},b=async(v,N)=>{const j=Te.toFiniteNumber(v.getContentLength());return j??y(N)};return async v=>{let{url:N,method:j,data:k,signal:I,cancelToken:S,timeout:O,onDownloadProgress:P,onUploadProgress:R,responseType:E,headers:C,withCredentials:F="same-origin",fetchOptions:L}=G6(v),D=t||fetch;E=E?(E+"").toLowerCase():"text";let M=nie([I,S&&S.toAbortSignal()],O),$=null;const ee=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let q;try{if(R&&h&&j!=="get"&&j!=="head"&&(q=await b(C,k))!==0){let H=new r(N,{method:"POST",body:k,duplex:"half"}),z;if(Te.isFormData(k)&&(z=H.headers.get("content-type"))&&C.setContentType(z),H.body){const[ge,le]=m4(q,Gy(p4(R)));k=y4(H.body,x4,ge,le)}}Te.isString(F)||(F=F?"include":"omit");const V=i&&"credentials"in r.prototype,re={...L,signal:M,method:j.toUpperCase(),headers:C.normalize().toJSON(),body:k,duplex:"half",credentials:V?F:void 0};$=i&&new r(N,re);let U=await(i?D($,L):D(N,re));const te=f&&(E==="stream"||E==="response");if(f&&(P||te&&ee)){const H={};["status","statusText","headers"].forEach(Pe=>{H[Pe]=U[Pe]});const z=Te.toFiniteNumber(U.headers.get("content-length")),[ge,le]=P&&m4(z,Gy(p4(P),!0))||[];U=new s(y4(U.body,x4,ge,()=>{le&&le(),ee&&ee()}),H)}E=E||"text";let ie=await m[Te.findKey(m,E)||"text"](U,v);return!te&&ee&&ee(),await new Promise((H,z)=>{H6(H,z,{data:ie,headers:Os.from(U.headers),status:U.status,statusText:U.statusText,config:v,request:$})})}catch(V){throw ee&&ee(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,v,$),{cause:V.cause||V}):wt.from(V,V&&V.code,v,$)}}},cie=new Map,K6=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,i=[s,a,r];let o=i.length,c=o,u,h,f=cie;for(;c--;)u=i[c],h=f.get(u),h===void 0&&f.set(u,h=c?new Map:lie(t)),f=h;return h};K6();const zk={http:Aae,xhr:rie,fetch:{get:K6}};Te.forEach(zk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const j4=e=>`- ${e}`,uie=e=>Te.isFunction(e)||e===null||e===!1;function die(e,t){e=Te.isArray(e)?e:[e];const{length:r}=e;let s,a;const i={};for(let o=0;o<r;o++){s=e[o];let c;if(a=s,!uie(s)&&(a=zk[(c=String(s)).toLowerCase()],a===void 0))throw new wt(`Unknown adapter '${c}'`);if(a&&(Te.isFunction(a)||(a=a.get(t))))break;i[c||"#"+o]=a}if(!a){const o=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=r?o.length>1?`since :
`+o.map(j4).join(`
`):" "+j4(o[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a}const Y6={getAdapter:die,adapters:zk};function Cw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ih(null,e)}function N4(e){return Cw(e),e.headers=Os.from(e.headers),e.data=Aw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Y6.getAdapter(e.adapter||Vm.adapter,e)(e).then(function(s){return Cw(e),s.data=Aw.call(e,e.transformResponse,s),s.headers=Os.from(s.headers),s},function(s){return W6(s)||(Cw(e),s&&s.response&&(s.response.data=Aw.call(e,e.transformResponse,s.response),s.response.headers=Os.from(s.response.headers))),Promise.reject(s)})}const Z6="1.13.2",pv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{pv[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const k4={};pv.transitional=function(t,r,s){function a(i,o){return"[Axios v"+Z6+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,c)=>{if(t===!1)throw new wt(a(o," has been removed"+(r?" in "+r:"")),wt.ERR_DEPRECATED);return r&&!k4[o]&&(k4[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,c):!0}};pv.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function hie(e,t,r){if(typeof e!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const c=e[i],u=c===void 0||o(c,i,e);if(u!==!0)throw new wt("option "+i+" must be "+u,wt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new wt("Unknown option "+i,wt.ERR_BAD_OPTION)}}const fy={assertOptions:hie,validators:pv},_i=fy.validators;let eu=class{constructor(t){this.defaults=t||{},this.interceptors={request:new h4,response:new h4}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=uu(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&fy.assertOptions(s,{silentJSONParsing:_i.transitional(_i.boolean),forcedJSONParsing:_i.transitional(_i.boolean),clarifyTimeoutError:_i.transitional(_i.boolean)},!1),a!=null&&(Te.isFunction(a)?r.paramsSerializer={serialize:a}:fy.assertOptions(a,{encode:_i.function,serialize:_i.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),fy.assertOptions(r,{baseUrl:_i.spelling("baseURL"),withXsrfToken:_i.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Te.merge(i.common,i[r.method]);i&&Te.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=Os.concat(o,i);const c=[];let u=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(u=u&&N.synchronous,c.unshift(N.fulfilled,N.rejected))});const h=[];this.interceptors.response.forEach(function(N){h.push(N.fulfilled,N.rejected)});let f,m=0,y;if(!u){const v=[N4.bind(this),void 0];for(v.unshift(...c),v.push(...h),y=v.length,f=Promise.resolve(r);m<y;)f=f.then(v[m++],v[m++]);return f}y=c.length;let b=r;for(;m<y;){const v=c[m++],N=c[m++];try{b=v(b)}catch(j){N.call(this,j);break}}try{f=N4.call(this,b)}catch(v){return Promise.reject(v)}for(m=0,y=h.length;m<y;)f=f.then(h[m++],h[m++]);return f}getUri(t){t=uu(this.defaults,t);const r=q6(t.baseURL,t.url,t.allowAbsoluteUrls);return z6(r,t.params,t.paramsSerializer)}};Te.forEach(["delete","get","head","options"],function(t){eu.prototype[t]=function(r,s){return this.request(uu(s||{},{method:t,url:r,data:(s||{}).data}))}});Te.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,c){return this.request(uu(c||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}eu.prototype[t]=r(),eu.prototype[t+"Form"]=r(!0)});let fie=class Q6{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{s.subscribe(c),i=c}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,c){s.reason||(s.reason=new ih(i,o,c),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Q6(function(a){t=a}),cancel:t}}};function mie(e){return function(r){return e.apply(null,r)}}function pie(e){return Te.isObject(e)&&e.isAxiosError===!0}const lN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(lN).forEach(([e,t])=>{lN[t]=e});function X6(e){const t=new eu(e),r=P6(eu.prototype.request,t);return Te.extend(r,eu.prototype,t,{allOwnKeys:!0}),Te.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return X6(uu(e,a))},r}const $r=X6(Vm);$r.Axios=eu;$r.CanceledError=ih;$r.CancelToken=fie;$r.isCancel=W6;$r.VERSION=Z6;$r.toFormData=mv;$r.AxiosError=wt;$r.Cancel=$r.CanceledError;$r.all=function(t){return Promise.all(t)};$r.spread=mie;$r.isAxiosError=pie;$r.mergeConfig=uu;$r.AxiosHeaders=Os;$r.formToJSON=e=>U6(Te.isHTMLForm(e)?new FormData(e):e);$r.getAdapter=Y6.getAdapter;$r.HttpStatusCode=lN;$r.default=$r;const{Axios:hSe,AxiosError:fSe,CanceledError:mSe,isCancel:pSe,CancelToken:gSe,VERSION:ySe,all:xSe,Cancel:vSe,isAxiosError:bSe,spread:wSe,toFormData:jSe,AxiosHeaders:NSe,HttpStatusCode:kSe,formToJSON:SSe,getAdapter:ASe,mergeConfig:CSe}=$r,gie="https://shubhvenue.com/api",De=$r.create({baseURL:gie,headers:{"Content-Type":"application/json"}});De.interceptors.request.use(e=>{const t=localStorage.getItem("admin_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));De.interceptors.response.use(e=>e,e=>{if((e.config?.url||"").includes("/login"))return Promise.reject(e);if(e.response?.status===401)localStorage.removeItem("admin_token"),window.location.href="/admin/login",G.error("Session expired. Please login again.");else if(e.response?.status===503){const s=e.response?.data?.message||"Database connection unavailable",a=e.response?.data?.hint||"";G.error(`${s}${a?`
`+a:""}`,{duration:5e3})}else e.response?.data?.message?G.error(e.response.data.message):e.message==="Network Error"?G.error("Cannot connect to server. Please check your internet connection."):G.error("Something went wrong");return Promise.reject(e)});const Hc={login:e=>De.post("/admin/login",e),loginStaff:e=>De.post("/staff/login",e),logout:()=>De.post("/admin/logout").catch(()=>Promise.resolve({data:{success:!0}})),getProfile:()=>De.get("/admin/profile"),updateProfile:e=>De.put("/admin/profile",e),changePassword:e=>De.put("/admin/change-password",e)},yie={getStats:()=>De.get("/admin/dashboard")},Mg={getAll:e=>De.get("/admin/users",{params:e}),getById:e=>De.get(`/admin/users/${e}`),update:(e,t)=>De.put(`/admin/users/${e}`,t),delete:(e,t={})=>De.delete(`/admin/users/${e}`,t),block:e=>De.put(`/admin/users/${e}/block`)},bo={getAll:e=>De.get("/admin/vendors",{params:e}),create:e=>De.post("/admin/vendors",e),getById:e=>De.get(`/admin/vendors/${e}`),update:(e,t)=>De.put(`/admin/vendors/${e}`,t),approve:e=>De.put(`/admin/vendors/${e}/approve`),reject:e=>De.put(`/admin/vendors/${e}/reject`),delete:e=>De.delete(`/admin/vendors/${e}`),updateCategory:(e,t)=>De.put(`/admin/vendors/${e}/category`,{categoryId:t||null})},Af={getAll:e=>De.get("/admin/vendor-categories",{params:e}),getPublic:()=>De.get("/admin/vendor-categories/public"),getById:e=>De.get(`/admin/vendor-categories/${e}`),create:e=>e instanceof FormData?De.post("/admin/vendor-categories",e,{headers:{"Content-Type":"multipart/form-data"}}):De.post("/admin/vendor-categories",e),update:(e,t)=>t instanceof FormData?De.put(`/admin/vendor-categories/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):De.put(`/admin/vendor-categories/${e}`,t),delete:e=>De.delete(`/admin/vendor-categories/${e}`)},kl={getAll:e=>De.get("/admin/venues",{params:e}),create:e=>e instanceof FormData?De.post("/admin/venues",e,{headers:{"Content-Type":"multipart/form-data"}}):De.post("/admin/venues",e),getById:e=>De.get(`/admin/venues/${e}`),update:(e,t)=>t instanceof FormData?De.put(`/admin/venues/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):De.put(`/admin/venues/${e}`,t),delete:e=>De.delete(`/admin/venues/${e}`),approve:e=>De.put(`/admin/venues/approve/${e}`),reject:e=>De.put(`/admin/venues/reject/${e}`),updateButtonSettings:(e,t)=>De.put(`/admin/venues/${e}/button-settings`,t),getStates:()=>De.get("/vendor/venues/states"),getCities:e=>De.get("/vendor/venues/cities",{params:{state:e}})},Dg={getAll:e=>De.get("/admin/bookings",{params:e}),getById:e=>De.get(`/admin/bookings/${e}`),updateStatus:(e,t)=>De.put(`/admin/bookings/${e}/status`,{status:t}),approve:e=>De.put(`/admin/bookings/${e}/approve`),reject:(e,t)=>De.put(`/admin/bookings/${e}/reject`,{reason:t})},Iw={getAll:e=>De.get("/admin/leads",{params:e}),getById:e=>De.get(`/admin/leads/${e}`),updateStatus:(e,t)=>De.put(`/admin/leads/${e}/status`,t),convertToBooking:(e,t)=>De.post(`/admin/leads/${e}/convert-to-booking`,{paymentId:t})},S4={getAll:e=>De.get("/admin/payouts",{params:e}),getById:e=>De.get(`/admin/payouts/${e}`),update:(e,t)=>De.put(`/admin/payouts/${e}`,t),markCompleted:e=>De.put(`/admin/payouts/${e}/complete`)},xie={getAnalytics:e=>De.get("/admin/analytics",{params:e})},A4={get:()=>De.get("/admin/payment-config"),update:e=>De.put("/admin/payment-config",e)},C4={get:()=>De.get("/admin/email-config"),update:e=>De.put("/admin/email-config",e)},I4={get:()=>De.get("/admin/google-maps-config"),update:e=>De.put("/admin/google-maps-config",e)},dd={getAll:e=>De.get("/categories",{params:e}),getById:e=>De.get(`/categories/${e}`),create:e=>e instanceof FormData?De.post("/categories",e,{headers:{"Content-Type":"multipart/form-data"}}):De.post("/categories",e),update:(e,t)=>t instanceof FormData?De.put(`/categories/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):De.put(`/categories/${e}`,t),delete:e=>De.delete(`/categories/${e}`)},cf={getAll:e=>De.get("/admin/banners",{params:e}),getById:e=>De.get(`/admin/banners/${e}`),create:e=>e instanceof FormData?De.post("/admin/banners",e,{headers:{"Content-Type":"multipart/form-data"}}):De.post("/admin/banners",e),update:(e,t)=>t instanceof FormData?De.put(`/admin/banners/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):De.put(`/admin/banners/${e}`,t),delete:e=>De.delete(`/admin/banners/${e}`),toggleActive:e=>De.put(`/admin/banners/${e}/toggle-active`)},uf={getAll:e=>De.get("/admin/videos",{params:e}),getById:e=>De.get(`/admin/videos/${e}`),create:e=>e instanceof FormData?De.post("/admin/videos",e,{headers:{"Content-Type":"multipart/form-data"}}):De.post("/admin/videos",e),update:(e,t)=>t instanceof FormData?De.put(`/admin/videos/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):De.put(`/admin/videos/${e}`,t),delete:e=>De.delete(`/admin/videos/${e}`),toggleActive:e=>De.put(`/admin/videos/${e}/toggle-active`)},df={getAll:e=>De.get("/admin/testimonials",{params:e}),getById:e=>De.get(`/admin/testimonials/${e}`),create:e=>De.post("/admin/testimonials",e),update:(e,t)=>De.put(`/admin/testimonials/${e}`,t),delete:e=>De.delete(`/admin/testimonials/${e}`),toggleActive:e=>De.put(`/admin/testimonials/${e}/toggle-active`)},hf={getAll:e=>De.get("/admin/faqs",{params:e}),getById:e=>De.get(`/admin/faqs/${e}`),create:e=>De.post("/admin/faqs",e),update:(e,t)=>De.put(`/admin/faqs/${e}`,t),delete:e=>De.delete(`/admin/faqs/${e}`),toggleActive:e=>De.put(`/admin/faqs/${e}/toggle-active`)},P4={get:()=>De.get("/admin/company"),update:e=>De.put("/admin/company",e)},E4={getAll:()=>De.get("/admin/legal-pages"),getByType:e=>De.get(`/admin/legal-pages/${e}`),update:(e,t)=>De.put(`/admin/legal-pages/${e}`,t)},Sl={getAll:e=>De.get("/admin/contacts",{params:e}),getById:e=>De.get(`/admin/contacts/${e}`),updateStatus:(e,t)=>De.put(`/admin/contacts/${e}/status`,t),delete:e=>De.delete(`/admin/contacts/${e}`)},Qa={getAll:e=>De.get("/menus",{params:e}),getById:e=>De.get(`/menus/${e}`),getSubmenus:e=>De.get(`/menus?parentMenuId=${e}`),create:e=>e instanceof FormData?De.post("/menus",e,{headers:{"Content-Type":"multipart/form-data"}}):De.post("/menus",e),update:(e,t)=>t instanceof FormData?De.put(`/menus/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):De.put(`/menus/${e}`,t),delete:e=>De.delete(`/menus/${e}`)},ad={getAll:e=>De.get("/admin/staff",{params:e}),getById:e=>De.get(`/admin/staff/${e}`),create:e=>e instanceof FormData?De.post("/admin/staff",e,{headers:{"Content-Type":"multipart/form-data"}}):De.post("/admin/staff",e),update:(e,t)=>t instanceof FormData?De.put(`/admin/staff/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):De.put(`/admin/staff/${e}`,t),delete:e=>De.delete(`/admin/staff/${e}`)},Il={getAll:e=>De.get("/admin/roles",{params:e}),getById:e=>De.get(`/admin/roles/${e}`),create:e=>De.post("/admin/roles",e),update:(e,t)=>De.put(`/admin/roles/${e}`,t),delete:e=>De.delete(`/admin/roles/${e}`),getAvailablePermissions:()=>De.get("/admin/roles/permissions/available")},ff={getAll:e=>De.get("/admin/reviews",{params:e}),getById:e=>De.get(`/admin/reviews/${e}`),update:(e,t)=>De.put(`/admin/reviews/${e}`,t),delete:e=>De.delete(`/admin/reviews/${e}`)},vie=()=>{const[e,t]=p.useState(b2()),r=lr();p.useMemo(()=>I6(),[]);const s=p.useMemo(()=>Lk(),[]),a=()=>{const o=e==="light"?"dark":"light";w2(o),t(o)},i=async()=>{try{Hc.logout().catch(()=>{})}catch{}finally{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_role"),localStorage.removeItem("admin_permissions"),r("/admin/login")}};return n.jsx("nav",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 sticky top-0 z-30",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[s?"Admin":"Staff"," Dashboard"]}),n.jsx("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${s?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"}`,children:s?n.jsxs(n.Fragment,{children:[n.jsx(na,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:"Admin"})]}):n.jsxs(n.Fragment,{children:[n.jsx($y,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:"Staff"})]})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors relative",children:[n.jsx(FQ,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),n.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),n.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e==="light"?n.jsx(TL,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):n.jsx(DL,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),n.jsxs("div",{className:"flex items-center gap-2 pl-3 border-l border-gray-200 dark:border-gray-700",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center",children:n.jsx(sa,{className:"w-5 h-5 text-white"})}),n.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Logout",children:n.jsx(J2,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]})]})})},Or=({children:e})=>n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex w-full",children:[n.jsx(Bse,{}),n.jsxs("div",{className:"flex-1 lg:pl-64 flex flex-col min-h-screen w-full",children:[n.jsx(vie,{}),n.jsx("main",{className:"flex-1 p-4 lg:p-6 overflow-auto w-full",children:n.jsx("div",{className:"max-w-7xl mx-auto w-full",children:e})})]})]}),be=({children:e,variant:t="primary",size:r="md",className:s,disabled:a,loading:i,...o})=>{const c={primary:"gradient-primary text-white hover:opacity-90",secondary:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white",danger:"bg-red-500 text-white hover:bg-red-600",ghost:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return n.jsxs("button",{className:An("rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 relative overflow-hidden",c[t],u[r],s),disabled:a||i,style:{textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased"},...o,children:[i&&n.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{className:"relative z-10",children:e})]})},bie=()=>{const[e,t]=p.useState({email:"",password:""}),[r,s]=p.useState(!1),[a,i]=p.useState(!1),[o,c]=p.useState({}),u=lr(),h=()=>{const m={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(m.email="Please enter a valid email"):m.email="Email is required",e.password?e.password.length<6&&(m.password="Password must be at least 6 characters"):m.password="Password is required",c(m),Object.keys(m).length===0},f=async m=>{if(m.preventDefault(),c({}),!!h()){s(!0);try{let y,b=null;try{if(y=await Hc.login(e),y?.data?.token)b="admin";else throw new Error("Invalid admin response")}catch(v){if(v.response?.status===401||v.response?.status===404)try{if(y=await Hc.loginStaff(e),y?.data?.token)b="staff";else throw new Error("Invalid staff response")}catch(N){throw N}else throw v}if(b&&y?.data?.token){localStorage.setItem("admin_token",y.data.token),localStorage.setItem("admin_role",b),b==="staff"?y.data.staff?.role?.permissions?localStorage.setItem("admin_permissions",JSON.stringify(y.data.staff.role.permissions)):localStorage.setItem("admin_permissions",JSON.stringify([])):localStorage.setItem("admin_permissions",JSON.stringify(["*"]));const v=b==="admin"?"Admin":"Staff";G.success(`Login successful! Welcome, ${v}!`),u("/admin/dashboard")}else throw new Error("Login failed: Invalid response")}catch(y){const b=y.response?.data?.error||y.response?.data?.message||y.message||"Login failed. Please check your credentials.";G.error(b),c({submit:b})}finally{s(!1)}}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-white dark:bg-gray-900",children:n.jsx($i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200 dark:border-gray-700 p-8 md:p-10",children:[n.jsxs($i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center mb-4",children:n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"w-16 h-16 object-contain",onError:m=>{m.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}})}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"ShubhVenue"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Admin / Staff Portal Login"})]}),n.jsxs($i.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},onSubmit:f,className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(di,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:e.email,onChange:m=>{t({...e,email:m.target.value}),o.email&&c({...o,email:""})},className:`w-full pl-10 pr-4 py-2.5 rounded-lg border ${o.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-primary focus:border-primary"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 transition-all`,required:!0})]}),o.email&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:o.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(cu,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:a?"text":"password",placeholder:"Enter your password",value:e.password,onChange:m=>{t({...e,password:m.target.value}),o.password&&c({...o,password:""})},className:`w-full pl-10 pr-12 py-2.5 rounded-lg border ${o.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-primary focus:border-primary"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 transition-all`,required:!0}),n.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a?n.jsx(_o,{className:"h-5 w-5"}):n.jsx(Gr,{className:"h-5 w-5"})})]}),o.password&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:o.password})]}),o.submit&&n.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:o.submit})}),n.jsx(be,{type:"submit",className:"w-full mt-6 py-3 text-base font-medium",loading:r,disabled:r,children:r?"Logging in...":"Login to Dashboard"})]}),n.jsx($i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 text-center",children:n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Secure admin and staff access"})})]})})})},Nt=({children:e,className:t,...r})=>n.jsx("div",{className:An("bg-white dark:bg-gray-800 rounded-2xl shadow-md p-6",t),...r,children:e}),cs=({children:e,className:t})=>n.jsx("div",{className:An("mb-4",t),children:e}),us=({children:e,className:t})=>n.jsx("h3",{className:An("text-xl font-semibold text-gray-900 dark:text-gray-100",t),children:e}),dn=({children:e,className:t})=>n.jsx("div",{className:An("",t),children:e});var wie=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Vk(e){if(typeof e!="string")return!1;var t=wie;return t.includes(e)}var jie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Nie=new Set(jie);function J6(e){return typeof e!="string"?!1:Nie.has(e)}function e9(e){return typeof e=="string"&&e.startsWith("data-")}function ys(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(J6(r)||e9(r))&&(t[r]=e[r]);return t}function du(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ys(t)}return typeof e=="object"&&!Array.isArray(e)?ys(e):null}function as(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(J6(r)||e9(r)||Vk(r))&&(t[r]=e[r]);return t}function kie(e){return e==null?null:p.isValidElement(e)?as(e.props):typeof e=="object"&&!Array.isArray(e)?as(e):null}var Sie=["children","width","height","viewBox","className","style","title","desc"];function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},cN.apply(null,arguments)}function Aie(e,t){if(e==null)return{};var r,s,a=Cie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cie(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Uk=p.forwardRef((e,t)=>{var{children:r,width:s,height:a,viewBox:i,className:o,style:c,title:u,desc:h}=e,f=Aie(e,Sie),m=i||{width:s,height:a,x:0,y:0},y=Lt("recharts-surface",o);return p.createElement("svg",cN({},as(f),{className:y,width:s,height:a,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),p.createElement("title",null,u),p.createElement("desc",null,h),r)}),Iie=["children","className"];function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},uN.apply(null,arguments)}function Pie(e,t){if(e==null)return{};var r,s,a=Eie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Eie(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Br=p.forwardRef((e,t)=>{var{children:r,className:s}=e,a=Pie(e,Iie),i=Lt("recharts-layer",s);return p.createElement("g",uN({className:i},as(a),{ref:t}),r)}),t9=p.createContext(null),Tie=()=>p.useContext(t9);function or(e){return function(){return e}}const r9=Math.cos,Ky=Math.sin,fi=Math.sqrt,Yy=Math.PI,gv=2*Yy,dN=Math.PI,hN=2*dN,Mc=1e-6,_ie=hN-Mc;function n9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Mie(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return n9;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class Die{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?n9:Mie(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,u=s-t,h=a-r,f=o-t,m=c-r,y=f*f+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>Mc)if(!(Math.abs(m*u-h*f)>Mc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let b=s-o,v=a-c,N=u*u+h*h,j=b*b+v*v,k=Math.sqrt(N),I=Math.sqrt(y),S=i*Math.tan((dN-Math.acos((N+y-j)/(2*k*I)))/2),O=S/I,P=S/k;Math.abs(O-1)>Mc&&this._append`L${t+O*f},${r+O*m}`,this._append`A${i},${i},0,0,${+(m*b>f*v)},${this._x1=t+P*u},${this._y1=r+P*h}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let c=s*Math.cos(a),u=s*Math.sin(a),h=t+c,f=r+u,m=1^o,y=o?a-i:i-a;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>Mc||Math.abs(this._y1-f)>Mc)&&this._append`L${h},${f}`,s&&(y<0&&(y=y%hN+hN),y>_ie?this._append`A${s},${s},0,1,${m},${t-c},${r-u}A${s},${s},0,1,${m},${this._x1=h},${this._y1=f}`:y>Mc&&this._append`A${s},${s},0,${+(y>=dN)},${m},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function Wk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new Die(t)}function Hk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function s9(e){this._context=e}s9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yv(e){return new s9(e)}function a9(e){return e[0]}function i9(e){return e[1]}function o9(e,t){var r=or(!0),s=null,a=yv,i=null,o=Wk(c);e=typeof e=="function"?e:e===void 0?a9:or(e),t=typeof t=="function"?t:t===void 0?i9:or(t);function c(u){var h,f=(u=Hk(u)).length,m,y=!1,b;for(s==null&&(i=a(b=o())),h=0;h<=f;++h)!(h<f&&r(m=u[h],h,u))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+e(m,h,u),+t(m,h,u));if(b)return i=null,b+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:or(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:or(+u),c):t},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:or(!!u),c):r},c.curve=function(u){return arguments.length?(a=u,s!=null&&(i=a(s)),c):a},c.context=function(u){return arguments.length?(u==null?s=i=null:i=a(s=u),c):s},c}function Og(e,t,r){var s=null,a=or(!0),i=null,o=yv,c=null,u=Wk(h);e=typeof e=="function"?e:e===void 0?a9:or(+e),t=typeof t=="function"?t:or(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?i9:or(+r);function h(m){var y,b,v,N=(m=Hk(m)).length,j,k=!1,I,S=new Array(N),O=new Array(N);for(i==null&&(c=o(I=u())),y=0;y<=N;++y){if(!(y<N&&a(j=m[y],y,m))===k)if(k=!k)b=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=y-1;v>=b;--v)c.point(S[v],O[v]);c.lineEnd(),c.areaEnd()}k&&(S[y]=+e(j,y,m),O[y]=+t(j,y,m),c.point(s?+s(j,y,m):S[y],r?+r(j,y,m):O[y]))}if(I)return c=null,I+""||null}function f(){return o9().defined(a).curve(o).context(i)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:or(+m),s=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:or(+m),h):e},h.x1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:or(+m),h):s},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:or(+m),r=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:or(+m),h):t},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:or(+m),h):r},h.lineX0=h.lineY0=function(){return f().x(e).y(t)},h.lineY1=function(){return f().x(e).y(r)},h.lineX1=function(){return f().x(s).y(t)},h.defined=function(m){return arguments.length?(a=typeof m=="function"?m:or(!!m),h):a},h.curve=function(m){return arguments.length?(o=m,i!=null&&(c=o(i)),h):o},h.context=function(m){return arguments.length?(m==null?i=c=null:c=o(i=m),h):i},h}class l9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Oie(e){return new l9(e,!0)}function Rie(e){return new l9(e,!1)}const qk={draw(e,t){const r=fi(t/Yy);e.moveTo(r,0),e.arc(0,0,r,0,gv)}},Lie={draw(e,t){const r=fi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},c9=fi(1/3),Fie=c9*2,$ie={draw(e,t){const r=fi(t/Fie),s=r*c9;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},Bie={draw(e,t){const r=fi(t),s=-r/2;e.rect(s,s,r,r)}},zie=.8908130915292852,u9=Ky(Yy/10)/Ky(7*Yy/10),Vie=Ky(gv/10)*u9,Uie=-r9(gv/10)*u9,Wie={draw(e,t){const r=fi(t*zie),s=Vie*r,a=Uie*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=gv*i/5,c=r9(o),u=Ky(o);e.lineTo(u*r,-c*r),e.lineTo(c*s-u*a,u*s+c*a)}e.closePath()}},Pw=fi(3),Hie={draw(e,t){const r=-fi(t/(Pw*3));e.moveTo(0,r*2),e.lineTo(-Pw*r,-r),e.lineTo(Pw*r,-r),e.closePath()}},ya=-.5,xa=fi(3)/2,fN=1/fi(12),qie=(fN/2+1)*3,Gie={draw(e,t){const r=fi(t/qie),s=r/2,a=r*fN,i=s,o=r*fN+r,c=-i,u=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(c,u),e.lineTo(ya*s-xa*a,xa*s+ya*a),e.lineTo(ya*i-xa*o,xa*i+ya*o),e.lineTo(ya*c-xa*u,xa*c+ya*u),e.lineTo(ya*s+xa*a,ya*a-xa*s),e.lineTo(ya*i+xa*o,ya*o-xa*i),e.lineTo(ya*c+xa*u,ya*u-xa*c),e.closePath()}};function Kie(e,t){let r=null,s=Wk(a);e=typeof e=="function"?e:or(e||qk),t=typeof t=="function"?t:or(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:or(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:or(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Zy(){}function Qy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function d9(e){this._context=e}d9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Yie(e){return new d9(e)}function h9(e){this._context=e}h9.prototype={areaStart:Zy,areaEnd:Zy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zie(e){return new h9(e)}function f9(e){this._context=e}f9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:Qy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qie(e){return new f9(e)}function m9(e){this._context=e}m9.prototype={areaStart:Zy,areaEnd:Zy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Xie(e){return new m9(e)}function T4(e){return e<0?-1:1}function _4(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),c=(i*a+o*s)/(s+a);return(T4(i)+T4(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function M4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ew(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,c=(i-s)/3;e._context.bezierCurveTo(s+c,a+c*t,i-c,o-c*r,i,o)}function Xy(e){this._context=e}Xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ew(this,this._t0,M4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ew(this,M4(this,r=_4(this,e,t)),r);break;default:Ew(this,this._t0,r=_4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function p9(e){this._context=new g9(e)}(p9.prototype=Object.create(Xy.prototype)).point=function(e,t){Xy.prototype.point.call(this,t,e)};function g9(e){this._context=e}g9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function Jie(e){return new Xy(e)}function eoe(e){return new p9(e)}function y9(e){this._context=e}y9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=D4(e),a=D4(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function D4(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function toe(e){return new y9(e)}function xv(e,t){this._context=e,this._t=t}xv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function roe(e){return new xv(e,.5)}function noe(e){return new xv(e,0)}function soe(e){return new xv(e,1)}function Ld(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,c=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<c;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function mN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function aoe(e,t){return e[t]}function ioe(e){const t=[];return t.key=e,t}function ooe(){var e=or([]),t=mN,r=Ld,s=aoe;function a(i){var o=Array.from(e.apply(this,arguments),ioe),c,u=o.length,h=-1,f;for(const m of i)for(c=0,++h;c<u;++c)(o[c][h]=[0,+s(m,o[c].key,h,i)]).data=m;for(c=0,f=Hk(t(o));c<u;++c)o[f[c]].index=c;return r(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:or(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:or(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?mN:typeof i=="function"?i:or(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ld,a):r},a}function loe(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}Ld(e,t)}}function coe(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,c=0;o<a;++o)c+=e[o][r][1]||0;s[r][1]+=s[r][0]=-c/2}Ld(e,t)}}function uoe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var c=0,u=0,h=0;c<o;++c){for(var f=e[t[c]],m=f[s][1]||0,y=f[s-1][1]||0,b=(m-y)/2,v=0;v<c;++v){var N=e[t[v]],j=N[s][1]||0,k=N[s-1][1]||0;b+=j-k}u+=m,h+=b*m}a[s-1][1]+=a[s-1][0]=r,u&&(r-=h/u)}a[s-1][1]+=a[s-1][0]=r,Ld(e,t)}}var Tw={},_w={},O4;function doe(){return O4||(O4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(_w)),_w}var Mw={},R4;function x9(){return R4||(R4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Mw)),Mw}var Dw={},L4;function Gk(){return L4||(L4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Dw)),Dw}var Ow={},Rw={},F4;function hoe(){return F4||(F4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const s=String(r);return s==="0"&&Object.is(Number(r),-0)?"-0":s}e.toString=t})(Rw)),Rw}var $4;function Kk(){return $4||($4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hoe(),r=Gk();function s(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let c=0,u="",h="",f=!1;for(a.charCodeAt(0)===46&&(i.push(""),c++);c<o;){const m=a[c];h?m==="\\"&&c+1<o?(c++,u+=a[c]):m===h?h="":u+=m:f?m==='"'||m==="'"?h=m:m==="]"?(f=!1,i.push(u),u=""):u+=m:m==="["?(f=!0,u&&(i.push(u),u="")):m==="."?u&&(i.push(u),u=""):u+=m,c++}return u&&i.push(u),i}e.toPath=s})(Ow)),Ow}var B4;function Yk(){return B4||(B4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=doe(),r=x9(),s=Gk(),a=Kk();function i(c,u,h){if(c==null)return h;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return h;const f=c[u];return f===void 0?r.isDeepKey(u)?i(c,a.toPath(u),h):h:f}case"number":case"symbol":{typeof u=="number"&&(u=s.toKey(u));const f=c[u];return f===void 0?h:f}default:{if(Array.isArray(u))return o(c,u,h);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return h;const f=c[u];return f===void 0?h:f}}}function o(c,u,h){if(u.length===0)return h;let f=c;for(let m=0;m<u.length;m++){if(f==null||t.isUnsafeProperty(u[m]))return h;f=f[u[m]]}return f===void 0?h:f}e.get=i})(Tw)),Tw}var Lw,z4;function foe(){return z4||(z4=1,Lw=Yk().get),Lw}var moe=foe();const hu=ia(moe);var In=e=>e===0?0:e>0?1:-1,Ea=e=>typeof e=="number"&&e!=+e,zo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qe=e=>(typeof e=="number"||e instanceof Number)&&!Ea(e),Qi=e=>Qe(e)||typeof e=="string",poe=0,am=e=>{var t=++poe;return"".concat(e||"").concat(t)},ns=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&typeof t!="string")return s;var i;if(zo(t)){if(r==null)return s;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Ea(i)&&(i=s),a&&r!=null&&i>r&&(i=r),i},v9=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},s=0;s<t;s++)if(!r[e[s]])r[e[s]]=!0;else return!0;return!1};function qt(e,t,r){return Qe(e)&&Qe(t)?e+r*(t-e):t}function b9(e,t,r){if(!(!e||!e.length))return e.find(s=>s&&(typeof t=="function"?t(s):hu(s,t))===r)}var pr=e=>e===null||typeof e>"u",Um=e=>pr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function goe(e){return e!=null}function Wm(){}var yoe=["type","size","sizeType"];function pN(){return pN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},pN.apply(null,arguments)}function V4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function U4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(r),!0).forEach(function(s){xoe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function xoe(e,t,r){return(t=voe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function voe(e){var t=boe(e,"string");return typeof t=="symbol"?t:t+""}function boe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function woe(e,t){if(e==null)return{};var r,s,a=joe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function joe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var w9={symbolCircle:qk,symbolCross:Lie,symbolDiamond:$ie,symbolSquare:Bie,symbolStar:Wie,symbolTriangle:Hie,symbolWye:Gie},Noe=Math.PI/180,koe=e=>{var t="symbol".concat(Um(e));return w9[t]||qk},Soe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*Noe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Aoe=(e,t)=>{w9["symbol".concat(Um(e))]=t},Zk=e=>{var{type:t="circle",size:r=64,sizeType:s="area"}=e,a=woe(e,yoe),i=U4(U4({},a),{},{type:t,size:r,sizeType:s}),o="circle";typeof t=="string"&&(o=t);var c=()=>{var y=koe(o),b=Kie().type(y).size(Soe(r,s,o)),v=b();if(v!==null)return v},{className:u,cx:h,cy:f}=i,m=as(i);return Qe(h)&&Qe(f)&&Qe(r)?p.createElement("path",pN({},m,{className:Lt("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(f,")"),d:c()})):null};Zk.registerSymbol=Aoe;var j9=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Qk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(a=>{Vk(a)&&(s[a]=(i=>r[a](r,i)))}),s},Coe=(e,t,r)=>s=>(e(t,r,s),null),Hm=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var s=null;return Object.keys(e).forEach(a=>{var i=e[a];Vk(a)&&typeof i=="function"&&(s||(s={}),s[a]=Coe(i,t,r))}),s};function W4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ioe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(r),!0).forEach(function(s){Poe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W4(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Poe(e,t,r){return(t=Eoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eoe(e){var t=Toe(e,"string");return typeof t=="symbol"?t:t+""}function Toe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zr(e,t){var r=Ioe({},e),s=t,a=Object.keys(t),i=a.reduce((o,c)=>(o[c]===void 0&&s[c]!==void 0&&(o[c]=s[c]),o),r);return i}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Jy.apply(null,arguments)}function H4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function _oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(r),!0).forEach(function(s){Moe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Moe(e,t,r){return(t=Doe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Doe(e){var t=Ooe(e,"string");return typeof t=="symbol"?t:t+""}function Ooe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wa=32,Roe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Loe(e){var{data:t,iconType:r,inactiveColor:s}=e,a=wa/2,i=wa/6,o=wa/3,c=t.inactive?s:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline"){var h;return p.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:a,x2:wa,y2:a,className:"recharts-legend-icon"})}if(u==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(wa,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return p.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(wa/8,"h").concat(wa,"v").concat(wa*3/4,"h").concat(-wa,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var f=_oe({},t);return delete f.legendIcon,p.cloneElement(t.legendIcon,f)}return p.createElement(Zk,{fill:c,cx:a,cy:a,size:wa,sizeType:"diameter",type:u})}function Foe(e){var{payload:t,iconSize:r,layout:s,formatter:a,inactiveColor:i,iconType:o}=e,c={x:0,y:0,width:wa,height:wa},u={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,m)=>{var y=f.formatter||a,b=Lt({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:f.inactive});if(f.type==="none")return null;var v=f.inactive?i:f.color,N=y?y(f.value,f,m):f.value;return p.createElement("li",Jy({className:b,style:u,key:"legend-item-".concat(m)},Hm(e,f,m)),p.createElement(Uk,{width:r,height:r,viewBox:c,style:h,"aria-label":"".concat(N," legend icon")},p.createElement(Loe,{data:f,iconType:o,inactiveColor:i})),p.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},N))})}var $oe=e=>{var t=zr(e,Roe),{payload:r,layout:s,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:i},p.createElement(Foe,Jy({},t,{payload:r})))},Fw={},$w={},q4;function Boe(){return q4||(q4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],c=s(o);a.has(c)||a.set(c,o)}return Array.from(a.values())}e.uniqBy=t})($w)),$w}var Bw={},G4;function N9(){return G4||(G4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Bw)),Bw}var zw={},Vw={},Uw={},K4;function zoe(){return K4||(K4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Uw)),Uw}var Y4;function Xk(){return Y4||(Y4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zoe();function r(s){return s!=null&&typeof s!="function"&&t.isLength(s.length)}e.isArrayLike=r})(Vw)),Vw}var Ww={},Z4;function Voe(){return Z4||(Z4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Ww)),Ww}var Q4;function Uoe(){return Q4||(Q4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xk(),r=Voe();function s(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=s})(zw)),zw}var Hw={},qw={},X4;function Woe(){return X4||(X4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yk();function r(s){return function(a){return t.get(a,s)}}e.property=r})(qw)),qw}var Gw={},Kw={},Yw={},Zw={},J4;function k9(){return J4||(J4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Zw)),Zw}var Qw={},e_;function S9(){return e_||(e_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Qw)),Qw}var Xw={},t_;function A9(){return t_||(t_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s){return r===s||Number.isNaN(r)&&Number.isNaN(s)}e.eq=t})(Xw)),Xw}var r_;function Hoe(){return r_||(r_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k9(),r=S9(),s=A9();function a(f,m,y){return typeof y!="function"?a(f,m,()=>{}):i(f,m,function b(v,N,j,k,I,S){const O=y(v,N,j,k,I,S);return O!==void 0?!!O:i(v,N,b,S)},new Map)}function i(f,m,y,b){if(m===f)return!0;switch(typeof m){case"object":return o(f,m,y,b);case"function":return Object.keys(m).length>0?i(f,{...m},y,b):s.eq(f,m);default:return t.isObject(f)?typeof m=="string"?m==="":!0:s.eq(f,m)}}function o(f,m,y,b){if(m==null)return!0;if(Array.isArray(m))return u(f,m,y,b);if(m instanceof Map)return c(f,m,y,b);if(m instanceof Set)return h(f,m,y,b);const v=Object.keys(m);if(f==null||r.isPrimitive(f))return v.length===0;if(v.length===0)return!0;if(b?.has(m))return b.get(m)===f;b?.set(m,f);try{for(let N=0;N<v.length;N++){const j=v[N];if(!r.isPrimitive(f)&&!(j in f)||m[j]===void 0&&f[j]!==void 0||m[j]===null&&f[j]!==null||!y(f[j],m[j],j,f,m,b))return!1}return!0}finally{b?.delete(m)}}function c(f,m,y,b){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,N]of m.entries()){const j=f.get(v);if(y(j,N,v,f,m,b)===!1)return!1}return!0}function u(f,m,y,b){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let N=0;N<m.length;N++){const j=m[N];let k=!1;for(let I=0;I<f.length;I++){if(v.has(I))continue;const S=f[I];let O=!1;if(y(S,j,N,f,m,b)&&(O=!0),O){v.add(I),k=!0;break}}if(!k)return!1}return!0}function h(f,m,y,b){return m.size===0?!0:f instanceof Set?u([...f],[...m],y,b):!1}e.isMatchWith=a,e.isSetMatch=h})(Yw)),Yw}var n_;function C9(){return n_||(n_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hoe();function r(s,a){return t.isMatchWith(s,a,()=>{})}e.isMatch=r})(Kw)),Kw}var Jw={},ej={},tj={},s_;function qoe(){return s_||(s_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(s=>Object.prototype.propertyIsEnumerable.call(r,s))}e.getSymbols=t})(tj)),tj}var rj={},a_;function I9(){return a_||(a_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(rj)),rj}var nj={},i_;function P9(){return i_||(i_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",s="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",h="[object Set]",f="[object Array]",m="[object Function]",y="[object ArrayBuffer]",b="[object Object]",v="[object Error]",N="[object DataView]",j="[object Uint8Array]",k="[object Uint8ClampedArray]",I="[object Uint16Array]",S="[object Uint32Array]",O="[object BigUint64Array]",P="[object Int8Array]",R="[object Int16Array]",E="[object Int32Array]",C="[object BigInt64Array]",F="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=y,e.arrayTag=f,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=O,e.booleanTag=a,e.dataViewTag=N,e.dateTag=c,e.errorTag=v,e.float32ArrayTag=F,e.float64ArrayTag=L,e.functionTag=m,e.int16ArrayTag=R,e.int32ArrayTag=E,e.int8ArrayTag=P,e.mapTag=u,e.numberTag=s,e.objectTag=b,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=I,e.uint32ArrayTag=S,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=k})(nj)),nj}var sj={},o_;function Goe(){return o_||(o_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(sj)),sj}var l_;function E9(){return l_||(l_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qoe(),r=I9(),s=P9(),a=S9(),i=Goe();function o(f,m){return c(f,void 0,f,new Map,m)}function c(f,m,y,b=new Map,v=void 0){const N=v?.(f,m,y,b);if(N!==void 0)return N;if(a.isPrimitive(f))return f;if(b.has(f))return b.get(f);if(Array.isArray(f)){const j=new Array(f.length);b.set(f,j);for(let k=0;k<f.length;k++)j[k]=c(f[k],k,y,b,v);return Object.hasOwn(f,"index")&&(j.index=f.index),Object.hasOwn(f,"input")&&(j.input=f.input),j}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const j=new RegExp(f.source,f.flags);return j.lastIndex=f.lastIndex,j}if(f instanceof Map){const j=new Map;b.set(f,j);for(const[k,I]of f)j.set(k,c(I,k,y,b,v));return j}if(f instanceof Set){const j=new Set;b.set(f,j);for(const k of f)j.add(c(k,void 0,y,b,v));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const j=new(Object.getPrototypeOf(f)).constructor(f.length);b.set(f,j);for(let k=0;k<f.length;k++)j[k]=c(f[k],k,y,b,v);return j}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const j=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return b.set(f,j),u(j,f,y,b,v),j}if(typeof File<"u"&&f instanceof File){const j=new File([f],f.name,{type:f.type});return b.set(f,j),u(j,f,y,b,v),j}if(typeof Blob<"u"&&f instanceof Blob){const j=new Blob([f],{type:f.type});return b.set(f,j),u(j,f,y,b,v),j}if(f instanceof Error){const j=new f.constructor;return b.set(f,j),j.message=f.message,j.name=f.name,j.stack=f.stack,j.cause=f.cause,u(j,f,y,b,v),j}if(f instanceof Boolean){const j=new Boolean(f.valueOf());return b.set(f,j),u(j,f,y,b,v),j}if(f instanceof Number){const j=new Number(f.valueOf());return b.set(f,j),u(j,f,y,b,v),j}if(f instanceof String){const j=new String(f.valueOf());return b.set(f,j),u(j,f,y,b,v),j}if(typeof f=="object"&&h(f)){const j=Object.create(Object.getPrototypeOf(f));return b.set(f,j),u(j,f,y,b,v),j}return f}function u(f,m,y=f,b,v){const N=[...Object.keys(m),...t.getSymbols(m)];for(let j=0;j<N.length;j++){const k=N[j],I=Object.getOwnPropertyDescriptor(f,k);(I==null||I.writable)&&(f[k]=c(m[k],k,y,b,v))}}function h(f){switch(r.getTag(f)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=u})(ej)),ej}var c_;function Koe(){return c_||(c_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E9();function r(s){return t.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}e.cloneDeep=r})(Jw)),Jw}var u_;function Yoe(){return u_||(u_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C9(),r=Koe();function s(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=s})(Gw)),Gw}var aj={},ij={},oj={},d_;function Zoe(){return d_||(d_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E9(),r=P9();function s(a,i){return t.cloneDeepWith(a,(o,c,u,h)=>{const f=i?.(o,c,u,h);if(f!==void 0)return f;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=s})(oj)),oj}var h_;function Qoe(){return h_||(h_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zoe();function r(s){return t.cloneDeepWith(s)}e.cloneDeep=r})(ij)),ij}var lj={},cj={},f_;function T9(){return f_||(f_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(s,a=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<a;case"symbol":return!1;case"string":return t.test(s)}}e.isIndex=r})(cj)),cj}var uj={},m_;function Xoe(){return m_||(m_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I9();function r(s){return s!==null&&typeof s=="object"&&t.getTag(s)==="[object Arguments]"}e.isArguments=r})(uj)),uj}var p_;function Joe(){return p_||(p_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x9(),r=T9(),s=Xoe(),a=Kk();function i(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?u=a.toPath(c):u=[c],u.length===0)return!1;let h=o;for(let f=0;f<u.length;f++){const m=u[f];if((h==null||!Object.hasOwn(h,m))&&!((Array.isArray(h)||s.isArguments(h))&&r.isIndex(m)&&m<h.length))return!1;h=h[m]}return!0}e.has=i})(lj)),lj}var g_;function ele(){return g_||(g_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C9(),r=Gk(),s=Qoe(),a=Yk(),i=Joe();function o(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return u=s.cloneDeep(u),function(h){const f=a.get(h,c);return f===void 0?i.has(h,c):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=o})(aj)),aj}var y_;function tle(){return y_||(y_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N9(),r=Woe(),s=Yoe(),a=ele();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):s.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(Hw)),Hw}var x_;function rle(){return x_||(x_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Boe(),r=N9(),s=Uoe(),a=tle();function i(o,c=r.identity){return s.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(c)):[]}e.uniqBy=i})(Fw)),Fw}var dj,v_;function nle(){return v_||(v_=1,dj=rle().uniqBy),dj}var sle=nle();const b_=ia(sle);function _9(e,t,r){return t===!0?b_(e,r):typeof t=="function"?b_(e,t):e}var hj={exports:{}},fj={},mj={exports:{}},pj={};var w_;function ale(){if(w_)return pj;w_=1;var e=Gd();function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var r=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function c(m,y){var b=y(),v=s({inst:{value:b,getSnapshot:y}}),N=v[0].inst,j=v[1];return i(function(){N.value=b,N.getSnapshot=y,u(N)&&j({inst:N})},[m,b,y]),a(function(){return u(N)&&j({inst:N}),m(function(){u(N)&&j({inst:N})})},[m]),o(b),b}function u(m){var y=m.getSnapshot;m=m.value;try{var b=y();return!r(m,b)}catch{return!0}}function h(m,y){return y()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return pj.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,pj}var j_;function ile(){return j_||(j_=1,mj.exports=ale()),mj.exports}var N_;function ole(){if(N_)return fj;N_=1;var e=Gd(),t=ile();function r(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var s=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return fj.useSyncExternalStoreWithSelector=function(h,f,m,y,b){var v=i(null);if(v.current===null){var N={hasValue:!1,value:null};v.current=N}else N=v.current;v=c(function(){function k(R){if(!I){if(I=!0,S=R,R=y(R),b!==void 0&&N.hasValue){var E=N.value;if(b(E,R))return O=E}return O=R}if(E=O,s(S,R))return E;var C=y(R);return b!==void 0&&b(E,C)?(S=R,E):(S=R,O=C)}var I=!1,S,O,P=m===void 0?null:m;return[function(){return k(f())},P===null?void 0:function(){return k(P())}]},[f,m,y,b]);var j=a(h,v[0],v[1]);return o(function(){N.hasValue=!0,N.value=j},[j]),u(j),j},fj}var k_;function lle(){return k_||(k_=1,hj.exports=ole()),hj.exports}var cle=lle(),Jk=p.createContext(null),ule=e=>e,cr=()=>{var e=p.useContext(Jk);return e?e.store.dispatch:ule},my=()=>{},dle=()=>my,hle=(e,t)=>e===t;function Xe(e){var t=p.useContext(Jk);return cle.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:dle,t?t.store.getState:my,t?t.store.getState:my,t?e:my,hle)}function fle(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function mle(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ple(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${t}[${r}]`)}}var S_=e=>Array.isArray(e)?e:[e];function gle(e){const t=Array.isArray(e[0])?e[0]:e;return ple(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function yle(e,t){const r=[],{length:s}=e;for(let a=0;a<s;a++)r.push(e[a].apply(null,t));return r}var xle=class{constructor(e){this.value=e}deref(){return this.value}},vle=typeof WeakRef<"u"?WeakRef:xle,ble=0,A_=1;function Rg(){return{s:ble,v:void 0,o:null,p:null}}function M9(e,t={}){let r=Rg();const{resultEqualityCheck:s}=t;let a,i=0;function o(){let c=r;const{length:u}=arguments;for(let m=0,y=u;m<y;m++){const b=arguments[m];if(typeof b=="function"||typeof b=="object"&&b!==null){let v=c.o;v===null&&(c.o=v=new WeakMap);const N=v.get(b);N===void 0?(c=Rg(),v.set(b,c)):c=N}else{let v=c.p;v===null&&(c.p=v=new Map);const N=v.get(b);N===void 0?(c=Rg(),v.set(b,c)):c=N}}const h=c;let f;if(c.s===A_)f=c.v;else if(f=e.apply(null,arguments),i++,s){const m=a?.deref?.()??a;m!=null&&s(m,f)&&(f=m,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new vle(f):f}return h.s=A_,h.v=f,f}return o.clearCache=()=>{r=Rg(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function wle(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,s=(...a)=>{let i=0,o=0,c,u={},h=a.pop();typeof h=="object"&&(u=h,h=a.pop()),fle(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...r,...u},{memoize:m,memoizeOptions:y=[],argsMemoize:b=M9,argsMemoizeOptions:v=[]}=f,N=S_(y),j=S_(v),k=gle(a),I=m(function(){return i++,h.apply(null,arguments)},...N),S=b(function(){o++;const P=yle(k,arguments);return c=I.apply(null,P),c},...j);return Object.assign(S,{resultFunc:h,memoizedResultFunc:I,dependencies:k,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:b})};return Object.assign(s,{withTypes:()=>s}),s}var ke=wle(M9),jle=Object.assign((e,t=ke)=>{mle(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),s=r.map(i=>e[i]);return t(s,(...i)=>i.reduce((o,c,u)=>(o[r[u]]=c,o),{}))},{withTypes:()=>jle}),gj={},yj={},xj={},C_;function Nle(){return C_||(C_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const r=(s,a,i)=>{if(s!==a){const o=t(s),c=t(a);if(o===c&&o===0){if(s<a)return i==="desc"?1:-1;if(s>a)return i==="desc"?-1:1}return i==="desc"?c-o:o-c}return 0};e.compareValues=r})(xj)),xj}var vj={},bj={},I_;function D9(){return I_||(I_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(bj)),bj}var P_;function kle(){return P_||(P_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D9(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(s.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(vj)),vj}var E_;function Sle(){return E_||(E_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nle(),r=kle(),s=Kk();function a(i,o,c,u){if(i==null)return[];c=u?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const h=(b,v)=>{let N=b;for(let j=0;j<v.length&&N!=null;++j)N=N[v[j]];return N},f=(b,v)=>v==null||b==null?v:typeof b=="object"&&"key"in b?Object.hasOwn(v,b.key)?v[b.key]:h(v,b.path):typeof b=="function"?b(v):Array.isArray(b)?h(v,b):typeof v=="object"?v[b]:v,m=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:s.toPath(b)}));return i.map(b=>({original:b,criteria:m.map(v=>f(v,b))})).slice().sort((b,v)=>{for(let N=0;N<m.length;N++){const j=t.compareValues(b.criteria[N],v.criteria[N],c[N]);if(j!==0)return j}return 0}).map(b=>b.original)}e.orderBy=a})(yj)),yj}var wj={},T_;function Ale(){return T_||(T_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s=1){const a=[],i=Math.floor(s),o=(c,u)=>{for(let h=0;h<c.length;h++){const f=c[h];Array.isArray(f)&&u<i?o(f,u+1):a.push(f)}};return o(r,0),a}e.flatten=t})(wj)),wj}var jj={},__;function O9(){return __||(__=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T9(),r=Xk(),s=k9(),a=A9();function i(o,c,u){return s.isObject(u)&&(typeof c=="number"&&r.isArrayLike(u)&&t.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?a.eq(u[c],o):!1}e.isIterateeCall=i})(jj)),jj}var M_;function Cle(){return M_||(M_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sle(),r=Ale(),s=O9();function a(i,...o){const c=o.length;return c>1&&s.isIterateeCall(i,o[0],o[1])?o=[]:c>2&&s.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(gj)),gj}var Nj,D_;function Ile(){return D_||(D_=1,Nj=Cle().sortBy),Nj}var Ple=Ile();const vv=ia(Ple);var R9=e=>e.legend.settings,Ele=e=>e.legend.size,Tle=e=>e.legend.payload,_le=ke([Tle,R9],(e,t)=>{var{itemSorter:r}=t,s=e.flat(1);return r?vv(s,r):s});function Mle(){return Xe(_le)}var Lg=1;function L9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),s=p.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Lg||Math.abs(o.left-t.left)>Lg||Math.abs(o.top-t.top)>Lg||Math.abs(o.width-t.width)>Lg)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,s]}function Vn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Dle=typeof Symbol=="function"&&Symbol.observable||"@@observable",O_=Dle,kj=()=>Math.random().toString(36).substring(7).split("").join("."),Ole={INIT:`@@redux/INIT${kj()}`,REPLACE:`@@redux/REPLACE${kj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kj()}`},ex=Ole;function eS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function F9(e,t,r){if(typeof e!="function")throw new Error(Vn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Vn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Vn(1));return r(F9)(e,t)}let s=e,a=t,i=new Map,o=i,c=0,u=!1;function h(){o===i&&(o=new Map,i.forEach((j,k)=>{o.set(k,j)}))}function f(){if(u)throw new Error(Vn(3));return a}function m(j){if(typeof j!="function")throw new Error(Vn(4));if(u)throw new Error(Vn(5));let k=!0;h();const I=c++;return o.set(I,j),function(){if(k){if(u)throw new Error(Vn(6));k=!1,h(),o.delete(I),i=null}}}function y(j){if(!eS(j))throw new Error(Vn(7));if(typeof j.type>"u")throw new Error(Vn(8));if(typeof j.type!="string")throw new Error(Vn(17));if(u)throw new Error(Vn(9));try{u=!0,a=s(a,j)}finally{u=!1}return(i=o).forEach(I=>{I()}),j}function b(j){if(typeof j!="function")throw new Error(Vn(10));s=j,y({type:ex.REPLACE})}function v(){const j=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(Vn(11));function I(){const O=k;O.next&&O.next(f())}return I(),{unsubscribe:j(I)}},[O_](){return this}}}return y({type:ex.INIT}),{dispatch:y,subscribe:m,getState:f,replaceReducer:b,[O_]:v}}function Rle(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ex.INIT})>"u")throw new Error(Vn(12));if(typeof r(void 0,{type:ex.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vn(13))})}function $9(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const s=Object.keys(r);let a;try{Rle(r)}catch(i){a=i}return function(o={},c){if(a)throw a;let u=!1;const h={};for(let f=0;f<s.length;f++){const m=s[f],y=r[m],b=o[m],v=y(b,c);if(typeof v>"u")throw c&&c.type,new Error(Vn(14));h[m]=v,u=u||v!==b}return u=u||s.length!==Object.keys(o).length,u?h:o}}function tx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function Lle(...e){return t=>(r,s)=>{const a=t(r,s);let i=()=>{throw new Error(Vn(15))};const o={getState:a.getState,dispatch:(u,...h)=>i(u,...h)},c=e.map(u=>u(o));return i=tx(...c)(a.dispatch),{...a,dispatch:i}}}function B9(e){return eS(e)&&"type"in e&&typeof e.type=="string"}var z9=Symbol.for("immer-nothing"),R_=Symbol.for("immer-draftable"),xs=Symbol.for("immer-state");function ei(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xs=Object,Fd=Xs.getPrototypeOf,rx="constructor",bv="prototype",gN="configurable",nx="enumerable",py="writable",im="value",Vo=e=>!!e&&!!e[xs];function ui(e){return e?V9(e)||wv(e)||!!e[R_]||!!e[rx]?.[R_]||jv(e)||Nv(e):!1}var Fle=Xs[bv][rx].toString(),L_=new WeakMap;function V9(e){if(!e||!tS(e))return!1;const t=Fd(e);if(t===null||t===Xs[bv])return!0;const r=Xs.hasOwnProperty.call(t,rx)&&t[rx];if(r===Object)return!0;if(!hd(r))return!1;let s=L_.get(r);return s===void 0&&(s=Function.toString.call(r),L_.set(r,s)),s===Fle}function qm(e,t,r=!0){Gm(e)===0?(r?Reflect.ownKeys(e):Xs.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((s,a)=>t(a,s,e))}function Gm(e){const t=e[xs];return t?t.type_:wv(e)?1:jv(e)?2:Nv(e)?3:0}var F_=(e,t,r=Gm(e))=>r===2?e.has(t):Xs[bv].hasOwnProperty.call(e,t),yN=(e,t,r=Gm(e))=>r===2?e.get(t):e[t],sx=(e,t,r,s=Gm(e))=>{s===2?e.set(t,r):s===3?e.add(r):e[t]=r};function $le(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var wv=Array.isArray,jv=e=>e instanceof Map,Nv=e=>e instanceof Set,tS=e=>typeof e=="object",hd=e=>typeof e=="function",Sj=e=>typeof e=="boolean",jo=e=>e.copy_||e.base_,rS=e=>e.modified_?e.copy_:e.base_;function xN(e,t){if(jv(e))return new Map(e);if(Nv(e))return new Set(e);if(wv(e))return Array[bv].slice.call(e);const r=V9(e);if(t===!0||t==="class_only"&&!r){const s=Xs.getOwnPropertyDescriptors(e);delete s[xs];let a=Reflect.ownKeys(s);for(let i=0;i<a.length;i++){const o=a[i],c=s[o];c[py]===!1&&(c[py]=!0,c[gN]=!0),(c.get||c.set)&&(s[o]={[gN]:!0,[py]:!0,[nx]:c[nx],[im]:e[o]})}return Xs.create(Fd(e),s)}else{const s=Fd(e);if(s!==null&&r)return{...e};const a=Xs.create(s);return Xs.assign(a,e)}}function nS(e,t=!1){return kv(e)||Vo(e)||!ui(e)||(Gm(e)>1&&Xs.defineProperties(e,{set:Fg,add:Fg,clear:Fg,delete:Fg}),Xs.freeze(e),t&&qm(e,(r,s)=>{nS(s,!0)},!1)),e}function Ble(){ei(2)}var Fg={[im]:Ble};function kv(e){return e===null||!tS(e)?!0:Xs.isFrozen(e)}var ax="MapSet",vN="Patches",U9={};function $d(e){const t=U9[e];return t||ei(0,e),t}var zle=e=>!!U9[e],om,W9=()=>om,Vle=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:zle(ax)?$d(ax):void 0});function $_(e,t){t&&(e.patchPlugin_=$d(vN),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bN(e){wN(e),e.drafts_.forEach(Ule),e.drafts_=null}function wN(e){e===om&&(om=e.parent_)}var B_=e=>om=Vle(om,e);function Ule(e){const t=e[xs];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function z_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[xs].modified_&&(bN(t),ei(4)),ui(e)&&(e=V_(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[xs].base_,e,t)}else e=V_(t,r);return Wle(t,e,!0),bN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==z9?e:void 0}function V_(e,t){if(kv(t))return t;const r=t[xs];if(!r)return sS(t,e.handledSet_,e);if(!Sv(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:s}=r;if(s)for(;s.length>0;)s.pop()(e);G9(r,e)}return r.copy_}function Wle(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nS(t,r)}function H9(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Sv=(e,t)=>e.scope_===t,Hle=[];function q9(e,t,r,s){const a=jo(e),i=e.type_;if(s!==void 0&&yN(a,s,i)===t){sx(a,s,r,i);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;qm(a,(u,h)=>{if(Vo(h)){const f=c.get(h)||[];f.push(u),c.set(h,f)}})}const o=e.draftLocations_.get(t)??Hle;for(const c of o)sx(a,c,r,i)}function qle(e,t,r){e.callbacks_.push(function(a){const i=t;if(!i||!Sv(i,a))return;a.mapSetPlugin_?.fixSetContents(i);const o=rS(i);q9(e,i.draft_??i,o,r),G9(i,a)})}function G9(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:s}=t;if(s){const a=s.getPath(e);a&&s.generatePatches_(e,a,t)}H9(e)}}function Gle(e,t,r){const{scope_:s}=e;if(Vo(r)){const a=r[xs];Sv(a,s)&&a.callbacks_.push(function(){gy(e);const o=rS(a);q9(e,r,o,t)})}else ui(r)&&e.callbacks_.push(function(){const i=jo(e);yN(i,t,e.type_)===r&&s.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&sS(yN(e.copy_,t,e.type_),s.handledSet_,s)})}function sS(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Vo(e)||t.has(e)||!ui(e)||kv(e)||(t.add(e),qm(e,(s,a)=>{if(Vo(a)){const i=a[xs];if(Sv(i,r)){const o=rS(i);sx(e,s,o,e.type_),H9(i)}}else ui(a)&&sS(a,t,r)})),e}function Kle(e,t){const r=wv(e),s={type_:r?1:0,scope_:t?t.scope_:W9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=s,i=aS;r&&(a=[s],i=lm);const{revoke:o,proxy:c}=Proxy.revocable(a,i);return s.draft_=c,s.revoke_=o,[c,s]}var aS={get(e,t){if(t===xs)return e;const r=jo(e);if(!F_(r,t,e.type_))return Yle(e,r,t);const s=r[t];if(e.finalized_||!ui(s))return s;if(s===Aj(e.base_,t)){gy(e);const a=e.type_===1?+t:t,i=NN(e.scope_,s,e,a);return e.copy_[a]=i}return s},has(e,t){return t in jo(e)},ownKeys(e){return Reflect.ownKeys(jo(e))},set(e,t,r){const s=K9(jo(e),t);if(s?.set)return s.set.call(e.draft_,r),!0;if(!e.modified_){const a=Aj(jo(e),t),i=a?.[xs];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if($le(r,a)&&(r!==void 0||F_(e.base_,t,e.type_)))return!0;gy(e),jN(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Gle(e,t,r)),!0},deleteProperty(e,t){return gy(e),Aj(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),jN(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=jo(e),s=Reflect.getOwnPropertyDescriptor(r,t);return s&&{[py]:!0,[gN]:e.type_!==1||t!=="length",[nx]:s[nx],[im]:r[t]}},defineProperty(){ei(11)},getPrototypeOf(e){return Fd(e.base_)},setPrototypeOf(){ei(12)}},lm={};qm(aS,(e,t)=>{lm[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});lm.deleteProperty=function(e,t){return lm.set.call(this,e,t,void 0)};lm.set=function(e,t,r){return aS.set.call(this,e[0],t,r,e[0])};function Aj(e,t){const r=e[xs];return(r?jo(r):e)[t]}function Yle(e,t,r){const s=K9(t,r);return s?im in s?s[im]:s.get?.call(e.draft_):void 0}function K9(e,t){if(!(t in e))return;let r=Fd(e);for(;r;){const s=Object.getOwnPropertyDescriptor(r,t);if(s)return s;r=Fd(r)}}function jN(e){e.modified_||(e.modified_=!0,e.parent_&&jN(e.parent_))}function gy(e){e.copy_||(e.assigned_=new Map,e.copy_=xN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Zle=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,s,a)=>{if(hd(r)&&!hd(s)){const o=s;s=r;const c=this;return function(h=o,...f){return c.produce(h,m=>s.call(this,m,...f))}}hd(s)||ei(6),a!==void 0&&!hd(a)&&ei(7);let i;if(ui(r)){const o=B_(this),c=NN(o,r,void 0);let u=!0;try{i=s(c),u=!1}finally{u?bN(o):wN(o)}return $_(o,a),z_(i,o)}else if(!r||!tS(r)){if(i=s(r),i===void 0&&(i=r),i===z9&&(i=void 0),this.autoFreeze_&&nS(i,!0),a){const o=[],c=[];$d(vN).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:c}),a(o,c)}return i}else ei(1,r)},this.produceWithPatches=(r,s)=>{if(hd(r))return(c,...u)=>this.produceWithPatches(c,h=>r(h,...u));let a,i;return[this.produce(r,s,(c,u)=>{a=c,i=u}),a,i]},Sj(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Sj(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Sj(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ui(t)||ei(8),Vo(t)&&(t=ci(t));const r=B_(this),s=NN(r,t,void 0);return s[xs].isManual_=!0,wN(r),s}finishDraft(t,r){const s=t&&t[xs];(!s||!s.isManual_)&&ei(9);const{scope_:a}=s;return $_(a,r),z_(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let s;for(s=r.length-1;s>=0;s--){const i=r[s];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}s>-1&&(r=r.slice(s+1));const a=$d(vN).applyPatches_;return Vo(t)?a(t,r):this.produce(t,i=>a(i,r))}};function NN(e,t,r,s){const[a,i]=jv(t)?$d(ax).proxyMap_(t,r):Nv(t)?$d(ax).proxySet_(t,r):Kle(t,r);return(r?.scope_??W9()).drafts_.push(a),i.callbacks_=r?.callbacks_??[],i.key_=s,r&&s!==void 0?qle(r,i,s):i.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:h}=u;i.modified_&&h&&h.generatePatches_(i,[],u)}),a}function ci(e){return Vo(e)||ei(10,e),Y9(e)}function Y9(e){if(!ui(e)||kv(e))return e;const t=e[xs];let r,s=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=xN(e,t.scope_.immer_.useStrictShallowCopy_),s=t.scope_.immer_.shouldUseStrictIteration()}else r=xN(e,!0);return qm(r,(a,i)=>{sx(r,a,Y9(i))},s),t&&(t.finalized_=!1),r}var Qle=new Zle,Z9=Qle.produce;function Q9(e){return({dispatch:r,getState:s})=>a=>i=>typeof i=="function"?i(r,s,e):a(i)}var Xle=Q9(),Jle=Q9,ece=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tx:tx.apply(null,arguments)};function Ta(e,t){function r(...s){if(t){let a=t(...s);if(!a)throw new Error(ea(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:s[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=s=>B9(s)&&s.type===e,r}var X9=class Cf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Cf.prototype)}static get[Symbol.species](){return Cf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Cf(...t[0].concat(this)):new Cf(...t.concat(this))}};function U_(e){return ui(e)?Z9(e,()=>{}):e}function $g(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function tce(e){return typeof e=="boolean"}var rce=()=>function(t){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new X9;return r&&(tce(r)?o.push(Xle):o.push(Jle(r.extraArgument))),o},J9="RTK_autoBatch",vr=()=>e=>({payload:e,meta:{[J9]:!0}}),W_=e=>t=>{setTimeout(t,e)},eF=(e={type:"raf"})=>t=>(...r)=>{const s=t(...r);let a=!0,i=!1,o=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:W_(10):e.type==="callback"?e.queueNotification:W_(e.timeout),h=()=>{o=!1,i&&(i=!1,c.forEach(f=>f()))};return Object.assign({},s,{subscribe(f){const m=()=>a&&f(),y=s.subscribe(m);return c.add(f),()=>{y(),c.delete(f)}},dispatch(f){try{return a=!f?.meta?.[J9],i=!a,i&&(o||(o=!0,u(h))),s.dispatch(f)}finally{a=!0}}})},nce=e=>function(r){const{autoBatch:s=!0}=r??{};let a=new X9(e);return s&&a.push(eF(typeof s=="object"?s:void 0)),a};function sce(e){const t=rce(),{reducer:r=void 0,middleware:s,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(eS(r))c=$9(r);else throw new Error(ea(1));let u;typeof s=="function"?u=s(t):u=t();let h=tx;a&&(h=ece({trace:!1,...typeof a=="object"&&a}));const f=Lle(...u),m=nce(f);let y=typeof o=="function"?o(m):m();const b=h(...y);return F9(c,i,b)}function tF(e){const t={},r=[];let s;const a={addCase(i,o){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(ea(28));if(c in t)throw new Error(ea(29));return t[c]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return s=i,a}};return e(a),[t,r,s]}function ace(e){return typeof e=="function"}function ice(e,t){let[r,s,a]=tF(t),i;if(ace(e))i=()=>U_(e());else{const c=U_(e);i=()=>c}function o(c=i(),u){let h=[r[u.type],...s.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[a]),h.reduce((f,m)=>{if(m)if(Vo(f)){const b=m(f,u);return b===void 0?f:b}else{if(ui(f))return Z9(f,y=>m(y,u));{const y=m(f,u);if(y===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return f},c)}return o.getInitialState=i,o}var oce="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",lce=(e=21)=>{let t="",r=e;for(;r--;)t+=oce[Math.random()*64|0];return t},cce=Symbol.for("rtk-slice-createasyncthunk");function uce(e,t){return`${e}/${t}`}function dce({creators:e}={}){const t=e?.asyncThunk?.[cce];return function(s){const{name:a,reducerPath:i=a}=s;if(!a)throw new Error(ea(11));const o=(typeof s.reducers=="function"?s.reducers(fce()):s.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(S,O){const P=typeof S=="string"?S:S.type;if(!P)throw new Error(ea(12));if(P in u.sliceCaseReducersByType)throw new Error(ea(13));return u.sliceCaseReducersByType[P]=O,h},addMatcher(S,O){return u.sliceMatchers.push({matcher:S,reducer:O}),h},exposeAction(S,O){return u.actionCreators[S]=O,h},exposeCaseReducer(S,O){return u.sliceCaseReducersByName[S]=O,h}};c.forEach(S=>{const O=o[S],P={reducerName:S,type:uce(a,S),createNotation:typeof s.reducers=="function"};pce(O)?yce(P,O,h,t):mce(P,O,h)});function f(){const[S={},O=[],P=void 0]=typeof s.extraReducers=="function"?tF(s.extraReducers):[s.extraReducers],R={...S,...u.sliceCaseReducersByType};return ice(s.initialState,E=>{for(let C in R)E.addCase(C,R[C]);for(let C of u.sliceMatchers)E.addMatcher(C.matcher,C.reducer);for(let C of O)E.addMatcher(C.matcher,C.reducer);P&&E.addDefaultCase(P)})}const m=S=>S,y=new Map,b=new WeakMap;let v;function N(S,O){return v||(v=f()),v(S,O)}function j(){return v||(v=f()),v.getInitialState()}function k(S,O=!1){function P(E){let C=E[S];return typeof C>"u"&&O&&(C=$g(b,P,j)),C}function R(E=m){const C=$g(y,O,()=>new WeakMap);return $g(C,E,()=>{const F={};for(const[L,D]of Object.entries(s.selectors??{}))F[L]=hce(D,E,()=>$g(b,E,j),O);return F})}return{reducerPath:S,getSelectors:R,get selectors(){return R(P)},selectSlice:P}}const I={name:a,reducer:N,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:j,...k(i),injectInto(S,{reducerPath:O,...P}={}){const R=O??i;return S.inject({reducerPath:R,reducer:N},P),{...I,...k(R,!0)}}};return I}}function hce(e,t,r,s){function a(i,...o){let c=t(i);return typeof c>"u"&&s&&(c=r()),e(c,...o)}return a.unwrapped=e,a}var Ls=dce();function fce(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function mce({type:e,reducerName:t,createNotation:r},s,a){let i,o;if("reducer"in s){if(r&&!gce(s))throw new Error(ea(17));i=s.reducer,o=s.prepare}else i=s;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Ta(e,o):Ta(e))}function pce(e){return e._reducerDefinitionType==="asyncThunk"}function gce(e){return e._reducerDefinitionType==="reducerWithPrepare"}function yce({type:e,reducerName:t},r,s,a){if(!a)throw new Error(ea(18));const{payloadCreator:i,fulfilled:o,pending:c,rejected:u,settled:h,options:f}=r,m=a(e,i,f);s.exposeAction(t,m),o&&s.addCase(m.fulfilled,o),c&&s.addCase(m.pending,c),u&&s.addCase(m.rejected,u),h&&s.addMatcher(m.settled,h),s.exposeCaseReducer(t,{fulfilled:o||Bg,pending:c||Bg,rejected:u||Bg,settled:h||Bg})}function Bg(){}var xce="task",rF="listener",nF="completed",iS="cancelled",vce=`task-${iS}`,bce=`task-${nF}`,kN=`${rF}-${iS}`,wce=`${rF}-${nF}`,Av=class{constructor(e){this.code=e,this.message=`${xce} ${iS} (reason: ${e})`}name="TaskAbortError";message},oS=(e,t)=>{if(typeof e!="function")throw new TypeError(ea(32))},ix=()=>{},sF=(e,t=ix)=>(e.catch(t),e),aF=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),tu=e=>{if(e.aborted)throw new Av(e.reason)};function iF(e,t){let r=ix;return new Promise((s,a)=>{const i=()=>a(new Av(e.reason));if(e.aborted){i();return}r=aF(e,i),t.finally(()=>r()).then(s,a)}).finally(()=>{r=ix})}var jce=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Av?"cancelled":"rejected",error:r}}finally{t?.()}},ox=e=>t=>sF(iF(e,t).then(r=>(tu(e),r))),oF=e=>{const t=ox(e);return r=>t(new Promise(s=>setTimeout(s,r)))},{assign:Pd}=Object,H_={},Cv="listenerMiddleware",Nce=(e,t)=>{const r=s=>aF(e,()=>s.abort(e.reason));return(s,a)=>{oS(s);const i=new AbortController;r(i);const o=jce(async()=>{tu(e),tu(i.signal);const c=await s({pause:ox(i.signal),delay:oF(i.signal),signal:i.signal});return tu(i.signal),c},()=>i.abort(bce));return a?.autoJoin&&t.push(o.catch(ix)),{result:ox(e)(o),cancel(){i.abort(vce)}}}},kce=(e,t)=>{const r=async(s,a)=>{tu(t);let i=()=>{};const c=[new Promise((u,h)=>{let f=e({predicate:s,effect:(m,y)=>{y.unsubscribe(),u([m,y.getState(),y.getOriginalState()])}});i=()=>{f(),h()}})];a!=null&&c.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await iF(t,Promise.race(c));return tu(t),u}finally{i()}};return(s,a)=>sF(r(s,a))},lF=e=>{let{type:t,actionCreator:r,matcher:s,predicate:a,effect:i}=e;if(t)a=Ta(t).match;else if(r)t=r.type,a=r.match;else if(s)a=s;else if(!a)throw new Error(ea(21));return oS(i),{predicate:a,type:t,effect:i}},cF=Pd(e=>{const{type:t,predicate:r,effect:s}=lF(e);return{id:lce(),effect:s,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ea(22))}}},{withTypes:()=>cF}),q_=(e,t)=>{const{type:r,effect:s,predicate:a}=lF(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===s)},SN=e=>{e.pending.forEach(t=>{t.abort(kN)})},Sce=(e,t)=>()=>{for(const r of t.keys())SN(r);e.clear()},G_=(e,t,r)=>{try{e(t,r)}catch(s){setTimeout(()=>{throw s},0)}},uF=Pd(Ta(`${Cv}/add`),{withTypes:()=>uF}),Ace=Ta(`${Cv}/removeAll`),dF=Pd(Ta(`${Cv}/remove`),{withTypes:()=>dF}),Cce=(...e)=>{console.error(`${Cv}/error`,...e)},Km=(e={})=>{const t=new Map,r=new Map,s=b=>{const v=r.get(b)??0;r.set(b,v+1)},a=b=>{const v=r.get(b)??1;v===1?r.delete(b):r.set(b,v-1)},{extra:i,onError:o=Cce}=e;oS(o);const c=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),v=>{b.unsubscribe(),v?.cancelActive&&SN(b)}),u=b=>{const v=q_(t,b)??cF(b);return c(v)};Pd(u,{withTypes:()=>u});const h=b=>{const v=q_(t,b);return v&&(v.unsubscribe(),b.cancelActive&&SN(v)),!!v};Pd(h,{withTypes:()=>h});const f=async(b,v,N,j)=>{const k=new AbortController,I=kce(u,k.signal),S=[];try{b.pending.add(k),s(b),await Promise.resolve(b.effect(v,Pd({},N,{getOriginalState:j,condition:(O,P)=>I(O,P).then(Boolean),take:I,delay:oF(k.signal),pause:ox(k.signal),extra:i,signal:k.signal,fork:Nce(k.signal,S),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((O,P,R)=>{O!==k&&(O.abort(kN),R.delete(O))})},cancel:()=>{k.abort(kN),b.pending.delete(k)},throwIfCancelled:()=>{tu(k.signal)}})))}catch(O){O instanceof Av||G_(o,O,{raisedBy:"effect"})}finally{await Promise.all(S),k.abort(wce),a(b),b.pending.delete(k)}},m=Sce(t,r);return{middleware:b=>v=>N=>{if(!B9(N))return v(N);if(uF.match(N))return u(N.payload);if(Ace.match(N)){m();return}if(dF.match(N))return h(N.payload);let j=b.getState();const k=()=>{if(j===H_)throw new Error(ea(23));return j};let I;try{if(I=v(N),t.size>0){const S=b.getState(),O=Array.from(t.values());for(const P of O){let R=!1;try{R=P.predicate(N,S,j)}catch(E){R=!1,G_(o,E,{raisedBy:"predicate"})}R&&f(P,N,b,k)}}}finally{j=H_}return I},startListening:u,stopListening:h,clearListeners:m}};function ea(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ice={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hF=Ls({name:"chartLayout",initialState:Ice,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,s,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(s=t.payload.right)!==null&&s!==void 0?s:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Pce,setLayout:Ece,setChartSize:Tce,setScale:_ce}=hF.actions,Mce=hF.reducer;function fF(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(s){Dce(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Dce(e,t,r){return(t=Oce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oce(e){var t=Rce(e,"string");return typeof t=="symbol"?t:t+""}function Rce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qt(e,t,r){return pr(e)||pr(t)?r:Qi(t)?hu(e,t,r):typeof t=="function"?t(e):r}var Lce=(e,t,r)=>{if(t&&r){var{width:s,height:a}=r,{align:i,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&i!=="center"&&Qe(e[i]))return xd(xd({},e),{},{[i]:e[i]+(s||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&o!=="middle"&&Qe(e[o]))return xd(xd({},e),{},{[o]:e[o]+(a||0)})}return e},no=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",mF=(e,t,r,s)=>{if(s)return e.map(c=>c.coordinate);var a,i,o=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===r&&(i=!0),c.coordinate));return a||o.push(t),i||o.push(r),o},pF=(e,t,r)=>{if(!e)return null;var{duplicateDomain:s,type:a,range:i,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:h,tickCount:f,ticks:m,niceTicks:y,axisType:b}=e;if(!o)return null;var v=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,N=a==="category"&&o.bandwidth?o.bandwidth()/v:0;if(N=b==="angleAxis"&&i&&i.length>=2?In(i[0]-i[1])*2*N:N,m||y){var j=(m||y||[]).map((k,I)=>{var S=s?s.indexOf(k):k;return{coordinate:o(S)+N,value:k,offset:N,index:I}});return j.filter(k=>!Ea(k.coordinate))}return u&&h?h.map((k,I)=>({coordinate:o(k)+N,value:k,index:I,offset:N})):o.ticks&&f!=null?o.ticks(f).map((k,I)=>({coordinate:o(k)+N,value:k,offset:N,index:I})):o.domain().map((k,I)=>({coordinate:o(k)+N,value:s?s[k]:k,index:I,offset:N}))},Y_=1e-4,Fce=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,s=e.range(),a=Math.min(s[0],s[1])-Y_,i=Math.max(s[0],s[1])+Y_,o=e(t[0]),c=e(t[r-1]);(o<a||o>i||c<a||c>i)&&e.domain([t[0],t[r-1]])}},$ce=(e,t)=>{if(!t||t.length!==2||!Qe(t[0])||!Qe(t[1]))return e;var r=Math.min(t[0],t[1]),s=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Qe(e[0])||e[0]<r)&&(a[0]=r),(!Qe(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<r&&(a[1]=r),a},Bce=e=>{var t=e.length;if(!(t<=0))for(var r=0,s=e[0].length;r<s;++r)for(var a=0,i=0,o=0;o<t;++o){var c=Ea(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=a,e[o][r][1]=a+c,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+c,i=e[o][r][1])}},zce=e=>{var t=e.length;if(!(t<=0))for(var r=0,s=e[0].length;r<s;++r)for(var a=0,i=0;i<t;++i){var o=Ea(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Vce={sign:Bce,expand:loe,none:Ld,silhouette:coe,wiggle:uoe,positive:zce},Uce=(e,t,r)=>{var s=Vce[r],a=ooe().keys(t).value((i,o)=>Number(Qt(i,o,0))).order(mN).offset(s);return a(e)};function gF(e){return e==null?void 0:String(e)}function lx(e){var{axis:t,ticks:r,bandSize:s,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pr(a[t.dataKey])){var c=b9(r,"value",a[t.dataKey]);if(c)return c.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var u=Qt(a,pr(o)?t.dataKey:o);return pr(u)?null:t.scale(u)}var Z_=e=>{var{axis:t,ticks:r,offset:s,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+s:null;var c=Qt(i,t.dataKey,t.scale.domain()[o]);return pr(c)?null:t.scale(c)-a/2+s},Wce=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return s<=0&&a>=0?0:a<0?a:s}return r[0]},Hce=e=>{var t=e.flat(2).filter(Qe);return[Math.min(...t),Math.max(...t)]},qce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Gce=(e,t,r)=>{if(e!=null)return qce(Object.keys(e).reduce((s,a)=>{var i=e[a],{stackedData:o}=i,c=o.reduce((u,h)=>{var f=fF(h,t,r),m=Hce(f);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]))},Q_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yl=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!r||s>0)return s}if(e&&t&&t.length>=2){for(var a=vv(t,f=>f.coordinate),i=1/0,o=1,c=a.length;o<c;o++){var u=a[o],h=a[o-1];i=Math.min((u.coordinate||0)-(h.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function J_(e){var{tooltipEntrySettings:t,dataKey:r,payload:s,value:a,name:i}=e;return xd(xd({},t),{},{dataKey:r,payload:s,value:a,name:i})}function nc(e,t){if(e)return String(e);if(typeof t=="string")return t}var Kce=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Yce=(e,t)=>t==="centric"?e.angle:e.radius,Zo=e=>e.layout.width,Qo=e=>e.layout.height,Zce=e=>e.layout.scale,yF=e=>e.layout.margin,Iv=ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Pv=ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),xF="data-recharts-item-index",vF="data-recharts-item-data-key",Ym=60;function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(s){Qce(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Qce(e,t,r){return(t=Xce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xce(e){var t=Jce(e,"string");return typeof t=="symbol"?t:t+""}function Jce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eue=e=>e.brush.height;function tue(e){var t=Pv(e);return t.reduce((r,s)=>{if(s.orientation==="left"&&!s.mirror&&!s.hide){var a=typeof s.width=="number"?s.width:Ym;return r+a}return r},0)}function rue(e){var t=Pv(e);return t.reduce((r,s)=>{if(s.orientation==="right"&&!s.mirror&&!s.hide){var a=typeof s.width=="number"?s.width:Ym;return r+a}return r},0)}function nue(e){var t=Iv(e);return t.reduce((r,s)=>s.orientation==="top"&&!s.mirror&&!s.hide?r+s.height:r,0)}function sue(e){var t=Iv(e);return t.reduce((r,s)=>s.orientation==="bottom"&&!s.mirror&&!s.hide?r+s.height:r,0)}var pn=ke([Zo,Qo,yF,eue,tue,rue,nue,sue,R9,Ele],(e,t,r,s,a,i,o,c,u,h)=>{var f={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+o,bottom:(r.bottom||0)+c},y=zg(zg({},m),f),b=y.bottom;y.bottom+=s,y=Lce(y,u,h);var v=e-y.left-y.right,N=t-y.top-y.bottom;return zg(zg({brushBottom:b},y),{},{width:Math.max(v,0),height:Math.max(N,0)})}),aue=ke(pn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),lS=ke(Zo,Qo,(e,t)=>({x:0,y:0,width:e,height:t})),iue=p.createContext(null),En=()=>p.useContext(iue)!=null,Ev=e=>e.brush,Tv=ke([Ev,pn,yF],(e,t,r)=>({height:e.height,x:Qe(e.x)?e.x:t.left,y:Qe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Qe(e.width)?e.width:t.width})),Cj={},Ij={},Pj={},tM;function oue(){return tM||(tM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s,{signal:a,edges:i}={}){let o,c=null;const u=i!=null&&i.includes("leading"),h=i==null||i.includes("trailing"),f=()=>{c!==null&&(r.apply(o,c),o=void 0,c=null)},m=()=>{h&&f(),N()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},s)},v=()=>{y!==null&&(clearTimeout(y),y=null)},N=()=>{v(),o=void 0,c=null},j=()=>{f()},k=function(...I){if(a?.aborted)return;o=this,c=I;const S=y==null;b(),u&&S&&f()};return k.schedule=b,k.cancel=N,k.flush=j,a?.addEventListener("abort",N,{once:!0}),k}e.debounce=t})(Pj)),Pj}var rM;function lue(){return rM||(rM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oue();function r(s,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:c=!0,maxWait:u}=i,h=Array(2);o&&(h[0]="leading"),c&&(h[1]="trailing");let f,m=null;const y=t.debounce(function(...N){f=s.apply(this,N),m=null},a,{edges:h}),b=function(...N){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(f=s.apply(this,N),m=Date.now(),y.cancel(),y.schedule(),f):(y.apply(this,N),f)},v=()=>(y.flush(),f);return b.cancel=y.cancel,b.flush=v,b}e.debounce=r})(Ij)),Ij}var nM;function cue(){return nM||(nM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lue();function r(s,a=0,i={}){const{leading:o=!0,trailing:c=!0}=i;return t.debounce(s,a,{leading:o,maxWait:a,trailing:c})}e.throttle=r})(Cj)),Cj}var Ej,sM;function uue(){return sM||(sM=1,Ej=cue().throttle),Ej}var due=uue();const hue=ia(due);var cx=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},bF=(e,t,r)=>{var{width:s="100%",height:a="100%",aspect:i,maxHeight:o}=r,c=zo(s)?e:Number(s),u=zo(a)?t:Number(a);return i&&i>0&&(c?u=c/i:u&&(c=u*i),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},fue={width:0,height:0,overflow:"visible"},mue={width:0,overflowX:"visible"},pue={height:0,overflowY:"visible"},gue={},yue=e=>{var{width:t,height:r}=e,s=zo(t),a=zo(r);return s&&a?fue:s?mue:a?pue:gue};function xue(e){var{width:t,height:r,aspect:s}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=s&&s>0?void 0:"100%":i===void 0&&(i=s&&s>0?void 0:"100%"),{width:a,height:i}}function gr(e){return Number.isFinite(e)}function Xi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},AN.apply(null,arguments)}function aM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function iM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(r),!0).forEach(function(s){vue(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function vue(e,t,r){return(t=bue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bue(e){var t=wue(e,"string");return typeof t=="symbol"?t:t+""}function wue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wF=p.createContext({width:-1,height:-1});function jue(e){return Xi(e.width)&&Xi(e.height)}function jF(e){var{children:t,width:r,height:s}=e,a=p.useMemo(()=>({width:r,height:s}),[r,s]);return jue(a)?p.createElement(wF.Provider,{value:a},t):null}var cS=()=>p.useContext(wF),Nue=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:s={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:c,maxHeight:u,children:h,debounce:f=0,id:m,className:y,onResize:b,style:v={}}=e,N=p.useRef(null),j=p.useRef();j.current=b,p.useImperativeHandle(t,()=>N.current);var[k,I]=p.useState({containerWidth:s.width,containerHeight:s.height}),S=p.useCallback((C,F)=>{I(L=>{var D=Math.round(C),M=Math.round(F);return L.containerWidth===D&&L.containerHeight===M?L:{containerWidth:D,containerHeight:M}})},[]);p.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return Wm;var C=M=>{var $,{width:ee,height:q}=M[0].contentRect;S(ee,q),($=j.current)===null||$===void 0||$.call(j,ee,q)};f>0&&(C=hue(C,f,{trailing:!0,leading:!1}));var F=new ResizeObserver(C),{width:L,height:D}=N.current.getBoundingClientRect();return S(L,D),F.observe(N.current),()=>{F.disconnect()}},[S,f]);var{containerWidth:O,containerHeight:P}=k;cx(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:R,calculatedHeight:E}=bF(O,P,{width:a,height:i,aspect:r,maxHeight:u});return cx(R!=null&&R>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,E,a,i,o,c,r),p.createElement("div",{id:m?"".concat(m):void 0,className:Lt("recharts-responsive-container",y),style:iM(iM({},v),{},{width:a,height:i,minWidth:o,minHeight:c,maxHeight:u}),ref:N},p.createElement("div",{style:yue({width:a,height:i})},p.createElement(jF,{width:R,height:E},h)))}),Na=p.forwardRef((e,t)=>{var r=cS();if(Xi(r.width)&&Xi(r.height))return e.children;var{width:s,height:a}=xue({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=bF(void 0,void 0,{width:s,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Qe(i)&&Qe(o)?p.createElement(jF,{width:i,height:o},e.children):p.createElement(Nue,AN({},e,{width:s,height:a,ref:t}))});function NF(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var _v=()=>{var e,t=En(),r=Xe(aue),s=Xe(Tv),a=(e=Xe(Ev))===null||e===void 0?void 0:e.padding;return!t||!s||!a?r:{width:s.width-a.left-a.right,height:s.height-a.top-a.bottom,x:a.left,y:a.top}},kue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},kF=()=>{var e;return(e=Xe(pn))!==null&&e!==void 0?e:kue},uS=()=>Xe(Zo),dS=()=>Xe(Qo),Sue=()=>Xe(e=>e.layout.margin),Ct=e=>e.layout.layoutType,bu=()=>Xe(Ct),Aue=()=>{var e=bu();if(e==="horizontal"||e==="vertical")return e},Cue=()=>{var e=bu();return e!==void 0},Mv=e=>{var t=cr(),r=En(),{width:s,height:a}=e,i=cS(),o=s,c=a;return i&&(o=i.width>0?i.width:s,c=i.height>0?i.height:a),p.useEffect(()=>{!r&&Xi(o)&&Xi(c)&&t(Tce({width:o,height:c}))},[t,r,o,c]),null},SF=Symbol.for("immer-nothing"),oM=Symbol.for("immer-draftable"),aa=Symbol.for("immer-state");function ti(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cm=Object.getPrototypeOf;function Bd(e){return!!e&&!!e[aa]}function fu(e){return e?AF(e)||Array.isArray(e)||!!e[oM]||!!e.constructor?.[oM]||Zm(e)||Ov(e):!1}var Iue=Object.prototype.constructor.toString(),lM=new WeakMap;function AF(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let s=lM.get(r);return s===void 0&&(s=Function.toString.call(r),lM.set(r,s)),s===Iue}function ux(e,t,r=!0){Dv(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((s,a)=>t(a,s,e))}function Dv(e){const t=e[aa];return t?t.type_:Array.isArray(e)?1:Zm(e)?2:Ov(e)?3:0}function CN(e,t){return Dv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function CF(e,t,r){const s=Dv(e);s===2?e.set(t,r):s===3?e.add(r):e[t]=r}function Pue(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Zm(e){return e instanceof Map}function Ov(e){return e instanceof Set}function Dc(e){return e.copy_||e.base_}function IN(e,t){if(Zm(e))return new Map(e);if(Ov(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=AF(e);if(t===!0||t==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(e);delete s[aa];let a=Reflect.ownKeys(s);for(let i=0;i<a.length;i++){const o=a[i],c=s[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(s[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(cm(e),s)}else{const s=cm(e);if(s!==null&&r)return{...e};const a=Object.create(s);return Object.assign(a,e)}}function hS(e,t=!1){return Rv(e)||Bd(e)||!fu(e)||(Dv(e)>1&&Object.defineProperties(e,{set:Vg,add:Vg,clear:Vg,delete:Vg}),Object.freeze(e),t&&Object.values(e).forEach(r=>hS(r,!0))),e}function Eue(){ti(2)}var Vg={value:Eue};function Rv(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Tue={};function mu(e){const t=Tue[e];return t||ti(0,e),t}var um;function IF(){return um}function _ue(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cM(e,t){t&&(mu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function PN(e){EN(e),e.drafts_.forEach(Mue),e.drafts_=null}function EN(e){e===um&&(um=e.parent_)}function uM(e){return um=_ue(um,e)}function Mue(e){const t=e[aa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function dM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[aa].modified_&&(PN(t),ti(4)),fu(e)&&(e=dx(t,e),t.parent_||hx(t,e)),t.patches_&&mu("Patches").generateReplacementPatches_(r[aa].base_,e,t.patches_,t.inversePatches_)):e=dx(t,r,[]),PN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==SF?e:void 0}function dx(e,t,r){if(Rv(t))return t;const s=e.immer_.shouldUseStrictIteration(),a=t[aa];if(!a)return ux(t,(i,o)=>hM(e,a,t,i,o,r),s),t;if(a.scope_!==e)return t;if(!a.modified_)return hx(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,c=!1;a.type_===3&&(o=new Set(i),i.clear(),c=!0),ux(o,(u,h)=>hM(e,a,i,u,h,r,c),s),hx(e,i,!1),r&&e.patches_&&mu("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function hM(e,t,r,s,a,i,o){if(a==null||typeof a!="object"&&!o)return;const c=Rv(a);if(!(c&&!o)){if(Bd(a)){const u=i&&t&&t.type_!==3&&!CN(t.assigned_,s)?i.concat(s):void 0,h=dx(e,a,u);if(CF(r,s,h),Bd(h))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(fu(a)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[s]===a&&c)return;dx(e,a),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&(Zm(r)?r.has(s):Object.prototype.propertyIsEnumerable.call(r,s))&&hx(e,a)}}}function hx(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&hS(t,r)}function Due(e,t){const r=Array.isArray(e),s={type_:r?1:0,scope_:t?t.scope_:IF(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,i=fS;r&&(a=[s],i=dm);const{revoke:o,proxy:c}=Proxy.revocable(a,i);return s.draft_=c,s.revoke_=o,c}var fS={get(e,t){if(t===aa)return e;const r=Dc(e);if(!CN(r,t))return Oue(e,r,t);const s=r[t];return e.finalized_||!fu(s)?s:s===Tj(e.base_,t)?(_j(e),e.copy_[t]=_N(s,e)):s},has(e,t){return t in Dc(e)},ownKeys(e){return Reflect.ownKeys(Dc(e))},set(e,t,r){const s=PF(Dc(e),t);if(s?.set)return s.set.call(e.draft_,r),!0;if(!e.modified_){const a=Tj(Dc(e),t),i=a?.[aa];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Pue(r,a)&&(r!==void 0||CN(e.base_,t)))return!0;_j(e),TN(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Tj(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_j(e),TN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Dc(e),s=Reflect.getOwnPropertyDescriptor(r,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:r[t]}},defineProperty(){ti(11)},getPrototypeOf(e){return cm(e.base_)},setPrototypeOf(){ti(12)}},dm={};ux(fS,(e,t)=>{dm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});dm.deleteProperty=function(e,t){return dm.set.call(this,e,t,void 0)};dm.set=function(e,t,r){return fS.set.call(this,e[0],t,r,e[0])};function Tj(e,t){const r=e[aa];return(r?Dc(r):e)[t]}function Oue(e,t,r){const s=PF(t,r);return s?"value"in s?s.value:s.get?.call(e.draft_):void 0}function PF(e,t){if(!(t in e))return;let r=cm(e);for(;r;){const s=Object.getOwnPropertyDescriptor(r,t);if(s)return s;r=cm(r)}}function TN(e){e.modified_||(e.modified_=!0,e.parent_&&TN(e.parent_))}function _j(e){e.copy_||(e.copy_=IN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Rue=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,s)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(u=i,...h){return o.produce(u,f=>r.call(this,f,...h))}}typeof r!="function"&&ti(6),s!==void 0&&typeof s!="function"&&ti(7);let a;if(fu(t)){const i=uM(this),o=_N(t,void 0);let c=!0;try{a=r(o),c=!1}finally{c?PN(i):EN(i)}return cM(i,s),dM(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===SF&&(a=void 0),this.autoFreeze_&&hS(a,!0),s){const i=[],o=[];mu("Patches").generateReplacementPatches_(t,a,i,o),s(i,o)}return a}else ti(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,u=>t(u,...c));let s,a;return[this.produce(t,r,(o,c)=>{s=o,a=c}),s,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){fu(e)||ti(8),Bd(e)&&(e=Lue(e));const t=uM(this),r=_N(e,void 0);return r[aa].isManual_=!0,EN(t),r}finishDraft(e,t){const r=e&&e[aa];(!r||!r.isManual_)&&ti(9);const{scope_:s}=r;return cM(s,t),dM(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const s=mu("Patches").applyPatches_;return Bd(e)?s(e,t):this.produce(e,a=>s(a,t))}};function _N(e,t){const r=Zm(e)?mu("MapSet").proxyMap_(e,t):Ov(e)?mu("MapSet").proxySet_(e,t):Due(e,t);return(t?t.scope_:IF()).drafts_.push(r),r}function Lue(e){return Bd(e)||ti(10,e),EF(e)}function EF(e){if(!fu(e)||Rv(e))return e;const t=e[aa];let r,s=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=IN(e,t.scope_.immer_.useStrictShallowCopy_),s=t.scope_.immer_.shouldUseStrictIteration()}else r=IN(e,!0);return ux(r,(a,i)=>{CF(r,a,EF(i))},s),t&&(t.finalized_=!1),r}var Fue=new Rue;Fue.produce;var $ue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},TF=Ls({name:"legend",initialState:$ue,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:vr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:s}=t.payload,a=ci(e).payload.indexOf(r);a>-1&&(e.payload[a]=s)},prepare:vr()},removeLegendPayload:{reducer(e,t){var r=ci(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:vr()}}}),{setLegendSize:fM,setLegendSettings:Bue,addLegendPayload:_F,replaceLegendPayload:MF,removeLegendPayload:DF}=TF.actions,zue=TF.reducer,Vue=["contextPayload"];function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},MN.apply(null,arguments)}function mM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(r),!0).forEach(function(s){Uue(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Uue(e,t,r){return(t=Wue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wue(e){var t=Hue(e,"string");return typeof t=="symbol"?t:t+""}function Hue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function que(e,t){if(e==null)return{};var r,s,a=Gue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gue(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function Kue(e){return e.value}function Yue(e){var{contextPayload:t}=e,r=que(e,Vue),s=_9(t,e.payloadUniqBy,Kue),a=zd(zd({},r),{},{payload:s});return p.isValidElement(e.content)?p.cloneElement(e.content,a):typeof e.content=="function"?p.createElement(e.content,a):p.createElement($oe,a)}function Zue(e,t,r,s,a,i){var{layout:o,align:c,verticalAlign:u}=t,h,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&o==="vertical"?h={left:((s||0)-i.width)/2}:h=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?f={top:((a||0)-i.height)/2}:f=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),zd(zd({},h),f)}function Que(e){var t=cr();return p.useEffect(()=>{t(Bue(e))},[t,e]),null}function Xue(e){var t=cr();return p.useEffect(()=>(t(fM(e)),()=>{t(fM({width:0,height:0}))}),[t,e]),null}function Jue(e,t,r,s){return e==="vertical"&&Qe(t)?{height:t}:e==="horizontal"?{width:r||s}:null}var ede={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function $l(e){var t=zr(e,ede),r=Mle(),s=Tie(),a=Sue(),{width:i,height:o,wrapperStyle:c,portal:u}=t,[h,f]=L9([r]),m=uS(),y=dS();if(m==null||y==null)return null;var b=m-(a?.left||0)-(a?.right||0),v=Jue(t.layout,o,i,b),N=u?c:zd(zd({position:"absolute",width:v?.width||i||"auto",height:v?.height||o||"auto"},Zue(c,t,a,m,y,h)),c),j=u??s;if(j==null||r==null)return null;var k=p.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:f},p.createElement(Que,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&p.createElement(Xue,{width:h.width,height:h.height}),p.createElement(Yue,MN({},t,v,{margin:a,chartWidth:m,chartHeight:y,contextPayload:r})));return x2.createPortal(k,j)}$l.displayName="Legend";function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},DN.apply(null,arguments)}function pM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Mj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(r),!0).forEach(function(s){tde(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function tde(e,t,r){return(t=rde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rde(e){var t=nde(e,"string");return typeof t=="symbol"?t:t+""}function nde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sde(e){return Array.isArray(e)&&Qi(e[0])&&Qi(e[1])?e.join(" ~ "):e}var ade=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:s={},labelStyle:a={},payload:i,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:h,label:f,labelFormatter:m,accessibilityLayer:y=!1}=e,b=()=>{if(i&&i.length){var P={padding:0,margin:0},R=(c?vv(i,c):i).map((E,C)=>{if(E.type==="none")return null;var F=E.formatter||o||sde,{value:L,name:D}=E,M=L,$=D;if(F){var ee=F(L,D,E,C,i);if(Array.isArray(ee))[M,$]=ee;else if(ee!=null)M=ee;else return null}var q=Mj({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},s);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:q},Qi($)?p.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Qi($)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},M),p.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:P},R)}return null},v=Mj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),N=Mj({margin:0},a),j=!pr(f),k=j?f:"",I=Lt("recharts-default-tooltip",u),S=Lt("recharts-tooltip-label",h);j&&m&&i!==void 0&&i!==null&&(k=m(f,i));var O=y?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",DN({className:I,style:v},O),p.createElement("p",{className:S,style:N},p.isValidElement(k)?k:"".concat(k)),b())},mf="recharts-tooltip-wrapper",ide={visibility:"hidden"};function ode(e){var{coordinate:t,translateX:r,translateY:s}=e;return Lt(mf,{["".concat(mf,"-right")]:Qe(r)&&t&&Qe(t.x)&&r>=t.x,["".concat(mf,"-left")]:Qe(r)&&t&&Qe(t.x)&&r<t.x,["".concat(mf,"-bottom")]:Qe(s)&&t&&Qe(t.y)&&s>=t.y,["".concat(mf,"-top")]:Qe(s)&&t&&Qe(t.y)&&s<t.y})}function gM(e){var{allowEscapeViewBox:t,coordinate:r,key:s,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:h}=e;if(i&&Qe(i[s]))return i[s];var f=r[s]-c-(a>0?a:0),m=r[s]+a;if(t[s])return o[s]?f:m;var y=u[s];if(y==null)return 0;if(o[s]){var b=f,v=y;return b<v?Math.max(m,y):Math.max(f,y)}if(h==null)return 0;var N=m+c,j=y+h;return N>j?Math.max(f,y):Math.max(m,y)}function lde(e){var{translateX:t,translateY:r,useTranslate3d:s}=e;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function cde(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:s,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,h,f,m;return o.height>0&&o.width>0&&r?(f=gM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=gM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),h=lde({translateX:f,translateY:m,useTranslate3d:c})):h=ide,{cssProperties:h,cssClasses:ode({translateX:f,translateY:m,coordinate:r})}}function yM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ug(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(r),!0).forEach(function(s){ON(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ON(e,t,r){return(t=ude(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ude(e){var t=dde(e,"string");return typeof t=="symbol"?t:t+""}function dde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hde extends p.PureComponent{constructor(){super(...arguments),ON(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ON(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,s,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:s,animationEasing:a,children:i,coordinate:o,hasPayload:c,isAnimationActive:u,offset:h,position:f,reverseDirection:m,useTranslate3d:y,viewBox:b,wrapperStyle:v,lastBoundingBox:N,innerRef:j,hasPortalFromProps:k}=this.props,{cssClasses:I,cssProperties:S}=cde({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:h,position:f,reverseDirection:m,tooltipBox:{height:N.height,width:N.width},useTranslate3d:y,viewBox:b}),O=k?{}:Ug(Ug({transition:u&&t?"transform ".concat(s,"ms ").concat(a):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),P=Ug(Ug({},O),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},v);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:P,ref:j},i)}}var OF=()=>{var e;return(e=Xe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},RN.apply(null,arguments)}function xM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(r),!0).forEach(function(s){fde(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function fde(e,t,r){return(t=mde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mde(e){var t=pde(e,"string");return typeof t=="symbol"?t:t+""}function pde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bM={curveBasisClosed:Zie,curveBasisOpen:Qie,curveBasis:Yie,curveBumpX:Oie,curveBumpY:Rie,curveLinearClosed:Xie,curveLinear:yv,curveMonotoneX:Jie,curveMonotoneY:eoe,curveNatural:toe,curveStep:roe,curveStepAfter:soe,curveStepBefore:noe},fx=e=>gr(e.x)&&gr(e.y),wM=e=>e.base!=null&&fx(e.base)&&fx(e),pf=e=>e.x,gf=e=>e.y,gde=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Um(e));return(r==="curveMonotone"||r==="curveBump")&&t?bM["".concat(r).concat(t==="vertical"?"Y":"X")]:bM[r]||yv},yde=e=>{var{type:t="linear",points:r=[],baseLine:s,layout:a,connectNulls:i=!1}=e,o=gde(t,a),c=i?r.filter(fx):r,u;if(Array.isArray(s)){var h=r.map((b,v)=>vM(vM({},b),{},{base:s[v]}));a==="vertical"?u=Og().y(gf).x1(pf).x0(b=>b.base.x):u=Og().x(pf).y1(gf).y0(b=>b.base.y);var f=u.defined(wM).curve(o),m=i?h.filter(wM):h;return f(m)}a==="vertical"&&Qe(s)?u=Og().y(gf).x1(pf).x0(s):Qe(s)?u=Og().x(pf).y1(gf).y0(s):u=o9().x(pf).y(gf);var y=u.defined(fx).curve(o);return y(c)},Ed=e=>{var{className:t,points:r,path:s,pathRef:a}=e;if((!r||!r.length)&&!s)return null;var i=r&&r.length?yde(e):s;return p.createElement("path",RN({},ys(e),Qk(e),{className:Lt("recharts-curve",t),d:i===null?void 0:i,ref:a}))},xde=["x","y","top","left","width","height","className"];function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},LN.apply(null,arguments)}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(s){bde(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function bde(e,t,r){return(t=wde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wde(e){var t=jde(e,"string");return typeof t=="symbol"?t:t+""}function jde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nde(e,t){if(e==null)return{};var r,s,a=kde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kde(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Sde=(e,t,r,s,a,i)=>"M".concat(e,",").concat(a,"v").concat(s,"M").concat(i,",").concat(t,"h").concat(r),Ade=e=>{var{x:t=0,y:r=0,top:s=0,left:a=0,width:i=0,height:o=0,className:c}=e,u=Nde(e,xde),h=vde({x:t,y:r,top:s,left:a,width:i,height:o},u);return!Qe(t)||!Qe(r)||!Qe(i)||!Qe(o)||!Qe(s)||!Qe(a)?null:p.createElement("path",LN({},as(h),{className:Lt("recharts-cross",c),d:Sde(t,r,i,o,s,a)}))};function Cde(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function NM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function kM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(r),!0).forEach(function(s){Ide(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ide(e,t,r){return(t=Pde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pde(e){var t=Ede(e,"string");return typeof t=="symbol"?t:t+""}function Ede(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tde=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),RF=(e,t,r)=>e.map(s=>"".concat(Tde(s)," ").concat(t,"ms ").concat(r)).join(","),_de=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,s)=>r.filter(a=>s.includes(a))),hm=(e,t)=>Object.keys(t).reduce((r,s)=>kM(kM({},r),{},{[s]:e(s,t[s])}),{});function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(s){Mde(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Mde(e,t,r){return(t=Dde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dde(e){var t=Ode(e,"string");return typeof t=="symbol"?t:t+""}function Ode(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mx=(e,t,r)=>e+(t-e)*r,FN=e=>{var{from:t,to:r}=e;return t!==r},LF=(e,t,r)=>{var s=hm((a,i)=>{if(FN(i)){var[o,c]=e(i.from,i.to,i.velocity);return hn(hn({},i),{},{from:o,velocity:c})}return i},t);return r<1?hm((a,i)=>FN(i)?hn(hn({},i),{},{velocity:mx(i.velocity,s[a].velocity,r),from:mx(i.from,s[a].from,r)}):i,t):LF(e,s,r-1)};function Rde(e,t,r,s,a,i){var o,c=s.reduce((y,b)=>hn(hn({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),u=()=>hm((y,b)=>b.from,c),h=()=>!Object.values(c).filter(FN).length,f=null,m=y=>{o||(o=y);var b=y-o,v=b/r.dt;c=LF(r,c,v),a(hn(hn(hn({},e),t),u())),o=y,h()||(f=i.setTimeout(m))};return()=>(f=i.setTimeout(m),()=>{var y;(y=f)===null||y===void 0||y()})}function Lde(e,t,r,s,a,i,o){var c=null,u=a.reduce((m,y)=>hn(hn({},m),{},{[y]:[e[y],t[y]]}),{}),h,f=m=>{h||(h=m);var y=(m-h)/s,b=hm((N,j)=>mx(...j,r(y)),u);if(i(hn(hn(hn({},e),t),b)),y<1)c=o.setTimeout(f);else{var v=hm((N,j)=>mx(...j,r(1)),u);i(hn(hn(hn({},e),t),v))}};return()=>(c=o.setTimeout(f),()=>{var m;(m=c)===null||m===void 0||m()})}const Fde=(e,t,r,s,a,i)=>{var o=_de(e,t);return r==null?()=>(a(hn(hn({},e),t)),()=>{}):r.isStepper===!0?Rde(e,t,r,o,a,i):Lde(e,t,r,s,o,a,i)};var px=1e-4,FF=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],$F=(e,t)=>e.map((r,s)=>r*t**s).reduce((r,s)=>r+s),AM=(e,t)=>r=>{var s=FF(e,t);return $F(s,r)},$de=(e,t)=>r=>{var s=FF(e,t),a=[...s.map((i,o)=>i*o).slice(1),0];return $F(a,r)},Bde=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((a=i[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var o=i[1].split(")")[0].split(",").map(c=>parseFloat(c));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},zde=(e,t,r,s)=>{var a=AM(e,r),i=AM(t,s),o=$de(e,r),c=h=>h>1?1:h<0?0:h,u=h=>{for(var f=h>1?1:h,m=f,y=0;y<8;++y){var b=a(m)-f,v=o(m);if(Math.abs(b-f)<px||v<px)return i(m);m=c(m-b/v)}return i(m)};return u.isStepper=!1,u},CM=function(){return zde(...Bde(...arguments))},Vde=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:s=8,dt:a=17}=t,i=(o,c,u)=>{var h=-(o-c)*r,f=u*s,m=u+(h-f)*a/1e3,y=u*a/1e3+o;return Math.abs(y-c)<px&&Math.abs(m)<px?[c,0]:[y,m]};return i.isStepper=!0,i.dt=a,i},Ude=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CM(e);case"spring":return Vde();default:if(e.split("(")[0]==="cubic-bezier")return CM(e)}return typeof e=="function"?e:null};function Wde(e){var t,r=()=>null,s=!1,a=null,i=o=>{if(!s){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...h]=c;if(typeof u=="number"){a=e.setTimeout(i.bind(null,h),u);return}i(u),a=e.setTimeout(i.bind(null,h));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{s=!0},start:o=>{s=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Hde{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),a=null,i=o=>{o-s>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function qde(){return Wde(new Hde)}var Gde=p.createContext(qde);function Kde(e,t){var r=p.useContext(Gde);return p.useMemo(()=>t??r(e),[e,t,r])}var Yde=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),oh={devToolsEnabled:!1,isSsr:Yde()},Zde={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},IM={t:0},Dj={t:1};function lh(e){var t=zr(e,Zde),{isActive:r,canBegin:s,duration:a,easing:i,begin:o,onAnimationEnd:c,onAnimationStart:u,children:h}=t,f=r==="auto"?!oh.isSsr:r,m=Kde(t.animationId,t.animationManager),[y,b]=p.useState(f?IM:Dj),v=p.useRef(null);return p.useEffect(()=>{f||b(Dj)},[f]),p.useEffect(()=>{if(!f||!s)return Wm;var N=Fde(IM,Dj,Ude(i),a,b,m.getTimeoutController()),j=()=>{v.current=N()};return m.start([u,o,j,a,c]),()=>{m.stop(),v.current&&v.current(),c()}},[f,s,a,i,o,u,c,m]),h(y.t)}function ch(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(am(t)),s=p.useRef(e);return s.current!==e&&(r.current=am(t),s.current=e),r.current}var Qde=["radius"],Xde=["radius"];function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function EM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(s){Jde(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Jde(e,t,r){return(t=ehe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ehe(e){var t=the(e,"string");return typeof t=="symbol"?t:t+""}function the(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},gx.apply(null,arguments)}function TM(e,t){if(e==null)return{};var r,s,a=rhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rhe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var _M=(e,t,r,s,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(s)/2),o=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,h;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],m=0,y=4;m<y;m++)f[m]=a[m]>i?i:a[m];h="M".concat(e,",").concat(t+o*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(t)),h+="L ".concat(e+r-c*f[1],",").concat(t),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+o*f[1])),h+="L ".concat(e+r,",").concat(t+s-o*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(t+s)),h+="L ".concat(e+c*f[3],",").concat(t+s),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+s-o*f[3])),h+="Z"}else if(i>0&&a===+a&&a>0){var b=Math.min(i,a);h="M ".concat(e,",").concat(t+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+c*b,",").concat(t,`
            L `).concat(e+r-c*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r,",").concat(t+o*b,`
            L `).concat(e+r,",").concat(t+s-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r-c*b,",").concat(t+s,`
            L `).concat(e+c*b,",").concat(t+s,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(t+s-o*b," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return h},MM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BF=e=>{var t=zr(e,MM),r=p.useRef(null),[s,a]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var re=r.current.getTotalLength();re&&a(re)}catch{}},[]);var{x:i,y:o,width:c,height:u,radius:h,className:f}=t,{animationEasing:m,animationDuration:y,animationBegin:b,isAnimationActive:v,isUpdateAnimationActive:N}=t,j=p.useRef(c),k=p.useRef(u),I=p.useRef(i),S=p.useRef(o),O=p.useMemo(()=>({x:i,y:o,width:c,height:u,radius:h}),[i,o,c,u,h]),P=ch(O,"rectangle-");if(i!==+i||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var R=Lt("recharts-rectangle",f);if(!N){var E=as(t),{radius:C}=E,F=TM(E,Qde);return p.createElement("path",gx({},F,{radius:typeof h=="number"?h:void 0,className:R,d:_M(i,o,c,u,h)}))}var L=j.current,D=k.current,M=I.current,$=S.current,ee="0px ".concat(s===-1?1:s,"px"),q="".concat(s,"px 0px"),V=RF(["strokeDasharray"],y,typeof m=="string"?m:MM.animationEasing);return p.createElement(lh,{animationId:P,key:P,canBegin:s>0,duration:y,easing:m,isActive:N,begin:b},re=>{var U=qt(L,c,re),te=qt(D,u,re),ie=qt(M,i,re),H=qt($,o,re);r.current&&(j.current=U,k.current=te,I.current=ie,S.current=H);var z;v?re>0?z={transition:V,strokeDasharray:q}:z={strokeDasharray:ee}:z={strokeDasharray:q};var ge=as(t),{radius:le}=ge,Pe=TM(ge,Xde);return p.createElement("path",gx({},Pe,{radius:typeof h=="number"?h:void 0,className:R,d:_M(ie,H,U,te,h),ref:r,style:EM(EM({},z),t.style)}))})};function DM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function OM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(r),!0).forEach(function(s){nhe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function nhe(e,t,r){return(t=she(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function she(e){var t=ahe(e,"string");return typeof t=="symbol"?t:t+""}function ahe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yx=Math.PI/180,ihe=e=>e*180/Math.PI,tn=(e,t,r,s)=>({x:e+Math.cos(-yx*s)*r,y:t+Math.sin(-yx*s)*r}),zF=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},ohe=(e,t)=>{var{x:r,y:s}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(s-i)**2)},lhe=(e,t)=>{var{x:r,y:s}=e,{cx:a,cy:i}=t,o=ohe({x:r,y:s},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var c=(r-a)/o,u=Math.acos(c);return s>i&&(u=2*Math.PI-u),{radius:o,angle:ihe(u),angleInRadian:u}},che=e=>{var{startAngle:t,endAngle:r}=e,s=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(s,a);return{startAngle:t-i*360,endAngle:r-i*360}},uhe=(e,t)=>{var{startAngle:r,endAngle:s}=t,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return e+o*360},dhe=(e,t)=>{var{chartX:r,chartY:s}=e,{radius:a,angle:i}=lhe({x:r,y:s},t),{innerRadius:o,outerRadius:c}=t;if(a<o||a>c||a===0)return null;var{startAngle:u,endAngle:h}=che(t),f=i,m;if(u<=h){for(;f>h;)f-=360;for(;f<u;)f+=360;m=f>=u&&f<=h}else{for(;f>u;)f-=360;for(;f<h;)f+=360;m=f>=h&&f<=u}return m?OM(OM({},t),{},{radius:a,angle:uhe(f,t)}):null};function VF(e){var{cx:t,cy:r,radius:s,startAngle:a,endAngle:i}=e,o=tn(t,r,s,a),c=tn(t,r,s,i);return{points:[o,c],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function $N(){return $N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$N.apply(null,arguments)}var hhe=(e,t)=>{var r=In(t-e),s=Math.min(Math.abs(t-e),359.999);return r*s},Wg=e=>{var{cx:t,cy:r,radius:s,angle:a,sign:i,isExternal:o,cornerRadius:c,cornerIsExternal:u}=e,h=c*(o?1:-1)+s,f=Math.asin(c/h)/yx,m=u?a:a+i*f,y=tn(t,r,h,m),b=tn(t,r,s,m),v=u?a-i*f:a,N=tn(t,r,h*Math.cos(f*yx),v);return{center:y,circleTangency:b,lineTangency:N,theta:f}},UF=e=>{var{cx:t,cy:r,innerRadius:s,outerRadius:a,startAngle:i,endAngle:o}=e,c=hhe(i,o),u=i+c,h=tn(t,r,a,i),f=tn(t,r,a,u),m="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var y=tn(t,r,s,i),b=tn(t,r,s,u);m+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},fhe=e=>{var{cx:t,cy:r,innerRadius:s,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:h}=e,f=In(h-u),{circleTangency:m,lineTangency:y,theta:b}=Wg({cx:t,cy:r,radius:a,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),{circleTangency:v,lineTangency:N,theta:j}=Wg({cx:t,cy:r,radius:a,angle:h,sign:-f,cornerRadius:i,cornerIsExternal:c}),k=c?Math.abs(u-h):Math.abs(u-h)-b-j;if(k<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):UF({cx:t,cy:r,innerRadius:s,outerRadius:a,startAngle:u,endAngle:h});var I="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
  `);if(s>0){var{circleTangency:S,lineTangency:O,theta:P}=Wg({cx:t,cy:r,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:R,lineTangency:E,theta:C}=Wg({cx:t,cy:r,radius:s,angle:h,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),F=c?Math.abs(u-h):Math.abs(u-h)-P-C;if(F<0&&i===0)return"".concat(I,"L").concat(t,",").concat(r,"Z");I+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else I+="L".concat(t,",").concat(r,"Z");return I},mhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WF=e=>{var t=zr(e,mhe),{cx:r,cy:s,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:f,className:m}=t;if(i<a||h===f)return null;var y=Lt("recharts-sector",m),b=i-a,v=ns(o,b,0,!0),N;return v>0&&Math.abs(h-f)<360?N=fhe({cx:r,cy:s,innerRadius:a,outerRadius:i,cornerRadius:Math.min(v,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:f}):N=UF({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:h,endAngle:f}),p.createElement("path",$N({},as(t),{className:y,d:N}))};function phe(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(j9(t)){if(e==="centric"){var{cx:s,cy:a,innerRadius:i,outerRadius:o,angle:c}=t,u=tn(s,a,i,c),h=tn(s,a,o,c);return[{x:u.x,y:u.y},{x:h.x,y:h.y}]}return VF(t)}}var Oj={},Rj={},Lj={},RM;function ghe(){return RM||(RM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D9();function r(s){return t.isSymbol(s)?NaN:Number(s)}e.toNumber=r})(Lj)),Lj}var LM;function yhe(){return LM||(LM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ghe();function r(s){return s?(s=t.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}e.toFinite=r})(Rj)),Rj}var FM;function xhe(){return FM||(FM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O9(),r=yhe();function s(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const c=Math.max(Math.ceil((i-a)/(o||1)),0),u=new Array(c);for(let h=0;h<c;h++)u[h]=a,a+=o;return u}e.range=s})(Oj)),Oj}var Fj,$M;function vhe(){return $M||($M=1,Fj=xhe().range),Fj}var bhe=vhe();const HF=ia(bhe);function Bl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function whe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mS(e){let t,r,s;e.length!==2?(t=Bl,r=(c,u)=>Bl(e(c),u),s=(c,u)=>e(c)-u):(t=e===Bl||e===whe?e:jhe,r=e,s=e);function a(c,u,h=0,f=c.length){if(h<f){if(t(u,u)!==0)return f;do{const m=h+f>>>1;r(c[m],u)<0?h=m+1:f=m}while(h<f)}return h}function i(c,u,h=0,f=c.length){if(h<f){if(t(u,u)!==0)return f;do{const m=h+f>>>1;r(c[m],u)<=0?h=m+1:f=m}while(h<f)}return h}function o(c,u,h=0,f=c.length){const m=a(c,u,h,f-1);return m>h&&s(c[m-1],u)>-s(c[m],u)?m-1:m}return{left:a,center:o,right:i}}function jhe(){return 0}function qF(e){return e===null?NaN:+e}function*Nhe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const khe=mS(Bl),Qm=khe.right;mS(qF).center;class BM extends Map{constructor(t,r=Che){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(zM(this,t))}has(t){return super.has(zM(this,t))}set(t,r){return super.set(She(this,t),r)}delete(t){return super.delete(Ahe(this,t))}}function zM({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function She({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function Ahe({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function Che(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ihe(e=Bl){if(e===Bl)return GF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function GF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Phe=Math.sqrt(50),Ehe=Math.sqrt(10),The=Math.sqrt(2);function xx(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=Phe?10:i>=Ehe?5:i>=The?2:1;let c,u,h;return a<0?(h=Math.pow(10,-a)/o,c=Math.round(e*h),u=Math.round(t*h),c/h<e&&++c,u/h>t&&--u,h=-h):(h=Math.pow(10,a)*o,c=Math.round(e/h),u=Math.round(t/h),c*h<e&&++c,u*h>t&&--u),u<c&&.5<=r&&r<2?xx(e,t,r*2):[c,u,h]}function BN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?xx(t,e,r):xx(e,t,r);if(!(i>=a))return[];const c=i-a+1,u=new Array(c);if(s)if(o<0)for(let h=0;h<c;++h)u[h]=(i-h)/-o;else for(let h=0;h<c;++h)u[h]=(i-h)*o;else if(o<0)for(let h=0;h<c;++h)u[h]=(a+h)/-o;else for(let h=0;h<c;++h)u[h]=(a+h)*o;return u}function zN(e,t,r){return t=+t,e=+e,r=+r,xx(e,t,r)[2]}function VN(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?zN(t,e,r):zN(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function VM(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function UM(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function KF(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?GF:Ihe(a);s>r;){if(s-r>600){const u=s-r+1,h=t-r+1,f=Math.log(u),m=.5*Math.exp(2*f/3),y=.5*Math.sqrt(f*m*(u-m)/u)*(h-u/2<0?-1:1),b=Math.max(r,Math.floor(t-h*m/u+y)),v=Math.min(s,Math.floor(t+(u-h)*m/u+y));KF(e,t,b,v,a)}const i=e[t];let o=r,c=s;for(yf(e,r,t),a(e[s],i)>0&&yf(e,r,s);o<c;){for(yf(e,o,c),++o,--c;a(e[o],i)<0;)++o;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?yf(e,r,c):(++c,yf(e,c,s)),c<=t&&(r=c+1),t<=c&&(s=c-1)}return e}function yf(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function _he(e,t,r){if(e=Float64Array.from(Nhe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return UM(e);if(t>=1)return VM(e);var s,a=(s-1)*t,i=Math.floor(a),o=VM(KF(e,i).subarray(0,i+1)),c=UM(e.subarray(i+1));return o+(c-o)*(a-i)}}function Mhe(e,t,r=qF){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return o+(c-o)*(a-i)}}function Dhe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function Ra(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const UN=Symbol("implicit");function pS(){var e=new BM,t=[],r=[],s=UN;function a(i){let o=e.get(i);if(o===void 0){if(s!==UN)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new BM;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return pS(t,r).unknown(s)},Ra.apply(a,arguments),a}function gS(){var e=pS().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,c=!1,u=0,h=0,f=.5;delete e.unknown;function m(){var y=t().length,b=a<s,v=b?a:s,N=b?s:a;i=(N-v)/Math.max(1,y-u+h*2),c&&(i=Math.floor(i)),v+=(N-v-i*(y-u))*f,o=i*(1-u),c&&(v=Math.round(v),o=Math.round(o));var j=Dhe(y).map(function(k){return v+i*k});return r(b?j.reverse():j)}return e.domain=function(y){return arguments.length?(t(y),m()):t()},e.range=function(y){return arguments.length?([s,a]=y,s=+s,a=+a,m()):[s,a]},e.rangeRound=function(y){return[s,a]=y,s=+s,a=+a,c=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(y){return arguments.length?(c=!!y,m()):c},e.padding=function(y){return arguments.length?(u=Math.min(1,h=+y),m()):u},e.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),m()):u},e.paddingOuter=function(y){return arguments.length?(h=+y,m()):h},e.align=function(y){return arguments.length?(f=Math.max(0,Math.min(1,y)),m()):f},e.copy=function(){return gS(t(),[s,a]).round(c).paddingInner(u).paddingOuter(h).align(f)},Ra.apply(m(),arguments)}function YF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return YF(t())},e}function Ohe(){return YF(gS.apply(null,arguments).paddingInner(1))}function yS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ZF(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function Xm(){}var fm=.7,vx=1/fm,Td="\\s*([+-]?\\d+)\\s*",mm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rhe=/^#([0-9a-f]{3,8})$/,Lhe=new RegExp(`^rgb\\(${Td},${Td},${Td}\\)$`),Fhe=new RegExp(`^rgb\\(${Gi},${Gi},${Gi}\\)$`),$he=new RegExp(`^rgba\\(${Td},${Td},${Td},${mm}\\)$`),Bhe=new RegExp(`^rgba\\(${Gi},${Gi},${Gi},${mm}\\)$`),zhe=new RegExp(`^hsl\\(${mm},${Gi},${Gi}\\)$`),Vhe=new RegExp(`^hsla\\(${mm},${Gi},${Gi},${mm}\\)$`),WM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yS(Xm,pm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HM,formatHex:HM,formatHex8:Uhe,formatHsl:Whe,formatRgb:qM,toString:qM});function HM(){return this.rgb().formatHex()}function Uhe(){return this.rgb().formatHex8()}function Whe(){return QF(this).formatHsl()}function qM(){return this.rgb().formatRgb()}function pm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Rhe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?GM(t):r===3?new Ms(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Hg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Hg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Lhe.exec(e))?new Ms(t[1],t[2],t[3],1):(t=Fhe.exec(e))?new Ms(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$he.exec(e))?Hg(t[1],t[2],t[3],t[4]):(t=Bhe.exec(e))?Hg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zhe.exec(e))?ZM(t[1],t[2]/100,t[3]/100,1):(t=Vhe.exec(e))?ZM(t[1],t[2]/100,t[3]/100,t[4]):WM.hasOwnProperty(e)?GM(WM[e]):e==="transparent"?new Ms(NaN,NaN,NaN,0):null}function GM(e){return new Ms(e>>16&255,e>>8&255,e&255,1)}function Hg(e,t,r,s){return s<=0&&(e=t=r=NaN),new Ms(e,t,r,s)}function Hhe(e){return e instanceof Xm||(e=pm(e)),e?(e=e.rgb(),new Ms(e.r,e.g,e.b,e.opacity)):new Ms}function WN(e,t,r,s){return arguments.length===1?Hhe(e):new Ms(e,t,r,s??1)}function Ms(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}yS(Ms,WN,ZF(Xm,{brighter(e){return e=e==null?vx:Math.pow(vx,e),new Ms(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fm:Math.pow(fm,e),new Ms(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ms(ru(this.r),ru(this.g),ru(this.b),bx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KM,formatHex:KM,formatHex8:qhe,formatRgb:YM,toString:YM}));function KM(){return`#${qc(this.r)}${qc(this.g)}${qc(this.b)}`}function qhe(){return`#${qc(this.r)}${qc(this.g)}${qc(this.b)}${qc((isNaN(this.opacity)?1:this.opacity)*255)}`}function YM(){const e=bx(this.opacity);return`${e===1?"rgb(":"rgba("}${ru(this.r)}, ${ru(this.g)}, ${ru(this.b)}${e===1?")":`, ${e})`}`}function bx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ru(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qc(e){return e=ru(e),(e<16?"0":"")+e.toString(16)}function ZM(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ri(e,t,r,s)}function QF(e){if(e instanceof ri)return new ri(e.h,e.s,e.l,e.opacity);if(e instanceof Xm||(e=pm(e)),!e)return new ri;if(e instanceof ri)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,c=i-a,u=(i+a)/2;return c?(t===i?o=(r-s)/c+(r<s)*6:r===i?o=(s-t)/c+2:o=(t-r)/c+4,c/=u<.5?i+a:2-i-a,o*=60):c=u>0&&u<1?0:o,new ri(o,c,u,e.opacity)}function Ghe(e,t,r,s){return arguments.length===1?QF(e):new ri(e,t,r,s??1)}function ri(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}yS(ri,Ghe,ZF(Xm,{brighter(e){return e=e==null?vx:Math.pow(vx,e),new ri(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fm:Math.pow(fm,e),new ri(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new Ms($j(e>=240?e-240:e+120,a,s),$j(e,a,s),$j(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new ri(QM(this.h),qg(this.s),qg(this.l),bx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bx(this.opacity);return`${e===1?"hsl(":"hsla("}${QM(this.h)}, ${qg(this.s)*100}%, ${qg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function QM(e){return e=(e||0)%360,e<0?e+360:e}function qg(e){return Math.max(0,Math.min(1,e||0))}function $j(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const xS=e=>()=>e;function Khe(e,t){return function(r){return e+r*t}}function Yhe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function Zhe(e){return(e=+e)==1?XF:function(t,r){return r-t?Yhe(t,r,e):xS(isNaN(t)?r:t)}}function XF(e,t){var r=t-e;return r?Khe(e,r):xS(isNaN(e)?t:e)}const XM=(function e(t){var r=Zhe(t);function s(a,i){var o=r((a=WN(a)).r,(i=WN(i)).r),c=r(a.g,i.g),u=r(a.b,i.b),h=XF(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=c(f),a.b=u(f),a.opacity=h(f),a+""}}return s.gamma=e,s})(1);function Qhe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function Xhe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jhe(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=uh(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(c){for(o=0;o<s;++o)i[o]=a[o](c);return i}}function efe(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function wx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function tfe(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=uh(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var HN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bj=new RegExp(HN.source,"g");function rfe(e){return function(){return e}}function nfe(e){return function(t){return e(t)+""}}function sfe(e,t){var r=HN.lastIndex=Bj.lastIndex=0,s,a,i,o=-1,c=[],u=[];for(e=e+"",t=t+"";(s=HN.exec(e))&&(a=Bj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(s=s[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,u.push({i:o,x:wx(s,a)})),r=Bj.lastIndex;return r<t.length&&(i=t.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?u[0]?nfe(u[0].x):rfe(t):(t=u.length,function(h){for(var f=0,m;f<t;++f)c[(m=u[f]).i]=m.x(h);return c.join("")})}function uh(e,t){var r=typeof t,s;return t==null||r==="boolean"?xS(t):(r==="number"?wx:r==="string"?(s=pm(t))?(t=s,XM):sfe:t instanceof pm?XM:t instanceof Date?efe:Xhe(t)?Qhe:Array.isArray(t)?Jhe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tfe:wx)(e,t)}function vS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function afe(e,t){t===void 0&&(t=e,e=uh);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var c=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[c](o-c)}}function ife(e){return function(){return e}}function jx(e){return+e}var JM=[0,1];function fs(e){return e}function qN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ife(isNaN(t)?NaN:.5)}function ofe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function lfe(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=qN(a,s),i=r(o,i)):(s=qN(s,a),i=r(i,o)),function(c){return i(s(c))}}function cfe(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=qN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(c){var u=Qm(e,c,1,s)-1;return i[u](a[u](c))}}function Jm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Lv(){var e=JM,t=JM,r=uh,s,a,i,o=fs,c,u,h;function f(){var y=Math.min(e.length,t.length);return o!==fs&&(o=ofe(e[0],e[y-1])),c=y>2?cfe:lfe,u=h=null,m}function m(y){return y==null||isNaN(y=+y)?i:(u||(u=c(e.map(s),t,r)))(s(o(y)))}return m.invert=function(y){return o(a((h||(h=c(t,e.map(s),wx)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,jx),f()):e.slice()},m.range=function(y){return arguments.length?(t=Array.from(y),f()):t.slice()},m.rangeRound=function(y){return t=Array.from(y),r=vS,f()},m.clamp=function(y){return arguments.length?(o=y?!0:fs,f()):o!==fs},m.interpolate=function(y){return arguments.length?(r=y,f()):r},m.unknown=function(y){return arguments.length?(i=y,m):i},function(y,b){return s=y,a=b,f()}}function bS(){return Lv()(fs,fs)}function ufe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function Vd(e){return e=Nx(Math.abs(e)),e?e[1]:NaN}function dfe(e,t){return function(r,s){for(var a=r.length,i=[],o=0,c=e[0],u=0;a>0&&c>0&&(u+c+1>s&&(c=Math.max(1,s-u)),i.push(r.substring(a-=c,a+c)),!((u+=c+1)>s));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function hfe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ffe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gm(e){if(!(t=ffe.exec(e)))throw new Error("invalid format: "+e);var t;return new wS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gm.prototype=wS.prototype;function wS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mfe(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var JF;function pfe(e,t){var r=Nx(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(JF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+Nx(e,Math.max(0,t+i-1))[0]}function eD(e,t){var r=Nx(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const tD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ufe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eD(e*100,t),r:eD,s:pfe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rD(e){return e}var nD=Array.prototype.map,sD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gfe(e){var t=e.grouping===void 0||e.thousands===void 0?rD:dfe(nD.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?rD:hfe(nD.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(m){m=gm(m);var y=m.fill,b=m.align,v=m.sign,N=m.symbol,j=m.zero,k=m.width,I=m.comma,S=m.precision,O=m.trim,P=m.type;P==="n"?(I=!0,P="g"):tD[P]||(S===void 0&&(S=12),O=!0,P="g"),(j||y==="0"&&b==="=")&&(j=!0,y="0",b="=");var R=N==="$"?r:N==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",E=N==="$"?s:/[%p]/.test(P)?o:"",C=tD[P],F=/[defgprs%]/.test(P);S=S===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function L(D){var M=R,$=E,ee,q,V;if(P==="c")$=C(D)+$,D="";else{D=+D;var re=D<0||1/D<0;if(D=isNaN(D)?u:C(Math.abs(D),S),O&&(D=mfe(D)),re&&+D==0&&v!=="+"&&(re=!1),M=(re?v==="("?v:c:v==="-"||v==="("?"":v)+M,$=(P==="s"?sD[8+JF/3]:"")+$+(re&&v==="("?")":""),F){for(ee=-1,q=D.length;++ee<q;)if(V=D.charCodeAt(ee),48>V||V>57){$=(V===46?a+D.slice(ee+1):D.slice(ee))+$,D=D.slice(0,ee);break}}}I&&!j&&(D=t(D,1/0));var U=M.length+D.length+$.length,te=U<k?new Array(k-U+1).join(y):"";switch(I&&j&&(D=t(te+D,te.length?k-$.length:1/0),te=""),b){case"<":D=M+D+$+te;break;case"=":D=M+te+D+$;break;case"^":D=te.slice(0,U=te.length>>1)+M+D+$+te.slice(U);break;default:D=te+M+D+$;break}return i(D)}return L.toString=function(){return m+""},L}function f(m,y){var b=h((m=gm(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(Vd(y)/3)))*3,N=Math.pow(10,-v),j=sD[8+v/3];return function(k){return b(N*k)+j}}return{format:h,formatPrefix:f}}var Gg,jS,e$;yfe({thousands:",",grouping:[3],currency:["$",""]});function yfe(e){return Gg=gfe(e),jS=Gg.format,e$=Gg.formatPrefix,Gg}function xfe(e){return Math.max(0,-Vd(Math.abs(e)))}function vfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vd(t)/3)))*3-Vd(Math.abs(e)))}function bfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vd(t)-Vd(e))+1}function t$(e,t,r,s){var a=VN(e,t,r),i;switch(s=gm(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=vfe(a,o))&&(s.precision=i),e$(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=bfe(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=xfe(a))&&(s.precision=i-(s.type==="%")*2);break}}return jS(s)}function sc(e){var t=e.domain;return e.ticks=function(r){var s=t();return BN(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return t$(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],c=s[i],u,h,f=10;for(c<o&&(h=o,o=c,c=h,h=a,a=i,i=h);f-- >0;){if(h=zN(o,c,r),h===u)return s[a]=o,s[i]=c,t(s);if(h>0)o=Math.floor(o/h)*h,c=Math.ceil(c/h)*h;else if(h<0)o=Math.ceil(o*h)/h,c=Math.floor(c*h)/h;else break;u=h}return e},e}function r$(){var e=bS();return e.copy=function(){return Jm(e,r$())},Ra.apply(e,arguments),sc(e)}function n$(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,jx),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return n$(e).unknown(t)},e=arguments.length?Array.from(e,jx):[0,1],sc(r)}function s$(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function aD(e){return Math.log(e)}function iD(e){return Math.exp(e)}function wfe(e){return-Math.log(-e)}function jfe(e){return-Math.exp(-e)}function Nfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kfe(e){return e===10?Nfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Sfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function oD(e){return(t,r)=>-e(-t,r)}function NS(e){const t=e(aD,iD),r=t.domain;let s=10,a,i;function o(){return a=Sfe(s),i=kfe(s),r()[0]<0?(a=oD(a),i=oD(i),e(wfe,jfe)):e(aD,iD),t}return t.base=function(c){return arguments.length?(s=+c,o()):s},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const u=r();let h=u[0],f=u[u.length-1];const m=f<h;m&&([h,f]=[f,h]);let y=a(h),b=a(f),v,N;const j=c==null?10:+c;let k=[];if(!(s%1)&&b-y<j){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(v=1;v<s;++v)if(N=y<0?v/i(-y):v*i(y),!(N<h)){if(N>f)break;k.push(N)}}else for(;y<=b;++y)for(v=s-1;v>=1;--v)if(N=y>0?v/i(-y):v*i(y),!(N<h)){if(N>f)break;k.push(N)}k.length*2<j&&(k=BN(h,f,j))}else k=BN(y,b,Math.min(b-y,j)).map(i);return m?k.reverse():k},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=s===10?"s":","),typeof u!="function"&&(!(s%1)&&(u=gm(u)).precision==null&&(u.trim=!0),u=jS(u)),c===1/0)return u;const h=Math.max(1,s*c/t.ticks().length);return f=>{let m=f/i(Math.round(a(f)));return m*s<s-.5&&(m*=s),m<=h?u(f):""}},t.nice=()=>r(s$(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function a$(){const e=NS(Lv()).domain([1,10]);return e.copy=()=>Jm(e,a$()).base(e.base()),Ra.apply(e,arguments),e}function lD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kS(e){var t=1,r=e(lD(t),cD(t));return r.constant=function(s){return arguments.length?e(lD(t=+s),cD(t)):t},sc(r)}function i$(){var e=kS(Lv());return e.copy=function(){return Jm(e,i$()).constant(e.constant())},Ra.apply(e,arguments)}function uD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Afe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Cfe(e){return e<0?-e*e:e*e}function SS(e){var t=e(fs,fs),r=1;function s(){return r===1?e(fs,fs):r===.5?e(Afe,Cfe):e(uD(r),uD(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},sc(t)}function AS(){var e=SS(Lv());return e.copy=function(){return Jm(e,AS()).exponent(e.exponent())},Ra.apply(e,arguments),e}function Ife(){return AS.apply(null,arguments).exponent(.5)}function dD(e){return Math.sign(e)*e*e}function Pfe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function o$(){var e=bS(),t=[0,1],r=!1,s;function a(i){var o=Pfe(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(dD(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,jx)).map(dD)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return o$(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},Ra.apply(a,arguments),sc(a)}function l$(){var e=[],t=[],r=[],s;function a(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=Mhe(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?s:t[Qm(r,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Bl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return l$().domain(e).range(t).unknown(s)},Ra.apply(i,arguments)}function c$(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(u){return u!=null&&u<=u?a[Qm(s,u,0,r)]:i}function c(){var u=-1;for(s=new Array(r);++u<r;)s[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,c()):a.slice()},o.invertExtent=function(u){var h=a.indexOf(u);return h<0?[NaN,NaN]:h<1?[e,s[0]]:h>=r?[s[r-1],t]:[s[h-1],s[h]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return s.slice()},o.copy=function(){return c$().domain([e,t]).range(a).unknown(i)},Ra.apply(sc(o),arguments)}function u$(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[Qm(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return u$().domain(e).range(t).unknown(r)},Ra.apply(a,arguments)}const zj=new Date,Vj=new Date;function gn(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const u=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return u;let h;do u.push(h=new Date(+i)),t(i,c),e(i);while(h<i&&i<o);return u},a.filter=i=>gn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(zj.setTime(+i),Vj.setTime(+o),e(zj),e(Vj),Math.floor(r(zj,Vj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const kx=gn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?gn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):kx);kx.range;const Io=1e3,Aa=Io*60,Po=Aa*60,Uo=Po*24,CS=Uo*7,hD=Uo*30,Uj=Uo*365,Gc=gn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Io)},(e,t)=>(t-e)/Io,e=>e.getUTCSeconds());Gc.range;const IS=gn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Io)},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getMinutes());IS.range;const PS=gn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getUTCMinutes());PS.range;const ES=gn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Io-e.getMinutes()*Aa)},(e,t)=>{e.setTime(+e+t*Po)},(e,t)=>(t-e)/Po,e=>e.getHours());ES.range;const TS=gn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Po)},(e,t)=>(t-e)/Po,e=>e.getUTCHours());TS.range;const ep=gn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Aa)/Uo,e=>e.getDate()-1);ep.range;const Fv=gn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Uo,e=>e.getUTCDate()-1);Fv.range;const d$=gn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Uo,e=>Math.floor(e/Uo));d$.range;function wu(e){return gn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Aa)/CS)}const $v=wu(0),Sx=wu(1),Efe=wu(2),Tfe=wu(3),Ud=wu(4),_fe=wu(5),Mfe=wu(6);$v.range;Sx.range;Efe.range;Tfe.range;Ud.range;_fe.range;Mfe.range;function ju(e){return gn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/CS)}const Bv=ju(0),Ax=ju(1),Dfe=ju(2),Ofe=ju(3),Wd=ju(4),Rfe=ju(5),Lfe=ju(6);Bv.range;Ax.range;Dfe.range;Ofe.range;Wd.range;Rfe.range;Lfe.range;const _S=gn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_S.range;const MS=gn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());MS.range;const Wo=gn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wo.range;const Ho=gn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ho.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ho.range;function h$(e,t,r,s,a,i){const o=[[Gc,1,Io],[Gc,5,5*Io],[Gc,15,15*Io],[Gc,30,30*Io],[i,1,Aa],[i,5,5*Aa],[i,15,15*Aa],[i,30,30*Aa],[a,1,Po],[a,3,3*Po],[a,6,6*Po],[a,12,12*Po],[s,1,Uo],[s,2,2*Uo],[r,1,CS],[t,1,hD],[t,3,3*hD],[e,1,Uj]];function c(h,f,m){const y=f<h;y&&([h,f]=[f,h]);const b=m&&typeof m.range=="function"?m:u(h,f,m),v=b?b.range(h,+f+1):[];return y?v.reverse():v}function u(h,f,m){const y=Math.abs(f-h)/m,b=mS(([,,j])=>j).right(o,y);if(b===o.length)return e.every(VN(h/Uj,f/Uj,m));if(b===0)return kx.every(Math.max(VN(h,f,m),1));const[v,N]=o[y/o[b-1][2]<o[b][2]/y?b-1:b];return v.every(N)}return[c,u]}const[Ffe,$fe]=h$(Ho,MS,Bv,d$,TS,PS),[Bfe,zfe]=h$(Wo,_S,$v,ep,ES,IS);function Wj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Vfe(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,h=vf(a),f=bf(a),m=vf(i),y=bf(i),b=vf(o),v=bf(o),N=vf(c),j=bf(c),k=vf(u),I=bf(u),S={a:re,A:U,b:te,B:ie,c:null,d:xD,e:xD,f:dme,g:wme,G:Nme,H:lme,I:cme,j:ume,L:f$,m:hme,M:fme,p:H,q:z,Q:wD,s:jD,S:mme,u:pme,U:gme,V:yme,w:xme,W:vme,x:null,X:null,y:bme,Y:jme,Z:kme,"%":bD},O={a:ge,A:le,b:Pe,B:Ae,c:null,d:vD,e:vD,f:Ime,g:Fme,G:Bme,H:Sme,I:Ame,j:Cme,L:p$,m:Pme,M:Eme,p:fe,q:ce,Q:wD,s:jD,S:Tme,u:_me,U:Mme,V:Dme,w:Ome,W:Rme,x:null,X:null,y:Lme,Y:$me,Z:zme,"%":bD},P={a:L,A:D,b:M,B:$,c:ee,d:gD,e:gD,f:sme,g:pD,G:mD,H:yD,I:yD,j:eme,L:nme,m:Jfe,M:tme,p:F,q:Xfe,Q:ime,s:ome,S:rme,u:Gfe,U:Kfe,V:Yfe,w:qfe,W:Zfe,x:q,X:V,y:pD,Y:mD,Z:Qfe,"%":ame};S.x=R(r,S),S.X=R(s,S),S.c=R(t,S),O.x=R(r,O),O.X=R(s,O),O.c=R(t,O);function R(J,Y){return function(de){var X=[],pe=-1,se=0,Q=J.length,ve,ue,xe;for(de instanceof Date||(de=new Date(+de));++pe<Q;)J.charCodeAt(pe)===37&&(X.push(J.slice(se,pe)),(ue=fD[ve=J.charAt(++pe)])!=null?ve=J.charAt(++pe):ue=ve==="e"?" ":"0",(xe=Y[ve])&&(ve=xe(de,ue)),X.push(ve),se=pe+1);return X.push(J.slice(se,pe)),X.join("")}}function E(J,Y){return function(de){var X=xf(1900,void 0,1),pe=C(X,J,de+="",0),se,Q;if(pe!=de.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(Y&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(se=Hj(xf(X.y,0,1)),Q=se.getUTCDay(),se=Q>4||Q===0?Ax.ceil(se):Ax(se),se=Fv.offset(se,(X.V-1)*7),X.y=se.getUTCFullYear(),X.m=se.getUTCMonth(),X.d=se.getUTCDate()+(X.w+6)%7):(se=Wj(xf(X.y,0,1)),Q=se.getDay(),se=Q>4||Q===0?Sx.ceil(se):Sx(se),se=ep.offset(se,(X.V-1)*7),X.y=se.getFullYear(),X.m=se.getMonth(),X.d=se.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Q="Z"in X?Hj(xf(X.y,0,1)).getUTCDay():Wj(xf(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Q+5)%7:X.w+X.U*7-(Q+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Hj(X)):Wj(X)}}function C(J,Y,de,X){for(var pe=0,se=Y.length,Q=de.length,ve,ue;pe<se;){if(X>=Q)return-1;if(ve=Y.charCodeAt(pe++),ve===37){if(ve=Y.charAt(pe++),ue=P[ve in fD?Y.charAt(pe++):ve],!ue||(X=ue(J,de,X))<0)return-1}else if(ve!=de.charCodeAt(X++))return-1}return X}function F(J,Y,de){var X=h.exec(Y.slice(de));return X?(J.p=f.get(X[0].toLowerCase()),de+X[0].length):-1}function L(J,Y,de){var X=b.exec(Y.slice(de));return X?(J.w=v.get(X[0].toLowerCase()),de+X[0].length):-1}function D(J,Y,de){var X=m.exec(Y.slice(de));return X?(J.w=y.get(X[0].toLowerCase()),de+X[0].length):-1}function M(J,Y,de){var X=k.exec(Y.slice(de));return X?(J.m=I.get(X[0].toLowerCase()),de+X[0].length):-1}function $(J,Y,de){var X=N.exec(Y.slice(de));return X?(J.m=j.get(X[0].toLowerCase()),de+X[0].length):-1}function ee(J,Y,de){return C(J,t,Y,de)}function q(J,Y,de){return C(J,r,Y,de)}function V(J,Y,de){return C(J,s,Y,de)}function re(J){return o[J.getDay()]}function U(J){return i[J.getDay()]}function te(J){return u[J.getMonth()]}function ie(J){return c[J.getMonth()]}function H(J){return a[+(J.getHours()>=12)]}function z(J){return 1+~~(J.getMonth()/3)}function ge(J){return o[J.getUTCDay()]}function le(J){return i[J.getUTCDay()]}function Pe(J){return u[J.getUTCMonth()]}function Ae(J){return c[J.getUTCMonth()]}function fe(J){return a[+(J.getUTCHours()>=12)]}function ce(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var Y=R(J+="",S);return Y.toString=function(){return J},Y},parse:function(J){var Y=E(J+="",!1);return Y.toString=function(){return J},Y},utcFormat:function(J){var Y=R(J+="",O);return Y.toString=function(){return J},Y},utcParse:function(J){var Y=E(J+="",!0);return Y.toString=function(){return J},Y}}}var fD={"-":"",_:" ",0:"0"},Tn=/^\s*\d+/,Ufe=/^%/,Wfe=/[\\^$*+?|[\]().{}]/g;function Ut(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function Hfe(e){return e.replace(Wfe,"\\$&")}function vf(e){return new RegExp("^(?:"+e.map(Hfe).join("|")+")","i")}function bf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function qfe(e,t,r){var s=Tn.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function Gfe(e,t,r){var s=Tn.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function Kfe(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function Yfe(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function Zfe(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function mD(e,t,r){var s=Tn.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function pD(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function Qfe(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function Xfe(e,t,r){var s=Tn.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function Jfe(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function gD(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function eme(e,t,r){var s=Tn.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function yD(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function tme(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function rme(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function nme(e,t,r){var s=Tn.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function sme(e,t,r){var s=Tn.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function ame(e,t,r){var s=Ufe.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function ime(e,t,r){var s=Tn.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function ome(e,t,r){var s=Tn.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function xD(e,t){return Ut(e.getDate(),t,2)}function lme(e,t){return Ut(e.getHours(),t,2)}function cme(e,t){return Ut(e.getHours()%12||12,t,2)}function ume(e,t){return Ut(1+ep.count(Wo(e),e),t,3)}function f$(e,t){return Ut(e.getMilliseconds(),t,3)}function dme(e,t){return f$(e,t)+"000"}function hme(e,t){return Ut(e.getMonth()+1,t,2)}function fme(e,t){return Ut(e.getMinutes(),t,2)}function mme(e,t){return Ut(e.getSeconds(),t,2)}function pme(e){var t=e.getDay();return t===0?7:t}function gme(e,t){return Ut($v.count(Wo(e)-1,e),t,2)}function m$(e){var t=e.getDay();return t>=4||t===0?Ud(e):Ud.ceil(e)}function yme(e,t){return e=m$(e),Ut(Ud.count(Wo(e),e)+(Wo(e).getDay()===4),t,2)}function xme(e){return e.getDay()}function vme(e,t){return Ut(Sx.count(Wo(e)-1,e),t,2)}function bme(e,t){return Ut(e.getFullYear()%100,t,2)}function wme(e,t){return e=m$(e),Ut(e.getFullYear()%100,t,2)}function jme(e,t){return Ut(e.getFullYear()%1e4,t,4)}function Nme(e,t){var r=e.getDay();return e=r>=4||r===0?Ud(e):Ud.ceil(e),Ut(e.getFullYear()%1e4,t,4)}function kme(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ut(t/60|0,"0",2)+Ut(t%60,"0",2)}function vD(e,t){return Ut(e.getUTCDate(),t,2)}function Sme(e,t){return Ut(e.getUTCHours(),t,2)}function Ame(e,t){return Ut(e.getUTCHours()%12||12,t,2)}function Cme(e,t){return Ut(1+Fv.count(Ho(e),e),t,3)}function p$(e,t){return Ut(e.getUTCMilliseconds(),t,3)}function Ime(e,t){return p$(e,t)+"000"}function Pme(e,t){return Ut(e.getUTCMonth()+1,t,2)}function Eme(e,t){return Ut(e.getUTCMinutes(),t,2)}function Tme(e,t){return Ut(e.getUTCSeconds(),t,2)}function _me(e){var t=e.getUTCDay();return t===0?7:t}function Mme(e,t){return Ut(Bv.count(Ho(e)-1,e),t,2)}function g$(e){var t=e.getUTCDay();return t>=4||t===0?Wd(e):Wd.ceil(e)}function Dme(e,t){return e=g$(e),Ut(Wd.count(Ho(e),e)+(Ho(e).getUTCDay()===4),t,2)}function Ome(e){return e.getUTCDay()}function Rme(e,t){return Ut(Ax.count(Ho(e)-1,e),t,2)}function Lme(e,t){return Ut(e.getUTCFullYear()%100,t,2)}function Fme(e,t){return e=g$(e),Ut(e.getUTCFullYear()%100,t,2)}function $me(e,t){return Ut(e.getUTCFullYear()%1e4,t,4)}function Bme(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Wd(e):Wd.ceil(e),Ut(e.getUTCFullYear()%1e4,t,4)}function zme(){return"+0000"}function bD(){return"%"}function wD(e){return+e}function jD(e){return Math.floor(+e/1e3)}var id,y$,x$;Vme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vme(e){return id=Vfe(e),y$=id.format,id.parse,x$=id.utcFormat,id.utcParse,id}function Ume(e){return new Date(e)}function Wme(e){return e instanceof Date?+e:+new Date(+e)}function DS(e,t,r,s,a,i,o,c,u,h){var f=bS(),m=f.invert,y=f.domain,b=h(".%L"),v=h(":%S"),N=h("%I:%M"),j=h("%I %p"),k=h("%a %d"),I=h("%b %d"),S=h("%B"),O=h("%Y");function P(R){return(u(R)<R?b:c(R)<R?v:o(R)<R?N:i(R)<R?j:s(R)<R?a(R)<R?k:I:r(R)<R?S:O)(R)}return f.invert=function(R){return new Date(m(R))},f.domain=function(R){return arguments.length?y(Array.from(R,Wme)):y().map(Ume)},f.ticks=function(R){var E=y();return e(E[0],E[E.length-1],R??10)},f.tickFormat=function(R,E){return E==null?P:h(E)},f.nice=function(R){var E=y();return(!R||typeof R.range!="function")&&(R=t(E[0],E[E.length-1],R??10)),R?y(s$(E,R)):f},f.copy=function(){return Jm(f,DS(e,t,r,s,a,i,o,c,u,h))},f}function Hme(){return Ra.apply(DS(Bfe,zfe,Wo,_S,$v,ep,ES,IS,Gc,y$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qme(){return Ra.apply(DS(Ffe,$fe,Ho,MS,Bv,Fv,TS,PS,Gc,x$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zv(){var e=0,t=1,r,s,a,i,o=fs,c=!1,u;function h(m){return m==null||isNaN(m=+m)?u:o(a===0?.5:(m=(i(m)-r)*a,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),h):[e,t]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(o=m,h):o};function f(m){return function(y){var b,v;return arguments.length?([b,v]=y,o=m(b,v),h):[o(0),o(1)]}}return h.range=f(uh),h.rangeRound=f(vS),h.unknown=function(m){return arguments.length?(u=m,h):u},function(m){return i=m,r=m(e),s=m(t),a=r===s?0:1/(s-r),h}}function ac(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function v$(){var e=sc(zv()(fs));return e.copy=function(){return ac(e,v$())},Xo.apply(e,arguments)}function b$(){var e=NS(zv()).domain([1,10]);return e.copy=function(){return ac(e,b$()).base(e.base())},Xo.apply(e,arguments)}function w$(){var e=kS(zv());return e.copy=function(){return ac(e,w$()).constant(e.constant())},Xo.apply(e,arguments)}function OS(){var e=SS(zv());return e.copy=function(){return ac(e,OS()).exponent(e.exponent())},Xo.apply(e,arguments)}function Gme(){return OS.apply(null,arguments).exponent(.5)}function j$(){var e=[],t=fs;function r(s){if(s!=null&&!isNaN(s=+s))return t((Qm(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Bl),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>_he(e,i/s))},r.copy=function(){return j$(t).domain(e)},Xo.apply(r,arguments)}function Vv(){var e=0,t=.5,r=1,s=1,a,i,o,c,u,h=fs,f,m=!1,y;function b(N){return isNaN(N=+N)?y:(N=.5+((N=+f(N))-i)*(s*N<s*i?c:u),h(m?Math.max(0,Math.min(1,N)):N))}b.domain=function(N){return arguments.length?([e,t,r]=N,a=f(e=+e),i=f(t=+t),o=f(r=+r),c=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),s=i<a?-1:1,b):[e,t,r]},b.clamp=function(N){return arguments.length?(m=!!N,b):m},b.interpolator=function(N){return arguments.length?(h=N,b):h};function v(N){return function(j){var k,I,S;return arguments.length?([k,I,S]=j,h=afe(N,[k,I,S]),b):[h(0),h(.5),h(1)]}}return b.range=v(uh),b.rangeRound=v(vS),b.unknown=function(N){return arguments.length?(y=N,b):y},function(N){return f=N,a=N(e),i=N(t),o=N(r),c=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),s=i<a?-1:1,b}}function N$(){var e=sc(Vv()(fs));return e.copy=function(){return ac(e,N$())},Xo.apply(e,arguments)}function k$(){var e=NS(Vv()).domain([.1,1,10]);return e.copy=function(){return ac(e,k$()).base(e.base())},Xo.apply(e,arguments)}function S$(){var e=kS(Vv());return e.copy=function(){return ac(e,S$()).constant(e.constant())},Xo.apply(e,arguments)}function RS(){var e=SS(Vv());return e.copy=function(){return ac(e,RS()).exponent(e.exponent())},Xo.apply(e,arguments)}function Kme(){return RS.apply(null,arguments).exponent(.5)}const If=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gS,scaleDiverging:N$,scaleDivergingLog:k$,scaleDivergingPow:RS,scaleDivergingSqrt:Kme,scaleDivergingSymlog:S$,scaleIdentity:n$,scaleImplicit:UN,scaleLinear:r$,scaleLog:a$,scaleOrdinal:pS,scalePoint:Ohe,scalePow:AS,scaleQuantile:l$,scaleQuantize:c$,scaleRadial:o$,scaleSequential:v$,scaleSequentialLog:b$,scaleSequentialPow:OS,scaleSequentialQuantile:j$,scaleSequentialSqrt:Gme,scaleSequentialSymlog:w$,scaleSqrt:Ife,scaleSymlog:i$,scaleThreshold:u$,scaleTime:Hme,scaleUtc:qme,tickFormat:t$},Symbol.toStringTag,{value:"Module"}));var ic=e=>e.chartData,LS=ke([ic],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),tp=(e,t,r,s)=>s?LS(e):ic(e);function Zl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(gr(t)&&gr(r))return!0}return!1}function ND(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function A$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,s]=e,a,i;if(gr(r))a=r;else if(typeof r=="function")return;if(gr(s))i=s;else if(typeof s=="function")return;var o=[a,i];if(Zl(o))return o}}function Yme(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var s=e(t,r);if(Zl(s))return ND(s,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,c;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Qe(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&Q_.test(a)){var u=Q_.exec(a);if(u==null||t==null)o=void 0;else{var h=+u[1];o=t[0]-h}}else o=t?.[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(Qe(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[1]))}catch{}else if(typeof i=="string"&&X_.test(i)){var f=X_.exec(i);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[1]+m}}else c=t?.[1];var y=[o,c];if(Zl(y))return t==null?y:ND(y,t,r)}}}var dh=1e9,Zme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$S,wr=!0,_a="[DecimalError] ",nu=_a+"Invalid argument: ",FS=_a+"Exponent out of range: ",hh=Math.floor,Oc=Math.pow,Qme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qs,Sn=1e7,fr=7,C$=9007199254740991,Cx=hh(C$/fr),et={};et.absoluteValue=et.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};et.comparedTo=et.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};et.decimalPlaces=et.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*fr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};et.dividedBy=et.div=function(e){return Mo(this,new this.constructor(e))};et.dividedToIntegerBy=et.idiv=function(e){var t=this,r=t.constructor;return rr(Mo(t,new r(e),0,1),r.precision)};et.equals=et.eq=function(e){return!this.cmp(e)};et.exponent=function(){return rn(this)};et.greaterThan=et.gt=function(e){return this.cmp(e)>0};et.greaterThanOrEqualTo=et.gte=function(e){return this.cmp(e)>=0};et.isInteger=et.isint=function(){return this.e>this.d.length-2};et.isNegative=et.isneg=function(){return this.s<0};et.isPositive=et.ispos=function(){return this.s>0};et.isZero=function(){return this.s===0};et.lessThan=et.lt=function(e){return this.cmp(e)<0};et.lessThanOrEqualTo=et.lte=function(e){return this.cmp(e)<1};et.logarithm=et.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Qs))throw Error(_a+"NaN");if(r.s<1)throw Error(_a+(r.s?"NaN":"-Infinity"));return r.eq(Qs)?new s(0):(wr=!1,t=Mo(ym(r,i),ym(e,i),i),wr=!0,rr(t,a))};et.minus=et.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E$(t,e):I$(t,(e.s=-e.s,e))};et.modulo=et.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(_a+"NaN");return r.s?(wr=!1,t=Mo(r,e,0,1).times(e),wr=!0,r.minus(t)):rr(new s(r),a)};et.naturalExponential=et.exp=function(){return P$(this)};et.naturalLogarithm=et.ln=function(){return ym(this)};et.negated=et.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};et.plus=et.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?I$(t,e):E$(t,(e.s=-e.s,e))};et.precision=et.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(nu+e);if(t=rn(a)+1,s=a.d.length-1,r=s*fr+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};et.squareRoot=et.sqrt=function(){var e,t,r,s,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(_a+"NaN")}for(e=rn(c),wr=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=Bi(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=hh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new u(t)):s=new u(a.toString()),r=u.precision,a=o=r+3;;)if(i=s,s=i.plus(Mo(c,i,o+2)).times(.5),Bi(i.d).slice(0,o)===(t=Bi(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(rr(i,r+1,0),i.times(i).eq(c)){s=i;break}}else if(t!="9999")break;o+=4}return wr=!0,rr(s,r)};et.times=et.mul=function(e){var t,r,s,a,i,o,c,u,h,f=this,m=f.constructor,y=f.d,b=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,r=f.e+e.e,u=y.length,h=b.length,u<h&&(i=y,y=b,b=i,o=u,u=h,h=o),i=[],o=u+h,s=o;s--;)i.push(0);for(s=h;--s>=0;){for(t=0,a=u+s;a>s;)c=i[a]+b[s]*y[a-s-1]+t,i[a--]=c%Sn|0,t=c/Sn|0;i[a]=(i[a]+t)%Sn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,wr?rr(e,m.precision):e};et.toDecimalPlaces=et.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(Ji(e,0,dh),t===void 0?t=s.rounding:Ji(t,0,8),rr(r,e+rn(r)+1,t))};et.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=pu(s,!0):(Ji(e,0,dh),t===void 0?t=a.rounding:Ji(t,0,8),s=rr(new a(s),e+1,t),r=pu(s,!0,e+1)),r};et.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?pu(a):(Ji(e,0,dh),t===void 0?t=i.rounding:Ji(t,0,8),s=rr(new i(a),e+rn(a)+1,t),r=pu(s.abs(),!1,e+rn(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};et.toInteger=et.toint=function(){var e=this,t=e.constructor;return rr(new t(e),rn(e)+1,t.rounding)};et.toNumber=function(){return+this};et.toPower=et.pow=function(e){var t,r,s,a,i,o,c=this,u=c.constructor,h=12,f=+(e=new u(e));if(!e.s)return new u(Qs);if(c=new u(c),!c.s){if(e.s<1)throw Error(_a+"Infinity");return c}if(c.eq(Qs))return c;if(s=u.precision,e.eq(Qs))return rr(c,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=c.s,o){if((r=f<0?-f:f)<=C$){for(a=new u(Qs),t=Math.ceil(s/fr+4),wr=!1;r%2&&(a=a.times(c),SD(a.d,t)),r=hh(r/2),r!==0;)c=c.times(c),SD(c.d,t);return wr=!0,e.s<0?new u(Qs).div(a):rr(a,s)}}else if(i<0)throw Error(_a+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,wr=!1,a=e.times(ym(c,s+h)),wr=!0,a=P$(a),a.s=i,a};et.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=rn(a),s=pu(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ji(e,1,dh),t===void 0?t=i.rounding:Ji(t,0,8),a=rr(new i(a),e,t),r=rn(a),s=pu(a,e<=r||r<=i.toExpNeg,e)),s};et.toSignificantDigits=et.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Ji(e,1,dh),t===void 0?t=s.rounding:Ji(t,0,8)),rr(new s(r),e,t)};et.toString=et.valueOf=et.val=et.toJSON=et[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rn(e),r=e.constructor;return pu(e,t<=r.toExpNeg||t>=r.toExpPos)};function I$(e,t){var r,s,a,i,o,c,u,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),wr?rr(t,m):t;if(u=e.d,h=t.d,o=e.e,a=t.e,u=u.slice(),i=o-a,i){for(i<0?(s=u,i=-i,c=h.length):(s=h,a=o,c=u.length),o=Math.ceil(m/fr),c=o>c?o+1:c+1,i>c&&(i=c,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(c=u.length,i=h.length,c-i<0&&(i=c,s=h,h=u,u=s),r=0;i;)r=(u[--i]=u[i]+h[i]+r)/Sn|0,u[i]%=Sn;for(r&&(u.unshift(r),++a),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=a,wr?rr(t,m):t}function Ji(e,t,r){if(e!==~~e||e<t||e>r)throw Error(nu+e)}function Bi(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=fr-s.length,r&&(i+=El(r)),i+=s;o=e[t],s=o+"",r=fr-s.length,r&&(i+=El(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Mo=(function(){function e(s,a){var i,o=0,c=s.length;for(s=s.slice();c--;)i=s[c]*a+o,s[c]=i%Sn|0,o=i/Sn|0;return o&&s.unshift(o),s}function t(s,a,i,o){var c,u;if(i!=o)u=i>o?1:-1;else for(c=u=0;c<i;c++)if(s[c]!=a[c]){u=s[c]>a[c]?1:-1;break}return u}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Sn+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var c,u,h,f,m,y,b,v,N,j,k,I,S,O,P,R,E,C,F=s.constructor,L=s.s==a.s?1:-1,D=s.d,M=a.d;if(!s.s)return new F(s);if(!a.s)throw Error(_a+"Division by zero");for(u=s.e-a.e,E=M.length,P=D.length,b=new F(L),v=b.d=[],h=0;M[h]==(D[h]||0);)++h;if(M[h]>(D[h]||0)&&--u,i==null?I=i=F.precision:o?I=i+(rn(s)-rn(a))+1:I=i,I<0)return new F(0);if(I=I/fr+2|0,h=0,E==1)for(f=0,M=M[0],I++;(h<P||f)&&I--;h++)S=f*Sn+(D[h]||0),v[h]=S/M|0,f=S%M|0;else{for(f=Sn/(M[0]+1)|0,f>1&&(M=e(M,f),D=e(D,f),E=M.length,P=D.length),O=E,N=D.slice(0,E),j=N.length;j<E;)N[j++]=0;C=M.slice(),C.unshift(0),R=M[0],M[1]>=Sn/2&&++R;do f=0,c=t(M,N,E,j),c<0?(k=N[0],E!=j&&(k=k*Sn+(N[1]||0)),f=k/R|0,f>1?(f>=Sn&&(f=Sn-1),m=e(M,f),y=m.length,j=N.length,c=t(m,N,y,j),c==1&&(f--,r(m,E<y?C:M,y))):(f==0&&(c=f=1),m=M.slice()),y=m.length,y<j&&m.unshift(0),r(N,m,j),c==-1&&(j=N.length,c=t(M,N,E,j),c<1&&(f++,r(N,E<j?C:M,j))),j=N.length):c===0&&(f++,N=[0]),v[h++]=f,c&&N[0]?N[j++]=D[O]||0:(N=[D[O]],j=1);while((O++<P||N[0]!==void 0)&&I--)}return v[0]||v.shift(),b.e=u,rr(b,o?i+rn(b)+1:i)}})();function P$(e,t){var r,s,a,i,o,c,u=0,h=0,f=e.constructor,m=f.precision;if(rn(e)>16)throw Error(FS+rn(e));if(!e.s)return new f(Qs);for(wr=!1,c=m,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),h+=5;for(s=Math.log(Oc(2,h))/Math.LN10*2+5|0,c+=s,r=a=i=new f(Qs),f.precision=c;;){if(a=rr(a.times(e),c),r=r.times(++u),o=i.plus(Mo(a,r,c)),Bi(o.d).slice(0,c)===Bi(i.d).slice(0,c)){for(;h--;)i=rr(i.times(i),c);return f.precision=m,t==null?(wr=!0,rr(i,m)):i}i=o}}function rn(e){for(var t=e.e*fr,r=e.d[0];r>=10;r/=10)t++;return t}function qj(e,t,r){if(t>e.LN10.sd())throw wr=!0,r&&(e.precision=r),Error(_a+"LN10 precision limit exceeded");return rr(new e(e.LN10),t)}function El(e){for(var t="";e--;)t+="0";return t}function ym(e,t){var r,s,a,i,o,c,u,h,f,m=1,y=10,b=e,v=b.d,N=b.constructor,j=N.precision;if(b.s<1)throw Error(_a+(b.s?"NaN":"-Infinity"));if(b.eq(Qs))return new N(0);if(t==null?(wr=!1,h=j):h=t,b.eq(10))return t==null&&(wr=!0),qj(N,h);if(h+=y,N.precision=h,r=Bi(v),s=r.charAt(0),i=rn(b),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)b=b.times(e),r=Bi(b.d),s=r.charAt(0),m++;i=rn(b),s>1?(b=new N("0."+r),i++):b=new N(s+"."+r.slice(1))}else return u=qj(N,h+2,j).times(i+""),b=ym(new N(s+"."+r.slice(1)),h-y).plus(u),N.precision=j,t==null?(wr=!0,rr(b,j)):b;for(c=o=b=Mo(b.minus(Qs),b.plus(Qs),h),f=rr(b.times(b),h),a=3;;){if(o=rr(o.times(f),h),u=c.plus(Mo(o,new N(a),h)),Bi(u.d).slice(0,h)===Bi(c.d).slice(0,h))return c=c.times(2),i!==0&&(c=c.plus(qj(N,h+2,j).times(i+""))),c=Mo(c,new N(m),h),N.precision=j,t==null?(wr=!0,rr(c,j)):c;c=u,a+=2}}function kD(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=hh(r/fr),e.d=[],s=(r+1)%fr,r<0&&(s+=fr),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=fr;s<a;)e.d.push(+t.slice(s,s+=fr));t=t.slice(s),s=fr-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),wr&&(e.e>Cx||e.e<-Cx))throw Error(FS+r)}else e.s=0,e.e=0,e.d=[0];return e}function rr(e,t,r){var s,a,i,o,c,u,h,f,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=fr,a=t,h=m[f=0];else{if(f=Math.ceil((s+1)/fr),i=m.length,f>=i)return e;for(h=i=m[f],o=1;i>=10;i/=10)o++;s%=fr,a=s-fr+o}if(r!==void 0&&(i=Oc(10,o-a-1),c=h/i%10|0,u=t<0||m[f+1]!==void 0||h%i,u=r<4?(c||u)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(s>0?a>0?h/Oc(10,o-a):0:m[f-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=rn(e),m.length=1,t=t-i-1,m[0]=Oc(10,(fr-t%fr)%fr),e.e=hh(-t/fr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(s==0?(m.length=f,i=1,f--):(m.length=f+1,i=Oc(10,fr-s),m[f]=a>0?(h/Oc(10,o-a)%Oc(10,a)|0)*i:0),u)for(;;)if(f==0){(m[0]+=i)==Sn&&(m[0]=1,++e.e);break}else{if(m[f]+=i,m[f]!=Sn)break;m[f--]=0,i=1}for(s=m.length;m[--s]===0;)m.pop();if(wr&&(e.e>Cx||e.e<-Cx))throw Error(FS+rn(e));return e}function E$(e,t){var r,s,a,i,o,c,u,h,f,m,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),wr?rr(t,b):t;if(u=e.d,m=t.d,s=t.e,h=e.e,u=u.slice(),o=h-s,o){for(f=o<0,f?(r=u,o=-o,c=m.length):(r=m,s=h,c=u.length),a=Math.max(Math.ceil(b/fr),c)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,c=m.length,f=a<c,f&&(c=a),a=0;a<c;a++)if(u[a]!=m[a]){f=u[a]<m[a];break}o=0}for(f&&(r=u,u=m,m=r,t.s=-t.s),c=u.length,a=m.length-c;a>0;--a)u[c++]=0;for(a=m.length;a>o;){if(u[--a]<m[a]){for(i=a;i&&u[--i]===0;)u[i]=Sn-1;--u[i],u[a]+=Sn}u[a]-=m[a]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--s;return u[0]?(t.d=u,t.e=s,wr?rr(t,b):t):new y(0)}function pu(e,t,r){var s,a=rn(e),i=Bi(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+El(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+El(-a-1)+i,r&&(s=r-o)>0&&(i+=El(s))):a>=o?(i+=El(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+El(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=El(s))),e.s<0?"-"+i:i}function SD(e,t){if(e.length>t)return e.length=t,!0}function T$(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(nu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return kD(o,i.toString())}else if(typeof i!="string")throw Error(nu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Qme.test(i))kD(o,i);else throw Error(nu+i)}if(a.prototype=et,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=T$,a.config=a.set=Xme,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function Xme(e){if(!e||typeof e!="object")throw Error(_a+"Object expected");var t,r,s,a=["precision",1,dh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(hh(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(nu+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(nu+r+": "+s);return this}var $S=T$(Zme);Qs=new $S(1);const Zt=$S;var Jme=e=>e,_$={},M$=e=>e===_$,AD=e=>function t(){return arguments.length===0||arguments.length===1&&M$(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},D$=(e,t)=>e===1?t:AD(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var i=s.filter(o=>o!==_$).length;return i>=e?t(...s):D$(e-i,AD(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var h=s.map(f=>M$(f)?c.shift():f);return t(...h,...c)}))}),epe=e=>D$(e.length,e),GN=(e,t)=>{for(var r=[],s=e;s<t;++s)r[s-e]=s;return r},tpe=epe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),rpe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return Jme;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((c,u)=>u(c),i(...arguments))}},KN=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function O$(e){var t;return e===0?t=1:t=Math.floor(new Zt(e).abs().log(10).toNumber())+1,t}function R$(e,t,r){for(var s=new Zt(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var L$=e=>{var[t,r]=e,[s,a]=[t,r];return t>r&&([s,a]=[r,t]),[s,a]},F$=(e,t,r)=>{if(e.lte(0))return new Zt(0);var s=O$(e.toNumber()),a=new Zt(10).pow(s),i=e.div(a),o=s!==1?.05:.1,c=new Zt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=c.mul(a);return t?new Zt(u.toNumber()):new Zt(Math.ceil(u.toNumber()))},npe=(e,t,r)=>{var s=new Zt(1),a=new Zt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new Zt(10).pow(O$(e)-1),a=new Zt(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Zt(Math.floor(e)))}else e===0?a=new Zt(Math.floor((t-1)/2)):r||(a=new Zt(Math.floor(e)));var o=Math.floor((t-1)/2),c=rpe(tpe(u=>a.add(new Zt(u-o).mul(s)).toNumber()),GN);return c(0,t)},$$=function(t,r,s,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(s-1)))return{step:new Zt(0),tickMin:new Zt(0),tickMax:new Zt(0)};var o=F$(new Zt(r).sub(t).div(s-1),a,i),c;t<=0&&r>=0?c=new Zt(0):(c=new Zt(t).add(r).div(2),c=c.sub(new Zt(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),h=Math.ceil(new Zt(r).sub(c).div(o).toNumber()),f=u+h+1;return f>s?$$(t,r,s,a,i+1):(f<s&&(h=r>0?h+(s-f):h,u=r>0?u:u+(s-f)),{step:o,tickMin:c.sub(new Zt(u).mul(o)),tickMax:c.add(new Zt(h).mul(o))})},spe=function(t){var[r,s]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[c,u]=L$([r,s]);if(c===-1/0||u===1/0){var h=u===1/0?[c,...GN(0,a-1).map(()=>1/0)]:[...GN(0,a-1).map(()=>-1/0),u];return r>s?KN(h):h}if(c===u)return npe(c,a,i);var{step:f,tickMin:m,tickMax:y}=$$(c,u,o,i,0),b=R$(m,y.add(new Zt(.1).mul(f)),f);return r>s?KN(b):b},ape=function(t,r){var[s,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=L$([s,a]);if(o===-1/0||c===1/0)return[s,a];if(o===c)return[o];var u=Math.max(r,2),h=F$(new Zt(c).sub(o).div(u-1),i,0),f=[...R$(new Zt(o),new Zt(c),h),c];return i===!1&&(f=f.map(m=>Math.round(m))),s>a?KN(f):f},B$=e=>e.rootProps.maxBarSize,ipe=e=>e.rootProps.barGap,z$=e=>e.rootProps.barCategoryGap,ope=e=>e.rootProps.barSize,rp=e=>e.rootProps.stackOffset,V$=e=>e.rootProps.reverseStackOrder,BS=e=>e.options.chartName,zS=e=>e.rootProps.syncId,U$=e=>e.rootProps.syncMethod,VS=e=>e.options.eventEmitter,lpe=e=>e.rootProps.baseValue,qr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ko={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ys={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Uv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},cpe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ko.angleAxisId,includeHidden:!1,name:void 0,reversed:ko.reversed,scale:ko.scale,tick:ko.tick,tickCount:void 0,ticks:void 0,type:ko.type,unit:void 0},upe={allowDataOverflow:Ys.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ys.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ys.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ys.scale,tick:Ys.tick,tickCount:Ys.tickCount,ticks:void 0,type:Ys.type,unit:void 0},dpe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ko.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ko.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ko.scale,tick:ko.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},hpe={allowDataOverflow:Ys.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ys.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ys.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ys.scale,tick:Ys.tick,tickCount:Ys.tickCount,ticks:void 0,type:"category",unit:void 0},US=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?dpe:cpe,WS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?hpe:upe,Wv=e=>e.polarOptions,HS=ke([Zo,Qo,pn],zF),W$=ke([Wv,HS],(e,t)=>{if(e!=null)return ns(e.innerRadius,t,0)}),H$=ke([Wv,HS],(e,t)=>{if(e!=null)return ns(e.outerRadius,t,t*.8)}),fpe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},q$=ke([Wv],fpe);ke([US,q$],Uv);var G$=ke([HS,W$,H$],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ke([WS,G$],Uv);var K$=ke([Ct,Wv,W$,H$,Zo,Qo],(e,t,r,s,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||s==null)){var{cx:o,cy:c,startAngle:u,endAngle:h}=t;return{cx:ns(o,a,a/2),cy:ns(c,i,i/2),innerRadius:r,outerRadius:s,startAngle:u,endAngle:h,clockWise:!1}}}),Nr=(e,t)=>t,np=(e,t,r)=>r;function Hv(e){return e?.id}function Y$(e,t,r){var{chartData:s=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(c=>{var u,h=(u=c.data)!==null&&u!==void 0?u:s;if(!(h==null||h.length===0)){var f=Hv(c);h.forEach((m,y)=>{var b=i==null||a?y:String(Qt(m,i,null)),v=Qt(m,c.dataKey,0),N;o.has(b)?N=o.get(b):N={},Object.assign(N,{[f]:v}),o.set(b,N)})}}),Array.from(o.values())}function qv(e){return e.stackId!=null&&e.dataKey!=null}var Gv=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Kv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function mpe(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var yn=e=>{var t=Ct(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},fh=e=>e.tooltip.settings.axisId;function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(s){ppe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ppe(e,t,r){return(t=gpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gpe(e){var t=ype(e,"string");return typeof t=="symbol"?t:t+""}function ype(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YN=[0,"auto"],Nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Z$=(e,t)=>e.cartesianAxis.xAxis[t],Jo=(e,t)=>{var r=Z$(e,t);return r??Nn},kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:YN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ym},Q$=(e,t)=>e.cartesianAxis.yAxis[t],el=(e,t)=>{var r=Q$(e,t);return r??kn},xpe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},qS=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??xpe},Er=(e,t,r)=>{switch(t){case"xAxis":return Jo(e,r);case"yAxis":return el(e,r);case"zAxis":return qS(e,r);case"angleAxis":return US(e,r);case"radiusAxis":return WS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vpe=(e,t,r)=>{switch(t){case"xAxis":return Jo(e,r);case"yAxis":return el(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sp=(e,t,r)=>{switch(t){case"xAxis":return Jo(e,r);case"yAxis":return el(e,r);case"angleAxis":return US(e,r);case"radiusAxis":return WS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},X$=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function GS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ap=e=>e.graphicalItems.cartesianItems,bpe=ke([Nr,np],GS),KS=(e,t,r)=>e.filter(r).filter(s=>t?.includeHidden===!0?!0:!s.hide),ip=ke([ap,Er,bpe],KS,{memoizeOptions:{resultEqualityCheck:Kv}}),J$=ke([ip],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(qv)),eB=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),wpe=ke([ip],eB),YS=e=>e.map(t=>t.data).filter(Boolean).flat(1),jpe=ke([ip],YS,{memoizeOptions:{resultEqualityCheck:Kv}}),ZS=(e,t)=>{var{chartData:r=[],dataStartIndex:s,dataEndIndex:a}=t;return e.length>0?e:r.slice(s,a+1)},QS=ke([jpe,tp],ZS),XS=(e,t,r)=>t?.dataKey!=null?e.map(s=>({value:Qt(s,t.dataKey)})):r.length>0?r.map(s=>s.dataKey).flatMap(s=>e.map(a=>({value:Qt(a,s)}))):e.map(s=>({value:s})),Yv=ke([QS,Er,ip],XS);function tB(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function yy(e){if(Qi(e)||e instanceof Date){var t=Number(e);if(gr(t))return t}}function ID(e){if(Array.isArray(e)){var t=[yy(e[0]),yy(e[1])];return Zl(t)?t:void 0}var r=yy(e);if(r!=null)return[r,r]}function qo(e){return e.map(yy).filter(goe)}function Npe(e,t,r){return!r||typeof t!="number"||Ea(t)?[]:r.length?qo(r.flatMap(s=>{var a=Qt(e,s.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!gr(i)||!gr(o)))return[t-i,t+o]})):[]}var xn=e=>{var t=yn(e),r=fh(e);return sp(e,t,r)},op=ke([xn],e=>e?.dataKey),kpe=ke([J$,tp,xn],Y$),rB=(e,t,r,s)=>{var a={},i=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),a);return Object.fromEntries(Object.entries(i).map(o=>{var[c,u]=o,h=s?[...u].reverse():u,f=h.map(Hv);return[c,{stackedData:Uce(e,f,r),graphicalItems:h}]}))},xm=ke([kpe,J$,rp,V$],rB),nB=(e,t,r,s)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(s==null&&r!=="zAxis"){var o=Gce(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Spe=ke([Er],e=>e.allowDataOverflow),JS=e=>{var t;if(e==null||!("domain"in e))return YN;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=qo(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:YN},eA=ke([Er],JS),tA=ke([eA,Spe],A$),Ape=ke([xm,ic,Nr,tA],nB,{memoizeOptions:{resultEqualityCheck:Gv}}),Zv=e=>e.errorBars,Cpe=(e,t,r)=>e.flatMap(s=>t[s.id]).filter(Boolean).filter(s=>tB(r,s)),Px=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),c=Math.max(...i);return[o,c]}},rA=(e,t,r,s,a)=>{var i,o;if(r.length>0&&e.forEach(c=>{r.forEach(u=>{var h,f,m=(h=s[u.id])===null||h===void 0?void 0:h.filter(k=>tB(a,k)),y=Qt(c,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),b=Npe(c,y,m);if(b.length>=2){var v=Math.min(...b),N=Math.max(...b);(i==null||v<i)&&(i=v),(o==null||N>o)&&(o=N)}var j=ID(y);j!=null&&(i=i==null?j[0]:Math.min(i,j[0]),o=o==null?j[1]:Math.max(o,j[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var u=ID(Qt(c,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),gr(i)&&gr(o))return[i,o]},Ipe=ke([QS,Er,wpe,Zv,Nr],rA,{memoizeOptions:{resultEqualityCheck:Gv}});function Ppe(e){var{value:t}=e;if(Qi(t)||t instanceof Date)return t}var Epe=(e,t,r)=>{var s=e.map(Ppe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&v9(s))?HF(0,e.length):t.allowDuplicatedCategory?s:Array.from(new Set(s))},sB=e=>e.referenceElements.dots,mh=(e,t,r)=>e.filter(s=>s.ifOverflow==="extendDomain").filter(s=>t==="xAxis"?s.xAxisId===r:s.yAxisId===r),Tpe=ke([sB,Nr,np],mh),aB=e=>e.referenceElements.areas,_pe=ke([aB,Nr,np],mh),iB=e=>e.referenceElements.lines,Mpe=ke([iB,Nr,np],mh),oB=(e,t)=>{var r=qo(e.map(s=>t==="xAxis"?s.x:s.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Dpe=ke(Tpe,Nr,oB),lB=(e,t)=>{var r=qo(e.flatMap(s=>[t==="xAxis"?s.x1:s.y1,t==="xAxis"?s.x2:s.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ope=ke([_pe,Nr],lB);function Rpe(e){var t;if(e.x!=null)return qo([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(s=>s.x);return r==null||r.length===0?[]:qo(r)}function Lpe(e){var t;if(e.y!=null)return qo([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(s=>s.y);return r==null||r.length===0?[]:qo(r)}var cB=(e,t)=>{var r=e.flatMap(s=>t==="xAxis"?Rpe(s):Lpe(s));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Fpe=ke([Mpe,Nr],cB),$pe=ke(Dpe,Fpe,Ope,(e,t,r)=>Px(e,r,t)),nA=(e,t,r,s,a,i,o,c)=>{if(r!=null)return r;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",h=u?Px(s,i,a):Px(i,a);return Yme(t,h,e.allowDataOverflow)},Bpe=ke([Er,eA,tA,Ape,Ipe,$pe,Ct,Nr],nA,{memoizeOptions:{resultEqualityCheck:Gv}}),zpe=[0,1],sA=(e,t,r,s,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:c,type:u}=e,h=no(t,i);if(h&&c==null){var f;return HF(0,(f=r?.length)!==null&&f!==void 0?f:0)}return u==="category"?Epe(s,e,h):a==="expand"?zpe:o}},aA=ke([Er,Ct,QS,Yv,rp,Nr,Bpe],sA),uB=(e,t,r,s,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(Um(i));return c in If?c:"point"}}},ph=ke([Er,Ct,X$,BS,Nr],uB);function Vpe(e){if(e!=null){if(e in If)return If[e]();var t="scale".concat(Um(e));if(t in If)return If[t]()}}function iA(e,t,r,s){if(!(r==null||s==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(s);var a=Vpe(t);if(a!=null){var i=a.domain(r).range(s);return Fce(i),i}}}var oA=(e,t,r)=>{var s=JS(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&Zl(e))return spe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Zl(e))return ape(e,t.tickCount,t.allowDecimals)}},lA=ke([aA,sp,ph],oA),cA=(e,t,r,s)=>{if(s!=="angleAxis"&&e?.type==="number"&&Zl(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],c=r[r.length-1];return[Math.min(a,i),Math.max(o,c)]}return t},Upe=ke([Er,aA,lA,Nr],cA),Wpe=ke(Yv,Er,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,s=Array.from(qo(e.map(c=>c.value))).sort((c,u)=>c-u);if(s.length<2)return 1/0;var a=s[s.length-1]-s[0];if(a===0)return 1/0;for(var i=0;i<s.length-1;i++){var o=s[i+1]-s[i];r=Math.min(r,o)}return r/a}}),dB=ke(Wpe,Ct,z$,pn,(e,t,r,s)=>s,(e,t,r,s,a)=>{if(!gr(e))return 0;var i=t==="vertical"?s.height:s.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=ns(r,e*i),c=e*i/2;return c-o-(c-o)/i*o}return 0}),Hpe=(e,t)=>{var r=Jo(e,t);return r==null||typeof r.padding!="string"?0:dB(e,"xAxis",t,r.padding)},qpe=(e,t)=>{var r=el(e,t);return r==null||typeof r.padding!="string"?0:dB(e,"yAxis",t,r.padding)},Gpe=ke(Jo,Hpe,(e,t)=>{var r,s;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((s=a.right)!==null&&s!==void 0?s:0)+t}}),Kpe=ke(el,qpe,(e,t)=>{var r,s;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((s=a.bottom)!==null&&s!==void 0?s:0)+t}}),Ype=ke([pn,Gpe,Tv,Ev,(e,t,r)=>r],(e,t,r,s,a)=>{var{padding:i}=s;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Zpe=ke([pn,Ct,Kpe,Tv,Ev,(e,t,r)=>r],(e,t,r,s,a,i)=>{var{padding:o}=a;return i?[s.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),lp=(e,t,r,s)=>{var a;switch(t){case"xAxis":return Ype(e,r,s);case"yAxis":return Zpe(e,r,s);case"zAxis":return(a=qS(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return q$(e);case"radiusAxis":return G$(e,r);default:return}},hB=ke([Er,lp],Uv),gh=ke([Er,ph,Upe,hB],iA);ke([ip,Zv,Nr],Cpe);function fB(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Qv=(e,t)=>t,Xv=(e,t,r)=>r,Qpe=ke(Iv,Qv,Xv,(e,t,r)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===r).sort(fB)),Xpe=ke(Pv,Qv,Xv,(e,t,r)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===r).sort(fB)),mB=(e,t)=>({width:e.width,height:t.height}),Jpe=(e,t)=>{var r=typeof t.width=="number"?t.width:Ym;return{width:r,height:e.height}},pB=ke(pn,Jo,mB),ege=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},tge=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},rge=ke(Qo,pn,Qpe,Qv,Xv,(e,t,r,s,a)=>{var i={},o;return r.forEach(c=>{var u=mB(t,c);o==null&&(o=ege(t,s,e));var h=s==="top"&&!a||s==="bottom"&&a;i[c.id]=o-Number(h)*u.height,o+=(h?-1:1)*u.height}),i}),nge=ke(Zo,pn,Xpe,Qv,Xv,(e,t,r,s,a)=>{var i={},o;return r.forEach(c=>{var u=Jpe(t,c);o==null&&(o=tge(t,s,e));var h=s==="left"&&!a||s==="right"&&a;i[c.id]=o-Number(h)*u.width,o+=(h?-1:1)*u.width}),i}),sge=(e,t)=>{var r=Jo(e,t);if(r!=null)return rge(e,r.orientation,r.mirror)},age=ke([pn,Jo,sge,(e,t)=>t],(e,t,r,s)=>{if(t!=null){var a=r?.[s];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),ige=(e,t)=>{var r=el(e,t);if(r!=null)return nge(e,r.orientation,r.mirror)},oge=ke([pn,el,ige,(e,t)=>t],(e,t,r,s)=>{if(t!=null){var a=r?.[s];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),gB=ke(pn,el,(e,t)=>{var r=typeof t.width=="number"?t.width:Ym;return{width:r,height:e.height}}),PD=(e,t,r)=>{switch(t){case"xAxis":return pB(e,r).width;case"yAxis":return gB(e,r).height;default:return}},yB=(e,t,r,s)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,c=no(e,s),u=t.map(h=>h.value);if(o&&c&&i==="category"&&a&&v9(u))return u}},uA=ke([Ct,Yv,Er,Nr],yB),xB=(e,t,r,s)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=no(e,s);if(o&&(a==="number"||i!=="auto"))return t.map(c=>c.value)}},dA=ke([Ct,Yv,sp,Nr],xB),ED=ke([Ct,vpe,ph,gh,uA,dA,lp,lA,Nr],(e,t,r,s,a,i,o,c,u)=>{if(t!=null){var h=no(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:h,niceTicks:c,range:o,realScaleType:r,scale:s}}}),lge=(e,t,r,s,a,i,o,c,u)=>{if(!(t==null||s==null)){var h=no(e,u),{type:f,ticks:m,tickCount:y}=t,b=r==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,v=f==="category"&&s.bandwidth?s.bandwidth()/b:0;v=u==="angleAxis"&&i!=null&&i.length>=2?In(i[0]-i[1])*2*v:v;var N=m||a;if(N){var j=N.map((k,I)=>{var S=o?o.indexOf(k):k;return{index:I,coordinate:s(S)+v,value:k,offset:v}});return j.filter(k=>gr(k.coordinate))}return h&&c?c.map((k,I)=>({coordinate:s(k)+v,value:k,index:I,offset:v})).filter(k=>gr(k.coordinate)):s.ticks?s.ticks(y).map(k=>({coordinate:s(k)+v,value:k,offset:v})):s.domain().map((k,I)=>({coordinate:s(k)+v,value:o?o[k]:k,index:I,offset:v}))}},vB=ke([Ct,sp,ph,gh,lA,lp,uA,dA,Nr],lge),cge=(e,t,r,s,a,i,o)=>{if(!(t==null||r==null||s==null||s[0]===s[1])){var c=no(e,o),{tickCount:u}=t,h=0;return h=o==="angleAxis"&&s?.length>=2?In(s[0]-s[1])*2*h:h,c&&i?i.map((f,m)=>({coordinate:r(f)+h,value:f,index:m,offset:h})):r.ticks?r.ticks(u).map(f=>({coordinate:r(f)+h,value:f,offset:h})):r.domain().map((f,m)=>({coordinate:r(f)+h,value:a?a[f]:f,index:m,offset:h}))}},eo=ke([Ct,sp,gh,lp,uA,dA,Nr],cge),to=ke(Er,gh,(e,t)=>{if(!(e==null||t==null))return Ix(Ix({},e),{},{scale:t})}),uge=ke([Er,ph,aA,hB],iA);ke((e,t,r)=>qS(e,r),uge,(e,t)=>{if(!(e==null||t==null))return Ix(Ix({},e),{},{scale:t})});var dge=ke([Ct,Iv,Pv],(e,t,r)=>{switch(e){case"horizontal":return t.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),bB=e=>e.options.defaultTooltipEventType,wB=e=>e.options.validateTooltipEventTypes;function jB(e,t,r){if(e==null)return t;var s=e?"axis":"item";return r==null?t:r.includes(s)?s:t}function hA(e,t){var r=bB(e),s=wB(e);return jB(t,r,s)}function hge(e){return Xe(t=>hA(t,e))}var NB=(e,t)=>{var r,s=Number(t);if(!(Ea(s)||t==null))return s>=0?e==null||(r=e[s])===null||r===void 0?void 0:r.value:void 0},fge=e=>e.tooltip.settings,Rl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},mge={itemInteraction:{click:Rl,hover:Rl},axisInteraction:{click:Rl,hover:Rl},keyboardInteraction:Rl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},kB=Ls({name:"tooltip",initialState:mge,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:vr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:s}=t.payload,a=ci(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=s)},prepare:vr()},removeTooltipEntrySettings:{reducer(e,t){var r=ci(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:vr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:pge,replaceTooltipEntrySettings:gge,removeTooltipEntrySettings:yge,setTooltipSettingsState:xge,setActiveMouseOverItemIndex:SB,mouseLeaveItem:vge,mouseLeaveChart:AB,setActiveClickItemIndex:bge,setMouseOverAxisIndex:CB,setMouseClickAxisIndex:wge,setSyncInteraction:ZN,setKeyboardInteraction:QN}=kB.actions,jge=kB.reducer;function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(s){Nge(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Nge(e,t,r){return(t=kge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kge(e){var t=Sge(e,"string");return typeof t=="symbol"?t:t+""}function Sge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Age(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Cge(e){return e.index!=null}var IB=(e,t,r,s)=>{if(t==null)return Rl;var a=Age(e,t,r);if(a==null)return Rl;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Cge(a)){if(i)return Kg(Kg({},a),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s,graphicalItemId:void 0};return Kg(Kg({},Rl),{},{coordinate:a.coordinate})};function Ige(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Pge(e,t){var r=Ige(e),s=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(s,a),o=Math.max(s,a);return r>=i&&r<=o}function Ege(e,t,r){if(r==null||t==null)return!0;var s=Qt(e,t);return s==null||!Zl(r)?!0:Pge(s,r)}var fA=(e,t,r,s)=>{var a=e?.index;if(a==null)return null;var i=Number(a);if(!gr(i))return a;var o=0,c=1/0;t.length>0&&(c=t.length-1);var u=Math.max(o,Math.min(i,c)),h=t[u];return h==null||Ege(h,r,s)?String(u):null},PB=(e,t,r,s,a,i,o,c)=>{if(!(i==null||c==null)){var u=o[0],h=u==null?void 0:c(u.positions,i);if(h!=null)return h;var f=a?.[Number(i)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(s.top+t)/2};default:return{x:(s.left+e)/2,y:f.coordinate}}}},EB=(e,t,r,s)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&s!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},cp=e=>e.options.tooltipPayloadSearcher,yh=e=>e.tooltip;function _D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function MD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(r),!0).forEach(function(s){Tge(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_D(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Tge(e,t,r){return(t=_ge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ge(e){var t=Mge(e,"string");return typeof t=="symbol"?t:t+""}function Mge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dge(e,t){return e??t}var TB=(e,t,r,s,a,i,o)=>{if(!(t==null||i==null)){var{chartData:c,computedData:u,dataStartIndex:h,dataEndIndex:f}=r,m=[];return e.reduce((y,b)=>{var v,{dataDefinedOnItem:N,settings:j}=b,k=Dge(N,c),I=Array.isArray(k)?fF(k,h,f):k,S=(v=j?.dataKey)!==null&&v!==void 0?v:s,O=j?.nameKey,P;if(s&&Array.isArray(I)&&!Array.isArray(I[0])&&o==="axis"?P=b9(I,s,a):P=i(I,t,u,O),Array.isArray(P))P.forEach(E=>{var C=MD(MD({},j),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});y.push(J_({tooltipEntrySettings:C,dataKey:E.dataKey,payload:E.payload,value:Qt(E.payload,E.dataKey),name:E.name}))});else{var R;y.push(J_({tooltipEntrySettings:j,dataKey:S,payload:P,value:Qt(P,S),name:(R=Qt(P,O))!==null&&R!==void 0?R:j?.name}))}return y},m)}},mA=ke([xn,Ct,X$,BS,yn],uB),Oge=ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Rge=ke([yn,fh],GS),up=ke([Oge,xn,Rge],KS,{memoizeOptions:{resultEqualityCheck:Kv}}),Lge=ke([up],e=>e.filter(qv)),Fge=ke([up],YS,{memoizeOptions:{resultEqualityCheck:Kv}}),xh=ke([Fge,ic],ZS),$ge=ke([Lge,ic,xn],Y$),pA=ke([xh,xn,up],XS),_B=ke([xn],JS),Bge=ke([xn],e=>e.allowDataOverflow),MB=ke([_B,Bge],A$),zge=ke([up],e=>e.filter(qv)),Vge=ke([$ge,zge,rp,V$],rB),Uge=ke([Vge,ic,yn,MB],nB),Wge=ke([up],eB),Hge=ke([xh,xn,Wge,Zv,yn],rA,{memoizeOptions:{resultEqualityCheck:Gv}}),qge=ke([sB,yn,fh],mh),Gge=ke([qge,yn],oB),Kge=ke([aB,yn,fh],mh),Yge=ke([Kge,yn],lB),Zge=ke([iB,yn,fh],mh),Qge=ke([Zge,yn],cB),Xge=ke([Gge,Qge,Yge],Px),Jge=ke([xn,_B,MB,Uge,Hge,Xge,Ct,yn],nA),dp=ke([xn,Ct,xh,pA,rp,yn,Jge],sA),eye=ke([dp,xn,mA],oA),tye=ke([xn,dp,eye,yn],cA),DB=e=>{var t=yn(e),r=fh(e),s=!1;return lp(e,t,r,s)},OB=ke([xn,DB],Uv),RB=ke([xn,mA,tye,OB],iA),rye=ke([Ct,pA,xn,yn],yB),nye=ke([Ct,pA,xn,yn],xB),sye=(e,t,r,s,a,i,o,c)=>{if(t){var{type:u}=t,h=no(e,c);if(s){var f=r==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,m=u==="category"&&s.bandwidth?s.bandwidth()/f:0;return m=c==="angleAxis"&&a!=null&&a?.length>=2?In(a[0]-a[1])*2*m:m,h&&o?o.map((y,b)=>({coordinate:s(y)+m,value:y,index:b,offset:m})):s.domain().map((y,b)=>({coordinate:s(y)+m,value:i?i[y]:y,index:b,offset:m}))}}},tl=ke([Ct,xn,mA,RB,DB,rye,nye,yn],sye),gA=ke([bB,wB,fge],(e,t,r)=>jB(r.shared,e,t)),LB=e=>e.tooltip.settings.trigger,yA=e=>e.tooltip.settings.defaultIndex,hp=ke([yh,gA,LB,yA],IB),Ql=ke([hp,xh,op,dp],fA),FB=ke([tl,Ql],NB),xA=ke([hp],e=>{if(e)return e.dataKey}),aye=ke([hp],e=>{if(e)return e.graphicalItemId}),$B=ke([yh,gA,LB,yA],EB),iye=ke([Zo,Qo,Ct,pn,tl,yA,$B,cp],PB),oye=ke([hp,iye],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),lye=ke([hp],e=>e.active),cye=ke([$B,Ql,ic,op,FB,cp,gA],TB),uye=ke([cye],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function DD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function OD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(r),!0).forEach(function(s){dye(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function dye(e,t,r){return(t=hye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hye(e){var t=fye(e,"string");return typeof t=="symbol"?t:t+""}function fye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mye=()=>Xe(xn),pye=()=>{var e=mye(),t=Xe(tl),r=Xe(RB);return Yl(!e||!r?void 0:OD(OD({},e),{},{scale:r}),t)};function RD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(r),!0).forEach(function(s){gye(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function gye(e,t,r){return(t=yye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yye(e){var t=xye(e,"string");return typeof t=="symbol"?t:t+""}function xye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vye=(e,t,r,s)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:s.chartY};if(e==="vertical")return{x:s.chartX,y:a.coordinate}}return{x:0,y:0}},bye=(e,t,r,s)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=s;return od(od(od({},s),tn(s.cx,s.cy,o,i)),{},{angle:i,radius:o})}var c=a.coordinate,{angle:u}=s;return od(od(od({},s),tn(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function wye(e,t){var{chartX:r,chartY:s}=e;return r>=t.left&&r<=t.left+t.width&&s>=t.top&&s<=t.top+t.height}var BB=(e,t,r,s,a)=>{var i,o=-1,c=(i=t?.length)!==null&&i!==void 0?i:0;if(c<=1||e==null)return 0;if(s==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<c;u++){var h=u>0?r[u-1].coordinate:r[c-1].coordinate,f=r[u].coordinate,m=u>=c-1?r[0].coordinate:r[u+1].coordinate,y=void 0;if(In(f-h)!==In(m-f)){var b=[];if(In(m-f)===In(a[1]-a[0])){y=m;var v=f+a[1]-a[0];b[0]=Math.min(v,(v+h)/2),b[1]=Math.max(v,(v+h)/2)}else{y=h;var N=m+a[1]-a[0];b[0]=Math.min(f,(N+f)/2),b[1]=Math.max(f,(N+f)/2)}var j=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(e>j[0]&&e<=j[1]||e>=b[0]&&e<=b[1]){({index:o}=r[u]);break}}else{var k=Math.min(h,m),I=Math.max(h,m);if(e>(k+f)/2&&e<=(I+f)/2){({index:o}=r[u]);break}}}else if(t){for(var S=0;S<c;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<c-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===c-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:o}=t[S]);break}}return o},zB=()=>Xe(BS),vA=(e,t)=>t,VB=(e,t,r)=>r,bA=(e,t,r,s)=>s,jye=ke(tl,e=>vv(e,t=>t.coordinate)),wA=ke([yh,vA,VB,bA],IB),jA=ke([wA,xh,op,dp],fA),Nye=(e,t,r)=>{if(t!=null){var s=yh(e);return t==="axis"?r==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:r==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},UB=ke([yh,vA,VB,bA],EB),Ex=ke([Zo,Qo,Ct,pn,tl,bA,UB,cp],PB),kye=ke([wA,Ex],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),WB=ke([tl,jA],NB),Sye=ke([UB,jA,ic,op,WB,cp,vA],TB),Aye=ke([wA,jA],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Cye=(e,t,r,s,a,i,o)=>{if(!(!e||!r||!s||!a)&&wye(e,o)){var c=Kce(e,t),u=BB(c,i,a,r,s),h=vye(t,a,u,e);return{activeIndex:String(u),activeCoordinate:h}}},Iye=(e,t,r,s,a,i,o)=>{if(!(!e||!s||!a||!i||!r)){var c=dhe(e,r);if(c){var u=Yce(c,t),h=BB(u,o,i,s,a),f=bye(t,i,h,c);return{activeIndex:String(h),activeCoordinate:f}}}},Pye=(e,t,r,s,a,i,o,c)=>{if(!(!e||!t||!s||!a||!i))return t==="horizontal"||t==="vertical"?Cye(e,t,s,a,i,o,c):Iye(e,t,r,s,a,i,o)},Eye=ke(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var s=e[t];if(s!=null)return r?s.panoramaElementId:s.elementId}}),Tye=ke(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(s=>parseInt(s,10)).concat(Object.values(qr)),r=Array.from(new Set(t));return r.sort((s,a)=>s-a)},{memoizeOptions:{resultEqualityCheck:mpe}});function LD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function FD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(r),!0).forEach(function(s){_ye(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function _ye(e,t,r){return(t=Mye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mye(e){var t=Dye(e,"string");return typeof t=="symbol"?t:t+""}function Dye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oye={},Rye={zIndexMap:Object.values(qr).reduce((e,t)=>FD(FD({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Oye)},Lye=new Set(Object.values(qr));function Fye(e){return Lye.has(e)}var HB=Ls({name:"zIndex",initialState:Rye,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:vr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Fye(r)&&delete e.zIndexMap[r])},prepare:vr()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:s,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=s:e.zIndexMap[r].elementId=s:e.zIndexMap[r]={consumers:0,elementId:a?void 0:s,panoramaElementId:a?s:void 0}},prepare:vr()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:vr()}}}),{registerZIndexPortal:$ye,unregisterZIndexPortal:Bye,registerZIndexPortalId:zye,unregisterZIndexPortalId:Vye}=HB.actions,Uye=HB.reducer;function vs(e){var{zIndex:t,children:r}=e,s=Cue(),a=s&&t!==void 0&&t!==0,i=En(),o=cr();p.useLayoutEffect(()=>a?(o($ye({zIndex:t})),()=>{o(Bye({zIndex:t}))}):Wm,[o,t,a]);var c=Xe(h=>Eye(h,t,i));if(!a)return r;if(!c)return null;var u=document.getElementById(c);return u?x2.createPortal(r,u):null}function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},XN.apply(null,arguments)}function $D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(r),!0).forEach(function(s){Wye(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$D(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Wye(e,t,r){return(t=Hye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hye(e){var t=qye(e,"string");return typeof t=="symbol"?t:t+""}function qye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gye(e){var{cursor:t,cursorComp:r,cursorProps:s}=e;return p.isValidElement(t)?p.cloneElement(t,s):p.createElement(r,s)}function Kye(e){var t,{coordinate:r,payload:s,index:a,offset:i,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:h,chartName:f}=e,m=r,y=s,b=a;if(!u||!m||f!=="ScatterChart"&&h!=="axis")return null;var v,N,j;if(f==="ScatterChart")v=m,N=Ade,j=qr.cursorLine;else if(f==="BarChart")v=Cde(c,m,i,o),N=BF,j=qr.cursorRectangle;else if(c==="radial"&&j9(m)){var{cx:k,cy:I,radius:S,startAngle:O,endAngle:P}=VF(m);v={cx:k,cy:I,startAngle:O,endAngle:P,innerRadius:S,outerRadius:S},N=WF,j=qr.cursorLine}else v={points:phe(c,m,i)},N=Ed,j=qr.cursorLine;var R=typeof u=="object"&&"className"in u?u.className:void 0,E=Yg(Yg(Yg(Yg({stroke:"#ccc",pointerEvents:"none"},i),v),du(u)),{},{payload:y,payloadIndex:b,className:Lt("recharts-tooltip-cursor",R)});return p.createElement(vs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:j},p.createElement(Gye,{cursor:u,cursorComp:N,cursorProps:E}))}function Yye(e){var t=pye(),r=kF(),s=bu(),a=zB();return t==null||r==null||s==null||a==null?null:p.createElement(Kye,XN({},e,{offset:r,layout:s,tooltipAxisBandSize:t,chartName:a}))}var qB=p.createContext(null),Zye=()=>p.useContext(qB),Gj={exports:{}},BD;function Qye(){return BD||(BD=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function i(u,h,f,m,y){if(typeof f!="function")throw new TypeError("The listener must be a function");var b=new a(f,m||u,y),v=r?r+h:h;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],b]:u._events[v].push(b):(u._events[v]=b,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new s:delete u._events[h]}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],f,m;if(this._eventsCount===0)return h;for(m in f=this._events)t.call(f,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},c.prototype.listeners=function(h){var f=r?r+h:h,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,b=m.length,v=new Array(b);y<b;y++)v[y]=m[y].fn;return v},c.prototype.listenerCount=function(h){var f=r?r+h:h,m=this._events[f];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,f,m,y,b,v){var N=r?r+h:h;if(!this._events[N])return!1;var j=this._events[N],k=arguments.length,I,S;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),k){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,f),!0;case 3:return j.fn.call(j.context,f,m),!0;case 4:return j.fn.call(j.context,f,m,y),!0;case 5:return j.fn.call(j.context,f,m,y,b),!0;case 6:return j.fn.call(j.context,f,m,y,b,v),!0}for(S=1,I=new Array(k-1);S<k;S++)I[S-1]=arguments[S];j.fn.apply(j.context,I)}else{var O=j.length,P;for(S=0;S<O;S++)switch(j[S].once&&this.removeListener(h,j[S].fn,void 0,!0),k){case 1:j[S].fn.call(j[S].context);break;case 2:j[S].fn.call(j[S].context,f);break;case 3:j[S].fn.call(j[S].context,f,m);break;case 4:j[S].fn.call(j[S].context,f,m,y);break;default:if(!I)for(P=1,I=new Array(k-1);P<k;P++)I[P-1]=arguments[P];j[S].fn.apply(j[S].context,I)}}return!0},c.prototype.on=function(h,f,m){return i(this,h,f,m,!1)},c.prototype.once=function(h,f,m){return i(this,h,f,m,!0)},c.prototype.removeListener=function(h,f,m,y){var b=r?r+h:h;if(!this._events[b])return this;if(!f)return o(this,b),this;var v=this._events[b];if(v.fn)v.fn===f&&(!y||v.once)&&(!m||v.context===m)&&o(this,b);else{for(var N=0,j=[],k=v.length;N<k;N++)(v[N].fn!==f||y&&!v[N].once||m&&v[N].context!==m)&&j.push(v[N]);j.length?this._events[b]=j.length===1?j[0]:j:o(this,b)}return this},c.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&o(this,f)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(Gj)),Gj.exports}var Xye=Qye();const Jye=ia(Xye);var vm=new Jye,JN="recharts.syncEvent.tooltip",zD="recharts.syncEvent.brush";function Jv(e,t){if(t){var r=Number.parseInt(t,10);if(!Ea(r))return e?.[r]}}var exe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},GB=Ls({name:"options",initialState:exe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),txe=GB.reducer,{createEventEmitter:rxe}=GB.actions;function nxe(e){return e.tooltip.syncInteraction}var sxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KB=Ls({name:"chartData",initialState:sxe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:s}=t.payload;r!=null&&(e.dataStartIndex=r),s!=null&&(e.dataEndIndex=s)}}}),{setChartData:VD,setDataStartEndIndexes:axe,setComputedData:PSe}=KB.actions,ixe=KB.reducer,oxe=["x","y"];function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(s){lxe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function lxe(e,t,r){return(t=cxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cxe(e){var t=uxe(e,"string");return typeof t=="symbol"?t:t+""}function uxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dxe(e,t){if(e==null)return{};var r,s,a=hxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hxe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function fxe(){var e=Xe(zS),t=Xe(VS),r=cr(),s=Xe(U$),a=Xe(tl),i=bu(),o=_v(),c=Xe(u=>u.rootProps.className);p.useEffect(()=>{if(e==null)return Wm;var u=(h,f,m)=>{if(t!==m&&e===h){if(s==="index"){var y;if(o&&f!==null&&f!==void 0&&(y=f.payload)!==null&&y!==void 0&&y.coordinate&&f.payload.sourceViewBox){var b=f.payload.coordinate,{x:v,y:N}=b,j=dxe(b,oxe),{x:k,y:I,width:S,height:O}=f.payload.sourceViewBox,P=ld(ld({},j),{},{x:o.x+(S?(v-k)/S:0)*o.width,y:o.y+(O?(N-I)/O:0)*o.height});r(ld(ld({},f),{},{payload:ld(ld({},f.payload),{},{coordinate:P})}))}else r(f);return}if(a!=null){var R;if(typeof s=="function"){var E={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},C=s(a,E);R=a[C]}else s==="value"&&(R=a.find(V=>String(V.value)===f.payload.label));var{coordinate:F}=f.payload;if(R==null||f.payload.active===!1||F==null||o==null){r(ZN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:D}=F,M=Math.min(L,o.x+o.width),$=Math.min(D,o.y+o.height),ee={x:i==="horizontal"?R.coordinate:M,y:i==="horizontal"?$:R.coordinate},q=ZN({active:f.payload.active,coordinate:ee,dataKey:f.payload.dataKey,index:String(R.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});r(q)}}};return vm.on(JN,u),()=>{vm.off(JN,u)}},[c,r,t,e,s,a,i,o])}function mxe(){var e=Xe(zS),t=Xe(VS),r=cr();p.useEffect(()=>{if(e==null)return Wm;var s=(a,i,o)=>{t!==o&&e===a&&r(axe(i))};return vm.on(zD,s),()=>{vm.off(zD,s)}},[r,t,e])}function pxe(){var e=cr();p.useEffect(()=>{e(rxe())},[e]),fxe(),mxe()}function gxe(e,t,r,s,a,i){var o=Xe(b=>Nye(b,e,t)),c=Xe(VS),u=Xe(zS),h=Xe(U$),f=Xe(nxe),m=f?.active,y=_v();p.useEffect(()=>{if(!m&&u!=null&&c!=null){var b=ZN({active:i,coordinate:r,dataKey:o,index:a,label:typeof s=="number"?String(s):s,sourceViewBox:y,graphicalItemId:void 0});vm.emit(JN,u,b,c)}},[m,r,o,a,s,c,u,h,i,y])}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function HD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(s){yxe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yxe(e,t,r){return(t=xxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xxe(e){var t=vxe(e,"string");return typeof t=="symbol"?t:t+""}function vxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bxe(e){return e.dataKey}function wxe(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(ade,t)}var qD=[],jxe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ka(e){var t,r,s=zr(e,jxe),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:c,content:u,filterNull:h,isAnimationActive:f,offset:m,payloadUniqBy:y,position:b,reverseDirection:v,useTranslate3d:N,wrapperStyle:j,cursor:k,shared:I,trigger:S,defaultIndex:O,portal:P,axisId:R}=s,E=cr(),C=typeof O=="number"?String(O):O;p.useEffect(()=>{E(xge({shared:I,trigger:S,axisId:R,active:a,defaultIndex:C}))},[E,I,S,R,a,C]);var F=_v(),L=OF(),D=hge(I),{activeIndex:M,isActive:$}=(t=Xe(fe=>Aye(fe,D,S,C)))!==null&&t!==void 0?t:{},ee=Xe(fe=>Sye(fe,D,S,C)),q=Xe(fe=>WB(fe,D,S,C)),V=Xe(fe=>kye(fe,D,S,C)),re=ee,U=Zye(),te=(r=a??$)!==null&&r!==void 0?r:!1,[ie,H]=L9([re,te]),z=D==="axis"?q:void 0;gxe(D,S,V,z,M,te);var ge=P??U;if(ge==null||F==null||D==null)return null;var le=re??qD;te||(le=qD),h&&le.length&&(le=_9(le.filter(fe=>fe.value!=null&&(fe.hide!==!0||s.includeHidden)),y,bxe));var Pe=le.length>0,Ae=p.createElement(hde,{allowEscapeViewBox:i,animationDuration:o,animationEasing:c,isAnimationActive:f,active:te,coordinate:V,hasPayload:Pe,offset:m,position:b,reverseDirection:v,useTranslate3d:N,viewBox:F,wrapperStyle:j,lastBoundingBox:ie,innerRef:H,hasPortalFromProps:!!P},wxe(u,HD(HD({},s),{},{payload:le,label:z,active:te,activeIndex:M,coordinate:V,accessibilityLayer:L})));return p.createElement(p.Fragment,null,x2.createPortal(Ae,ge),te&&p.createElement(Yye,{cursor:k,tooltipEventType:D,coordinate:V,payload:le,index:M}))}var Nu=e=>null;Nu.displayName="Cell";function Nxe(e,t,r){return(t=kxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kxe(e){var t=Sxe(e,"string");return typeof t=="symbol"?t:t+""}function Sxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Axe{constructor(t){Nxe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var s=this.cache.keys().next().value;s!=null&&this.cache.delete(s)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function GD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Cxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(r),!0).forEach(function(s){Ixe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ixe(e,t,r){return(t=Pxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pxe(e){var t=Exe(e,"string");return typeof t=="symbol"?t:t+""}function Exe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Txe={cacheSize:2e3,enableCache:!0},YB=Cxe({},Txe),KD=new Axe(YB.cacheSize),_xe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YD="recharts_measurement_span";function Mxe(e,t){var r=t.fontSize||"",s=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(s,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(c)}var ZD=(e,t)=>{try{var r=document.getElementById(YD);r||(r=document.createElement("span"),r.setAttribute("id",YD),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,_xe,t),r.textContent="".concat(e);var s=r.getBoundingClientRect();return{width:s.width,height:s.height}}catch{return{width:0,height:0}}},Bf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||oh.isSsr)return{width:0,height:0};if(!YB.enableCache)return ZD(t,r);var s=Mxe(t,r),a=KD.get(s);if(a)return a;var i=ZD(t,r);return KD.set(s,i),i},QD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Oxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ZB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rxe=Object.keys(ZB),vd="NaN";function Lxe(e,t){return e*ZB[t]}class Ts{static parse(t){var r,[,s,a]=(r=Oxe.exec(t))!==null&&r!==void 0?r:[];return new Ts(parseFloat(s),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ea(t)&&(this.unit=""),r!==""&&!Dxe.test(r)&&(this.num=NaN,this.unit=""),Rxe.includes(r)&&(this.num=Lxe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ts(NaN,""):new Ts(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ts(NaN,""):new Ts(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ts(NaN,""):new Ts(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ts(NaN,""):new Ts(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ea(this.num)}}function QB(e){if(e.includes(vd))return vd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,s,a,i]=(r=QD.exec(t))!==null&&r!==void 0?r:[],o=Ts.parse(s??""),c=Ts.parse(i??""),u=a==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return vd;t=t.replace(QD,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,f,m,y]=(h=XD.exec(t))!==null&&h!==void 0?h:[],b=Ts.parse(f??""),v=Ts.parse(y??""),N=m==="+"?b.add(v):b.subtract(v);if(N.isNaN())return vd;t=t.replace(XD,N.toString())}return t}var JD=/\(([^()]*)\)/;function Fxe(e){for(var t=e,r;(r=JD.exec(t))!=null;){var[,s]=r;t=t.replace(JD,QB(s))}return t}function $xe(e){var t=e.replace(/\s+/g,"");return t=Fxe(t),t=QB(t),t}function Bxe(e){try{return $xe(e)}catch{return vd}}function Kj(e){var t=Bxe(e.slice(5,-1));return t===vd?"":t}var zxe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Vxe=["dx","dy","angle","className","breakAll"];function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},e2.apply(null,arguments)}function eO(e,t){if(e==null)return{};var r,s,a=Uxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uxe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var XB=/[ \f\n\r\t\v\u2028\u2029]+/,JB=e=>{var{children:t,breakAll:r,style:s}=e;try{var a=[];pr(t)||(r?a=t.toString().split(""):a=t.toString().split(XB));var i=a.map(c=>({word:c,width:Bf(c,s).width})),o=r?0:Bf("",s).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function Wxe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var e8=(e,t,r,s)=>e.reduce((a,i)=>{var{word:o,width:c}=i,u=a[a.length-1];if(u&&c!=null&&(t==null||s||u.width+c+r<Number(t)))u.words.push(o),u.width+=c+r;else{var h={words:[o],width:c};a.push(h)}return a},[]),t8=e=>e.reduce((t,r)=>t.width>r.width?t:r),Hxe="",tO=(e,t,r,s,a,i,o,c)=>{var u=e.slice(0,t),h=JB({breakAll:r,style:s,children:u+Hxe});if(!h)return[!1,[]];var f=e8(h.wordsWithComputedWidth,i,o,c),m=f.length>a||t8(f).width>Number(i);return[m,f]},qxe=(e,t,r,s,a)=>{var{maxLines:i,children:o,style:c,breakAll:u}=e,h=Qe(i),f=String(o),m=e8(t,s,r,a);if(!h||a)return m;var y=m.length>i||t8(m).width>Number(s);if(!y)return m;for(var b=0,v=f.length-1,N=0,j;b<=v&&N<=f.length-1;){var k=Math.floor((b+v)/2),I=k-1,[S,O]=tO(f,I,u,c,i,s,r,a),[P]=tO(f,k,u,c,i,s,r,a);if(!S&&!P&&(b=k+1),S&&P&&(v=k-1),!S&&P){j=O;break}N++}return j||m},rO=e=>{var t=pr(e)?[]:e.toString().split(XB);return[{words:t,width:void 0}]},Gxe=e=>{var{width:t,scaleToFit:r,children:s,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!oh.isSsr){var c,u,h=JB({breakAll:i,children:s,style:a});if(h){var{wordsWithComputedWidth:f,spaceWidth:m}=h;c=f,u=m}else return rO(s);return qxe({breakAll:i,children:s,maxLines:o,style:a},c,u,t,!!r)}return rO(s)},r8="#808080",Kxe={angle:0,breakAll:!1,capHeight:"0.71em",fill:r8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},e0=p.forwardRef((e,t)=>{var r=zr(e,Kxe),{x:s,y:a,lineHeight:i,capHeight:o,fill:c,scaleToFit:u,textAnchor:h,verticalAnchor:f}=r,m=eO(r,zxe),y=p.useMemo(()=>Gxe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:b,dy:v,angle:N,className:j,breakAll:k}=m,I=eO(m,Vxe);if(!Qi(s)||!Qi(a)||y.length===0)return null;var S=Number(s)+(Qe(b)?b:0),O=Number(a)+(Qe(v)?v:0);if(!gr(S)||!gr(O))return null;var P;switch(f){case"start":P=Kj("calc(".concat(o,")"));break;case"middle":P=Kj("calc(".concat((y.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:P=Kj("calc(".concat(y.length-1," * -").concat(i,")"));break}var R=[];if(u){var E=y[0].width,{width:C}=m;R.push("scale(".concat(Qe(C)&&Qe(E)?C/E:1,")"))}return N&&R.push("rotate(".concat(N,", ").concat(S,", ").concat(O,")")),R.length&&(I.transform=R.join(" ")),p.createElement("text",e2({},as(I),{ref:t,x:S,y:O,className:Lt("recharts-text",j),textAnchor:h,fill:c.includes("url")?r8:c}),y.map((F,L)=>{var D=F.words.join(k?"":" ");return p.createElement("tspan",{x:S,dy:L===0?P:i,key:"".concat(D,"-").concat(L)},D)}))});e0.displayName="Text";var Yxe=["labelRef"];function Zxe(e,t){if(e==null)return{};var r,s,a=Qxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qxe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(s){Xxe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Xxe(e,t,r){return(t=Jxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jxe(e){var t=eve(e,"string");return typeof t=="symbol"?t:t+""}function eve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},So.apply(null,arguments)}var n8=p.createContext(null),tve=e=>{var{x:t,y:r,upperWidth:s,lowerWidth:a,width:i,height:o,children:c}=e,u=p.useMemo(()=>({x:t,y:r,upperWidth:s,lowerWidth:a,width:i,height:o}),[t,r,s,a,i,o]);return p.createElement(n8.Provider,{value:u},c)},s8=()=>{var e=p.useContext(n8),t=_v();return e||NF(t)},rve=p.createContext(null),nve=()=>{var e=p.useContext(rve),t=Xe(K$);return e||t},sve=e=>{var{value:t,formatter:r}=e,s=pr(e.children)?t:e.children;return typeof r=="function"?r(s):s},NA=e=>e!=null&&typeof e=="function",ave=(e,t)=>{var r=In(t-e),s=Math.min(Math.abs(t-e),360);return r*s},ive=(e,t,r,s,a)=>{var{offset:i,className:o}=e,{cx:c,cy:u,innerRadius:h,outerRadius:f,startAngle:m,endAngle:y,clockWise:b}=a,v=(h+f)/2,N=ave(m,y),j=N>=0?1:-1,k,I;switch(t){case"insideStart":k=m+j*i,I=b;break;case"insideEnd":k=y-j*i,I=!b;break;case"end":k=y+j*i,I=b;break;default:throw new Error("Unsupported position ".concat(t))}I=N<=0?I:!I;var S=tn(c,u,v,k),O=tn(c,u,v,k+(I?1:-1)*359),P="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(I?0:1,`,
    `).concat(O.x,",").concat(O.y),R=pr(e.id)?am("recharts-radial-line-"):e.id;return p.createElement("text",So({},s,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:R,d:P})),p.createElement("textPath",{xlinkHref:"#".concat(R)},r))},ove=(e,t,r)=>{var{cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}=e,h=(c+u)/2;if(r==="outside"){var{x:f,y:m}=tn(s,a,o+t,h);return{x:f,y:m,textAnchor:f>=s?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(i+o)/2,{x:b,y:v}=tn(s,a,y,h);return{x:b,y:v,textAnchor:"middle",verticalAnchor:"middle"}},t2=e=>"cx"in e&&Qe(e.cx),lve=(e,t)=>{var{parentViewBox:r,offset:s,position:a}=e,i;r!=null&&!t2(r)&&(i=r);var{x:o,y:c,upperWidth:u,lowerWidth:h,height:f}=t,m=o,y=o+(u-h)/2,b=(m+y)/2,v=(u+h)/2,N=m+u/2,j=f>=0?1:-1,k=j*s,I=j>0?"end":"start",S=j>0?"start":"end",O=u>=0?1:-1,P=O*s,R=O>0?"end":"start",E=O>0?"start":"end";if(a==="top"){var C={x:m+u/2,y:c-k,textAnchor:"middle",verticalAnchor:I};return Hr(Hr({},C),i?{height:Math.max(c-i.y,0),width:u}:{})}if(a==="bottom"){var F={x:y+h/2,y:c+f+k,textAnchor:"middle",verticalAnchor:S};return Hr(Hr({},F),i?{height:Math.max(i.y+i.height-(c+f),0),width:h}:{})}if(a==="left"){var L={x:b-P,y:c+f/2,textAnchor:R,verticalAnchor:"middle"};return Hr(Hr({},L),i?{width:Math.max(L.x-i.x,0),height:f}:{})}if(a==="right"){var D={x:b+v+P,y:c+f/2,textAnchor:E,verticalAnchor:"middle"};return Hr(Hr({},D),i?{width:Math.max(i.x+i.width-D.x,0),height:f}:{})}var M=i?{width:v,height:f}:{};return a==="insideLeft"?Hr({x:b+P,y:c+f/2,textAnchor:E,verticalAnchor:"middle"},M):a==="insideRight"?Hr({x:b+v-P,y:c+f/2,textAnchor:R,verticalAnchor:"middle"},M):a==="insideTop"?Hr({x:m+u/2,y:c+k,textAnchor:"middle",verticalAnchor:S},M):a==="insideBottom"?Hr({x:y+h/2,y:c+f-k,textAnchor:"middle",verticalAnchor:I},M):a==="insideTopLeft"?Hr({x:m+P,y:c+k,textAnchor:E,verticalAnchor:S},M):a==="insideTopRight"?Hr({x:m+u-P,y:c+k,textAnchor:R,verticalAnchor:S},M):a==="insideBottomLeft"?Hr({x:y+P,y:c+f-k,textAnchor:E,verticalAnchor:I},M):a==="insideBottomRight"?Hr({x:y+h-P,y:c+f-k,textAnchor:R,verticalAnchor:I},M):a&&typeof a=="object"&&(Qe(a.x)||zo(a.x))&&(Qe(a.y)||zo(a.y))?Hr({x:o+ns(a.x,v),y:c+ns(a.y,f),textAnchor:"end",verticalAnchor:"end"},M):Hr({x:N,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},M)},cve={angle:0,offset:5,zIndex:qr.label,position:"middle",textBreakAll:!1};function Tl(e){var t=zr(e,cve),{viewBox:r,position:s,value:a,children:i,content:o,className:c="",textBreakAll:u,labelRef:h}=t,f=nve(),m=s8(),y=s==="center"?m:f??m,b,v,N;if(r==null?b=y:t2(r)?b=r:b=NF(r),!b||pr(a)&&pr(i)&&!p.isValidElement(o)&&typeof o!="function")return null;var j=Hr(Hr({},t),{},{viewBox:b});if(p.isValidElement(o)){var{labelRef:k}=j,I=Zxe(j,Yxe);return p.cloneElement(o,I)}if(typeof o=="function"){if(v=p.createElement(o,j),p.isValidElement(v))return v}else v=sve(t);var S=as(t);if(t2(b)){if(s==="insideStart"||s==="insideEnd"||s==="end")return ive(t,s,v,S,b);N=ove(b,t.offset,t.position)}else N=lve(t,b);return p.createElement(vs,{zIndex:t.zIndex},p.createElement(e0,So({ref:h,className:Lt("recharts-label",c)},S,N,{textAnchor:Wxe(S.textAnchor)?S.textAnchor:N.textAnchor,breakAll:u}),v))}Tl.displayName="Label";var uve=(e,t,r)=>{if(!e)return null;var s={viewBox:t,labelRef:r};return e===!0?p.createElement(Tl,So({key:"label-implicit"},s)):Qi(e)?p.createElement(Tl,So({key:"label-implicit",value:e},s)):p.isValidElement(e)?e.type===Tl?p.cloneElement(e,Hr({key:"label-implicit"},s)):p.createElement(Tl,So({key:"label-implicit",content:e},s)):NA(e)?p.createElement(Tl,So({key:"label-implicit",content:e},s)):e&&typeof e=="object"?p.createElement(Tl,So({},e,{key:"label-implicit"},s)):null};function dve(e){var{label:t,labelRef:r}=e,s=s8();return uve(t,s,r)||null}var Yj={},Zj={},sO;function hve(){return sO||(sO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Zj)),Zj}var Qj={},aO;function fve(){return aO||(aO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Qj)),Qj}var iO;function mve(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hve(),r=fve(),s=Xk();function a(i){if(s.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Yj)),Yj}var Xj,oO;function pve(){return oO||(oO=1,Xj=mve().last),Xj}var gve=pve();const yve=ia(gve);var xve=["valueAccessor"],vve=["dataKey","clockWise","id","textBreakAll","zIndex"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Tx.apply(null,arguments)}function lO(e,t){if(e==null)return{};var r,s,a=bve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bve(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var wve=e=>Array.isArray(e.value)?yve(e.value):e.value,a8=p.createContext(void 0),kA=a8.Provider,i8=p.createContext(void 0),jve=i8.Provider;function Nve(){return p.useContext(a8)}function kve(){return p.useContext(i8)}function xy(e){var{valueAccessor:t=wve}=e,r=lO(e,xve),{dataKey:s,clockWise:a,id:i,textBreakAll:o,zIndex:c}=r,u=lO(r,vve),h=Nve(),f=kve(),m=h||f;return!m||!m.length?null:p.createElement(vs,{zIndex:c??qr.label},p.createElement(Br,{className:"recharts-label-list"},m.map((y,b)=>{var v,N=pr(s)?t(y,b):Qt(y&&y.payload,s),j=pr(i)?{}:{id:"".concat(i,"-").concat(b)};return p.createElement(Tl,Tx({key:"label-".concat(b)},as(y),u,j,{fill:(v=r.fill)!==null&&v!==void 0?v:y.fill,parentViewBox:y.parentViewBox,value:N,textBreakAll:o,viewBox:y.viewBox,index:b,zIndex:0}))})))}xy.displayName="LabelList";function t0(e){var{label:t}=e;return t?t===!0?p.createElement(xy,{key:"labelList-implicit"}):p.isValidElement(t)||NA(t)?p.createElement(xy,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(xy,Tx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function r2(){return r2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},r2.apply(null,arguments)}var o8=e=>{var{cx:t,cy:r,r:s,className:a}=e,i=Lt("recharts-dot",a);return Qe(t)&&Qe(r)&&Qe(s)?p.createElement("circle",r2({},ys(e),Qk(e),{className:i,cx:t,cy:r,r:s})):null},l8=e=>e.graphicalItems.polarItems,Sve=ke([Nr,np],GS),r0=ke([l8,Er,Sve],KS),Ave=ke([r0],YS),n0=ke([Ave,LS],ZS),Cve=ke([n0,Er,r0],XS);ke([n0,Er,r0],(e,t,r)=>r.length>0?e.flatMap(s=>r.flatMap(a=>{var i,o=Qt(s,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(s=>({value:Qt(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})));var cO=()=>{},Ive=ke([n0,Er,r0,Zv,Nr],rA),Pve=ke([Er,eA,tA,cO,Ive,cO,Ct,Nr],nA),c8=ke([Er,Ct,n0,Cve,rp,Nr,Pve],sA),Eve=ke([c8,Er,ph],oA);ke([Er,c8,Eve,Nr],cA);var Tve={radiusAxis:{},angleAxis:{}},u8=Ls({name:"polarAxis",initialState:Tve,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ESe,removeRadiusAxis:TSe,addAngleAxis:_Se,removeAngleAxis:MSe}=u8.actions,_ve=u8.reducer;function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function dO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(s){Mve(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Mve(e,t,r){return(t=Dve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dve(e){var t=Ove(e,"string");return typeof t=="symbol"?t:t+""}function Ove(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rve=(e,t)=>t,SA=ke([l8,Rve],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Lve=[],AA=(e,t,r)=>r?.length===0?Lve:r,d8=ke([LS,SA,AA],(e,t,r)=>{var{chartData:s}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=s,(!a||!a.length)&&r!=null&&(a=r.map(i=>dO(dO({},t.presentationProps),i.props))),a!=null)return a}}),Fve=ke([d8,SA,AA],(e,t,r)=>{if(!(e==null||t==null))return e.map((s,a)=>{var i,o=Qt(s,t.nameKey,t.name),c;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=r[a].props.fill:typeof s=="object"&&s!=null&&"fill"in s?c=s.fill:c=t.fill,{value:nc(o,t.dataKey),color:c,payload:s,type:t.legendType}})}),$ve=ke([d8,SA,AA,pn],(e,t,r,s)=>{if(!(t==null||e==null))return B0e({offset:s,pieSettings:t,displayedData:e,cells:r})}),Jj={exports:{}},Jt={};var hO;function Bve(){if(hO)return Jt;hO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function v(N){if(typeof N=="object"&&N!==null){var j=N.$$typeof;switch(j){case e:switch(N=N.type,N){case r:case a:case s:case u:case h:case y:return N;default:switch(N=N&&N.$$typeof,N){case o:case c:case m:case f:return N;case i:return N;default:return j}}case t:return j}}}return Jt.ContextConsumer=i,Jt.ContextProvider=o,Jt.Element=e,Jt.ForwardRef=c,Jt.Fragment=r,Jt.Lazy=m,Jt.Memo=f,Jt.Portal=t,Jt.Profiler=a,Jt.StrictMode=s,Jt.Suspense=u,Jt.SuspenseList=h,Jt.isContextConsumer=function(N){return v(N)===i},Jt.isContextProvider=function(N){return v(N)===o},Jt.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Jt.isForwardRef=function(N){return v(N)===c},Jt.isFragment=function(N){return v(N)===r},Jt.isLazy=function(N){return v(N)===m},Jt.isMemo=function(N){return v(N)===f},Jt.isPortal=function(N){return v(N)===t},Jt.isProfiler=function(N){return v(N)===a},Jt.isStrictMode=function(N){return v(N)===s},Jt.isSuspense=function(N){return v(N)===u},Jt.isSuspenseList=function(N){return v(N)===h},Jt.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===a||N===s||N===u||N===h||typeof N=="object"&&N!==null&&(N.$$typeof===m||N.$$typeof===f||N.$$typeof===o||N.$$typeof===i||N.$$typeof===c||N.$$typeof===b||N.getModuleId!==void 0)},Jt.typeOf=v,Jt}var fO;function zve(){return fO||(fO=1,Jj.exports=Bve()),Jj.exports}var Vve=zve(),mO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",pO=null,e1=null,h8=e=>{if(e===pO&&Array.isArray(e1))return e1;var t=[];return p.Children.forEach(e,r=>{pr(r)||(Vve.isFragment(r)?t=t.concat(h8(r.props.children)):t.push(r))}),e1=t,pO=e,t};function CA(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(a=>mO(a)):s=[mO(t)],h8(e).forEach(a=>{var i=hu(a,"type.displayName")||hu(a,"type.name");i&&s.indexOf(i)!==-1&&r.push(a)}),r}var IA=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,t1={},gO;function Uve(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let s=r;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(r)===s}e.isPlainObject=t})(t1)),t1}var r1,yO;function Wve(){return yO||(yO=1,r1=Uve().isPlainObject),r1}var Hve=Wve();const qve=ia(Hve);function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(s){Gve(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Gve(e,t,r){return(t=Kve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kve(e){var t=Yve(e,"string");return typeof t=="symbol"?t:t+""}function Yve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_x.apply(null,arguments)}var bO=(e,t,r,s,a)=>{var i=r-s,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-s,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},Zve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qve=e=>{var t=zr(e,Zve),{x:r,y:s,upperWidth:a,lowerWidth:i,height:o,className:c}=t,{animationEasing:u,animationDuration:h,animationBegin:f,isUpdateAnimationActive:m}=t,y=p.useRef(null),[b,v]=p.useState(-1),N=p.useRef(a),j=p.useRef(i),k=p.useRef(o),I=p.useRef(r),S=p.useRef(s),O=ch(e,"trapezoid-");if(p.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ee=y.current.getTotalLength();ee&&v(ee)}catch{}},[]),r!==+r||s!==+s||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var P=Lt("recharts-trapezoid",c);if(!m)return p.createElement("g",null,p.createElement("path",_x({},as(t),{className:P,d:bO(r,s,a,i,o)})));var R=N.current,E=j.current,C=k.current,F=I.current,L=S.current,D="0px ".concat(b===-1?1:b,"px"),M="".concat(b,"px 0px"),$=RF(["strokeDasharray"],h,u);return p.createElement(lh,{animationId:O,key:O,canBegin:b>0,duration:h,easing:u,isActive:m,begin:f},ee=>{var q=qt(R,a,ee),V=qt(E,i,ee),re=qt(C,o,ee),U=qt(F,r,ee),te=qt(L,s,ee);y.current&&(N.current=q,j.current=V,k.current=re,I.current=U,S.current=te);var ie=ee>0?{transition:$,strokeDasharray:M}:{strokeDasharray:D};return p.createElement("path",_x({},as(t),{className:P,d:bO(U,te,q,V,re),ref:y,style:vO(vO({},ie),t.style)}))})},Xve=["option","shapeType","propTransformer","activeClassName"];function Jve(e,t){if(e==null)return{};var r,s,a=e0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function e0e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Mx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(s){t0e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function t0e(e,t,r){return(t=r0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r0e(e){var t=n0e(e,"string");return typeof t=="symbol"?t:t+""}function n0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0e(e,t){return Mx(Mx({},t),e)}function a0e(e,t){return e==="symbols"}function jO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(BF,r);case"trapezoid":return p.createElement(Qve,r);case"sector":return p.createElement(WF,r);case"symbols":if(a0e(t))return p.createElement(Zk,r);break;case"curve":return p.createElement(Ed,r);default:return null}}function i0e(e){return p.isValidElement(e)?e.props:e}function PA(e){var{option:t,shapeType:r,propTransformer:s=s0e,activeClassName:a="recharts-active-shape"}=e,i=Jve(e,Xve),o;if(p.isValidElement(t))o=p.cloneElement(t,Mx(Mx({},i),i0e(t)));else if(typeof t=="function")o=t(i,i.index);else if(qve(t)&&typeof t!="boolean"){var c=s(t,i);o=p.createElement(jO,{shapeType:r,elementProps:c})}else{var u=i;o=p.createElement(jO,{shapeType:r,elementProps:u})}return i.isActive?p.createElement(Br,{className:a},o):o}var EA=(e,t,r)=>{var s=cr();return(a,i)=>o=>{e?.(a,i,o),s(SB({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},TA=e=>{var t=cr();return(r,s)=>a=>{e?.(r,s,a),t(vge())}},_A=(e,t,r)=>{var s=cr();return(a,i)=>o=>{e?.(a,i,o),s(bge({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function s0(e){var{tooltipEntrySettings:t}=e,r=cr(),s=En(),a=p.useRef(null);return p.useLayoutEffect(()=>{s||(a.current===null?r(pge(t)):a.current!==t&&r(gge({prev:a.current,next:t})),a.current=t)},[t,r,s]),p.useLayoutEffect(()=>()=>{a.current&&(r(yge(a.current)),a.current=null)},[r]),null}function MA(e){var{legendPayload:t}=e,r=cr(),s=En(),a=p.useRef(null);return p.useLayoutEffect(()=>{s||(a.current===null?r(_F(t)):a.current!==t&&r(MF({prev:a.current,next:t})),a.current=t)},[r,s,t]),p.useLayoutEffect(()=>()=>{a.current&&(r(DF(a.current)),a.current=null)},[r]),null}function o0e(e){var{legendPayload:t}=e,r=cr(),s=Xe(Ct),a=p.useRef(null);return p.useLayoutEffect(()=>{s!=="centric"&&s!=="radial"||(a.current===null?r(_F(t)):a.current!==t&&r(MF({prev:a.current,next:t})),a.current=t)},[r,s,t]),p.useLayoutEffect(()=>()=>{a.current&&(r(DF(a.current)),a.current=null)},[r]),null}var n1,l0e=()=>{var[e]=p.useState(()=>am("uid-"));return e},c0e=(n1=wV.useId)!==null&&n1!==void 0?n1:l0e;function f8(e,t){var r=c0e();return t||(e?"".concat(e,"-").concat(r):r)}var u0e=p.createContext(void 0),a0=e=>{var{id:t,type:r,children:s}=e,a=f8("recharts-".concat(r),t);return p.createElement(u0e.Provider,{value:a},s(a))},d0e={cartesianItems:[],polarItems:[]},m8=Ls({name:"graphicalItems",initialState:d0e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:vr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:s}=t.payload,a=ci(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=s)},prepare:vr()},removeCartesianGraphicalItem:{reducer(e,t){var r=ci(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:vr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:vr()},removePolarGraphicalItem:{reducer(e,t){var r=ci(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:vr()}}}),{addCartesianGraphicalItem:h0e,replaceCartesianGraphicalItem:f0e,removeCartesianGraphicalItem:m0e,addPolarGraphicalItem:p0e,removePolarGraphicalItem:g0e}=m8.actions,y0e=m8.reducer,x0e=e=>{var t=cr(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(h0e(e)):r.current!==e&&t(f0e({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(m0e(r.current)),r.current=null)},[t]),null},DA=p.memo(x0e);function v0e(e){var t=cr();return p.useLayoutEffect(()=>(t(p0e(e)),()=>{t(g0e(e))}),[t,e]),null}var b0e=["key"],w0e=["onMouseEnter","onClick","onMouseLeave"],j0e=["id"],N0e=["id"];function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(s){k0e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function k0e(e,t,r){return(t=S0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S0e(e){var t=A0e(e,"string");return typeof t=="symbol"?t:t+""}function A0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xl.apply(null,arguments)}function i0(e,t){if(e==null)return{};var r,s,a=C0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function C0e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function I0e(e){var t=p.useMemo(()=>CA(e.children,Nu),[e.children]),r=Xe(s=>Fve(s,e.id,t));return r==null?null:p.createElement(o0e,{legendPayload:r})}var P0e=p.memo(e=>{var{dataKey:t,nameKey:r,sectors:s,stroke:a,strokeWidth:i,fill:o,name:c,hide:u,tooltipType:h}=e,f={dataDefinedOnItem:s.map(m=>m.tooltipPayload),positions:s.map(m=>m.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:nc(c,t),hide:u,type:h,color:o,unit:""}};return p.createElement(s0,{tooltipEntrySettings:f})}),E0e=(e,t)=>e>t?"start":e<t?"end":"middle",T0e=(e,t,r)=>ns(typeof t=="function"?t(e):t,r,r*.8),_0e=(e,t,r)=>{var{top:s,left:a,width:i,height:o}=t,c=zF(i,o),u=a+ns(e.cx,i,i/2),h=s+ns(e.cy,o,o/2),f=ns(e.innerRadius,c,0),m=T0e(r,e.outerRadius,c),y=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:h,innerRadius:f,outerRadius:m,maxRadius:y}},M0e=(e,t)=>{var r=In(t-e),s=Math.min(Math.abs(t-e),360);return r*s};function D0e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var O0e=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Lt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:s}=t,a=i0(t,b0e);return p.createElement(Ed,Xl({},a,{type:"linear",className:r}))},R0e=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var s=r;if(typeof e=="function"&&(s=e(t),p.isValidElement(s)))return s;var a=Lt("recharts-pie-label-text",D0e(e));return p.createElement(e0,Xl({},t,{alignmentBaseline:"middle",className:a}),s)};function L0e(e){var{sectors:t,props:r,showLabels:s}=e,{label:a,labelLine:i,dataKey:o}=r;if(!s||!a||!t)return null;var c=ys(r),u=du(a),h=du(i),f=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((y,b)=>{var v=(y.startAngle+y.endAngle)/2,N=tn(y.cx,y.cy,y.outerRadius+f,v),j=Lr(Lr(Lr(Lr({},c),y),{},{stroke:"none"},u),{},{index:b,textAnchor:E0e(N.x,y.cx)},N),k=Lr(Lr(Lr(Lr({},c),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[tn(y.cx,y.cy,y.outerRadius,v),N],key:"line"});return p.createElement(vs,{zIndex:qr.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},p.createElement(Br,null,i&&O0e(i,k),R0e(a,j,Qt(y,o))))});return p.createElement(Br,{className:"recharts-pie-labels"},m)}function F0e(e){var{sectors:t,props:r,showLabels:s}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?p.createElement(t0,{label:a}):p.createElement(L0e,{sectors:t,props:r,showLabels:s})}function $0e(e){var{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:a,shape:i,id:o}=e,c=Xe(Ql),u=Xe(xA),h=Xe(aye),{onMouseEnter:f,onClick:m,onMouseLeave:y}=a,b=i0(a,w0e),v=EA(f,a.dataKey,o),N=TA(y),j=_A(m,a.dataKey,o);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((k,I)=>{if(k?.startAngle===0&&k?.endAngle===0&&t.length!==1)return null;var S=h==null||h===o,O=String(I)===c&&(u==null||a.dataKey===u)&&S,P=c?s:null,R=r&&O?r:P,E=Lr(Lr({},k),{},{stroke:k.stroke,tabIndex:-1,[xF]:I,[vF]:a.dataKey});return p.createElement(Br,Xl({key:"sector-".concat(k?.startAngle,"-").concat(k?.endAngle,"-").concat(k.midAngle,"-").concat(I),tabIndex:-1,className:"recharts-pie-sector"},Hm(b,k,I),{onMouseEnter:v(k,I),onMouseLeave:N(k,I),onClick:j(k,I)}),p.createElement(PA,Xl({option:i??R,index:I,shapeType:"sector",isActive:O},E)))}))}function B0e(e){var t,{pieSettings:r,displayedData:s,cells:a,offset:i}=e,{cornerRadius:o,startAngle:c,endAngle:u,dataKey:h,nameKey:f,tooltipType:m}=r,y=Math.abs(r.minAngle),b=M0e(c,u),v=Math.abs(b),N=s.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,j=s.filter(R=>Qt(R,h,0)!==0).length,k=(v>=360?j:j-1)*N,I=v-j*y-k,S=s.reduce((R,E)=>{var C=Qt(E,h,0);return R+(Qe(C)?C:0)},0),O;if(S>0){var P;O=s.map((R,E)=>{var C=Qt(R,h,0),F=Qt(R,f,E),L=_0e(r,i,R),D=(Qe(C)?C:0)/S,M,$=Lr(Lr({},R),a&&a[E]&&a[E].props);E?M=P.endAngle+In(b)*N*(C!==0?1:0):M=c;var ee=M+In(b)*((C!==0?y:0)+D*I),q=(M+ee)/2,V=(L.innerRadius+L.outerRadius)/2,re=[{name:F,value:C,payload:$,dataKey:h,type:m}],U=tn(L.cx,L.cy,V,q);return P=Lr(Lr(Lr(Lr({},r.presentationProps),{},{percent:D,cornerRadius:typeof o=="string"?parseFloat(o):o,name:F,tooltipPayload:re,midAngle:q,middleRadius:V,tooltipPosition:U},$),L),{},{value:C,dataKey:h,startAngle:M,endAngle:ee,payload:$,paddingAngle:In(b)*N}),P})}return O}function z0e(e){var{showLabels:t,sectors:r,children:s}=e,a=p.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return p.createElement(jve,{value:t?a:void 0},s)}function V0e(e){var{props:t,previousSectorsRef:r,id:s}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:u,activeShape:h,inactiveShape:f,onAnimationStart:m,onAnimationEnd:y}=t,b=ch(t,"recharts-pie-"),v=r.current,[N,j]=p.useState(!1),k=p.useCallback(()=>{typeof y=="function"&&y(),j(!1)},[y]),I=p.useCallback(()=>{typeof m=="function"&&m(),j(!0)},[m]);return p.createElement(z0e,{showLabels:!N,sectors:a},p.createElement(lh,{animationId:b,begin:o,duration:c,isActive:i,easing:u,onAnimationStart:I,onAnimationEnd:k,key:b},S=>{var O=[],P=a&&a[0],R=P?.startAngle;return a?.forEach((E,C)=>{var F=v&&v[C],L=C>0?hu(E,"paddingAngle",0):0;if(F){var D=qt(F.endAngle-F.startAngle,E.endAngle-E.startAngle,S),M=Lr(Lr({},E),{},{startAngle:R+L,endAngle:R+D+L});O.push(M),R=M.endAngle}else{var{endAngle:$,startAngle:ee}=E,q=qt(0,$-ee,S),V=Lr(Lr({},E),{},{startAngle:R+L,endAngle:R+q+L});O.push(V),R=V.endAngle}}),r.current=O,p.createElement(Br,null,p.createElement($0e,{sectors:O,activeShape:h,inactiveShape:f,allOtherPieProps:t,shape:t.shape,id:s}))}),p.createElement(F0e,{showLabels:!N,sectors:a,props:t}),t.children)}var U0e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:qr.area};function W0e(e){var{id:t}=e,r=i0(e,j0e),{hide:s,className:a,rootTabIndex:i}=e,o=p.useMemo(()=>CA(e.children,Nu),[e.children]),c=Xe(f=>$ve(f,t,o)),u=p.useRef(null),h=Lt("recharts-pie",a);return s||c==null?(u.current=null,p.createElement(Br,{tabIndex:i,className:h})):p.createElement(vs,{zIndex:e.zIndex},p.createElement(P0e,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),p.createElement(Br,{tabIndex:i,className:h},p.createElement(V0e,{props:Lr(Lr({},r),{},{sectors:c}),previousSectorsRef:u,id:t})))}function o0(e){var t=zr(e,U0e),{id:r}=t,s=i0(t,N0e),a=ys(s);return p.createElement(a0,{id:r,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(v0e,{type:"pie",id:i,data:s.data,dataKey:s.dataKey,hide:s.hide,angleAxisId:0,radiusAxisId:0,name:s.name,nameKey:s.nameKey,tooltipType:s.tooltipType,legendType:s.legendType,fill:s.fill,cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,paddingAngle:s.paddingAngle,minAngle:s.minAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius,cornerRadius:s.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),p.createElement(I0e,Xl({},s,{id:i})),p.createElement(W0e,Xl({},s,{id:i}))))}o0.displayName="Pie";var H0e=["points"];function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function s1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(s){q0e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function q0e(e,t,r){return(t=G0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G0e(e){var t=K0e(e,"string");return typeof t=="symbol"?t:t+""}function K0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Dx.apply(null,arguments)}function Y0e(e,t){if(e==null)return{};var r,s,a=Z0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Z0e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function Q0e(e){var{option:t,dotProps:r,className:s}=e;if(p.isValidElement(t))return p.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Lt(s,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,c=Y0e(i,H0e);return p.createElement(o8,Dx({},c,{className:a}))}function X0e(e,t){return e==null?!1:t?!0:e.length===1}function p8(e){var{points:t,dot:r,className:s,dotClassName:a,dataKey:i,baseProps:o,needClip:c,clipPathId:u,zIndex:h=qr.scatter}=e;if(!X0e(t,r))return null;var f=IA(r),m=kie(r),y=t.map((v,N)=>{var j,k,I=s1(s1(s1({r:3},o),m),{},{index:N,cx:(j=v.x)!==null&&j!==void 0?j:void 0,cy:(k=v.y)!==null&&k!==void 0?k:void 0,dataKey:i,value:v.value,payload:v.payload,points:t});return p.createElement(Q0e,{key:"dot-".concat(N),option:r,dotProps:I,className:a})}),b={};return c&&u!=null&&(b.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),p.createElement(vs,{zIndex:h},p.createElement(Br,Dx({className:s},b),y))}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function AO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(s){J0e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function J0e(e,t,r){return(t=ebe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ebe(e){var t=tbe(e,"string");return typeof t=="symbol"?t:t+""}function tbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rbe={xAxis:{},yAxis:{},zAxis:{}},g8=Ls({name:"cartesianAxis",initialState:rbe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:vr()},replaceXAxis:{reducer(e,t){var{prev:r,next:s}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==s.id&&delete e.xAxis[r.id],e.xAxis[s.id]=s)},prepare:vr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:vr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:vr()},replaceYAxis:{reducer(e,t){var{prev:r,next:s}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==s.id&&delete e.yAxis[r.id],e.yAxis[s.id]=s)},prepare:vr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:vr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:vr()},replaceZAxis:{reducer(e,t){var{prev:r,next:s}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==s.id&&delete e.zAxis[r.id],e.zAxis[s.id]=s)},prepare:vr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:vr()},updateYAxisWidth(e,t){var{id:r,width:s}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&s===i[1]&&s!==a.width&&Math.abs(s-i[0])<=1)return;var o=[...i,s].slice(-3);e.yAxis[r]=AO(AO({},e.yAxis[r]),{},{width:s,widthHistory:o})}}}}),{addXAxis:nbe,replaceXAxis:sbe,removeXAxis:abe,addYAxis:ibe,replaceYAxis:obe,removeYAxis:lbe,addZAxis:DSe,replaceZAxis:OSe,removeZAxis:RSe,updateYAxisWidth:cbe}=g8.actions,ube=g8.reducer,dbe=ke([pn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),hbe=ke([dbe,Zo,Qo],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),l0=()=>Xe(hbe),fbe=()=>Xe(uye);function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function a1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(s){mbe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function mbe(e,t,r){return(t=pbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pbe(e){var t=gbe(e,"string");return typeof t=="symbol"?t:t+""}function gbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ybe=e=>{var{point:t,childIndex:r,mainColor:s,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=a1(a1(a1({},c),du(a)),Qk(a)),h;return p.isValidElement(a)?h=p.cloneElement(a,u):typeof a=="function"?h=a(u):h=p.createElement(o8,u),p.createElement(Br,{className:"recharts-active-dot",clipPath:o},h)};function n2(e){var{points:t,mainColor:r,activeDot:s,itemDataKey:a,clipPath:i,zIndex:o=qr.activeDot}=e,c=Xe(Ql),u=fbe();if(t==null||u==null)return null;var h=t.find(f=>u.includes(f.payload));return pr(h)?null:p.createElement(vs,{zIndex:o},p.createElement(ybe,{point:h,childIndex:Number(c),mainColor:r,dataKey:a,activeDot:s,clipPath:i}))}var xbe="Invariant failed";function vbe(e,t){throw new Error(xbe)}var bbe=["x","y"];function s2(){return s2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},s2.apply(null,arguments)}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function wf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(s){wbe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function wbe(e,t,r){return(t=jbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jbe(e){var t=Nbe(e,"string");return typeof t=="symbol"?t:t+""}function Nbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kbe(e,t){if(e==null)return{};var r,s,a=Sbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sbe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function Abe(e,t){var{x:r,y:s}=e,a=kbe(e,bbe),i="".concat(r),o=parseInt(i,10),c="".concat(s),u=parseInt(c,10),h="".concat(t.height||a.height),f=parseInt(h,10),m="".concat(t.width||a.width),y=parseInt(m,10);return wf(wf(wf(wf(wf({},t),a),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:y,name:t.name,radius:t.radius})}function Ox(e){return p.createElement(PA,s2({shapeType:"rectangle",propTransformer:Abe,activeClassName:"recharts-active-bar"},e))}var Cbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(s,a)=>{if(Qe(t))return t;var i=Qe(s)||pr(s);return i?t(s,a):(i||vbe(),r)}},Ibe={},y8=Ls({name:"errorBars",initialState:Ibe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:s}=t.payload;e[r]||(e[r]=[]),e[r].push(s)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:s,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===s.dataKey&&i.direction===s.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:s}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==s.dataKey||a.direction!==s.direction))}}}),{addErrorBar:LSe,replaceErrorBar:FSe,removeErrorBar:$Se}=y8.actions,Pbe=y8.reducer,Ebe=["children"];function Tbe(e,t){if(e==null)return{};var r,s,a=_be(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _be(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Mbe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Dbe=p.createContext(Mbe);function x8(e){var{children:t}=e,r=Tbe(e,Ebe);return p.createElement(Dbe.Provider,{value:r},t)}function c0(e,t){var r,s,a=Xe(h=>Jo(h,e)),i=Xe(h=>el(h,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Nn.allowDataOverflow,c=(s=i?.allowDataOverflow)!==null&&s!==void 0?s:kn.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function OA(e){var{xAxisId:t,yAxisId:r,clipPathId:s}=e,a=l0(),{needClipX:i,needClipY:o,needClip:c}=c0(t,r);if(!c||!a)return null;var{x:u,y:h,width:f,height:m}=a;return p.createElement("clipPath",{id:"clipPath-".concat(s)},p.createElement("rect",{x:i?u:u-f/2,y:o?h:h-m/2,width:i?f:f*2,height:o?m:m*2}))}function Obe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&gr(e.zIndex)?e.zIndex:t}var i1={exports:{}},o1={};var PO;function Rbe(){if(PO)return o1;PO=1;var e=Gd();function t(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,c=e.useDebugValue;return o1.useSyncExternalStoreWithSelector=function(u,h,f,m,y){var b=a(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=o(function(){function j(P){if(!k){if(k=!0,I=P,P=m(P),y!==void 0&&v.hasValue){var R=v.value;if(y(R,P))return S=R}return S=P}if(R=S,r(I,P))return R;var E=m(P);return y!==void 0&&y(R,E)?(I=P,R):(I=P,S=E)}var k=!1,I,S,O=f===void 0?null:f;return[function(){return j(h())},O===null?void 0:function(){return j(O())}]},[h,f,m,y]);var N=s(u,b[0],b[1]);return i(function(){v.hasValue=!0,v.value=N},[N]),c(N),N},o1}var EO;function Lbe(){return EO||(EO=1,i1.exports=Rbe()),i1.exports}Lbe();function Fbe(e){e()}function $be(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Fbe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var TO={notify(){},get:()=>[]};function Bbe(e,t){let r,s=TO,a=0,i=!1;function o(N){f();const j=s.subscribe(N);let k=!1;return()=>{k||(k=!0,j(),m())}}function c(){s.notify()}function u(){v.onStateChange&&v.onStateChange()}function h(){return i}function f(){a++,r||(r=e.subscribe(u),s=$be())}function m(){a--,r&&a===0&&(r(),r=void 0,s.clear(),s=TO)}function y(){i||(i=!0,f())}function b(){i&&(i=!1,m())}const v={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>s};return v}var zbe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vbe=zbe(),Ube=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Wbe=Ube(),Hbe=()=>Vbe||Wbe?p.useLayoutEffect:p.useEffect,qbe=Hbe();function _O(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Gbe(e,t){if(_O(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!_O(e[r[a]],t[r[a]]))return!1;return!0}var Kbe=Symbol.for("react-redux-context"),Ybe=typeof globalThis<"u"?globalThis:{};function Zbe(){if(!p.createContext)return{};const e=Ybe[Kbe]??=new Map;let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var Qbe=Zbe();function Xbe(e){const{children:t,context:r,serverState:s,store:a}=e,i=p.useMemo(()=>{const u=Bbe(a);return{store:a,subscription:u,getServerState:s?()=>s:void 0}},[a,s]),o=p.useMemo(()=>a.getState(),[a]);qbe(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const c=r||Qbe;return p.createElement(c.Provider,{value:i},t)}var Jbe=Xbe,ewe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function twe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function fp(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var s of r)if(ewe.has(s)){if(e[s]==null&&t[s]==null)continue;if(!Gbe(e[s],t[s]))return!1}else if(!twe(e[s],t[s]))return!1;return!0}var rwe=["onMouseEnter","onMouseLeave","onClick"],nwe=["value","background","tooltipPosition"],swe=["id"],awe=["onMouseEnter","onClick","onMouseLeave"];function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Go.apply(null,arguments)}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(s){iwe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function iwe(e,t,r){return(t=owe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function owe(e){var t=lwe(e,"string");return typeof t=="symbol"?t:t+""}function lwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rx(e,t){if(e==null)return{};var r,s,a=cwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cwe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var uwe=e=>{var{dataKey:t,name:r,fill:s,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:s,value:nc(r,t),payload:e}]},dwe=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:s,fill:a,name:i,hide:o,unit:c,tooltipType:u}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:a,dataKey:t,nameKey:void 0,name:nc(i,t),hide:o,type:u,color:a,unit:c}};return p.createElement(s0,{tooltipEntrySettings:h})});function hwe(e){var t=Xe(Ql),{data:r,dataKey:s,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:c,onClick:u}=i,h=Rx(i,rwe),f=EA(o,s),m=TA(c),y=_A(u,s);if(!a||r==null)return null;var b=du(a);return p.createElement(vs,{zIndex:Obe(a,qr.barBackground)},r.map((v,N)=>{var{value:j,background:k,tooltipPosition:I}=v,S=Rx(v,nwe);if(!k)return null;var O=f(v,N),P=m(v,N),R=y(v,N),E=ds(ds(ds(ds(ds({option:a,isActive:String(N)===t},S),{},{fill:"#eee"},k),b),Hm(h,v,N)),{},{onMouseEnter:O,onMouseLeave:P,onClick:R,dataKey:s,index:N,className:"recharts-bar-background-rectangle"});return p.createElement(Ox,Go({key:"background-bar-".concat(N)},E))}))}function fwe(e){var{showLabels:t,children:r,rects:s}=e,a=s?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return ds(ds({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return p.createElement(kA,{value:t?a:void 0},r)}function mwe(e){var{shape:t,activeBar:r,baseProps:s,entry:a,index:i,dataKey:o}=e,c=Xe(Ql),u=Xe(xA),h=r&&String(i)===c&&(u==null||o===u),f=h?r:t;return h?p.createElement(vs,{zIndex:qr.activeBar},p.createElement(Ox,Go({},s,{name:String(s.name)},a,{isActive:h,option:f,index:i,dataKey:o}))):p.createElement(Ox,Go({},s,{name:String(s.name)},a,{isActive:h,option:f,index:i,dataKey:o}))}function pwe(e){var{shape:t,baseProps:r,entry:s,index:a,dataKey:i}=e;return p.createElement(Ox,Go({},r,{name:String(r.name)},s,{isActive:!1,option:t,index:a,dataKey:i}))}function gwe(e){var t,{data:r,props:s}=e,a=(t=ys(s))!==null&&t!==void 0?t:{},{id:i}=a,o=Rx(a,swe),{shape:c,dataKey:u,activeBar:h}=s,{onMouseEnter:f,onClick:m,onMouseLeave:y}=s,b=Rx(s,awe),v=EA(f,u),N=TA(y),j=_A(m,u);return r?p.createElement(p.Fragment,null,r.map((k,I)=>p.createElement(Br,Go({key:"rectangle-".concat(k?.x,"-").concat(k?.y,"-").concat(k?.value,"-").concat(I),className:"recharts-bar-rectangle"},Hm(b,k,I),{onMouseEnter:v(k,I),onMouseLeave:N(k,I),onClick:j(k,I)}),h?p.createElement(mwe,{shape:c,activeBar:h,baseProps:o,entry:k,index:I,dataKey:u}):p.createElement(pwe,{shape:c,baseProps:o,entry:k,index:I,dataKey:u})))):null}function ywe(e){var{props:t,previousRectanglesRef:r}=e,{data:s,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:u,onAnimationEnd:h,onAnimationStart:f}=t,m=r.current,y=ch(t,"recharts-bar-"),[b,v]=p.useState(!1),N=!b,j=p.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),k=p.useCallback(()=>{typeof f=="function"&&f(),v(!0)},[f]);return p.createElement(fwe,{showLabels:N,rects:s},p.createElement(lh,{animationId:y,begin:o,duration:c,isActive:i,easing:u,onAnimationEnd:j,onAnimationStart:k,key:y},I=>{var S=I===1?s:s?.map((O,P)=>{var R=m&&m[P];if(R)return ds(ds({},O),{},{x:qt(R.x,O.x,I),y:qt(R.y,O.y,I),width:qt(R.width,O.width,I),height:qt(R.height,O.height,I)});if(a==="horizontal"){var E=qt(0,O.height,I),C=qt(O.stackedBarStart,O.y,I);return ds(ds({},O),{},{y:C,height:E})}var F=qt(0,O.width,I),L=qt(O.stackedBarStart,O.x,I);return ds(ds({},O),{},{width:F,x:L})});return I>0&&(r.current=S??null),S==null?null:p.createElement(Br,null,p.createElement(gwe,{props:t,data:S}))}),p.createElement(t0,{label:t.label}),t.children)}function xwe(e){var t=p.useRef(null);return p.createElement(ywe,{previousRectanglesRef:t,props:e})}var v8=0,vwe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Qt(e,t)}};class bwe extends p.PureComponent{render(){var{hide:t,data:r,dataKey:s,className:a,xAxisId:i,yAxisId:o,needClip:c,background:u,id:h}=this.props;if(t||r==null)return null;var f=Lt("recharts-bar",a),m=h;return p.createElement(Br,{className:f,id:h},c&&p.createElement("defs",null,p.createElement(OA,{clipPathId:m,xAxisId:i,yAxisId:o})),p.createElement(Br,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},p.createElement(hwe,{data:r,dataKey:s,background:u,allOtherBarProps:this.props}),p.createElement(xwe,this.props)))}}var wwe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:v8,xAxisId:0,yAxisId:0,zIndex:qr.bar};function jwe(e){var{xAxisId:t,yAxisId:r,hide:s,legendType:a,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:f}=e,{needClip:m}=c0(t,r),y=bu(),b=En(),v=CA(e.children,Nu),N=Xe(I=>Zwe(I,t,r,b,e.id,v));if(y!=="vertical"&&y!=="horizontal")return null;var j,k=N?.[0];return k==null||k.height==null||k.width==null?j=0:j=y==="vertical"?k.height/2:k.width/2,p.createElement(x8,{xAxisId:t,yAxisId:r,data:N,dataPointFormatter:vwe,errorBarOffset:j},p.createElement(bwe,Go({},e,{layout:y,needClip:m,data:N,xAxisId:t,yAxisId:r,hide:s,legendType:a,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:f})))}function Nwe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:s},pos:a,bandSize:i,xAxis:o,yAxis:c,xAxisTicks:u,yAxisTicks:h,stackedData:f,displayedData:m,offset:y,cells:b,parentViewBox:v,dataStartIndex:N}=e,j=t==="horizontal"?c:o,k=f?j.scale.domain():null,I=Wce({numericAxis:j}),S=j.scale(I);return m.map((O,P)=>{var R,E,C,F,L,D;f?R=$ce(f[P+N],k):(R=Qt(O,r),Array.isArray(R)||(R=[I,R]));var M=Cbe(s,v8)(R[1],P);if(t==="horizontal"){var $,[ee,q]=[c.scale(R[0]),c.scale(R[1])];E=Z_({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:O,index:P}),C=($=q??ee)!==null&&$!==void 0?$:void 0,F=a.size;var V=ee-q;if(L=Ea(V)?0:V,D={x:E,y:y.top,width:F,height:y.height},Math.abs(M)>0&&Math.abs(L)<Math.abs(M)){var re=In(L||M)*(Math.abs(M)-Math.abs(L));C-=re,L+=re}}else{var[U,te]=[o.scale(R[0]),o.scale(R[1])];if(E=U,C=Z_({axis:c,ticks:h,bandSize:i,offset:a.offset,entry:O,index:P}),F=te-U,L=a.size,D={x:y.left,y:C,width:y.width,height:L},Math.abs(M)>0&&Math.abs(F)<Math.abs(M)){var ie=In(F||M)*(Math.abs(M)-Math.abs(F));F+=ie}}if(E==null||C==null||F==null||L==null)return null;var H=ds(ds({},O),{},{stackedBarStart:S,x:E,y:C,width:F,height:L,value:f?R:R[1],payload:O,background:D,tooltipPosition:{x:E+F/2,y:C+L/2},parentViewBox:v},b&&b[P]&&b[P].props);return H}).filter(Boolean)}function kwe(e){var t=zr(e,wwe),r=En();return p.createElement(a0,{id:t.id,type:"bar"},s=>p.createElement(p.Fragment,null,p.createElement(MA,{legendPayload:uwe(t)}),p.createElement(dwe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),p.createElement(DA,{type:"bar",id:s,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:gF(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),p.createElement(vs,{zIndex:t.zIndex},p.createElement(jwe,Go({},t,{id:s})))))}var Hd=p.memo(kwe,fp);Hd.displayName="Bar";function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(s){Swe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Swe(e,t,r){return(t=Awe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Awe(e){var t=Cwe(e,"string");return typeof t=="symbol"?t:t+""}function Cwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iwe=(e,t)=>t,Pwe=(e,t,r)=>r,Ewe=(e,t,r,s)=>s,Twe=(e,t,r,s,a)=>a,mp=ke([ap,Twe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),_we=ke([mp],e=>e?.maxBarSize),Mwe=(e,t,r,s,a,i)=>i,OO=(e,t,r)=>{var s=r??e;if(!pr(s))return ns(s,t,0)},Dwe=ke([Ct,ap,Iwe,Pwe,Ewe],(e,t,r,s,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===s).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Owe=(e,t,r,s)=>{var a=Ct(e);return a==="horizontal"?xm(e,"yAxis",r,s):xm(e,"xAxis",t,s)},Rwe=(e,t,r)=>{var s=Ct(e);return s==="horizontal"?PD(e,"xAxis",t):PD(e,"yAxis",r)},Lwe=(e,t,r)=>{var s={},a=e.filter(qv),i=e.filter(h=>h.stackId==null),o=a.reduce((h,f)=>(h[f.stackId]||(h[f.stackId]=[]),h[f.stackId].push(f),h),s),c=Object.entries(o).map(h=>{var[f,m]=h,y=m.map(v=>v.dataKey),b=OO(t,r,m[0].barSize);return{stackId:f,dataKeys:y,barSize:b}}),u=i.map(h=>{var f=[h.dataKey].filter(y=>y!=null),m=OO(t,r,h.barSize);return{stackId:void 0,dataKeys:f,barSize:m}});return[...c,...u]},Fwe=ke([Dwe,ope,Rwe],Lwe),$we=(e,t,r,s,a)=>{var i,o,c=mp(e,t,r,s,a);if(c!=null){var u=Ct(e),h=B$(e),{maxBarSize:f}=c,m=pr(f)?h:f,y,b;return u==="horizontal"?(y=to(e,"xAxis",t,s),b=eo(e,"xAxis",t,s)):(y=to(e,"yAxis",r,s),b=eo(e,"yAxis",r,s)),(i=(o=Yl(y,b,!0))!==null&&o!==void 0?o:m)!==null&&i!==void 0?i:0}},b8=(e,t,r,s)=>{var a=Ct(e),i,o;return a==="horizontal"?(i=to(e,"xAxis",t,s),o=eo(e,"xAxis",t,s)):(i=to(e,"yAxis",r,s),o=eo(e,"yAxis",r,s)),Yl(i,o)};function Bwe(e,t,r,s,a){var i=s.length;if(!(i<1)){var o=ns(e,r,0,!0),c,u=[];if(gr(s[0].barSize)){var h=!1,f=r/i,m=s.reduce((k,I)=>k+(I.barSize||0),0);m+=(i-1)*o,m>=r&&(m-=(i-1)*o,o=0),m>=r&&f>0&&(h=!0,f*=.9,m=i*f);var y=(r-m)/2>>0,b={offset:y-o,size:0};c=s.reduce((k,I)=>{var S,O={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:b.offset+b.size+o,size:h?f:(S=I.barSize)!==null&&S!==void 0?S:0}},P=[...k,O];return b=P[P.length-1].position,P},u)}else{var v=ns(t,r,0,!0);r-2*v-(i-1)*o<=0&&(o=0);var N=(r-2*v-(i-1)*o)/i;N>1&&(N>>=0);var j=gr(a)?Math.min(N,a):N;c=s.reduce((k,I,S)=>[...k,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:v+(N+o)*S+(N-j)/2,size:j}}],u)}return c}}var zwe=(e,t,r,s,a,i,o)=>{var c=pr(o)?t:o,u=Bwe(r,s,a!==i?a:i,e,c);return a!==i&&u!=null&&(u=u.map(h=>Zg(Zg({},h),{},{position:Zg(Zg({},h.position),{},{offset:h.position.offset-a/2})}))),u},Vwe=ke([Fwe,B$,ipe,z$,$we,b8,_we],zwe),Uwe=(e,t,r,s)=>to(e,"xAxis",t,s),Wwe=(e,t,r,s)=>to(e,"yAxis",r,s),Hwe=(e,t,r,s)=>eo(e,"xAxis",t,s),qwe=(e,t,r,s)=>eo(e,"yAxis",r,s),Gwe=ke([Vwe,mp],(e,t)=>{if(!(e==null||t==null)){var r=e.find(s=>s.stackId===t.stackId&&t.dataKey!=null&&s.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Kwe=(e,t)=>{var r=Hv(t);if(!(!e||r==null||t==null)){var{stackId:s}=t;if(s!=null){var a=e[s];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},Ywe=ke([Owe,mp],Kwe),Zwe=ke([pn,lS,Uwe,Wwe,Hwe,qwe,Gwe,Ct,tp,b8,Ywe,mp,Mwe],(e,t,r,s,a,i,o,c,u,h,f,m,y)=>{var{chartData:b,dataStartIndex:v,dataEndIndex:N}=u;if(!(m==null||o==null||t==null||c!=="horizontal"&&c!=="vertical"||r==null||s==null||a==null||i==null||h==null)){var{data:j}=m,k;if(j!=null&&j.length>0?k=j:k=b?.slice(v,N+1),k!=null)return Nwe({layout:c,barSettings:m,pos:o,parentViewBox:t,bandSize:h,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:i,stackedData:f,displayedData:k,offset:e,cells:y,dataStartIndex:v})}}),w8=e=>{var{chartData:t}=e,r=cr(),s=En();return p.useEffect(()=>s?()=>{}:(r(VD(t)),()=>{r(VD(void 0))}),[t,r,s]),null},RO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},j8=Ls({name:"brush",initialState:RO,reducers:{setBrushSettings(e,t){return t.payload==null?RO:t.payload}}}),{setBrushSettings:BSe}=j8.actions,Qwe=j8.reducer;function Xwe(e,t,r){return(t=Jwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jwe(e){var t=eje(e,"string");return typeof t=="symbol"?t:t+""}function eje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class RA{static create(t){return new RA(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(s)switch(s){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),s=r[0],a=r[r.length-1];return s<=a?t>=s&&t<=a:t>=a&&t<=s}}Xwe(RA,"EPS",1e-4);function tje(e){return(e%180+180)%180}var rje=function(t){var{width:r,height:s}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=tje(a),o=i*Math.PI/180,c=Math.atan(s/r),u=o>c&&o<Math.PI-c?s/Math.sin(o):r/Math.cos(o);return Math.abs(u)},nje={dots:[],areas:[],lines:[]},N8=Ls({name:"referenceElements",initialState:nje,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ci(e).dots.findIndex(s=>s===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ci(e).areas.findIndex(s=>s===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ci(e).lines.findIndex(s=>s===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:zSe,removeDot:VSe,addArea:USe,removeArea:WSe,addLine:HSe,removeLine:qSe}=N8.actions,sje=N8.reducer,aje=p.createContext(void 0),ije=e=>{var{children:t}=e,[r]=p.useState("".concat(am("recharts"),"-clip")),s=l0();if(s==null)return null;var{x:a,y:i,width:o,height:c}=s;return p.createElement(aje.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:a,y:i,height:c,width:o}))),t)};function k8(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function oje(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return rje(s,r)}function lje(e,t,r){var s=r==="width",{x:a,y:i,width:o,height:c}=e;return t===1?{start:s?a:i,end:s?a+o:i+c}:{start:s?a+o:i+c,end:s?a:i}}function Lx(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function cje(e,t){return k8(e,t+1)}function uje(e,t,r,s,a){for(var i=(s||[]).slice(),{start:o,end:c}=t,u=0,h=1,f=o,m=function(){var v=s?.[u];if(v===void 0)return{v:k8(s,h)};var N=u,j,k=()=>(j===void 0&&(j=r(v,N)),j),I=v.coordinate,S=u===0||Lx(e,I,k,f,c);S||(u=0,f=o,h+=1),S&&(f=I+e*(k()/2+a),u+=h)},y;h<=i.length;)if(y=m(),y)return y.v;return[]}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(s){dje(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function dje(e,t,r){return(t=hje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hje(e){var t=fje(e,"string");return typeof t=="symbol"?t:t+""}function fje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mje(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,{start:c}=t,{end:u}=t,h=function(y){var b=i[y],v,N=()=>(v===void 0&&(v=r(b,y)),v);if(y===o-1){var j=e*(b.coordinate+e*N()/2-u);i[y]=b=Zn(Zn({},b),{},{tickCoord:j>0?b.coordinate-j*e:b.coordinate})}else i[y]=b=Zn(Zn({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var k=Lx(e,b.tickCoord,N,c,u);k&&(u=b.tickCoord-e*(N()/2+a),i[y]=Zn(Zn({},b),{},{isShow:!0}))}},f=o-1;f>=0;f--)h(f);return i}function pje(e,t,r,s,a,i){var o=(s||[]).slice(),c=o.length,{start:u,end:h}=t;if(i){var f=s[c-1],m=r(f,c-1),y=e*(f.coordinate+e*m/2-h);if(o[c-1]=f=Zn(Zn({},f),{},{tickCoord:y>0?f.coordinate-y*e:f.coordinate}),f.tickCoord!=null){var b=Lx(e,f.tickCoord,()=>m,u,h);b&&(h=f.tickCoord-e*(m/2+a),o[c-1]=Zn(Zn({},f),{},{isShow:!0}))}}for(var v=i?c-1:c,N=function(I){var S=o[I],O,P=()=>(O===void 0&&(O=r(S,I)),O);if(I===0){var R=e*(S.coordinate-e*P()/2-u);o[I]=S=Zn(Zn({},S),{},{tickCoord:R<0?S.coordinate-R*e:S.coordinate})}else o[I]=S=Zn(Zn({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var E=Lx(e,S.tickCoord,P,u,h);E&&(u=S.tickCoord+e*(P()/2+a),o[I]=Zn(Zn({},S),{},{isShow:!0}))}},j=0;j<v;j++)N(j);return o}function LA(e,t,r){var{tick:s,ticks:a,viewBox:i,minTickGap:o,orientation:c,interval:u,tickFormatter:h,unit:f,angle:m}=e;if(!a||!a.length||!s)return[];if(Qe(u)||oh.isSsr){var y;return(y=cje(a,Qe(u)?u:0))!==null&&y!==void 0?y:[]}var b=[],v=c==="top"||c==="bottom"?"width":"height",N=f&&v==="width"?Bf(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=(S,O)=>{var P=typeof h=="function"?h(S.value,O):S.value;return v==="width"?oje(Bf(P,{fontSize:t,letterSpacing:r}),N,m):Bf(P,{fontSize:t,letterSpacing:r})[v]},k=a.length>=2?In(a[1].coordinate-a[0].coordinate):1,I=lje(i,k,v);return u==="equidistantPreserveStart"?uje(k,I,j,a,o):(u==="preserveStart"||u==="preserveStartEnd"?b=pje(k,I,j,a,o,u==="preserveStartEnd"):b=mje(k,I,j,a,o),b.filter(S=>S.isShow))}var gje=e=>{var{ticks:t,label:r,labelGapWithTick:s=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>o&&(o=m.width)}});var c=r?r.getBoundingClientRect().width:0,u=a+i,h=o+u+c+(r?s:0);return Math.round(h)}return 0},yje=["axisLine","width","height","className","hide","ticks","axisType"];function xje(e,t){if(e==null)return{};var r,s,a=vje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vje(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},gu.apply(null,arguments)}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(s){bje(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function bje(e,t,r){return(t=wje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wje(e){var t=jje(e,"string");return typeof t=="symbol"?t:t+""}function jje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Do={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:qr.axis};function Nje(e){var{x:t,y:r,width:s,height:a,orientation:i,mirror:o,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var h=Jr(Jr(Jr({},u),ys(c)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!o||i==="bottom"&&o);h=Jr(Jr({},h),{},{x1:t,y1:r+f*a,x2:t+s,y2:r+f*a})}else{var m=+(i==="left"&&!o||i==="right"&&o);h=Jr(Jr({},h),{},{x1:t+m*s,y1:r,x2:t+m*s,y2:r+a})}return p.createElement("line",gu({},h,{className:Lt("recharts-cartesian-axis-line",hu(c,"className"))}))}function kje(e,t,r,s,a,i,o,c,u){var h,f,m,y,b,v,N=c?-1:1,j=e.tickSize||o,k=Qe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":h=f=e.coordinate,y=r+ +!c*a,m=y-N*j,v=m-N*u,b=k;break;case"left":m=y=e.coordinate,f=t+ +!c*s,h=f-N*j,b=h-N*u,v=k;break;case"right":m=y=e.coordinate,f=t+ +c*s,h=f+N*j,b=h+N*u,v=k;break;default:h=f=e.coordinate,y=r+ +c*a,m=y+N*j,v=m+N*u,b=k;break}return{line:{x1:h,y1:m,x2:f,y2:y},tick:{x:b,y:v}}}function Sje(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Aje(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Cje(e){var{option:t,tickProps:r,value:s}=e,a,i=Lt(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,Jr(Jr({},r),{},{className:i}));else if(typeof t=="function")a=t(Jr(Jr({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Lt(o,t?.className)),a=p.createElement(e0,gu({},r,{className:o}),s)}return a}var Ije=p.forwardRef((e,t)=>{var{ticks:r=[],tick:s,tickLine:a,stroke:i,tickFormatter:o,unit:c,padding:u,tickTextProps:h,orientation:f,mirror:m,x:y,y:b,width:v,height:N,tickSize:j,tickMargin:k,fontSize:I,letterSpacing:S,getTicksConfig:O,events:P,axisType:R}=e,E=LA(Jr(Jr({},O),{},{ticks:r}),I,S),C=Sje(f,m),F=Aje(f,m),L=ys(O),D=du(s),M={};typeof a=="object"&&(M=a);var $=Jr(Jr({},L),{},{fill:"none"},M),ee=E.map(re=>Jr({entry:re},kje(re,y,b,v,N,f,j,m,k))),q=ee.map(re=>{var{entry:U,line:te}=re;return p.createElement(Br,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},a&&p.createElement("line",gu({},$,te,{className:Lt("recharts-cartesian-axis-tick-line",hu(a,"className"))})))}),V=ee.map((re,U)=>{var{entry:te,tick:ie}=re,H=Jr(Jr(Jr(Jr({textAnchor:C,verticalAnchor:F},L),{},{stroke:"none",fill:i},D),ie),{},{index:U,payload:te,visibleTicksCount:E.length,tickFormatter:o,padding:u},h);return p.createElement(Br,gu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},Hm(P,te,U)),s&&p.createElement(Cje,{option:s,tickProps:H,value:"".concat(typeof o=="function"?o(te.value,U):te.value).concat(c||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},V.length>0&&p.createElement(vs,{zIndex:qr.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},V)),q.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},q))}),Pje=p.forwardRef((e,t)=>{var{axisLine:r,width:s,height:a,className:i,hide:o,ticks:c,axisType:u}=e,h=xje(e,yje),[f,m]=p.useState(""),[y,b]=p.useState(""),v=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var j;return gje({ticks:v.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var N=p.useCallback(j=>{if(j){var k=j.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=k;var I=k[0];if(I){var S=window.getComputedStyle(I),O=S.fontSize,P=S.letterSpacing;(O!==f||P!==y)&&(m(O),b(P))}}},[f,y]);return o||s!=null&&s<=0||a!=null&&a<=0?null:p.createElement(vs,{zIndex:e.zIndex},p.createElement(Br,{className:Lt("recharts-cartesian-axis",i)},p.createElement(Nje,{x:e.x,y:e.y,width:s,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ys(e)}),p.createElement(Ije,{ref:N,axisType:u,events:h,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(tve,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(dve,{label:e.label,labelRef:e.labelRef}),e.children)))}),FA=p.forwardRef((e,t)=>{var r=zr(e,Do);return p.createElement(Pje,gu({},r,{ref:t}))});FA.displayName="CartesianAxis";var Eje=["x1","y1","x2","y2","key"],Tje=["offset"],_je=["xAxisId","yAxisId"],Mje=["xAxisId","yAxisId"];function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(s){Dje(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Dje(e,t,r){return(t=Oje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oje(e){var t=Rje(e,"string");return typeof t=="symbol"?t:t+""}function Rje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Kc.apply(null,arguments)}function Fx(e,t){if(e==null)return{};var r,s,a=Lje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lje(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Fje=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:s,y:a,width:i,height:o,ry:c}=e;return p.createElement("rect",{x:s,y:a,ry:c,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function S8(e){var{option:t,lineItemProps:r}=e,s;if(p.isValidElement(t))s=p.cloneElement(t,r);else if(typeof t=="function")s=t(r);else{var a,{x1:i,y1:o,x2:c,y2:u,key:h}=r,f=Fx(r,Eje),m=(a=ys(f))!==null&&a!==void 0?a:{},{offset:y}=m,b=Fx(m,Tje);s=p.createElement("line",Kc({},b,{x1:i,y1:o,x2:c,y2:u,fill:"none",key:h}))}return s}function $je(e){var{x:t,width:r,horizontal:s=!0,horizontalPoints:a}=e;if(!s||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,c=Fx(e,_je),u=a.map((h,f)=>{var m=Qn(Qn({},c),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(f),index:f});return p.createElement(S8,{key:"line-".concat(f),option:s,lineItemProps:m})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Bje(e){var{y:t,height:r,vertical:s=!0,verticalPoints:a}=e;if(!s||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,c=Fx(e,Mje),u=a.map((h,f)=>{var m=Qn(Qn({},c),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(f),index:f});return p.createElement(S8,{option:s,lineItemProps:m,key:"line-".concat(f)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function zje(e){var{horizontalFill:t,fillOpacity:r,x:s,y:a,width:i,height:o,horizontalPoints:c,horizontal:u=!0}=e;if(!u||!t||!t.length||c==null)return null;var h=c.map(m=>Math.round(m+a-a)).sort((m,y)=>m-y);a!==h[0]&&h.unshift(0);var f=h.map((m,y)=>{var b=!h[y+1],v=b?a+o-m:h[y+1]-m;if(v<=0)return null;var N=y%t.length;return p.createElement("rect",{key:"react-".concat(y),y:m,x:s,height:v,width:i,stroke:"none",fill:t[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Vje(e){var{vertical:t=!0,verticalFill:r,fillOpacity:s,x:a,y:i,width:o,height:c,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var h=u.map(m=>Math.round(m+a-a)).sort((m,y)=>m-y);a!==h[0]&&h.unshift(0);var f=h.map((m,y)=>{var b=!h[y+1],v=b?a+o-m:h[y+1]-m;if(v<=0)return null;var N=y%r.length;return p.createElement("rect",{key:"react-".concat(y),x:m,y:i,width:v,height:c,stroke:"none",fill:r[N],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Uje=(e,t)=>{var{xAxis:r,width:s,height:a,offset:i}=e;return mF(LA(Qn(Qn(Qn({},Do),r),{},{ticks:pF(r),viewBox:{x:0,y:0,width:s,height:a}})),i.left,i.left+i.width,t)},Wje=(e,t)=>{var{yAxis:r,width:s,height:a,offset:i}=e;return mF(LA(Qn(Qn(Qn({},Do),r),{},{ticks:pF(r),viewBox:{x:0,y:0,width:s,height:a}})),i.top,i.top+i.height,t)},Hje={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:qr.grid};function zi(e){var t=uS(),r=dS(),s=kF(),a=Qn(Qn({},zr(e,Hje)),{},{x:Qe(e.x)?e.x:s.left,y:Qe(e.y)?e.y:s.top,width:Qe(e.width)?e.width:s.width,height:Qe(e.height)?e.height:s.height}),{xAxisId:i,yAxisId:o,x:c,y:u,width:h,height:f,syncWithTicks:m,horizontalValues:y,verticalValues:b}=a,v=En(),N=Xe(F=>ED(F,"xAxis",i,v)),j=Xe(F=>ED(F,"yAxis",o,v));if(!Xi(h)||!Xi(f)||!Qe(c)||!Qe(u))return null;var k=a.verticalCoordinatesGenerator||Uje,I=a.horizontalCoordinatesGenerator||Wje,{horizontalPoints:S,verticalPoints:O}=a;if((!S||!S.length)&&typeof I=="function"){var P=y&&y.length,R=I({yAxis:j?Qn(Qn({},j),{},{ticks:P?y:j.ticks}):void 0,width:t??h,height:r??f,offset:s},P?!0:m);cx(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(S=R)}if((!O||!O.length)&&typeof k=="function"){var E=b&&b.length,C=k({xAxis:N?Qn(Qn({},N),{},{ticks:E?b:N.ticks}):void 0,width:t??h,height:r??f,offset:s},E?!0:m);cx(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(O=C)}return p.createElement(vs,{zIndex:a.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(Fje,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement(zje,Kc({},a,{horizontalPoints:S})),p.createElement(Vje,Kc({},a,{verticalPoints:O})),p.createElement($je,Kc({},a,{offset:s,horizontalPoints:S,xAxis:N,yAxis:j})),p.createElement(Bje,Kc({},a,{offset:s,verticalPoints:O,xAxis:N,yAxis:j}))))}zi.displayName="CartesianGrid";var A8=(e,t,r,s)=>to(e,"xAxis",t,s),C8=(e,t,r,s)=>eo(e,"xAxis",t,s),I8=(e,t,r,s)=>to(e,"yAxis",r,s),P8=(e,t,r,s)=>eo(e,"yAxis",r,s),qje=ke([Ct,A8,I8,C8,P8],(e,t,r,s,a)=>no(e,"xAxis")?Yl(t,s,!1):Yl(r,a,!1)),Gje=(e,t,r,s,a)=>a;function Kje(e){return e.type==="line"}var Yje=ke([ap,Gje],(e,t)=>e.filter(Kje).find(r=>r.id===t)),Zje=ke([Ct,A8,I8,C8,P8,Yje,qje,tp],(e,t,r,s,a,i,o,c)=>{var{chartData:u,dataStartIndex:h,dataEndIndex:f}=c;if(!(i==null||t==null||r==null||s==null||a==null||s.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:y}=i,b;if(y!=null&&y.length>0?b=y:b=u?.slice(h,f+1),b!=null)return g1e({layout:e,xAxis:t,yAxis:r,xAxisTicks:s,yAxisTicks:a,dataKey:m,bandSize:o,displayedData:b})}});function E8(e){var t=du(e),r=3,s=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),c=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(c)||c<0)&&(c=s),{r:o,strokeWidth:c}}return{r,strokeWidth:s}}var Qje=["id"],Xje=["type","layout","connectNulls","needClip","shape"],Jje=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},bm.apply(null,arguments)}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(s){e1e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function e1e(e,t,r){return(t=t1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t1e(e){var t=r1e(e,"string");return typeof t=="symbol"?t:t+""}function r1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $A(e,t){if(e==null)return{};var r,s,a=n1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function n1e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var s1e=e=>{var{dataKey:t,name:r,stroke:s,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:s,value:nc(r,t),payload:e}]},a1e=p.memo(e=>{var{dataKey:t,data:r,stroke:s,strokeWidth:a,fill:i,name:o,hide:c,unit:u,tooltipType:h}=e,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:nc(o,t),hide:c,type:h,color:s,unit:u}};return p.createElement(s0,{tooltipEntrySettings:f})}),T8=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function i1e(e,t){for(var r=e.length%2!==0?[...e,0]:e,s=[],a=0;a<t;++a)s=[...s,...r];return s}var o1e=(e,t,r)=>{var s=r.reduce((m,y)=>m+y);if(!s)return T8(t,e);for(var a=Math.floor(e/s),i=e%s,o=t-e,c=[],u=0,h=0;u<r.length;h+=r[u],++u)if(h+r[u]>i){c=[...r.slice(0,u),i-h];break}var f=c.length%2===0?[0,o]:[o];return[...i1e(r,a),...c,...f].map(m=>"".concat(m,"px")).join(", ")};function l1e(e){var{clipPathId:t,points:r,props:s}=e,{dot:a,dataKey:i,needClip:o}=s,{id:c}=s,u=$A(s,Qje),h=ys(u);return p.createElement(p8,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:h,needClip:o,clipPathId:t})}function c1e(e){var{showLabels:t,children:r,points:s}=e,a=p.useMemo(()=>s?.map(i=>{var o,c,u={x:(o=i.x)!==null&&o!==void 0?o:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Oi(Oi({},u),{},{value:i.value,payload:i.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[s]);return p.createElement(kA,{value:t?a:void 0},r)}function zO(e){var{clipPathId:t,pathRef:r,points:s,strokeDasharray:a,props:i}=e,{type:o,layout:c,connectNulls:u,needClip:h,shape:f}=i,m=$A(i,Xje),y=Oi(Oi({},as(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:s,type:o,layout:c,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return p.createElement(p.Fragment,null,s?.length>1&&p.createElement(PA,bm({shapeType:"curve",option:f},y,{pathRef:r})),p.createElement(l1e,{points:s,clipPathId:t,props:i}))}function u1e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function d1e(e){var{clipPathId:t,props:r,pathRef:s,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:c,isAnimationActive:u,animationBegin:h,animationDuration:f,animationEasing:m,animateNewValues:y,width:b,height:v,onAnimationEnd:N,onAnimationStart:j}=r,k=a.current,I=ch(o,"recharts-line-"),S=p.useRef(I),[O,P]=p.useState(!1),R=!O,E=p.useCallback(()=>{typeof N=="function"&&N(),P(!1)},[N]),C=p.useCallback(()=>{typeof j=="function"&&j(),P(!0)},[j]),F=u1e(s.current),L=p.useRef(0);S.current!==I&&(L.current=i.current,S.current=I);var D=L.current;return p.createElement(c1e,{points:o,showLabels:R},r.children,p.createElement(lh,{animationId:I,begin:h,duration:f,isActive:u,easing:m,onAnimationEnd:E,onAnimationStart:C,key:I},M=>{var $=qt(D,F+D,M),ee=Math.min($,F),q;if(u)if(c){var V="".concat(c).split(/[,\s]+/gim).map(te=>parseFloat(te));q=o1e(ee,F,V)}else q=T8(F,ee);else q=c==null?void 0:String(c);if(M>0&&F>0&&(a.current=o,i.current=Math.max(i.current,ee)),k){var re=k.length/o.length,U=M===1?o:o.map((te,ie)=>{var H=Math.floor(ie*re);if(k[H]){var z=k[H];return Oi(Oi({},te),{},{x:qt(z.x,te.x,M),y:qt(z.y,te.y,M)})}return y?Oi(Oi({},te),{},{x:qt(b*2,te.x,M),y:qt(v/2,te.y,M)}):Oi(Oi({},te),{},{x:te.x,y:te.y})});return a.current=U,p.createElement(zO,{props:r,points:U,clipPathId:t,pathRef:s,strokeDasharray:q})}return p.createElement(zO,{props:r,points:o,clipPathId:t,pathRef:s,strokeDasharray:q})}),p.createElement(t0,{label:r.label}))}function h1e(e){var{clipPathId:t,props:r}=e,s=p.useRef(null),a=p.useRef(0),i=p.useRef(null);return p.createElement(d1e,{props:r,clipPathId:t,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:i})}var f1e=(e,t)=>{var r,s;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(s=e.y)!==null&&s!==void 0?s:void 0,value:e.value,errorVal:Qt(e.payload,t)}};class m1e extends p.Component{render(){var{hide:t,dot:r,points:s,className:a,xAxisId:i,yAxisId:o,top:c,left:u,width:h,height:f,id:m,needClip:y,zIndex:b}=this.props;if(t)return null;var v=Lt("recharts-line",a),N=m,{r:j,strokeWidth:k}=E8(r),I=IA(r),S=j*2+k,O=y?"url(#clipPath-".concat(I?"":"dots-").concat(N,")"):void 0;return p.createElement(vs,{zIndex:b},p.createElement(Br,{className:v},y&&p.createElement("defs",null,p.createElement(OA,{clipPathId:N,xAxisId:i,yAxisId:o}),!I&&p.createElement("clipPath",{id:"clipPath-dots-".concat(N)},p.createElement("rect",{x:u-S/2,y:c-S/2,width:h+S,height:f+S}))),p.createElement(x8,{xAxisId:i,yAxisId:o,data:s,dataPointFormatter:f1e,errorBarOffset:0},p.createElement(h1e,{props:this.props,clipPathId:N}))),p.createElement(n2,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var _8={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:qr.line,type:"linear"};function p1e(e){var t=zr(e,_8),{activeDot:r,animateNewValues:s,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:c,dot:u,hide:h,isAnimationActive:f,label:m,legendType:y,xAxisId:b,yAxisId:v,id:N}=t,j=$A(t,Jje),{needClip:k}=c0(b,v),I=l0(),S=bu(),O=En(),P=Xe(L=>Zje(L,b,v,O,N));if(S!=="horizontal"&&S!=="vertical"||P==null||I==null)return null;var{height:R,width:E,x:C,y:F}=I;return p.createElement(m1e,bm({},j,{id:N,connectNulls:c,dot:u,activeDot:r,animateNewValues:s,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:f,hide:h,label:m,legendType:y,xAxisId:b,yAxisId:v,points:P,layout:S,height:R,width:E,left:C,top:F,needClip:k}))}function g1e(e){var{layout:t,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:c,displayedData:u}=e;return u.map((h,f)=>{var m=Qt(h,o);if(t==="horizontal"){var y=lx({axis:r,ticks:a,bandSize:c,entry:h,index:f}),b=pr(m)?null:s.scale(m);return{x:y,y:b,value:m,payload:h}}var v=pr(m)?null:r.scale(m),N=lx({axis:s,ticks:i,bandSize:c,entry:h,index:f});return v==null||N==null?null:{x:v,y:N,value:m,payload:h}}).filter(Boolean)}function y1e(e){var t=zr(e,_8),r=En();return p.createElement(a0,{id:t.id,type:"line"},s=>p.createElement(p.Fragment,null,p.createElement(MA,{legendPayload:s1e(t)}),p.createElement(a1e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),p.createElement(DA,{type:"line",id:s,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),p.createElement(p1e,bm({},t,{id:s}))))}var BA=p.memo(y1e,fp);BA.displayName="Line";var M8=(e,t,r,s)=>to(e,"xAxis",t,s),D8=(e,t,r,s)=>eo(e,"xAxis",t,s),O8=(e,t,r,s)=>to(e,"yAxis",r,s),R8=(e,t,r,s)=>eo(e,"yAxis",r,s),x1e=ke([Ct,M8,O8,D8,R8],(e,t,r,s,a)=>no(e,"xAxis")?Yl(t,s,!1):Yl(r,a,!1)),v1e=(e,t,r,s,a)=>a,L8=ke([ap,v1e],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),b1e=(e,t,r,s,a)=>{var i,o=L8(e,t,r,s,a);if(o!=null){var c=Ct(e),u=no(c,"xAxis"),h;if(u?h=xm(e,"yAxis",r,s):h=xm(e,"xAxis",t,s),h!=null){var{stackId:f}=o,m=Hv(o);if(!(f==null||m==null)){var y=(i=h[f])===null||i===void 0?void 0:i.stackedData;return y?.find(b=>b.key===m)}}}},w1e=ke([Ct,M8,O8,D8,R8,b1e,tp,x1e,L8,lpe],(e,t,r,s,a,i,o,c,u,h)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:y}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||s==null||a==null||s.length===0||a.length===0||c==null)){var{data:b}=u,v;if(b&&b.length>0?v=b:v=f?.slice(m,y+1),v!=null)return B1e({layout:e,xAxis:t,yAxis:r,xAxisTicks:s,yAxisTicks:a,dataStartIndex:m,areaSettings:u,stackedData:i,displayedData:v,chartBaseValue:h,bandSize:c})}}),j1e=["id"],N1e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},su.apply(null,arguments)}function F8(e,t){if(e==null)return{};var r,s,a=k1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function k1e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(s){S1e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function S1e(e,t,r){return(t=A1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A1e(e){var t=C1e(e,"string");return typeof t=="symbol"?t:t+""}function C1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $x(e,t){return e&&e!=="none"?e:t}var I1e=e=>{var{dataKey:t,name:r,stroke:s,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:$x(s,a),value:nc(r,t),payload:e}]},P1e=p.memo(e=>{var{dataKey:t,data:r,stroke:s,strokeWidth:a,fill:i,name:o,hide:c,unit:u,tooltipType:h}=e,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:nc(o,t),hide:c,type:h,color:$x(s,i),unit:u}};return p.createElement(s0,{tooltipEntrySettings:f})});function E1e(e){var{clipPathId:t,points:r,props:s}=e,{needClip:a,dot:i,dataKey:o}=s,c=ys(s);return p.createElement(p8,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:a,clipPathId:t})}function T1e(e){var{showLabels:t,children:r,points:s}=e,a=s.map(i=>{var o,c,u={x:(o=i.x)!==null&&o!==void 0?o:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return bd(bd({},u),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return p.createElement(kA,{value:t?a:void 0},r)}function UO(e){var{points:t,baseLine:r,needClip:s,clipPathId:a,props:i}=e,{layout:o,type:c,stroke:u,connectNulls:h,isRange:f}=i,{id:m}=i,y=F8(i,j1e),b=ys(y),v=as(y);return p.createElement(p.Fragment,null,t?.length>1&&p.createElement(Br,{clipPath:s?"url(#clipPath-".concat(a,")"):void 0},p.createElement(Ed,su({},v,{id:m,points:t,connectNulls:h,type:c,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&p.createElement(Ed,su({},b,{className:"recharts-area-curve",layout:o,type:c,connectNulls:h,fill:"none",points:t})),u!=="none"&&f&&p.createElement(Ed,su({},b,{className:"recharts-area-curve",layout:o,type:c,connectNulls:h,fill:"none",points:r}))),p.createElement(E1e,{points:t,props:y,clipPathId:a}))}function _1e(e){var{alpha:t,baseLine:r,points:s,strokeWidth:a}=e,i=s[0].y,o=s[s.length-1].y;if(!gr(i)||!gr(o))return null;var c=t*Math.abs(i-o),u=Math.max(...s.map(h=>h.x||0));return Qe(r)?u=Math.max(r,u):r&&Array.isArray(r)&&r.length&&(u=Math.max(...r.map(h=>h.x||0),u)),Qe(u)?p.createElement("rect",{x:0,y:i<o?i:i-c,width:u+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}function M1e(e){var{alpha:t,baseLine:r,points:s,strokeWidth:a}=e,i=s[0].x,o=s[s.length-1].x;if(!gr(i)||!gr(o))return null;var c=t*Math.abs(i-o),u=Math.max(...s.map(h=>h.y||0));return Qe(r)?u=Math.max(r,u):r&&Array.isArray(r)&&r.length&&(u=Math.max(...r.map(h=>h.y||0),u)),Qe(u)?p.createElement("rect",{x:i<o?i:i-c,y:0,width:c,height:Math.floor(u+(a?parseInt("".concat(a),10):1))}):null}function D1e(e){var{alpha:t,layout:r,points:s,baseLine:a,strokeWidth:i}=e;return r==="vertical"?p.createElement(_1e,{alpha:t,points:s,baseLine:a,strokeWidth:i}):p.createElement(M1e,{alpha:t,points:s,baseLine:a,strokeWidth:i})}function O1e(e){var{needClip:t,clipPathId:r,props:s,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:c,isAnimationActive:u,animationBegin:h,animationDuration:f,animationEasing:m,onAnimationStart:y,onAnimationEnd:b}=s,v=p.useMemo(()=>({points:o,baseLine:c}),[o,c]),N=ch(v,"recharts-area-"),j=Aue(),[k,I]=p.useState(!1),S=!k,O=p.useCallback(()=>{typeof b=="function"&&b(),I(!1)},[b]),P=p.useCallback(()=>{typeof y=="function"&&y(),I(!0)},[y]);if(j==null)return null;var R=a.current,E=i.current;return p.createElement(T1e,{showLabels:S,points:o},s.children,p.createElement(lh,{animationId:N,begin:h,duration:f,isActive:u,easing:m,onAnimationEnd:O,onAnimationStart:P,key:N},C=>{if(R){var F=R.length/o.length,L=C===1?o:o.map((M,$)=>{var ee=Math.floor($*F);if(R[ee]){var q=R[ee];return bd(bd({},M),{},{x:qt(q.x,M.x,C),y:qt(q.y,M.y,C)})}return M}),D;return Qe(c)?D=qt(E,c,C):pr(c)||Ea(c)?D=qt(E,0,C):D=c.map((M,$)=>{var ee=Math.floor($*F);if(Array.isArray(E)&&E[ee]){var q=E[ee];return bd(bd({},M),{},{x:qt(q.x,M.x,C),y:qt(q.y,M.y,C)})}return M}),C>0&&(a.current=L,i.current=D),p.createElement(UO,{points:L,baseLine:D,needClip:t,clipPathId:r,props:s})}return C>0&&(a.current=o,i.current=c),p.createElement(Br,null,u&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(r)},p.createElement(D1e,{alpha:C,points:o,baseLine:c,layout:j,strokeWidth:s.strokeWidth}))),p.createElement(Br,{clipPath:"url(#animationClipPath-".concat(r,")")},p.createElement(UO,{points:o,baseLine:c,needClip:t,clipPathId:r,props:s})))}),p.createElement(t0,{label:s.label}))}function R1e(e){var{needClip:t,clipPathId:r,props:s}=e,a=p.useRef(null),i=p.useRef();return p.createElement(O1e,{needClip:t,clipPathId:r,props:s,previousPointsRef:a,previousBaselineRef:i})}class L1e extends p.PureComponent{render(){var{hide:t,dot:r,points:s,className:a,top:i,left:o,needClip:c,xAxisId:u,yAxisId:h,width:f,height:m,id:y,baseLine:b,zIndex:v}=this.props;if(t)return null;var N=Lt("recharts-area",a),j=y,{r:k,strokeWidth:I}=E8(r),S=IA(r),O=k*2+I,P=c?"url(#clipPath-".concat(S?"":"dots-").concat(j,")"):void 0;return p.createElement(vs,{zIndex:v},p.createElement(Br,{className:N},c&&p.createElement("defs",null,p.createElement(OA,{clipPathId:j,xAxisId:u,yAxisId:h}),!S&&p.createElement("clipPath",{id:"clipPath-dots-".concat(j)},p.createElement("rect",{x:o-O/2,y:i-O/2,width:f+O,height:m+O}))),p.createElement(R1e,{needClip:c,clipPathId:j,props:this.props})),p.createElement(n2,{points:s,mainColor:$x(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(b)&&p.createElement(n2,{points:b,mainColor:$x(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var $8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:qr.area};function F1e(e){var t,r=zr(e,$8),{activeDot:s,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:c,dot:u,fill:h,fillOpacity:f,hide:m,isAnimationActive:y,legendType:b,stroke:v,xAxisId:N,yAxisId:j}=r,k=F8(r,N1e),I=bu(),S=zB(),{needClip:O}=c0(N,j),P=En(),{points:R,isRange:E,baseLine:C}=(t=Xe(ee=>w1e(ee,N,j,P,e.id)))!==null&&t!==void 0?t:{},F=l0();if(I!=="horizontal"&&I!=="vertical"||F==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:L,width:D,x:M,y:$}=F;return!R||!R.length?null:p.createElement(L1e,su({},k,{activeDot:s,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:C,connectNulls:c,dot:u,fill:h,fillOpacity:f,height:L,hide:m,layout:I,isAnimationActive:y==="auto"?!oh.isSsr:y,isRange:E,legendType:b,needClip:O,points:R,stroke:v,width:D,left:M,top:$,xAxisId:N,yAxisId:j}))}var $1e=(e,t,r,s,a)=>{var i=r??t;if(Qe(i))return i;var o=e==="horizontal"?a:s,c=o.scale.domain();if(o.type==="number"){var u=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return i==="dataMin"?h:i==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return i==="dataMin"?c[0]:i==="dataMax"?c[1]:c[0]};function B1e(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:s},stackedData:a,layout:i,chartBaseValue:o,xAxis:c,yAxis:u,displayedData:h,dataStartIndex:f,xAxisTicks:m,yAxisTicks:y,bandSize:b}=e,v=a&&a.length,N=$1e(i,o,r,c,u),j=i==="horizontal",k=!1,I=h.map((O,P)=>{var R;v?R=a[f+P]:(R=Qt(O,s),Array.isArray(R)?k=!0:R=[N,R]);var E=R[1]==null||v&&!t&&Qt(O,s)==null;return j?{x:lx({axis:c,ticks:m,bandSize:b,entry:O,index:P}),y:E?null:u.scale(R[1]),value:R,payload:O}:{x:E?null:c.scale(R[1]),y:lx({axis:u,ticks:y,bandSize:b,entry:O,index:P}),value:R,payload:O}}),S;return v||k?S=I.map(O=>{var P=Array.isArray(O.value)?O.value[0]:null;return j?{x:O.x,y:P!=null&&O.y!=null?u.scale(P):null,payload:O.payload}:{x:P!=null?c.scale(P):null,y:O.y,payload:O.payload}}):S=j?u.scale(N):c.scale(N),{points:I,baseLine:S,isRange:k}}function z1e(e){var t=zr(e,$8),r=En();return p.createElement(a0,{id:t.id,type:"area"},s=>p.createElement(p.Fragment,null,p.createElement(MA,{legendPayload:I1e(t)}),p.createElement(P1e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),p.createElement(DA,{type:"area",id:s,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:gF(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),p.createElement(F1e,su({},t,{id:s}))))}var Pf=p.memo(z1e,fp);Pf.displayName="Area";var V1e=["domain","range"],U1e=["domain","range"];function WO(e,t){if(e==null)return{};var r,s,a=W1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function W1e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function HO(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function B8(e,t){if(e===t)return!0;var{domain:r,range:s}=e,a=WO(e,V1e),{domain:i,range:o}=t,c=WO(t,U1e);return!HO(r,i)||!HO(s,o)?!1:fp(a,c)}var H1e=["dangerouslySetInnerHTML","ticks"],q1e=["id"];function a2(){return a2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},a2.apply(null,arguments)}function qO(e,t){if(e==null)return{};var r,s,a=G1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function G1e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function K1e(e){var t=cr(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(nbe(e)):r.current!==e&&t(sbe({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(abe(r.current)),r.current=null)},[t]),null}var Y1e=e=>{var{xAxisId:t,className:r}=e,s=Xe(lS),a=En(),i="xAxis",o=Xe(j=>gh(j,i,t,a)),c=Xe(j=>vB(j,i,t,a)),u=Xe(j=>pB(j,t)),h=Xe(j=>age(j,t)),f=Xe(j=>Z$(j,t));if(u==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:y}=e,b=qO(e,H1e),{id:v}=f,N=qO(f,q1e);return p.createElement(FA,a2({},b,N,{scale:o,x:h.x,y:h.y,width:u.width,height:u.height,className:Lt("recharts-".concat(i," ").concat(i),r),viewBox:s,ticks:c,axisType:i}))},Z1e={allowDataOverflow:Nn.allowDataOverflow,allowDecimals:Nn.allowDecimals,allowDuplicatedCategory:Nn.allowDuplicatedCategory,angle:Nn.angle,axisLine:Do.axisLine,height:Nn.height,hide:!1,includeHidden:Nn.includeHidden,interval:Nn.interval,minTickGap:Nn.minTickGap,mirror:Nn.mirror,orientation:Nn.orientation,padding:Nn.padding,reversed:Nn.reversed,scale:Nn.scale,tick:Nn.tick,tickCount:Nn.tickCount,tickLine:Do.tickLine,tickSize:Do.tickSize,type:Nn.type,xAxisId:0},Q1e=e=>{var t=zr(e,Z1e);return p.createElement(p.Fragment,null,p.createElement(K1e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(Y1e,t))},Vi=p.memo(Q1e,B8);Vi.displayName="XAxis";var X1e=["dangerouslySetInnerHTML","ticks"],J1e=["id"];function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},i2.apply(null,arguments)}function GO(e,t){if(e==null)return{};var r,s,a=eNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eNe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function tNe(e){var t=cr(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(ibe(e)):r.current!==e&&t(obe({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(lbe(r.current)),r.current=null)},[t]),null}var rNe=e=>{var{yAxisId:t,className:r,width:s,label:a}=e,i=p.useRef(null),o=p.useRef(null),c=Xe(lS),u=En(),h=cr(),f="yAxis",m=Xe(P=>gh(P,f,t,u)),y=Xe(P=>gB(P,t)),b=Xe(P=>oge(P,t)),v=Xe(P=>vB(P,f,t,u)),N=Xe(P=>Q$(P,t));if(p.useLayoutEffect(()=>{if(!(s!=="auto"||!y||NA(a)||p.isValidElement(a)||N==null)){var P=i.current;if(P){var R=P.getCalculatedWidth();Math.round(y.width)!==Math.round(R)&&h(cbe({id:t,width:R}))}}},[v,y,h,a,t,s,N]),y==null||b==null||N==null)return null;var{dangerouslySetInnerHTML:j,ticks:k}=e,I=GO(e,X1e),{id:S}=N,O=GO(N,J1e);return p.createElement(FA,i2({},I,O,{ref:i,labelRef:o,scale:m,x:b.x,y:b.y,tickTextProps:s==="auto"?{width:void 0}:{width:s},width:y.width,height:y.height,className:Lt("recharts-".concat(f," ").concat(f),r),viewBox:c,ticks:v,axisType:f}))},nNe={allowDataOverflow:kn.allowDataOverflow,allowDecimals:kn.allowDecimals,allowDuplicatedCategory:kn.allowDuplicatedCategory,angle:kn.angle,axisLine:Do.axisLine,hide:!1,includeHidden:kn.includeHidden,interval:kn.interval,minTickGap:kn.minTickGap,mirror:kn.mirror,orientation:kn.orientation,padding:kn.padding,reversed:kn.reversed,scale:kn.scale,tick:kn.tick,tickCount:kn.tickCount,tickLine:Do.tickLine,tickSize:Do.tickSize,type:kn.type,width:kn.width,yAxisId:0},sNe=e=>{var t=zr(e,nNe);return p.createElement(p.Fragment,null,p.createElement(tNe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(rNe,t))},Ui=p.memo(sNe,B8);Ui.displayName="YAxis";var aNe=(e,t)=>t,zA=ke([aNe,Ct,K$,yn,OB,tl,jye,pn],Pye),VA=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,s=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/s)}},z8=Ta("mouseClick"),V8=Km();V8.startListening({actionCreator:z8,effect:(e,t)=>{var r=e.payload,s=zA(t.getState(),VA(r));s?.activeIndex!=null&&t.dispatch(wge({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var o2=Ta("mouseMove"),U8=Km(),Qg=null;U8.startListening({actionCreator:o2,effect:(e,t)=>{var r=e.payload;Qg!==null&&cancelAnimationFrame(Qg);var s=VA(r);Qg=requestAnimationFrame(()=>{var a=t.getState(),i=hA(a,a.tooltip.settings.shared);if(i==="axis"){var o=zA(a,s);o?.activeIndex!=null?t.dispatch(CB({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(AB())}Qg=null})}});var KO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},W8=Ls({name:"rootProps",initialState:KO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:KO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),iNe=W8.reducer,{updateOptions:oNe}=W8.actions,H8=Ls({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:lNe}=H8.actions,cNe=H8.reducer,q8=Ta("keyDown"),G8=Ta("focus"),UA=Km();UA.startListening({actionCreator:q8,effect:(e,t)=>{var r=t.getState(),s=r.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=fA(a,xh(r),op(r),dp(r)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=tl(r);if(i==="Enter"){var h=Ex(r,"axis","hover",String(a.index));t.dispatch(QN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var f=dge(r),m=f==="left-to-right"?1:-1,y=i==="ArrowRight"?1:-1,b=c+y*m;if(!(u==null||b>=u.length||b<0)){var v=Ex(r,"axis","hover",String(b));t.dispatch(QN({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}}});UA.startListening({actionCreator:G8,effect:(e,t)=>{var r=t.getState(),s=r.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Ex(r,"axis","hover",String(i));t.dispatch(QN({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var va=Ta("externalEvent"),K8=Km(),l1=new Map;K8.startListening({actionCreator:va,effect:(e,t)=>{var{handler:r,reactEvent:s}=e.payload;if(r!=null){s.persist();var a=s.type,i=l1.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var c=t.getState(),u={activeCoordinate:oye(c),activeDataKey:xA(c),activeIndex:Ql(c),activeLabel:FB(c),activeTooltipIndex:Ql(c),isTooltipActive:lye(c)};r(u,s)}finally{l1.delete(a)}});l1.set(a,o)}}});var uNe=ke([yh],e=>e.tooltipItemPayloads),dNe=ke([uNe,cp,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,s)=>{var a=e.find(c=>c.settings.dataKey===s);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),Y8=Ta("touchMove"),Z8=Km();Z8.startListening({actionCreator:Y8,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var s=t.getState(),a=hA(s,s.tooltip.settings.shared);if(a==="axis"){var i=zA(s,VA({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(CB({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,c=r.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var h=u.getAttribute(xF),f=(o=u.getAttribute(vF))!==null&&o!==void 0?o:void 0,m=dNe(t.getState(),h,f);t.dispatch(SB({activeDataKey:f,activeIndex:h,activeCoordinate:m}))}}}});var hNe=$9({brush:Qwe,cartesianAxis:ube,chartData:ixe,errorBars:Pbe,graphicalItems:y0e,layout:Mce,legend:zue,options:txe,polarAxis:_ve,polarOptions:cNe,referenceElements:sje,rootProps:iNe,tooltip:jge,zIndex:Uye}),fNe=function(t){return sce({reducer:hNe,preloadedState:t,middleware:r=>{var s;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((s="es6")!==null&&s!==void 0?s:"")}).concat([V8.middleware,U8.middleware,UA.middleware,K8.middleware,Z8.middleware])},enhancers:r=>{var s=r;return typeof r=="function"&&(s=r()),s.concat(eF({type:"raf"}))},devTools:oh.devToolsEnabled})};function Q8(e){var{preloadedState:t,children:r,reduxStoreName:s}=e,a=En(),i=p.useRef(null);if(a)return r;i.current==null&&(i.current=fNe(t));var o=Jk;return p.createElement(Jbe,{context:o,store:i.current},r)}function mNe(e){var{layout:t,margin:r}=e,s=cr(),a=En();return p.useEffect(()=>{a||(s(Ece(t)),s(Pce(r)))},[s,a,t,r]),null}var X8=p.memo(mNe,fp);function J8(e){var t=cr();return p.useEffect(()=>{t(oNe(e))},[t,e]),null}function YO(e){var{zIndex:t,isPanorama:r}=e,s=r?"recharts-zindex-panorama-":"recharts-zindex-",a=f8("".concat(s).concat(t)),i=cr();return p.useLayoutEffect(()=>(i(zye({zIndex:t,elementId:a,isPanorama:r})),()=>{i(Vye({zIndex:t,isPanorama:r}))}),[i,t,a,r]),p.createElement("g",{tabIndex:-1,id:a})}function ZO(e){var{children:t,isPanorama:r}=e,s=Xe(Tye);if(!s||s.length===0)return t;var a=s.filter(o=>o<0),i=s.filter(o=>o>0);return p.createElement(p.Fragment,null,a.map(o=>p.createElement(YO,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>p.createElement(YO,{key:o,zIndex:o,isPanorama:r})))}var pNe=["children"];function gNe(e,t){if(e==null)return{};var r,s,a=yNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yNe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Bx.apply(null,arguments)}var xNe={width:"100%",height:"100%",display:"block"},vNe=p.forwardRef((e,t)=>{var r=uS(),s=dS(),a=OF();if(!Xi(r)||!Xi(s))return null;var{children:i,otherAttributes:o,title:c,desc:u}=e,h,f;return o!=null&&(typeof o.tabIndex=="number"?h=o.tabIndex:h=a?0:void 0,typeof o.role=="string"?f=o.role:f=a?"application":void 0),p.createElement(Uk,Bx({},o,{title:c,desc:u,role:f,tabIndex:h,width:r,height:s,style:xNe,ref:t}),i)}),bNe=e=>{var{children:t}=e,r=Xe(Tv);if(!r)return null;var{width:s,height:a,y:i,x:o}=r;return p.createElement(Uk,{width:s,height:a,x:o,y:i},t)},QO=p.forwardRef((e,t)=>{var{children:r}=e,s=gNe(e,pNe),a=En();return a?p.createElement(bNe,null,p.createElement(ZO,{isPanorama:!0},r)):p.createElement(vNe,Bx({ref:t},s),p.createElement(ZO,{isPanorama:!1},r))});function wNe(){var e=cr(),[t,r]=p.useState(null),s=Xe(Zce);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;gr(i)&&i!==s&&e(_ce(i))}},[t,e,s]),r}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function jNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(s){NNe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function NNe(e,t,r){return(t=kNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kNe(e){var t=SNe(e,"string");return typeof t=="symbol"?t:t+""}function SNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},yu.apply(null,arguments)}var ANe=()=>(pxe(),null);function zx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var CNe=p.forwardRef((e,t)=>{var r,s,a=p.useRef(null),[i,o]=p.useState({containerWidth:zx((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:zx((s=e.style)===null||s===void 0?void 0:s.height)}),c=p.useCallback((h,f)=>{o(m=>{var y=Math.round(h),b=Math.round(f);return m.containerWidth===y&&m.containerHeight===b?m:{containerWidth:y,containerHeight:b}})},[]),u=p.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:f,height:m}=h.getBoundingClientRect();c(f,m);var y=v=>{var{width:N,height:j}=v[0].contentRect;c(N,j)},b=new ResizeObserver(y);b.observe(h),a.current=b}},[t,c]);return p.useEffect(()=>()=>{var h=a.current;h?.disconnect()},[c]),p.createElement(p.Fragment,null,p.createElement(Mv,{width:i.containerWidth,height:i.containerHeight}),p.createElement("div",yu({ref:u},e)))}),INe=p.forwardRef((e,t)=>{var{width:r,height:s}=e,[a,i]=p.useState({containerWidth:zx(r),containerHeight:zx(s)}),o=p.useCallback((u,h)=>{i(f=>{var m=Math.round(u),y=Math.round(h);return f.containerWidth===m&&f.containerHeight===y?f:{containerWidth:m,containerHeight:y}})},[]),c=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:h,height:f}=u.getBoundingClientRect();o(h,f)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(Mv,{width:a.containerWidth,height:a.containerHeight}),p.createElement("div",yu({ref:c},e)))}),PNe=p.forwardRef((e,t)=>{var{width:r,height:s}=e;return p.createElement(p.Fragment,null,p.createElement(Mv,{width:r,height:s}),p.createElement("div",yu({ref:t},e)))}),ENe=p.forwardRef((e,t)=>{var{width:r,height:s}=e;return zo(r)||zo(s)?p.createElement(INe,yu({},e,{ref:t})):p.createElement(PNe,yu({},e,{ref:t}))});function TNe(e){return e===!0?CNe:ENe}var _Ne=p.forwardRef((e,t)=>{var{children:r,className:s,height:a,onClick:i,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:h,onMouseLeave:f,onMouseMove:m,onMouseUp:y,onTouchEnd:b,onTouchMove:v,onTouchStart:N,style:j,width:k,responsive:I,dispatchTouchEvents:S=!0}=e,O=p.useRef(null),P=cr(),[R,E]=p.useState(null),[C,F]=p.useState(null),L=wNe(),D=cS(),M=D?.width>0?D.width:k,$=D?.height>0?D.height:a,ee=p.useCallback(J=>{L(J),typeof t=="function"&&t(J),E(J),F(J),J!=null&&(O.current=J)},[L,t,E,F]),q=p.useCallback(J=>{P(z8(J)),P(va({handler:i,reactEvent:J}))},[P,i]),V=p.useCallback(J=>{P(o2(J)),P(va({handler:h,reactEvent:J}))},[P,h]),re=p.useCallback(J=>{P(AB()),P(va({handler:f,reactEvent:J}))},[P,f]),U=p.useCallback(J=>{P(o2(J)),P(va({handler:m,reactEvent:J}))},[P,m]),te=p.useCallback(()=>{P(G8())},[P]),ie=p.useCallback(J=>{P(q8(J.key))},[P]),H=p.useCallback(J=>{P(va({handler:o,reactEvent:J}))},[P,o]),z=p.useCallback(J=>{P(va({handler:c,reactEvent:J}))},[P,c]),ge=p.useCallback(J=>{P(va({handler:u,reactEvent:J}))},[P,u]),le=p.useCallback(J=>{P(va({handler:y,reactEvent:J}))},[P,y]),Pe=p.useCallback(J=>{P(va({handler:N,reactEvent:J}))},[P,N]),Ae=p.useCallback(J=>{S&&P(Y8(J)),P(va({handler:v,reactEvent:J}))},[P,S,v]),fe=p.useCallback(J=>{P(va({handler:b,reactEvent:J}))},[P,b]),ce=TNe(I);return p.createElement(qB.Provider,{value:R},p.createElement(t9.Provider,{value:C},p.createElement(ce,{width:M??j?.width,height:$??j?.height,className:Lt("recharts-wrapper",s),style:jNe({position:"relative",cursor:"default",width:M,height:$},j),onClick:q,onContextMenu:H,onDoubleClick:z,onFocus:te,onKeyDown:ie,onMouseDown:ge,onMouseEnter:V,onMouseLeave:re,onMouseMove:U,onMouseUp:le,onTouchEnd:fe,onTouchMove:Ae,onTouchStart:Pe,ref:ee},p.createElement(ANe,null),r)))}),MNe=["width","height","responsive","children","className","style","compact","title","desc"];function DNe(e,t){if(e==null)return{};var r,s,a=ONe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ONe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var ez=p.forwardRef((e,t)=>{var{width:r,height:s,responsive:a,children:i,className:o,style:c,compact:u,title:h,desc:f}=e,m=DNe(e,MNe),y=ys(m);return u?p.createElement(p.Fragment,null,p.createElement(Mv,{width:r,height:s}),p.createElement(QO,{otherAttributes:y,title:h,desc:f},i)):p.createElement(_Ne,{className:o,style:c,width:r,height:s,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(QO,{otherAttributes:y,title:h,desc:f,ref:t},p.createElement(ije,null,i)))});function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},l2.apply(null,arguments)}var RNe={top:5,right:5,bottom:5,left:5},LNe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:RNe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},WA=p.forwardRef(function(t,r){var s,a=zr(t.categoricalChartProps,LNe),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:h}=t,f={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return p.createElement(Q8,{preloadedState:{options:f},reduxStoreName:(s=h.id)!==null&&s!==void 0?s:i},p.createElement(w8,{chartData:h.data}),p.createElement(X8,{layout:a.layout,margin:a.margin}),p.createElement(J8,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement(ez,l2({},a,{ref:r})))}),FNe=["axis"],tz=p.forwardRef((e,t)=>p.createElement(WA,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FNe,tooltipPayloadSearcher:Jv,categoricalChartProps:e,ref:t})),$Ne=["axis","item"],Vx=p.forwardRef((e,t)=>p.createElement(WA,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$Ne,tooltipPayloadSearcher:Jv,categoricalChartProps:e,ref:t}));function BNe(e){var t=cr();return p.useEffect(()=>{t(lNe(e))},[t,e]),null}var zNe=["layout"];function c2(){return c2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},c2.apply(null,arguments)}function VNe(e,t){if(e==null)return{};var r,s,a=UNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UNe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var WNe={top:5,right:5,bottom:5,left:5},rz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:WNe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},HNe=p.forwardRef(function(t,r){var s,a=zr(t.categoricalChartProps,rz),{layout:i}=a,o=VNe(a,zNe),{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:f}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(Q8,{preloadedState:{options:m},reduxStoreName:(s=a.id)!==null&&s!==void 0?s:c},p.createElement(w8,{chartData:a.data}),p.createElement(X8,{layout:i,margin:a.margin}),p.createElement(J8,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement(BNe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),p.createElement(ez,c2({},o,{ref:r})))});function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function eR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(s){qNe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function qNe(e,t,r){return(t=GNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GNe(e){var t=KNe(e,"string");return typeof t=="symbol"?t:t+""}function KNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YNe=["item"],ZNe=eR(eR({},rz),{},{layout:"centric",startAngle:0,endAngle:360}),HA=p.forwardRef((e,t)=>{var r=zr(e,ZNe);return p.createElement(HNe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:YNe,tooltipPayloadSearcher:Jv,categoricalChartProps:r,ref:t})}),QNe=["axis"],c1=p.forwardRef((e,t)=>p.createElement(WA,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:QNe,tooltipPayloadSearcher:Jv,categoricalChartProps:e,ref:t}));const jf=(e,t)=>!t||t.length===0?!1:t.includes("*")||t.includes("admin")?!0:t.includes(e),tR=["#8F61EF","#F9A826","#10B981","#EF4444","#3B82F6"],XNe=({title:e,value:t,icon:r,color:s="primary"})=>n.jsx($i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},transition:{duration:.3},children:n.jsx(Nt,{className:"h-full",children:n.jsx(dn,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:e}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t})]}),n.jsx("div",{className:`p-3 rounded-lg ${s==="primary"?"bg-primary/10":s==="blue"?"bg-blue-500/10":s==="green"?"bg-green-500/10":s==="purple"?"bg-purple-500/10":s==="yellow"?"bg-yellow-500/10":"bg-orange-500/10"}`,children:n.jsx(r,{className:`w-6 h-6 ${s==="primary"?"text-primary":s==="blue"?"text-blue-500":s==="green"?"text-green-500":s==="purple"?"text-purple-500":s==="yellow"?"text-yellow-500":"text-orange-500"}`})})]})})})}),JNe=()=>{const[e,t]=p.useState({users:0,vendors:0,venues:0,bookings:0,revenue:0,commission:0}),[r,s]=p.useState([]),[a,i]=p.useState([]),[o,c]=p.useState(!0),u=p.useMemo(()=>{try{const y=localStorage.getItem("admin_permissions");if(y)return JSON.parse(y)}catch(y){console.error("Error parsing permissions:",y)}return[]},[]);p.useEffect(()=>{h()},[]);const h=async()=>{try{const b=(await yie.getStats()).data;t({users:b.users||0,vendors:b.vendors||0,venues:b.venues||0,bookings:b.bookings||0,revenue:b.revenue||0,commission:b.commission||0}),s(b.monthlyRevenue||[]),i(b.bookingStatus||[])}catch{G.error("Failed to load dashboard data")}finally{c(!1)}},f=p.useMemo(()=>[{id:"users",title:"Total Users",value:e.users.toLocaleString(),icon:Dm,color:"primary",permission:"view_users"},{id:"vendors",title:"Vendors",value:e.vendors.toLocaleString(),icon:ML,color:"blue",permission:"view_vendors"},{id:"venues",title:"Venues",value:e.venues.toLocaleString(),icon:gs,color:"green",permission:"view_venues"},{id:"bookings",title:"Bookings",value:e.bookings.toLocaleString(),icon:Cn,color:"purple",permission:"view_bookings"},{id:"revenue",title:"Revenue",value:`${e.revenue.toLocaleString()}`,icon:sv,color:"yellow",permission:"view_revenue"},{id:"commission",title:"Commission",value:`${e.commission.toLocaleString()}`,icon:ek,color:"orange",permission:"view_payouts"}],[e]),m=p.useMemo(()=>f.filter(y=>!!(jf(y.permission,u)||(y.id==="revenue"||y.id==="commission")&&jf("view_analytics",u))),[f,u]);return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Dashboard"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Welcome back! Here's your overview."})]}),m.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(y=>n.jsx(XNe,{title:y.title,value:y.value,icon:y.icon,change:y.change,color:y.color},y.id))}):n.jsx(Nt,{children:n.jsx(dn,{className:"p-6 text-center",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No dashboard cards available. Please contact admin for permissions."})})}),jf("view_analytics",u)&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jf("view_revenue",u)&&n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsx(us,{children:"Monthly Revenue"})}),n.jsx(dn,{children:n.jsx(Na,{width:"100%",height:300,children:n.jsxs(tz,{data:r,children:[n.jsx(zi,{strokeDasharray:"3 3"}),n.jsx(Vi,{dataKey:"month"}),n.jsx(Ui,{}),n.jsx(ka,{}),n.jsx($l,{}),n.jsx(BA,{type:"monotone",dataKey:"revenue",stroke:"#8F61EF",strokeWidth:2})]})})})]}),jf("view_bookings",u)&&n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsx(us,{children:"Bookings by Status"})}),n.jsx(dn,{children:n.jsx(Na,{width:"100%",height:300,children:n.jsxs(HA,{children:[n.jsx(o0,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:y,percent:b})=>`${y} ${(b*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((y,b)=>n.jsx(Nu,{fill:tR[b%tR.length]},`cell-${b}`))}),n.jsx(ka,{})]})})})]})]})]})},_n=({children:e,className:t})=>n.jsx("div",{className:"w-full",children:n.jsx("table",{className:An("w-full table-fixed",t),children:e})}),Mn=({children:e})=>n.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:e}),Dn=({children:e})=>n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e}),ft=({children:e,className:t,onClick:r})=>n.jsx("tr",{className:An("hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",r&&"cursor-pointer",t),onClick:r,children:e}),Me=({children:e,className:t})=>n.jsx("th",{className:An("px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",t),children:e}),Se=({children:e,className:t})=>n.jsx("td",{className:An("px-4 py-3 text-sm text-gray-900 dark:text-gray-100",t),children:e}),pt=({children:e,variant:t="default",className:r})=>{const s={default:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200",success:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",warning:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200",danger:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200",info:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",primary:"bg-primary/20 text-primary"};return n.jsx("span",{className:An("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s[t],r),children:e})},Be=({className:e,label:t,error:r,...s})=>n.jsxs("div",{className:"w-full",children:[t&&n.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:t}),n.jsx("input",{className:An("w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600","bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed",r&&"border-red-500 focus:ring-red-500",e),...s}),r&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:r})]}),xt=({isOpen:e,onClose:t,title:r,children:s,size:a="md"})=>{const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return e?n.jsx(bte,{mode:"wait",children:e&&n.jsxs($i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[n.jsx($i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),n.jsxs($i.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:o=>o.stopPropagation(),className:An("relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-h-[90vh] flex flex-col z-10",i[a]),children:[r&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:r}),n.jsx("button",{onClick:t,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-label":"Close modal",children:n.jsx(er,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"px-6 py-4 overflow-y-auto flex-1 min-h-0",children:s})]})]},"modal")}):null},On=({currentPage:e=1,totalPages:t=1,totalItems:r=0,itemsPerPage:s=10,onPageChange:a,showTotal:i=!0})=>{if(t<=1)return null;const o=(e-1)*s+1,c=Math.min(e*s,r),u=()=>{e>1&&a(e-1)},h=()=>{e<t&&a(e+1)},f=y=>{y>=1&&y<=t&&y!==e&&a(y)},m=()=>{const y=[];if(t<=5)for(let v=1;v<=t;v++)y.push(v);else{y.push(1),e>3&&y.push("...");const v=Math.max(2,e-1),N=Math.min(t-1,e+1);for(let j=v;j<=N;j++)y.push(j);e<t-2&&y.push("..."),t>1&&y.push(t)}return y};return n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-4 border-t border-gray-200",children:[i&&n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",n.jsx("span",{className:"font-semibold text-gray-900",children:o})," to"," ",n.jsx("span",{className:"font-semibold text-gray-900",children:c})," of"," ",n.jsx("span",{className:"font-semibold text-gray-900",children:r})," items"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:u,disabled:e===1,className:"flex items-center gap-1 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(X2,{className:"w-4 h-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"flex items-center gap-1",children:m().map((y,b)=>y==="..."?n.jsx("span",{className:"px-2 py-1 text-gray-500",children:"..."},`ellipsis-${b}`):n.jsx("button",{onClick:()=>f(y),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${y===e?"bg-primary-600 text-white hover:bg-primary-700":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:y},y))}),n.jsxs("button",{onClick:h,disabled:e===t,className:"flex items-center gap-1 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("span",{children:"Next"}),n.jsx(Jd,{className:"w-4 h-4"})]})]})]})},e2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(""),[o,c]=p.useState("all"),[u,h]=p.useState(null),[f,m]=p.useState(!1),[y,b]=p.useState(!1),[v,N]=p.useState(null),[j,k]=p.useState(!1),[I,S]=p.useState(1),O=10;p.useEffect(()=>{P()},[o]);const P=async()=>{try{const V=o!=="all"?{role:o}:{},re=await Mg.getAll(V);t(re.data||[])}catch{G.error("Failed to load users")}finally{s(!1)}},R=async V=>{b(!0),m(!0);try{const re=await Mg.getById(V);h(re.data)}catch(re){G.error(re.response?.data?.message||"Failed to load user details"),m(!1)}finally{b(!1)}},E=async(V,re=!1)=>{if(!re){const U=e.find(te=>te._id===V)||u;N({id:V,name:U?.name,type:U?.isBlocked?"unblock":"block"});return}k(!0);try{const U=await Mg.block(V);G.success(U.data?.message||"User blocked successfully"),P(),u&&u._id===V&&h({...u,isBlocked:!u.isBlocked})}catch(U){G.error(U.response?.data?.message||"Failed to block user")}finally{k(!1),N(null)}},C=async(V,{skipConfirm:re=!1,forceDelete:U=!1,userMeta:te}={})=>{if(!re){N({id:V,name:te?.name,type:U?"forceDelete":"delete",meta:te});return}let ie=!0;k(!0);try{const H=U?{params:{forceDelete:"true"}}:{},z=await Mg.delete(V,H);G.success(z.data?.message||"User deleted successfully"),P(),u&&u._id===V&&(m(!1),h(null))}catch(H){const z=H.response?.data;z?.canForceDelete&&(z?.bookingsCount>0||z?.leadsCount>0)?(N({id:V,name:te?.name||u?.name,type:"forceDelete",meta:{bookingsCount:z.bookingsCount||0,leadsCount:z.leadsCount||0}}),ie=!1):G.error(z?.message||"Failed to delete user");return}finally{k(!1),ie&&N(null)}},F=e.filter(V=>V.name?.toLowerCase().includes(a.toLowerCase())||V.email?.toLowerCase().includes(a.toLowerCase())||V.phone?.includes(a)),L=F.length,D=Math.ceil(L/O),M=(I-1)*O,$=M+O,ee=F.slice(M,$);p.useEffect(()=>{S(1)},[a,o]);const q=V=>{const re={customer:"info",vendor:"warning",affiliate:"success",admin:"primary"};return n.jsx(pt,{variant:re[V]||"default",children:V})};return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Users"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all users"})]})}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx(Be,{type:"text",placeholder:"Search users...",value:a,onChange:V=>i(V.target.value),className:"pl-10"})]})}),n.jsxs("select",{value:o,onChange:V=>c(V.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"all",children:"All Roles"}),n.jsx("option",{value:"customer",children:"Customer"}),n.jsx("option",{value:"vendor",children:"Vendor"}),n.jsx("option",{value:"affiliate",children:"Affiliate"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Users: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:L})]}),n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"Name"}),n.jsx(Me,{children:"Email"}),n.jsx(Me,{children:"Phone"}),n.jsx(Me,{children:"Role"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:ee.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No users found"})}):ee.map((V,re)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:M+re+1}),n.jsx(Se,{className:"font-medium",children:V.name}),n.jsx(Se,{className:"whitespace-normal break-words max-w-[12rem] text-sm",children:V.email}),n.jsx(Se,{children:V.phone||"N/A"}),n.jsx(Se,{children:q(V.role)}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(pt,{variant:V.verified?"success":"warning",children:V.verified?"Verified":"Pending"}),V.isBlocked&&n.jsx(pt,{variant:"danger",children:"Blocked"})]})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[Gt("view_users")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>R(V._id),title:"View Details",children:n.jsx(Gr,{className:"w-4 h-4"})}),Gt("edit_users")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>E(V._id),title:V.isBlocked?"Unblock User":"Block User",disabled:V.role==="admin",children:n.jsx(BE,{className:`w-4 h-4 ${V.isBlocked?"text-red-500":""}`})}),Gt("delete_users")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>C(V._id,{userMeta:V}),title:"Delete User",disabled:V.role==="admin",children:n.jsx(Kr,{className:"w-4 h-4 text-red-500"})})]})})]},V._id))})]}),L>10&&n.jsx(On,{currentPage:I,totalPages:D,totalItems:L,itemsPerPage:O,onPageChange:S})]})}),n.jsx(xt,{isOpen:!!v,onClose:()=>{j||N(null)},title:v?.type==="unblock"?"Unblock User":"Block User",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:[v?.type==="unblock"&&`Are you sure you want to unblock ${v?.name||"this user"}?`,v?.type==="block"&&`Are you sure you want to block ${v?.name||"this user"}?`,v?.type==="delete"&&`Delete ${v?.name||"this user"}? This action cannot be undone.`,v?.type==="forceDelete"&&`This user has ${v?.meta?.bookingsCount||0} booking(s) and ${v?.meta?.leadsCount||0} lead(s). Do you want to delete the user along with all their bookings and leads?`]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>N(null),disabled:j,children:"Cancel"}),v?.type==="block"||v?.type==="unblock"?n.jsx(be,{variant:v?.type==="unblock"?"secondary":"danger",onClick:()=>E(v.id,!0),disabled:j,children:j?"Please wait...":v?.type==="unblock"?"Unblock":"Block"}):null,v?.type==="delete"||v?.type==="forceDelete"?n.jsx(be,{variant:"danger",onClick:()=>C(v.id,{skipConfirm:!0,forceDelete:v?.type==="forceDelete",userMeta:v?.meta}),disabled:j,children:j?"Please wait...":"Delete"}):null]})]})}),n.jsx(xt,{isOpen:f,onClose:()=>{m(!1),h(null)},title:"User Details",size:"lg",children:y?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):u?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:n.jsx(sa,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:n.jsx(di,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.email||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:n.jsx(tc,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Phone"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.phone||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:n.jsx(na,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Role"}),n.jsx("div",{className:"mt-1",children:q(u.role)})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:n.jsx(Cn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Joined Date"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.createdAt?new Date(u.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:n.jsx(na,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),n.jsxs("div",{className:"mt-1 flex gap-2",children:[n.jsx(pt,{variant:u.verified?"success":"warning",children:u.verified?"Verified":"Pending"}),u.isBlocked&&n.jsx(pt,{variant:"danger",children:"Blocked"})]})]})]})]}),(Gt("edit_users")||Gt("delete_users"))&&n.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[Gt("edit_users")&&n.jsxs(be,{variant:"secondary",onClick:()=>{u.role!=="admin"?E(u._id):G.error("Cannot block admin user")},disabled:u.role==="admin",children:[n.jsx(BE,{className:"w-4 h-4 mr-2"}),u.isBlocked?"Unblock User":"Block User"]}),Gt("delete_users")&&n.jsxs(be,{variant:"danger",onClick:()=>{u.role!=="admin"?C(u._id,!1):G.error("Cannot delete admin user")},disabled:u.role==="admin",children:[n.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Delete User"]})]})]}):null})]})},t2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(null),[o,c]=p.useState(!1),[u,h]=p.useState(null),[f,m]=p.useState(null),[y,b]=p.useState(!1),[v,N]=p.useState(!1),[j,k]=p.useState(!1),[I,S]=p.useState(1),O=10,[P,R]=p.useState({name:"",email:"",phone:"",password:""}),[E,C]=p.useState(""),[F,L]=p.useState([]),[D,M]=p.useState(!1);p.useEffect(()=>{ee(),$()},[]);const $=async()=>{try{const le=await Af.getAll({activeOnly:"true"});L(le.data.categories||[])}catch(le){console.error("Failed to load categories:",le)}},ee=async()=>{try{const le=await bo.getAll();t(le.data||[])}catch{G.error("Failed to load vendors")}finally{s(!1)}},q=async(le,Pe=!1)=>{if(!Pe){const Ae=e.find(fe=>fe._id===le);i({id:le,name:Ae?.name,type:"approve"});return}c(!0);try{const Ae=await bo.approve(le);G.success(Ae.data?.message||"Vendor approved successfully"),ee()}catch(Ae){G.error(Ae.response?.data?.message||"Failed to approve vendor")}finally{c(!1),i(null)}},V=async(le,Pe=!1)=>{if(!Pe){const Ae=e.find(fe=>fe._id===le);i({id:le,name:Ae?.name,type:"reject"});return}c(!0);try{const Ae=await bo.reject(le);G.success(Ae.data?.message||"Vendor rejected successfully"),ee()}catch(Ae){G.error(Ae.response?.data?.message||"Failed to reject vendor")}finally{c(!1),i(null)}},re=async(le,Pe=!1)=>{if(!Pe){const Ae=e.find(fe=>fe._id===le);i({id:le,name:Ae?.name,type:"delete"});return}c(!0);try{const Ae=await bo.delete(le);G.success(Ae.data?.message||"Vendor deleted successfully"),ee()}catch(Ae){G.error(Ae.response?.data?.message||"Failed to delete vendor")}finally{c(!1),i(null)}},U=async le=>{h(le),b(!0);try{const Pe=await bo.getById(le),Ae=Pe.data?.vendor||Pe.data?.data||Pe.data;m(Ae)}catch(Pe){G.error(Pe.response?.data?.message||"Failed to load vendor details"),h(null)}finally{b(!1)}},te=e.length,ie=Math.ceil(te/O),H=(I-1)*O,z=H+O,ge=e.slice(H,z);return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Vendors"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all vendors"})]}),Gt("create_vendors")&&n.jsxs(be,{onClick:()=>N(!0),className:"flex items-center gap-2",children:[n.jsx(Fr,{className:"w-4 h-4"}),"Add Vendor"]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Vendors: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:te})]}),n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"Name"}),n.jsx(Me,{className:"max-w-[200px]",children:"Email"}),n.jsx(Me,{children:"Phone"}),n.jsx(Me,{children:"Category"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Revenue"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:ge.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:8,className:"text-center py-8 text-gray-500",children:"No vendors found"})}):ge.map((le,Pe)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:H+Pe+1}),n.jsx(Se,{className:"font-medium",children:le.name}),n.jsx(Se,{className:"max-w-[200px]",children:n.jsx("div",{className:"truncate",title:le.email,style:{maxWidth:"200px"},children:le.email})}),n.jsx(Se,{children:le.phone||"N/A"}),n.jsx(Se,{children:le.vendorCategory?n.jsx(pt,{variant:"default",children:le.vendorCategory.name}):n.jsx("span",{className:"text-gray-400 text-sm",children:"No category"})}),n.jsx(Se,{children:n.jsx(pt,{variant:le.status==="approved"?"success":le.status==="pending"?"warning":"danger",children:le.status||"pending"})}),n.jsxs(Se,{children:["",le.totalRevenue||0]}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[Gt("view_vendors")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>U(le._id),title:"View Details",children:n.jsx(Gr,{className:"w-4 h-4"})}),Gt("edit_vendors")&&le.status!=="approved"&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>q(le._id),children:n.jsx(Wl,{className:"w-4 h-4 text-green-500"})}),Gt("edit_vendors")&&le.status!=="rejected"&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>V(le._id),children:n.jsx(er,{className:"w-4 h-4 text-red-500"})}),Gt("delete_vendors")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>re(le._id),children:n.jsx(Kr,{className:"w-4 h-4 text-red-600"})})]})})]},le._id))})]}),te>10&&n.jsx(On,{currentPage:I,totalPages:ie,totalItems:te,itemsPerPage:O,onPageChange:S})]})}),n.jsx(xt,{isOpen:!!a,onClose:()=>{o||i(null)},title:a?.type==="approve"?"Approve Vendor":a?.type==="reject"?"Reject Vendor":"Delete Vendor",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-700 dark:text-gray-200",children:a?.type==="approve"?`Approve ${a?.name||"this vendor"}?`:a?.type==="reject"?`Reject ${a?.name||"this vendor"}? This will also reject all their venues.`:`Delete ${a?.name||"this vendor"}? This action cannot be undone. All their venues will be rejected.`}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>i(null),disabled:o,children:"Cancel"}),n.jsx(be,{variant:a?.type==="approve"?"secondary":"danger",onClick:()=>{a?.type==="approve"?q(a.id,!0):a?.type==="reject"?V(a.id,!0):a?.type==="delete"&&re(a.id,!0)},disabled:o,children:o?"Please wait...":a?.type==="approve"?"Approve":a?.type==="reject"?"Reject":"Delete"})]})]})}),n.jsx(xt,{isOpen:v,onClose:()=>{j||(N(!1),R({name:"",email:"",phone:"",password:""}),C(""))},title:"Add Vendor",size:"md",children:n.jsxs("form",{className:"space-y-4",onSubmit:async le=>{if(le.preventDefault(),P.phone){const Ae=String(P.phone).trim().replace(/\D/g,"");if(Ae.length<10||Ae.length>15){C("Phone number must be between 10 and 15 digits");return}C("")}k(!0);try{await bo.create(P),G.success("Vendor created successfully"),N(!1),R({name:"",email:"",phone:"",password:""}),C(""),ee()}catch(Pe){G.error(Pe.response?.data?.message||"Failed to create vendor")}finally{k(!1)}},children:[n.jsx(Be,{label:"Name",value:P.name,onChange:le=>R(Pe=>({...Pe,name:le.target.value})),disabled:j,required:!0}),n.jsx(Be,{label:"Email",type:"email",value:P.email,onChange:le=>R(Pe=>({...Pe,email:le.target.value})),disabled:j,required:!0}),n.jsxs("div",{children:[n.jsx(Be,{label:"Phone",type:"tel",value:P.phone,onChange:le=>{const Ae=le.target.value.replace(/\D/g,"");Ae.length<=15&&(R(fe=>({...fe,phone:Ae})),Ae.length>0&&(Ae.length<10||Ae.length>15)?C("Phone number must be between 10 and 15 digits"):C(""))},disabled:j,placeholder:"Enter 10-15 digit phone number",maxLength:15}),E&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:E}),!E&&P.phone&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[P.phone.replace(/\D/g,"").length," digits"]})]}),n.jsx(Be,{label:"Password",type:"password",value:P.password,onChange:le=>R(Pe=>({...Pe,password:le.target.value})),disabled:j,required:!0}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx(be,{type:"button",variant:"outline",onClick:()=>N(!1),disabled:j,children:"Cancel"}),n.jsx(be,{type:"submit",disabled:j,children:j?"Creating...":"Create Vendor"})]})]})}),n.jsx(xt,{isOpen:!!u,onClose:()=>{h(null),m(null)},title:"Vendor Details",size:"lg",children:y?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):f?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Name"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:f.name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Email"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:f.email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Phone"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:f.phone||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(pt,{variant:f.vendorStatus==="approved"?"success":f.vendorStatus==="pending"?"warning":"danger",children:f.vendorStatus||f.status||"pending"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Category"}),n.jsx("div",{className:"mt-1 flex items-center gap-2",children:Gt("edit_vendors")?n.jsxs("select",{value:f.vendorCategory?._id||f.vendorCategory||"",onChange:async le=>{const Pe=le.target.value||null;M(!0);try{await bo.updateCategory(u,Pe),G.success("Category updated successfully");const Ae=await bo.getById(u),fe=Ae.data?.vendor||Ae.data?.data||Ae.data;m(fe),ee()}catch(Ae){G.error(Ae.response?.data?.message||"Failed to update category")}finally{M(!1)}},disabled:D,className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:"No category"}),F.map(le=>n.jsx("option",{value:le._id,children:le.name},le._id))]}):n.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:f.vendorCategory?.name||"No category"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Role"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:f.role||"vendor"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Verified"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:f.verified?"Yes":"No"})]}),f.createdAt&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Created At"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:new Date(f.createdAt).toLocaleDateString()})]}),f.updatedAt&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Last Updated"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:new Date(f.updatedAt).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Revenue"}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[n.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["",f.totalRevenue||0]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Total Revenue"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Venues"}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:f.venueCount||(Array.isArray(f.venues)?f.venues.length:0)}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Total Venues"})]})]})]}),f.venueStatusCounts&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Venue Status Breakdown"}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:f.venueStatusCounts.pending||0}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Pending"})]}),n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f.venueStatusCounts.approved||0}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Approved"})]}),n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:f.venueStatusCounts.rejected||0}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Rejected"})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:f.venueStatusCounts.active||0}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Active"})]})]})]}),f.venues&&Array.isArray(f.venues)&&f.venues.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Venues List"}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:f.venues.map(le=>n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:le.name}),le.location&&n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:typeof le.location=="string"?le.location:`${le.location.city||""}${le.location.state?`, ${le.location.state}`:""}`})]}),n.jsx(pt,{variant:le.status==="approved"?"success":le.status==="pending"?"warning":"danger",children:le.status})]}),le.price&&n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["",le.price]})]},le._id))})]}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:"View Raw Data"}),n.jsx("pre",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg overflow-auto text-xs",children:JSON.stringify(f,null,2)})]})]}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No vendor details available"})})]})},rR=()=>"https://shubhvenue.com/api".replace("/api",""),Pn=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/uploads/")||e.startsWith("/uploads")?`${rR()}${e}`:e.startsWith("uploads/")?`${rR()}/${e}`:e:"",r2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(!1),[o,c]=p.useState(!1),[u,h]=p.useState(!1),[f,m]=p.useState(null),[y,b]=p.useState({name:"",description:"",isActive:!0,image:null}),[v,N]=p.useState(null),[j,k]=p.useState(null),[I,S]=p.useState(!1);p.useEffect(()=>{O()},[]);const O=async()=>{try{s(!0);const D=await Af.getAll();t(D.data.categories||[])}catch{G.error("Failed to load categories")}finally{s(!1)}},P=async D=>{D.preventDefault(),S(!0);try{if(!y.name||!y.name.trim()){G.error("Category name is required"),S(!1);return}const M=new FormData;M.append("name",y.name.trim()),M.append("description",y.description||""),M.append("isActive",y.isActive?"true":"false"),j&&M.append("image",j),console.log("Sending FormData:",{name:y.name.trim(),description:y.description||"",isActive:y.isActive,hasImage:!!j}),await Af.create(M),G.success("Category created successfully"),i(!1),b({name:"",description:"",isActive:!0,image:null}),N(null),k(null),O()}catch(M){G.error(M.response?.data?.message||"Failed to create category")}finally{S(!1)}},R=D=>{m(D),b({name:D.name,description:D.description||"",isActive:D.isActive,image:D.image||null}),N(D.image?Pn(D.image):null),k(null),c(!0)},E=async D=>{D.preventDefault(),S(!0);try{const M=new FormData;M.append("name",y.name),M.append("description",y.description||""),M.append("isActive",y.isActive),j?M.append("image",j):y.image&&M.append("image",y.image),await Af.update(f._id,M),G.success("Category updated successfully"),c(!1),m(null),b({name:"",description:"",isActive:!0,image:null}),N(null),k(null),O()}catch(M){G.error(M.response?.data?.message||"Failed to update category")}finally{S(!1)}},C=D=>{const M=D.target.files[0];if(M){k(M);const $=new FileReader;$.onloadend=()=>{N($.result)},$.readAsDataURL(M)}},F=()=>{k(null),N(null),b({...y,image:null})},L=async()=>{S(!0);try{await Af.delete(f._id),G.success("Category deleted successfully"),h(!1),m(null),O()}catch(D){G.error(D.response?.data?.message||"Failed to delete category")}finally{S(!1)}};return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Vendor Categories"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage vendor categories"})]}),Gt("edit_vendors")&&n.jsxs(be,{onClick:()=>i(!0),className:"flex items-center gap-2",children:[n.jsx(Fr,{className:"w-4 h-4"}),"Add Category"]})]}),n.jsx(Nt,{children:n.jsx("div",{className:"p-6",children:n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{children:"S.No"}),n.jsx(Me,{children:"Name"}),n.jsx(Me,{children:"Description"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Created At"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:e.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No categories found"})}):e.map((D,M)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"font-medium",children:M+1}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[D.image?n.jsx("img",{src:Pn(D.image),alt:D.name,className:"w-10 h-10 object-cover rounded-lg flex-shrink-0",onError:$=>{$.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAzMkMyNy4zMTM3IDMyIDMwIDI5LjMxMzcgMzAgMjZDMzAgMjIuNjg2MyAyNy4zMTM3IDIwIDI0IDIwQzIwLjY4NjMgMjAgMTggMjIuNjg2MyAxOCAyNkMxOCAyOS4zMTM3IDIwLjY4NjMgMzIgMjQgMzJaIiBmaWxsPSIjOUI5Q0E0Ii8+CjxwYXRoIGQ9Ik0xMiA0MEMxMiA0MCAxNiAzNCAyNCAzNEMzMiAzNCAzNiA0MCAzNiA0MEgxMloiIGZpbGw9IiM5QjlDQTQiLz4KPC9zdmc+"}}):n.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(Of,{className:"w-5 h-5 text-gray-400"})}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:D.name})]})}),n.jsx(Se,{children:D.description||"N/A"}),n.jsx(Se,{children:n.jsx(pt,{variant:D.isActive?"success":"danger",children:D.isActive?"Active":"Inactive"})}),n.jsx(Se,{children:D.createdAt?new Date(D.createdAt).toLocaleDateString():"N/A"}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[Gt("edit_vendors")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>R(D),title:"Edit",children:n.jsx(ss,{className:"w-4 h-4"})}),Gt("edit_vendors")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>{m(D),h(!0)},title:"Delete",children:n.jsx(Kr,{className:"w-4 h-4 text-red-600"})})]})})]},D._id))})]})})}),n.jsx(xt,{isOpen:a,onClose:()=>{I||(i(!1),b({name:"",description:"",isActive:!0,image:null}),N(null),k(null))},title:"Create Vendor Category",size:"md",children:n.jsxs("form",{onSubmit:P,className:"space-y-4",children:[n.jsx(Be,{label:"Category Name",value:y.name,onChange:D=>b({...y,name:D.target.value}),disabled:I,required:!0,placeholder:"e.g., Wedding Venues, Catering, Photography"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),n.jsx("textarea",{value:y.description,onChange:D=>b({...y,description:D.target.value}),disabled:I,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"Optional description"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category Image"}),n.jsxs("div",{className:"space-y-2",children:[v?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:v,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),n.jsx("button",{type:"button",onClick:F,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:n.jsx(er,{className:"w-4 h-4"})})]}):n.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[n.jsx(Of,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"No image selected"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:C,disabled:I,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Recommended: Square image, max 5MB"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:y.isActive,onChange:D=>b({...y,isActive:D.target.checked}),disabled:I,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),n.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium",children:"Active (visible in registration)"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx(be,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:I,children:"Cancel"}),n.jsx(be,{type:"submit",disabled:I,children:I?"Creating...":"Create Category"})]})]})}),n.jsx(xt,{isOpen:o,onClose:()=>{I||(c(!1),m(null),b({name:"",description:"",isActive:!0,image:null}),N(null),k(null))},title:"Edit Vendor Category",size:"md",children:n.jsxs("form",{onSubmit:E,className:"space-y-4",children:[n.jsx(Be,{label:"Category Name",value:y.name,onChange:D=>b({...y,name:D.target.value}),disabled:I,required:!0}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),n.jsx("textarea",{value:y.description,onChange:D=>b({...y,description:D.target.value}),disabled:I,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category Image"}),n.jsxs("div",{className:"space-y-2",children:[v?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:v,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),n.jsx("button",{type:"button",onClick:F,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:n.jsx(er,{className:"w-4 h-4"})})]}):n.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[n.jsx(Of,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"No image selected"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:C,disabled:I,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Recommended: Square image, max 5MB"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"isActiveEdit",checked:y.isActive,onChange:D=>b({...y,isActive:D.target.checked}),disabled:I,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),n.jsx("label",{htmlFor:"isActiveEdit",className:"text-sm font-medium",children:"Active (visible in registration)"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx(be,{type:"button",variant:"outline",onClick:()=>c(!1),disabled:I,children:"Cancel"}),n.jsx(be,{type:"submit",disabled:I,children:I?"Updating...":"Update Category"})]})]})}),n.jsx(xt,{isOpen:u,onClose:()=>{I||(h(!1),m(null))},title:"Delete Category",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Are you sure you want to delete ",n.jsx("strong",{children:f?.name}),"? This action cannot be undone."]}),n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Note: You cannot delete a category if any vendors are using it."}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>h(!1),disabled:I,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:L,disabled:I,children:I?"Deleting...":"Delete"})]})]})})]})},n2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState("all"),[o,c]=p.useState(null),[u,h]=p.useState(!1),[f,m]=p.useState(!1),[y,b]=p.useState(0),[v,N]=p.useState(!1),[j,k]=p.useState(1),I=10,[S,O]=p.useState({vendorId:"",name:"",address:"",city:"",state:"",price:"",capacity:"",description:"",categoryId:"",menuId:"",subMenuId:"",amenities:[],highlights:[],rooms:"",openTime:"",closeTime:"",openDays:[]}),[P,R]=p.useState(null),[E,C]=p.useState([]),[F,L]=p.useState([]),[D,M]=p.useState([]),[$,ee]=p.useState(null),[q,V]=p.useState([]),[re,U]=p.useState([]),[te,ie]=p.useState([]),[H,z]=p.useState([]),[ge,le]=p.useState([]),[Pe,Ae]=p.useState([]),[fe,ce]=p.useState(!1),J=["Parking","AC","WiFi","Catering","Decoration","Sound System","Stage","Dance Floor","Photography","Videography","Bridal Room","Groom Room","Garden","Pool","Bar"],Y=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];p.useEffect(()=>{de(),X(),pe(),se(),ve()},[a]),p.useEffect(()=>{S.state&&S.state.trim()?ue(S.state):Ae([])},[S.state]),p.useEffect(()=>{S.menuId?Q(S.menuId):(z([]),S.subMenuId&&O(ne=>({...ne,subMenuId:""})))},[S.menuId]);const de=async()=>{try{const ne=a!=="all"?{status:a}:{},_e=await kl.getAll(ne);t(_e.data||[])}catch{G.error("Failed to load venues")}finally{s(!1)}},X=async()=>{try{const ne=await bo.getAll();V(ne.data||[])}catch(ne){console.error("Failed to load vendors:",ne),V([])}},pe=async()=>{try{const ne=await dd.getAll(),_e=ne.data?.categories||ne.data?.data||ne.data||[];U(Array.isArray(_e)?_e:[])}catch(ne){console.error("Failed to load categories:",ne),U([])}},se=async()=>{try{const ne=await Qa.getAll({active:"all"});let _e=[];ne&&ne.data&&(ne.data.menus&&Array.isArray(ne.data.menus)?_e=ne.data.menus:Array.isArray(ne.data)?_e=ne.data:ne.data.success&&ne.data.menus&&(_e=ne.data.menus));const Ke=Array.isArray(_e)?_e.map(Et=>({...Et,_id:String(Et._id||Et.id||""),id:String(Et._id||Et.id||"")})):[];ie(Ke)}catch(ne){console.error("Failed to load menus:",ne),ie([])}},Q=async ne=>{if(!ne){z([]);return}try{const _e=await Qa.getAll({parentMenuId:ne,active:"all"}),Ke=_e.data?.menus||_e.data||[],Et=Array.isArray(Ke)?Ke.map(It=>({...It,_id:String(It._id||It.id||""),id:String(It._id||It.id||"")})):[];z(Et)}catch(_e){console.error("Failed to load submenus:",_e),z([])}},ve=async()=>{try{const ne=await kl.getStates();ne.data?.success&&ne.data?.states||ne.data?.states?le(ne.data.states):le([])}catch(ne){console.error("Failed to load states:",ne),le([])}},ue=async ne=>{if(!ne||!ne.trim()){Ae([]);return}try{ce(!0);const _e=await kl.getCities(ne.trim());_e.data?.success&&_e.data?.cities?(Ae(_e.data.cities),S.city&&!_e.data.cities.some(Ke=>Ke.toLowerCase()===S.city.toLowerCase())&&O(Ke=>({...Ke,city:""}))):_e.data?.cities?Ae(_e.data.cities):Ae([])}catch(_e){console.error("Failed to load cities:",_e),Ae([])}finally{ce(!1)}},xe=ne=>{const{name:_e,value:Ke}=ne.target;if(_e==="state")O({...S,[_e]:Ke,city:""});else if(_e==="menuId"){const Et=Ke?String(Ke):"";O({...S,[_e]:Et,subMenuId:""}),Et?Q(Et):z([])}else O({...S,[_e]:Ke})},Le=ne=>{O({...S,amenities:S.amenities.includes(ne)?S.amenities.filter(_e=>_e!==ne):[...S.amenities,ne]})},it=ne=>{O({...S,openDays:S.openDays.includes(ne)?S.openDays.filter(_e=>_e!==ne):[...S.openDays,ne]})},St=ne=>{const _e=Array.from(ne.target.files);C([...E,..._e])},La=ne=>{const _e=Array.from(ne.target.files);L([...F,..._e])},ur=()=>{const ne=document.getElementById("videoUrlInput");if(ne&&ne.value.trim()){const _e=ne.value.trim();try{new URL(_e),M([...D,_e]),ne.value=""}catch{G.error("Please enter a valid URL")}}},bs=ne=>{L(F.filter((_e,Ke)=>Ke!==ne))},kr=ne=>{M(D.filter((_e,Ke)=>Ke!==ne))},vn=()=>{O({vendorId:"",name:"",address:"",city:"",state:"",price:"",capacity:"",description:"",categoryId:"",menuId:"",subMenuId:"",amenities:[],highlights:[],rooms:"",openTime:"",closeTime:"",openDays:[]}),R(null),C([]),L([]),M([]),b(0)},Tr=async ne=>{ne.preventDefault(),N(!0);try{if(!S.vendorId){G.error("Please select a vendor"),N(!1);return}if(!S.name||!S.name.trim()){G.error("Venue name is required"),N(!1);return}if(!S.capacity||S.capacity<=0){G.error("Capacity is required and must be greater than 0"),N(!1);return}if(!S.state||!S.state.trim()){G.error("State is required"),N(!1);return}if(!S.city||!S.city.trim()){G.error("City is required"),N(!1);return}const _e=new FormData;_e.append("vendorId",S.vendorId),_e.append("name",S.name.trim()),_e.append("capacity",S.capacity.toString());const Ke={address:S.address||"",city:S.city||"",state:S.state||""};_e.append("location",JSON.stringify(Ke)),_e.append("price",S.price||"0"),_e.append("description",S.description||""),S.categoryId&&_e.append("categoryId",S.categoryId),_e.append("menuId",S.menuId||""),_e.append("subMenuId",S.subMenuId||""),S.amenities&&S.amenities.length>0&&S.amenities.forEach(It=>_e.append("amenities",It)),S.highlights&&S.highlights.length>0&&S.highlights.filter(It=>It.trim()).forEach(It=>_e.append("highlights",It.trim())),S.rooms!==void 0&&S.rooms!==""&&_e.append("rooms",S.rooms.toString());const Et={status:"Open",openTime:S.openTime||"",closeTime:S.closeTime||"",openDays:S.openDays||[]};_e.append("availability",JSON.stringify(Et)),E&&E.length>0&&E.forEach(It=>_e.append("gallery",It)),F&&F.length>0&&F.forEach(It=>_e.append("videos",It)),D&&D.length>0&&D.forEach(It=>_e.append("videos",It)),_e.append("status","approved"),await kl.create(_e),G.success("Venue added successfully!"),m(!1),vn(),de()}catch(_e){console.error("Save venue error:",_e);const Ke=_e.response?.data?.error||_e.response?.data?.message||_e.message||"Failed to save venue";G.error(Ke)}finally{N(!1)}},_r=async(ne,_e=!1)=>{if(!_e){const Ke=e.find(Et=>Et._id===ne);c({id:ne,name:Ke?.name,type:"approve"});return}h(!0);try{await kl.approve(ne),G.success("Venue approved successfully"),de()}catch{G.error("Failed to approve venue")}finally{h(!1),c(null)}},we=async(ne,_e=!1)=>{if(!_e){const Ke=e.find(Et=>Et._id===ne);c({id:ne,name:Ke?.name,type:"reject"});return}h(!0);try{await kl.reject(ne),G.success("Venue rejected"),de()}catch{G.error("Failed to reject venue")}finally{h(!1),c(null)}},He=async(ne,_e)=>{try{await kl.updateButtonSettings(ne,{bookingButtonEnabled:!_e}),G.success(`Booking button ${_e?"disabled":"enabled"}`),de()}catch{G.error("Failed to update booking button setting")}},Ve=async(ne,_e)=>{try{await kl.updateButtonSettings(ne,{leadsButtonEnabled:!_e}),G.success(`Leads button ${_e?"disabled":"enabled"}`),de()}catch{G.error("Failed to update leads button setting")}},Ft=ne=>{if(!ne)return"N/A";if(typeof ne=="string")return ne;if(typeof ne=="object"){const _e=[];return ne.address&&_e.push(ne.address),ne.city&&_e.push(ne.city),ne.state&&_e.push(ne.state),ne.pincode&&_e.push(ne.pincode),_e.length>0?_e.join(", "):"N/A"}return"N/A"},Oe=ne=>{if(!ne)return"N/A";if(typeof ne=="number")return ne.toString();if(typeof ne=="object"){if(ne.minGuests&&ne.maxGuests)return`${ne.minGuests} - ${ne.maxGuests}`;if(ne.maxGuests)return ne.maxGuests.toString();if(ne.minGuests)return ne.minGuests.toString()}return"N/A"},Re=a==="all"?e:e.filter(ne=>ne.status===a),zt=Re.length,nr=Math.ceil(zt/I),Vr=(j-1)*I,Pt=Vr+I,Ye=Re.slice(Vr,Pt);return p.useEffect(()=>{k(1)},[a]),r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Venues"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all venues"})]}),n.jsxs("div",{className:"flex gap-2",children:[Gt("create_venues")&&n.jsxs(be,{onClick:()=>m(!0),children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Venue"]}),n.jsxs("select",{value:a,onChange:ne=>i(ne.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Venues: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:zt})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ye.length===0?n.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No venues found"}):Ye.map((ne,_e)=>n.jsxs(Nt,{className:"overflow-hidden relative",children:[n.jsx("span",{className:"absolute top-3 left-3 z-10 px-2 py-1 rounded-md text-xs font-semibold bg-white/80 dark:bg-gray-800/80 text-gray-700 dark:text-gray-200",children:Vr+_e+1}),n.jsx("div",{className:"h-48 bg-gradient-primary flex items-center justify-center",children:ne.images&&ne.images.length>0?n.jsx("img",{src:Pn(ne.images[0]),alt:ne.name,className:"w-full h-full object-cover",onError:Ke=>{Ke.target.style.display="none"}}):ne.coverImage?n.jsx("img",{src:Pn(ne.coverImage),alt:ne.name,className:"w-full h-full object-cover",onError:Ke=>{Ke.target.style.display="none"}}):n.jsx(gs,{className:"w-16 h-16 text-white opacity-50"})}),n.jsxs(dn,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:ne.name}),n.jsx(pt,{variant:ne.status==="approved"?"success":ne.status==="pending"?"warning":"danger",children:ne.status})]}),(ne.vendorId||ne.vendor)&&n.jsxs("div",{className:"mb-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(sa,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),n.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Vendor:"}),n.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:ne.vendorId?.name||ne.vendor?.name||ne.vendorId?.email||ne.vendor?.email||"N/A"})]}),ne.vendorId?.email||ne.vendor?.email?n.jsx("div",{className:"flex items-center gap-2 text-xs mt-1 text-blue-600 dark:text-blue-400 ml-6",children:ne.vendorId?.email||ne.vendor?.email}):null]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx(gs,{className:"w-4 h-4"}),n.jsx("span",{children:Ft(ne.location)})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx(Dm,{className:"w-4 h-4"}),n.jsxs("span",{children:["Capacity: ",Oe(ne.capacity)]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx(sv,{className:"w-4 h-4"}),n.jsxs("span",{children:["",ne.price?.toLocaleString()||ne.pricingInfo?.rentalPrice?.toLocaleString()||"0"]})]})]}),n.jsxs("div",{className:"mb-4 space-y-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Cn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Booking Button"})]}),n.jsx("button",{onClick:()=>He(ne._id,ne.bookingButtonEnabled!==!1),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${ne.bookingButtonEnabled!==!1?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${ne.bookingButtonEnabled!==!1?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Zi,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Leads Button"})]}),n.jsx("button",{onClick:()=>Ve(ne._id,ne.leadsButtonEnabled!==!1),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${ne.leadsButtonEnabled!==!1?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${ne.leadsButtonEnabled!==!1?"translate-x-6":"translate-x-1"}`})})]})]}),n.jsxs("div",{className:"flex gap-2",children:[Gt("edit_venues")&&ne.status!=="approved"&&n.jsx(be,{size:"sm",onClick:()=>_r(ne._id),className:"flex-1",children:"Approve"}),Gt("edit_venues")&&ne.status!=="rejected"&&n.jsx(be,{size:"sm",variant:"danger",onClick:()=>we(ne._id),className:"flex-1",children:"Reject"})]})]})]},ne._id))}),zt>10&&n.jsx(On,{currentPage:j,totalPages:nr,totalItems:zt,itemsPerPage:I,onPageChange:k}),n.jsx(xt,{isOpen:f,onClose:()=>{v||(m(!1),vn())},title:`Add New Venue (${y+1}/4)`,size:"lg",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex space-x-2",children:[0,1,2,3].map(ne=>n.jsx("div",{className:`flex-1 h-2 rounded ${ne<=y?"bg-primary-600":"bg-gray-300"}`},ne))}),n.jsxs("form",{onSubmit:Tr,children:[y===0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vendor *"}),n.jsxs("select",{name:"vendorId",value:S.vendorId,onChange:xe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Vendor"}),q.map(ne=>n.jsxs("option",{value:ne._id||ne.id,children:[ne.name||ne.email," ",ne.email?`(${ne.email})`:""]},ne._id||ne.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue Name *"}),n.jsx("input",{type:"text",name:"name",value:S.name,onChange:xe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-md font-semibold mb-4",children:"Location *"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsx("input",{type:"text",name:"address",value:S.address,onChange:xe,placeholder:"Street address, building name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),n.jsxs("select",{name:"state",value:S.state,onChange:xe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select State"}),ge.map(ne=>n.jsx("option",{value:ne,children:ne},ne))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsxs("select",{name:"city",value:S.city,onChange:xe,disabled:!S.state||fe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:S.state?fe?"Loading Cities...":"Select City":"Select State First"}),Pe.map(ne=>n.jsx("option",{value:ne,children:ne},ne))]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price () *"}),n.jsx("input",{type:"number",name:"price",value:S.price,onChange:xe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity *"}),n.jsx("input",{type:"number",name:"capacity",value:S.capacity,onChange:xe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{name:"description",value:S.description,onChange:xe,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),y===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Images"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gallery Images"}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:St,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),E.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selected Images:"}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:E.map((ne,_e)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:URL.createObjectURL(ne),alt:`Gallery ${_e+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-300"}),n.jsx("button",{type:"button",onClick:()=>C(E.filter((Ke,Et)=>Et!==_e)),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",children:n.jsx(er,{className:"w-3 h-3"})})]},_e))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Videos"}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Upload video files or add video URLs (max 5 videos, 100MB per file)"}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Upload Video Files:"}),n.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:La,className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm"}),F.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selected Video Files:"}),n.jsx("div",{className:"space-y-1",children:F.map((ne,_e)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-700 truncate flex-1",children:ne.name}),n.jsx("button",{type:"button",onClick:()=>bs(_e),className:"ml-2 text-red-500 hover:text-red-700",children:n.jsx(er,{className:"w-4 h-4"})})]},_e))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Or Add Video URL:"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{id:"videoUrlInput",type:"url",placeholder:"https://example.com/video.mp4",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm",onKeyPress:ne=>{ne.key==="Enter"&&(ne.preventDefault(),ur())}}),n.jsx("button",{type:"button",onClick:ur,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition text-sm",children:"Add"})]}),D.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Video URLs:"}),n.jsx("div",{className:"space-y-1",children:D.map((ne,_e)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-700 truncate flex-1",children:ne}),n.jsx("button",{type:"button",onClick:()=>kr(_e),className:"ml-2 text-red-500 hover:text-red-700",children:n.jsx(er,{className:"w-4 h-4"})})]},_e))})]})]})]})]}),y===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Category & Amenities"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),n.jsxs("select",{name:"categoryId",value:S.categoryId,onChange:xe,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"No Category"}),re.map(ne=>n.jsx("option",{value:ne.id||ne._id,children:ne.name},ne.id||ne._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Menu"}),n.jsxs("select",{name:"menuId",value:String(S.menuId||""),onChange:xe,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"No Menu"}),te.map(ne=>{const _e=String(ne._id||ne.id||"");return n.jsx("option",{value:_e,children:ne.name},_e)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Submenu"}),n.jsxs("select",{name:"subMenuId",value:String(S.subMenuId||""),onChange:xe,disabled:!S.menuId,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:S.menuId?H.length===0?"No Submenus Available":"Select Submenu":"Select Menu First"}),H.map(ne=>{const _e=String(ne._id||ne.id||"");return n.jsx("option",{value:_e,children:ne.name},_e)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:J.map(ne=>n.jsx("button",{type:"button",onClick:()=>Le(ne),className:`px-3 py-1 rounded-full text-sm font-medium transition ${S.amenities.includes(ne)?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ne},ne))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Highlights"}),n.jsxs("div",{className:"space-y-2",children:[(S.highlights||[]).map((ne,_e)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:ne,onChange:Ke=>{const It=[...S.highlights||[]];It[_e]=Ke.target.value,O({...S,highlights:It})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter highlight"}),n.jsx("button",{type:"button",onClick:()=>{const Et=(S.highlights||[]).filter((It,Ur)=>Ur!==_e);O({...S,highlights:Et})},className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:n.jsx(er,{className:"w-4 h-4"})})]},_e)),n.jsx("button",{type:"button",onClick:()=>O({...S,highlights:[...S.highlights||[],""]}),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"+ Add Highlight"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Rooms"}),n.jsx("input",{type:"number",name:"rooms",value:S.rooms,onChange:xe,min:"0",placeholder:"Enter number of rooms",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[n.jsx("h4",{className:"text-md font-semibold mb-4",children:"Availability & Timing"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opening Time"}),n.jsx("input",{type:"time",name:"openTime",value:S.openTime,onChange:xe,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Closing Time"}),n.jsx("input",{type:"time",name:"closeTime",value:S.closeTime,onChange:xe,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Open Days"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(ne=>n.jsx("button",{type:"button",onClick:()=>it(ne),className:`px-3 py-1 rounded-full text-sm font-medium transition ${S.openDays.includes(ne)?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ne},ne))})]})]})]}),y===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Review & Submit"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Vendor:"}),n.jsx("span",{className:"font-medium",children:q.find(ne=>(ne._id||ne.id)===S.vendorId)?.name||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Venue Name:"}),n.jsx("span",{className:"font-medium",children:S.name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Location:"}),n.jsx("span",{className:"font-medium",children:`${S.address||""}${S.address&&S.city?", ":""}${S.city||""}${(S.address||S.city)&&S.state?", ":""}${S.state||""}`.trim()||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Price:"}),n.jsxs("span",{className:"font-medium",children:["",S.price]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Capacity:"}),n.jsxs("span",{className:"font-medium",children:[S.capacity," guests"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Category:"}),n.jsx("span",{className:"font-medium",children:S.categoryId?re.find(ne=>(ne.id||ne._id)===S.categoryId)?.name||"N/A":"No Category"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Amenities:"}),n.jsxs("span",{className:"font-medium",children:[S.amenities.length," selected"]})]}),(S.openTime||S.closeTime)&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Timing:"}),n.jsxs("span",{className:"font-medium",children:[S.openTime||"N/A"," - ",S.closeTime||"N/A"]})]}),S.openDays.length>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Open Days:"}),n.jsx("span",{className:"font-medium",children:S.openDays.join(", ")})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsxs("span",{className:"inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[n.jsx(Wl,{className:"w-3 h-3"}),n.jsx("span",{children:"Approved (Admin Created)"})]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>{y>0?b(y-1):(m(!1),vn())},className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",disabled:v,children:y===0?"Cancel":"Previous"}),y<3?n.jsx("button",{type:"button",onClick:()=>b(y+1),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"Next"}):n.jsx("button",{type:"submit",disabled:v,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50",children:v?"Submitting...":"Submit"})]})]})]})}),n.jsx(xt,{isOpen:!!o,onClose:()=>{u||c(null)},title:o?.type==="approve"?"Approve Venue":"Reject Venue",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-700 dark:text-gray-200",children:o?.type==="approve"?`Approve ${o?.name||"this venue"}?`:`Reject ${o?.name||"this venue"}?`}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>c(null),disabled:u,children:"Cancel"}),n.jsx(be,{variant:o?.type==="approve"?"secondary":"danger",onClick:()=>o?.type==="approve"?_r(o.id,!0):we(o.id,!0),disabled:u,children:u?"Please wait...":o?.type==="approve"?"Approve":"Reject"})]})]})})]})},s2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(null),[o,c]=p.useState(!1),[u,h]=p.useState(!1),[f,m]=p.useState(""),[y,b]=p.useState(""),[v,N]=p.useState("all"),[j,k]=p.useState(null),[I,S]=p.useState(!1),[O,P]=p.useState(""),[R,E]=p.useState(1),C=10;p.useEffect(()=>{F()},[v]);const F=async()=>{try{s(!0);const z=v!=="all"?{status:v}:{},ge=await Dg.getAll(z);t(ge.data?.bookings||ge.data||[])}catch{G.error("Failed to load bookings")}finally{s(!1)}},L=async()=>{if(!(!a||!f))try{s(!0);const z=await Dg.updateStatus(a._id,f);console.log("Status update response:",z),z.data?.success||z.data?.message?G.success(z.data?.message||"Booking status updated successfully"):G.success("Booking status updated successfully"),h(!1),await F()}catch(z){console.error("Status update error:",z),console.error("Error response:",z.response);const ge=z.response?.data?.error||z.response?.data?.message||z.message||"Failed to update status";G.error(ge)}finally{s(!1)}},D=async(z,ge=!1)=>{const le=typeof z=="object"?z:e.find(Ae=>Ae._id===z),Pe=le?._id||z;if(!ge){k({id:Pe,type:"approve",venue:le?.venueId?.name,customer:le?.customerId?.name||le?.customerName}),P("");return}S(!0);try{s(!0);const Ae=await Dg.approve(Pe);console.log("Approve response:",Ae),Ae.data?.success||Ae.data?.message?G.success(Ae.data?.message||"Booking approved successfully"):G.success("Booking approved successfully"),await F()}catch(Ae){console.error("Approve error:",Ae),console.error("Error response:",Ae.response);const fe=Ae.response?.data?.error||Ae.response?.data?.message||Ae.message||"Failed to approve booking";G.error(fe)}finally{s(!1),S(!1),k(null)}},M=async(z,ge=!1)=>{const le=typeof z=="object"?z:e.find(Ae=>Ae._id===z),Pe=le?._id||z;if(!ge){k({id:Pe,type:"reject",venue:le?.venueId?.name,customer:le?.customerId?.name||le?.customerName}),P("");return}if(!O.trim()){G.error("Rejection reason is required");return}S(!0);try{s(!0);const Ae=await Dg.reject(Pe,O.trim());console.log("Reject response:",Ae),Ae.data?.success||Ae.data?.message?G.success(Ae.data?.message||"Booking rejected successfully"):G.success("Booking rejected successfully"),await F()}catch(Ae){console.error("Reject error:",Ae),console.error("Error response:",Ae.response);const fe=Ae.response?.data?.error||Ae.response?.data?.message||Ae.message||"Failed to reject booking";G.error(fe)}finally{s(!1),S(!1),k(null)}},$=z=>{i(z),m(z.status),h(!0)},ee=z=>{i(z),c(!0)},q=z=>{switch(z?.toLowerCase()){case"pending":return"warning";case"confirmed":case"approved":return"success";case"rejected":case"cancelled":return"danger";case"completed":return"info";default:return"default"}},V=e.filter(z=>z._id?.toLowerCase().includes(y.toLowerCase())||z.customerId?.name?.toLowerCase().includes(y.toLowerCase())||z.customerId?.email?.toLowerCase().includes(y.toLowerCase())||z.venueId?.name?.toLowerCase().includes(y.toLowerCase())||z.phone?.includes(y)),re=V.length,U=Math.ceil(re/C),te=(R-1)*C,ie=te+C,H=V.slice(te,ie);return p.useEffect(()=>{E(1)},[y,v]),r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6 w-full max-w-none mx-auto px-2 sm:px-4 md:px-6 lg:px-8 overflow-x-hidden",children:[n.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Bookings"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all venue bookings"})]})}),n.jsx(Nt,{className:"w-full max-w-none",children:n.jsxs("div",{className:"p-6 space-y-4 w-full",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx(Be,{type:"text",placeholder:"Search bookings...",value:y,onChange:z=>b(z.target.value),className:"pl-10"})]})}),n.jsxs("select",{value:v,onChange:z=>N(z.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"completed",children:"Completed"})]})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Bookings: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:re})]}),n.jsx("div",{className:"w-full",children:n.jsxs(_n,{className:"w-full table-auto text-xs md:text-sm leading-tight",children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-14 text-center",children:"S.No"}),n.jsx(Me,{children:"Booking ID"}),n.jsx(Me,{children:"Customer"}),n.jsx(Me,{children:"Contact"}),n.jsx(Me,{children:"Venue"}),n.jsx(Me,{children:"Event Type"}),n.jsx(Me,{children:"Date"}),n.jsx(Me,{children:"Guests"}),n.jsx(Me,{children:"Amount"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Payment"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:H.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:12,className:"text-center py-8 text-gray-500",children:"No bookings found"})}):H.map((z,ge)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium px-2 py-2",children:te+ge+1}),n.jsx(Se,{className:"font-mono text-xs md:text-sm break-words px-2 py-2",children:z._id?.slice(-8)||"N/A"}),n.jsx(Se,{className:"whitespace-normal break-words max-w-[9rem] px-2 py-2",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:z.customerId?.name||z.customerName||"N/A"}),z.personName&&n.jsxs("div",{className:"text-xs text-gray-500",children:["For: ",z.personName]})]})}),n.jsx(Se,{className:"whitespace-normal break-words max-w-[10rem] px-2 py-2",children:z.phone&&n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(tc,{className:"w-3 h-3 shrink-0"}),n.jsx("span",{className:"truncate",children:z.phone})]})}),n.jsx(Se,{className:"whitespace-normal break-words max-w-[9rem] px-2 py-2",children:z.venueId?.name||z.venueName||"N/A"}),n.jsx(Se,{className:"whitespace-normal break-words max-w-[8rem] px-2 py-2",children:n.jsx("span",{className:"capitalize",children:z.eventType||"N/A"})}),n.jsx(Se,{className:"whitespace-normal break-words max-w-[10rem] px-2 py-2",children:n.jsx("div",{className:"space-y-1",children:z.dateFrom&&z.dateTo?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(Cn,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"From:"}),n.jsx("span",{children:new Date(z.dateFrom).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"To:"}),n.jsx("span",{children:new Date(z.dateTo).toLocaleDateString()})]})]}):z.date?n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Cn,{className:"w-4 h-4"}),new Date(z.date).toLocaleDateString()]}):"N/A"})}),n.jsx(Se,{className:"whitespace-nowrap px-2 py-1 text-center",children:z.guests||z.numberOfGuests||0}),n.jsxs(Se,{className:"whitespace-nowrap px-2 py-1 text-center",children:["",z.totalAmount?.toLocaleString()||z.amount?.toLocaleString()||0]}),n.jsx(Se,{className:"whitespace-nowrap px-2 py-1 text-center",children:n.jsx(pt,{variant:q(z.status),children:z.status||"pending"})}),n.jsx(Se,{className:"whitespace-nowrap px-2 py-1 text-center",children:n.jsx(pt,{variant:z.paymentStatus==="paid"?"success":"warning",children:z.paymentStatus||"pending"})}),n.jsx(Se,{className:"whitespace-nowrap px-2 py-1 text-center",children:n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Gt("view_bookings")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>ee(z),children:n.jsx(Gr,{className:"w-4 h-4"})}),Gt("edit_bookings")&&!z.adminApproved&&n.jsxs(n.Fragment,{children:[n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>D(z),className:"text-green-600 hover:text-green-700",title:"Approve Booking",children:n.jsx(Ca,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>M(z),className:"text-red-600 hover:text-red-700",title:"Reject Booking",children:n.jsx(Hl,{className:"w-4 h-4"})})]}),Gt("edit_bookings")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>$(z),children:"Edit"})]})})]},z._id))})]})}),re>10&&n.jsx(On,{currentPage:R,totalPages:U,totalItems:re,itemsPerPage:C,onPageChange:E})]})}),j&&n.jsx(xt,{isOpen:!!j,onClose:()=>{I||(k(null),P(""))},title:j?.type==="approve"?"Approve Booking":"Reject Booking",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-200",children:[n.jsx("p",{children:j?.type==="approve"?`Approve booking for ${j?.customer||"customer"} at ${j?.venue||"this venue"}?`:`Reject booking for ${j?.customer||"customer"} at ${j?.venue||"this venue"}?`}),j?.type==="reject"&&n.jsxs("div",{className:"space-y-2 pt-1",children:[n.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Reason"}),n.jsx("textarea",{value:O,onChange:z=>P(z.target.value),placeholder:"Provide rejection reason",rows:3,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>k(null),disabled:I,children:"Cancel"}),n.jsx(be,{variant:j?.type==="approve"?"secondary":"danger",onClick:()=>j?.type==="approve"?D(j.id,!0):M(j.id,!0),disabled:I,children:I?"Please wait...":j?.type==="approve"?"Approve":"Reject"})]})]})}),n.jsx(xt,{isOpen:o,onClose:()=>c(!1),title:"Booking Details",children:a&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking ID"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-mono text-sm",children:a._id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(pt,{variant:q(a.status),children:a.status||"pending"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Customer Name"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.customerId?.name||a.customerName||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.phone||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.customerId?.email||a.email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Venue"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.venueId?.name||a.venueName||"N/A"})]}),a.venueId?.location&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Venue Location"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:typeof a.venueId.location=="string"?a.venueId.location:a.venueId.location?.address?`${a.venueId.location.address}, ${a.venueId.location.city||""}, ${a.venueId.location.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Dates"}),n.jsx("div",{className:"text-gray-900 dark:text-gray-100 space-y-1",children:a.dateFrom&&a.dateTo?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"From: "}),new Date(a.dateFrom).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"To: "}),new Date(a.dateTo).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}):a.date?n.jsx("div",{children:new Date(a.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}):"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Guests"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.guests||a.numberOfGuests||0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),n.jsxs("p",{className:"text-gray-900 dark:text-gray-100",children:["",a.totalAmount?.toLocaleString()||a.amount?.toLocaleString()||0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(pt,{variant:a.paymentStatus==="paid"?"success":"warning",children:a.paymentStatus||"pending"})})]}),a.paymentId&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment ID"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-mono text-sm",children:a.paymentId})]}),a.eventType&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Event Type"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 capitalize",children:a.eventType})]}),a.personName&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Person Name"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.personName})]}),a.foodPreference&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Food Preference"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 capitalize",children:a.foodPreference})]}),a.createdAt&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booked On"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:new Date(a.createdAt).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),a.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1 p-2 bg-gray-50 dark:bg-gray-800 rounded",children:a.notes})]}),n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(be,{variant:"secondary",onClick:()=>c(!1),children:"Close"})})]})}),n.jsx(xt,{isOpen:u,onClose:()=>h(!1),title:"Update Booking Status",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),n.jsxs("select",{value:f,onChange:z=>m(z.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"completed",children:"Completed"})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(be,{variant:"secondary",onClick:()=>h(!1),children:"Cancel"}),n.jsx(be,{onClick:L,children:"Update Status"})]})]})})]})},a2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(null),[o,c]=p.useState(!1),[u,h]=p.useState(!1),[f,m]=p.useState(""),[y,b]=p.useState(""),[v,N]=p.useState("all"),[j,k]=p.useState(null),[I,S]=p.useState(!1),[O,P]=p.useState(""),[R,E]=p.useState(1),C=10;p.useEffect(()=>{F()},[v]);const F=async()=>{try{s(!0);const ie=v!=="all"?{status:v}:{},H=await Iw.getAll(ie);t(H.data?.leads||[])}catch{G.error("Failed to load leads")}finally{s(!1)}},L=async()=>{if(!(!a||!f))try{await Iw.updateStatus(a._id,{status:f,notes:y}),G.success("Lead status updated"),h(!1),b(""),F()}catch{G.error("Failed to update status")}},D=async(ie,H=!1)=>{if(!H){k({type:"convert",id:ie._id,name:ie.name||ie.customerId?.name}),P("");return}try{S(!0);const z=await Iw.convertToBooking(ie._id,O?.trim()||null);G.success(z.data?.message||"Lead converted to booking successfully"),F()}catch(z){G.error(z.response?.data?.message||"Failed to convert lead to booking")}finally{S(!1),k(null),P("")}},M=ie=>{i(ie),m(ie.status),b(ie.notes||""),h(!0)},$=ie=>{i(ie),c(!0)},ee=ie=>{switch(ie){case"new":return"warning";case"contacted":return"info";case"qualified":return"success";case"converted":return"success";case"lost":return"danger";default:return"default"}},q=e.length,V=Math.ceil(q/C),re=(R-1)*C,U=re+C,te=e.slice(re,U);return p.useEffect(()=>{E(1)},[v]),r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Leads"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all customer inquiries and leads"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("select",{value:v,onChange:ie=>N(ie.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"new",children:"New"}),n.jsx("option",{value:"contacted",children:"Contacted"}),n.jsx("option",{value:"qualified",children:"Qualified"}),n.jsx("option",{value:"converted",children:"Converted"}),n.jsx("option",{value:"lost",children:"Lost"})]})})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Leads: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:q})]}),n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(_n,{className:"min-w-full table-auto",children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{className:"min-w-[80px]",children:"Lead ID"}),n.jsx(Me,{className:"min-w-[120px]",children:"Customer"}),n.jsx(Me,{className:"min-w-[100px]",children:"Contact"}),n.jsx(Me,{className:"min-w-[150px]",children:"Venue"}),n.jsx(Me,{className:"min-w-[140px] max-w-[160px]",children:"Date"}),n.jsx(Me,{className:"w-20 text-center",children:"Guests"}),n.jsx(Me,{className:"min-w-[100px]",children:"Status"}),n.jsx(Me,{className:"min-w-[90px]",children:"Source"}),n.jsx(Me,{className:"min-w-[120px]",children:"Actions"})]})}),n.jsx(Dn,{children:te.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:10,className:"text-center py-8 text-gray-500",children:"No leads found"})}):te.map((ie,H)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:re+H+1}),n.jsx(Se,{className:"font-mono text-sm whitespace-nowrap",children:ie._id.slice(-8)}),n.jsx(Se,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-medium truncate",title:ie.name||ie.customerId?.name||"N/A",children:ie.name||ie.customerId?.name||"N/A"}),ie.personName&&n.jsxs("div",{className:"text-xs text-gray-500 truncate",title:`For: ${ie.personName}`,children:["For: ",ie.personName]})]})}),n.jsx(Se,{children:ie.phone&&n.jsxs("div",{className:"flex items-center gap-1 text-sm whitespace-nowrap",children:[n.jsx(tc,{className:"w-3 h-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:ie.phone})]})}),n.jsx(Se,{children:n.jsx("div",{className:"truncate max-w-[150px]",title:ie.venueId?.name||"N/A",children:ie.venueId?.name||"N/A"})}),n.jsx(Se,{className:"max-w-[160px]",children:n.jsx("div",{className:"space-y-0.5 text-xs",children:ie.dateFrom&&ie.dateTo?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[n.jsx(Cn,{className:"w-3 h-3 flex-shrink-0"}),n.jsx("span",{className:"font-medium text-[10px]",children:"From:"}),n.jsx("span",{className:"truncate",children:new Date(ie.dateFrom).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),n.jsxs("div",{className:"flex items-center gap-1 text-gray-600 whitespace-nowrap",children:[n.jsx("span",{className:"font-medium text-[10px]",children:"To:"}),n.jsx("span",{className:"truncate",children:new Date(ie.dateTo).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}):ie.date?n.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[n.jsx(Cn,{className:"w-3 h-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:new Date(ie.date).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})})]}):"N/A"})}),n.jsx(Se,{className:"text-center whitespace-nowrap",children:ie.guests||0}),n.jsx(Se,{children:n.jsx(pt,{variant:ee(ie.status),children:ie.status})}),n.jsx(Se,{children:n.jsx(pt,{variant:ie.source==="booking"?"success":"default",children:ie.source||"inquiry"})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2 whitespace-nowrap",children:[n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>$(ie),title:"View Details",children:n.jsx(Gr,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>M(ie),title:"Edit Status",children:"Edit"}),!ie.bookingId&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>D(ie),className:"text-green-600 hover:text-green-700",title:"Convert to Booking",children:n.jsx(Qf,{className:"w-4 h-4"})})]})})]},ie._id))})]})}),q>10&&n.jsx(On,{currentPage:R,totalPages:V,totalItems:q,itemsPerPage:C,onPageChange:E})]})}),n.jsx(xt,{isOpen:!!j,onClose:()=>{I||k(null)},title:"Convert Lead to Booking",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Convert lead ",j?.name?`"${j.name}"`:""," to booking?"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment ID (optional)"}),n.jsx(Be,{type:"text",value:O,onChange:ie=>P(ie.target.value),placeholder:"Razorpay Payment ID"})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>k(null),disabled:I,children:"Cancel"}),n.jsx(be,{variant:"secondary",onClick:()=>D({_id:j?.id},!0),disabled:I,children:I?"Please wait...":"Convert"})]})]})}),n.jsx(xt,{isOpen:o,onClose:()=>c(!1),title:"Lead Details",children:a&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.phone||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),n.jsx(pt,{variant:ee(a.status),children:a.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Venue"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.venueId?.name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Dates"}),n.jsx("div",{className:"text-gray-900 dark:text-gray-100 space-y-1",children:a.dateFrom&&a.dateTo?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"From: "}),new Date(a.dateFrom).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"To: "}),new Date(a.dateTo).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}):a.date?n.jsx("div",{children:new Date(a.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}):"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Guests"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.guests||0})]}),a.marriageFor&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Marriage For"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.marriageFor})]}),a.personName&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Person Name"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.personName})]}),a.eventType&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Event Type"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 capitalize",children:a.eventType})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Food Preference"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 capitalize",children:a.foodPreference||"both"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Source"}),n.jsx(pt,{variant:a.source==="booking"?"success":"default",children:a.source||"inquiry"})]})]}),a.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1 p-2 bg-gray-50 dark:bg-gray-800 rounded",children:a.notes})]}),a.bookingId&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Linked Booking"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-mono text-sm",children:a.bookingId})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[!a.bookingId&&n.jsxs(be,{variant:"default",onClick:()=>{c(!1),D(a)},className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Qf,{className:"w-4 h-4 mr-2"}),"Convert to Booking"]}),n.jsx(be,{variant:"secondary",onClick:()=>c(!1),children:"Close"})]})]})}),n.jsx(xt,{isOpen:u,onClose:()=>h(!1),title:"Update Lead Status",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),n.jsxs("select",{value:f,onChange:ie=>m(ie.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"new",children:"New"}),n.jsx("option",{value:"contacted",children:"Contacted"}),n.jsx("option",{value:"qualified",children:"Qualified"}),n.jsx("option",{value:"converted",children:"Converted"}),n.jsx("option",{value:"lost",children:"Lost"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),n.jsx("textarea",{value:y,onChange:ie=>b(ie.target.value),rows:4,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",placeholder:"Add notes about this lead..."})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(be,{variant:"secondary",onClick:()=>h(!1),children:"Cancel"}),n.jsx(be,{onClick:L,children:"Update Status"})]})]})})]})},i2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0);p.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await S4.getAll();t(c.data||[])}catch{G.error("Failed to load payouts")}finally{s(!1)}},i=async c=>{if(window.confirm("Mark this payout as completed?"))try{await S4.markCompleted(c),G.success("Payout marked as completed"),a()}catch{G.error("Failed to update payout")}},o=e.map(c=>({vendor:c.vendorId?.name?.slice(0,10)||"N/A",commission:c.commission||0,payout:c.amount||0}));return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Payouts"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage vendor payouts"})]}),n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsx(us,{children:"Commission vs Payout"})}),n.jsx(dn,{children:n.jsx(Na,{width:"100%",height:300,children:n.jsxs(Vx,{data:o,children:[n.jsx(zi,{strokeDasharray:"3 3"}),n.jsx(Vi,{dataKey:"vendor"}),n.jsx(Ui,{}),n.jsx(ka,{}),n.jsx($l,{}),n.jsx(Hd,{dataKey:"commission",fill:"#8F61EF",name:"Commission"}),n.jsx(Hd,{dataKey:"payout",fill:"#F9A826",name:"Payout"})]})})})]}),n.jsx(Nt,{children:n.jsx("div",{className:"p-6",children:n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{children:"Vendor"}),n.jsx(Me,{children:"Amount"}),n.jsx(Me,{children:"Commission"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Date"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:e.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No payouts found"})}):e.map(c=>n.jsxs(ft,{children:[n.jsx(Se,{className:"font-medium",children:c.vendorId?.name||"N/A"}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(sv,{className:"w-4 h-4"}),"",c.amount?.toLocaleString()||0]})}),n.jsxs(Se,{children:["",c.commission?.toLocaleString()||0]}),n.jsx(Se,{children:n.jsx(pt,{variant:c.payment_status==="completed"?"success":c.payment_status==="pending"?"warning":"default",children:c.payment_status||"pending"})}),n.jsx(Se,{children:new Date(c.createdAt).toLocaleDateString()}),n.jsx(Se,{children:c.payment_status!=="completed"&&n.jsxs(be,{size:"sm",onClick:()=>i(c._id),children:[n.jsx(Wl,{className:"w-4 h-4 mr-1"}),"Mark Complete"]})})]},c._id))})]})})})]})},nR=["#8F61EF","#F9A826","#10B981","#EF4444","#3B82F6"],o2e=()=>{const[e,t]=p.useState({monthlyRevenue:[],bookingsTrend:[],topVendors:[],cityWise:[]}),[r,s]=p.useState(!0);p.useEffect(()=>{a()},[]);const a=async()=>{try{const i=await xie.getAnalytics();t(i.data||{monthlyRevenue:[],bookingsTrend:[],topVendors:[],cityWise:[]})}catch{G.error("Failed to load analytics")}finally{s(!1)}};return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Analytics"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Detailed insights and reports"})]}),n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsx(us,{children:"Monthly Revenue Trend"})}),n.jsx(dn,{children:n.jsx(Na,{width:"100%",height:300,children:n.jsxs(tz,{data:e.monthlyRevenue,children:[n.jsx(zi,{strokeDasharray:"3 3"}),n.jsx(Vi,{dataKey:"month"}),n.jsx(Ui,{}),n.jsx(ka,{}),n.jsx($l,{}),n.jsx(BA,{type:"monotone",dataKey:"revenue",stroke:"#8F61EF",strokeWidth:2})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsx(us,{children:"Bookings Trend"})}),n.jsx(dn,{children:n.jsx(Na,{width:"100%",height:300,children:n.jsxs(Vx,{data:e.bookingsTrend,children:[n.jsx(zi,{strokeDasharray:"3 3"}),n.jsx(Vi,{dataKey:"month"}),n.jsx(Ui,{}),n.jsx(ka,{}),n.jsx($l,{}),n.jsx(Hd,{dataKey:"bookings",fill:"#F9A826"})]})})})]}),n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsx(us,{children:"Top 5 Vendors Performance"})}),n.jsx(dn,{children:n.jsx(Na,{width:"100%",height:300,children:n.jsxs(Vx,{data:e.topVendors,layout:"vertical",children:[n.jsx(zi,{strokeDasharray:"3 3"}),n.jsx(Vi,{type:"number"}),n.jsx(Ui,{dataKey:"name",type:"category",width:100}),n.jsx(ka,{}),n.jsx($l,{}),n.jsx(Hd,{dataKey:"revenue",fill:"#10B981"})]})})})]})]}),n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsx(us,{children:"City-wise Demand"})}),n.jsx(dn,{children:n.jsx(Na,{width:"100%",height:300,children:n.jsxs(HA,{children:[n.jsx(o0,{data:e.cityWise,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:o})=>`${i} ${(o*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.cityWise.map((i,o)=>n.jsx(Nu,{fill:nR[o%nR.length]},`cell-${o}`))}),n.jsx(ka,{})]})})})]})]})},l2e=()=>{const[e,t]=p.useState({name:"",email:""}),[r,s]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,i]=p.useState(b2()),[o,c]=p.useState(!1),[u,h]=p.useState({razorpayKeyId:"",razorpayKeySecret:""}),[f,m]=p.useState(!1),[y,b]=p.useState(!1),[v,N]=p.useState({googleMapsApiKey:""}),[j,k]=p.useState(!1),[I,S]=p.useState(!1),[O,P]=p.useState({smtpUsername:"",smtpPassword:"",smtpHost:"",mailDriver:"",smtpPort:"",smtpSecurity:"",smtpAuthDomain:"",smtpAddress:"",emailFromAddress:"",emailFromName:"",replyEmailAddress:"",replyEmailName:"",adminNotificationEmail:""}),[R,E]=p.useState(!1),[C,F]=p.useState(!1),[L,D]=p.useState("privacy-policy"),[M,$]=p.useState({title:"",content:"",isActive:!0}),[ee,q]=p.useState(!1),[V,re]=p.useState(!1),[U,te]=p.useState(null),[ie,H]=p.useState(!1);p.useEffect(()=>{z(),J(),de(),pe(),se()},[L]);const z=async()=>{try{const ue=await Hc.getProfile();t(ue.data||{})}catch{G.error("Failed to load profile")}},ge=async ue=>{ue.preventDefault(),c(!0);try{await Hc.updateProfile(e),G.success("Profile updated successfully")}catch{G.error("Failed to update profile")}finally{c(!1)}},le=async ue=>{if(ue.preventDefault(),r.newPassword!==r.confirmPassword){G.error("Passwords do not match");return}c(!0);try{await Hc.changePassword({currentPassword:r.currentPassword,newPassword:r.newPassword}),G.success("Password changed successfully"),s({currentPassword:"",newPassword:"",confirmPassword:""})}catch{G.error("Failed to change password")}finally{c(!1)}},Pe=()=>{const ue=a==="light"?"dark":"light";w2(ue),i(ue),G.success(`Theme changed to ${ue}`)},Ae=async()=>{try{await Hc.logout(),localStorage.removeItem("admin_token"),G.success("Logged out successfully"),window.location.href="/login"}catch{localStorage.removeItem("admin_token"),window.location.href="/login"}},fe=()=>{te({type:"delete-account"})},ce=async()=>{U?.type==="delete-account"&&(H(!0),G.error("Account deletion not implemented"),H(!1),te(null))},J=async()=>{try{const ue=await A4.get();ue.data?.config&&h({razorpayKeyId:ue.data.config.razorpayKeyId||"",razorpayKeySecret:""})}catch(ue){console.error("Failed to load payment config:",ue)}},Y=async ue=>{if(ue.preventDefault(),!u.razorpayKeyId||!u.razorpayKeySecret){G.error("Project Code and Secret are required");return}b(!0);try{const xe=await A4.update(u);xe.data?.success?(G.success("Payment configuration updated successfully"),h({...u,razorpayKeySecret:""}),m(!1),J()):G.error(xe.data?.message||"Failed to update payment configuration")}catch(xe){console.error("Payment config update error:",xe);const Le=xe.response?.data?.message||xe.message||"Failed to update payment configuration";G.error(Le)}finally{b(!1)}},de=async()=>{try{const ue=await C4.get();if(console.log("Email config response:",ue.data),ue.data?.success&&ue.data?.config){const xe=ue.data.config,Le={smtpUsername:xe.smtpUsername||"",smtpPassword:"",smtpHost:xe.smtpHost||"",mailDriver:xe.mailDriver||"",smtpPort:xe.smtpPort?.toString()||"",smtpSecurity:xe.smtpSecurity||"",smtpAuthDomain:xe.smtpAuthDomain||"",smtpAddress:xe.smtpAddress||"",emailFromAddress:xe.emailFromAddress||"",emailFromName:xe.emailFromName||"",replyEmailAddress:xe.replyEmailAddress||"",replyEmailName:xe.replyEmailName||"",adminNotificationEmail:xe.adminNotificationEmail||""};console.log("Setting email config:",Le),P(Le)}else console.warn("Email config response format unexpected:",ue.data)}catch(ue){console.error("Failed to load email config:",ue),console.error("Error details:",ue.response?.data||ue.message)}},X=async ue=>{if(ue.preventDefault(),!O.smtpUsername||!O.smtpHost||!O.mailDriver||!O.smtpPort||!O.smtpSecurity||!O.emailFromAddress||!O.emailFromName){G.error("Please fill all required fields");return}if(!(!O.adminNotificationEmail&&!window.confirm("Admin Notification Email is not set. Vendor registration emails will be sent to all admin users. Continue anyway?"))){F(!0);try{const xe=await C4.update(O);xe.data?.success?(G.success("Email configuration updated successfully"),P({...O,smtpPassword:""}),E(!1),de()):G.error(xe.data?.message||"Failed to update email configuration")}catch(xe){console.error("Email config update error:",xe);const Le=xe.response?.data?.message||xe.message||"Failed to update email configuration";G.error(Le)}finally{F(!1)}}},pe=async()=>{try{(await I4.get()).data?.config&&N({googleMapsApiKey:""})}catch(ue){console.error("Failed to load Google Maps config:",ue)}},se=async()=>{try{q(!0);const ue=await E4.getByType(L);ue.data?.success&&ue.data?.legalPage&&$({title:ue.data.legalPage.title||"",content:ue.data.legalPage.content||"",isActive:ue.data.legalPage.isActive!==void 0?ue.data.legalPage.isActive:!0})}catch(ue){console.error("Failed to load legal page:",ue),$({title:{"privacy-policy":"Privacy Policy","terms-of-service":"Terms of Service","cookie-policy":"Cookie Policy","about-us":"About VenueBook"}[L]||"",content:"",isActive:!0})}finally{q(!1)}},Q=async ue=>{if(ue.preventDefault(),!M.title||!M.title.trim()){G.error("Title is required");return}if(!M.content||!M.content.trim()){G.error("Content is required");return}re(!0);try{const xe=await E4.update(L,{title:M.title.trim(),content:M.content.trim(),isActive:M.isActive});xe.data?.success?(G.success("Legal page updated successfully"),se()):G.error(xe.data?.message||"Failed to update legal page")}catch(xe){console.error("Legal page update error:",xe);const Le=xe.response?.data?.message||xe.message||"Failed to update legal page";G.error(Le)}finally{re(!1)}},ve=async ue=>{if(ue.preventDefault(),!v.googleMapsApiKey||!v.googleMapsApiKey.trim()){G.error("Google Maps API Key is required");return}const xe=v.googleMapsApiKey.trim();if(!xe.startsWith("AIza")){G.error('Invalid Google Maps API Key format. Key should start with "AIza"');return}if(xe.length<30){G.error("Invalid Google Maps API Key. Key seems too short.");return}S(!0);try{const Le=await I4.update({googleMapsApiKey:xe});Le.data?.success?(G.success("Google Maps API key updated successfully"),N({googleMapsApiKey:""}),k(!1),pe()):G.error(Le.data?.message||"Failed to update Google Maps API key")}catch(Le){console.error("Google Maps config update error:",Le);const it=Le.response?.data?.message||Le.message||"Failed to update Google Maps API key";G.error(it)}finally{S(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Settings"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your account settings"})]}),n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsxs(us,{className:"flex items-center gap-2",children:[n.jsx(sa,{className:"w-5 h-5"}),"Profile Settings"]})}),n.jsx(dn,{children:n.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[n.jsx(Be,{label:"Name",value:e.name,onChange:ue=>t({...e,name:ue.target.value})}),n.jsx(Be,{label:"Email",type:"email",value:e.email,onChange:ue=>t({...e,email:ue.target.value})}),n.jsx(be,{type:"submit",loading:o,children:"Update Profile"})]})})]}),n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsxs(us,{className:"flex items-center gap-2",children:[n.jsx(cu,{className:"w-5 h-5"}),"Change Password"]})}),n.jsx(dn,{children:n.jsxs("form",{onSubmit:le,className:"space-y-4",children:[n.jsx(Be,{label:"Current Password",type:"password",value:r.currentPassword,onChange:ue=>s({...r,currentPassword:ue.target.value})}),n.jsx(Be,{label:"New Password",type:"password",value:r.newPassword,onChange:ue=>s({...r,newPassword:ue.target.value})}),n.jsx(Be,{label:"Confirm New Password",type:"password",value:r.confirmPassword,onChange:ue=>s({...r,confirmPassword:ue.target.value})}),n.jsx(be,{type:"submit",loading:o,children:"Change Password"})]})})]}),n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsxs(us,{className:"flex items-center gap-2",children:[n.jsx(Qf,{className:"w-5 h-5"}),"Payment Configuration (Razorpay)"]})}),n.jsx(dn,{children:n.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Razorpay Key ID"}),n.jsx(Be,{type:"text",value:u.razorpayKeyId,onChange:ue=>h({...u,razorpayKeyId:ue.target.value}),placeholder:"rzp_test_xxxxxxxxxxxxx",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Razorpay Key Secret"}),n.jsxs("div",{className:"relative",children:[n.jsx(Be,{type:f?"text":"password",value:u.razorpayKeySecret,onChange:ue=>h({...u,razorpayKeySecret:ue.target.value}),placeholder:"Enter full Razorpay Key Secret to update",required:!0}),n.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:f?n.jsx(_o,{className:"w-5 h-5"}):n.jsx(Gr,{className:"w-5 h-5"})})]}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Enter the full secret key to update. For security, the saved key is not displayed.",u.razorpayKeySecret&&n.jsxs("span",{className:"block mt-1 text-green-600 dark:text-green-400",children:[" Secret key entered (",u.razorpayKeySecret.length," characters)"]})]})]}),n.jsx(be,{type:"submit",loading:y,children:"Update Payment Configuration"})]})})]}),n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsxs(us,{className:"flex items-center gap-2",children:[n.jsx(di,{className:"w-5 h-5"}),"Email Configuration (SMTP)"]})}),n.jsx(dn,{children:n.jsxs("form",{onSubmit:X,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Username"}),n.jsx(Be,{type:"text",value:O.smtpUsername,onChange:ue=>P({...O,smtpUsername:ue.target.value}),placeholder:"emailapikey",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Be,{type:R?"text":"password",value:O.smtpPassword,onChange:ue=>P({...O,smtpPassword:ue.target.value}),placeholder:"Enter full SMTP Password to update",required:!O.smtpPassword}),n.jsx("button",{type:"button",onClick:()=>E(!R),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:R?n.jsx(_o,{className:"w-5 h-5"}):n.jsx(Gr,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Enter the full password to update. For security, the saved password is not displayed."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Host"}),n.jsx(Be,{type:"text",value:O.smtpHost,onChange:ue=>P({...O,smtpHost:ue.target.value}),placeholder:"smtp.zeptomail.in",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mail Driver"}),n.jsx(Be,{type:"text",value:O.mailDriver,onChange:ue=>P({...O,mailDriver:ue.target.value}),placeholder:"smtp",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Port"}),n.jsx(Be,{type:"number",value:O.smtpPort,onChange:ue=>P({...O,smtpPort:ue.target.value}),placeholder:"465",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Security"}),n.jsx(Be,{type:"text",value:O.smtpSecurity,onChange:ue=>P({...O,smtpSecurity:ue.target.value}),placeholder:"ssl",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Authentication Domain"}),n.jsx(Be,{type:"text",value:O.smtpAuthDomain,onChange:ue=>P({...O,smtpAuthDomain:ue.target.value}),placeholder:"true"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Address"}),n.jsx(Be,{type:"email",value:O.smtpAddress,onChange:ue=>P({...O,smtpAddress:ue.target.value}),placeholder:"noreply@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email From Address *"}),n.jsx(Be,{type:"email",value:O.emailFromAddress,onChange:ue=>P({...O,emailFromAddress:ue.target.value}),placeholder:"noreply@shubhvenue.com",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email From Name *"}),n.jsx(Be,{type:"text",value:O.emailFromName,onChange:ue=>P({...O,emailFromName:ue.target.value}),placeholder:"ShubhVenue",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Reply Email Address"}),n.jsx(Be,{type:"email",value:O.replyEmailAddress,onChange:ue=>P({...O,replyEmailAddress:ue.target.value}),placeholder:"support@shubhvenue.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Reply Email Name"}),n.jsx(Be,{type:"text",value:O.replyEmailName,onChange:ue=>P({...O,replyEmailName:ue.target.value}),placeholder:"ShubhVenue Support"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Admin Notification Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Be,{type:"email",value:O.adminNotificationEmail,onChange:ue=>P({...O,adminNotificationEmail:ue.target.value}),placeholder:"admin@example.com",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This email will receive notifications when vendors register. If not set, all admin users will receive emails."})]})]}),n.jsx(be,{type:"submit",loading:C,children:"Update Email Configuration"})]})})]}),n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsxs(us,{className:"flex items-center gap-2",children:[n.jsx(gs,{className:"w-5 h-5"}),"Google Maps Configuration"]})}),n.jsx(dn,{children:n.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Google Maps API Key"}),n.jsxs("div",{className:"relative",children:[n.jsx(Be,{type:j?"text":"password",value:v.googleMapsApiKey,onChange:ue=>N({...v,googleMapsApiKey:ue.target.value}),placeholder:"AIzaSyCUEfJCSWFJNz7tUZMR7G77avJoSnq-dRA",required:!0}),n.jsx("button",{type:"button",onClick:()=>k(!j),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:j?n.jsx(_o,{className:"w-5 h-5"}):n.jsx(Gr,{className:"w-5 h-5"})})]}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Enter the full API key to update. For security, the saved key is not displayed.",v.googleMapsApiKey&&n.jsxs("span",{className:"block mt-1 text-green-600 dark:text-green-400",children:[" API key entered (",v.googleMapsApiKey.length," characters)"]})]}),n.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2",children:[" Get your API key from"," ",n.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-800 dark:hover:text-blue-300",children:"Google Cloud Console"}),". Enable Places API and Maps JavaScript API."]})]}),n.jsx(be,{type:"submit",loading:I,children:"Update Google Maps API Key"})]})})]}),n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsxs(us,{className:"flex items-center gap-2",children:[n.jsx(oX,{className:"w-5 h-5"}),"Legal Pages"]})}),n.jsx(dn,{children:n.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Page"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:L,onChange:ue=>D(ue.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 appearance-none",disabled:ee,children:[n.jsx("option",{value:"privacy-policy",children:"Privacy Policy"}),n.jsx("option",{value:"terms-of-service",children:"Terms of Service"}),n.jsx("option",{value:"cookie-policy",children:"Cookie Policy"}),n.jsx("option",{value:"about-us",children:"About Us"})]}),n.jsx(Mm,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500 pointer-events-none"})]})]}),ee?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Loading..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),n.jsx(Be,{type:"text",value:M.title,onChange:ue=>$({...M,title:ue.target.value}),placeholder:"Enter page title",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Content"}),n.jsx("textarea",{value:M.content,onChange:ue=>$({...M,content:ue.target.value}),placeholder:"Enter page content (supports line breaks)",required:!0,rows:15,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-y"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Use line breaks to separate paragraphs. HTML formatting is supported."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"legalPageActive",checked:M.isActive,onChange:ue=>$({...M,isActive:ue.target.checked}),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),n.jsx("label",{htmlFor:"legalPageActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active (visible to users)"})]}),n.jsx(be,{type:"submit",loading:V,children:"Update Legal Page"})]})]})})]}),n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsxs(us,{className:"flex items-center gap-2",children:[a==="light"?n.jsx(DL,{className:"w-5 h-5"}):n.jsx(TL,{className:"w-5 h-5"}),"Appearance"]})}),n.jsx(dn,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Theme"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Switch between light and dark mode"})]}),n.jsx(be,{onClick:Pe,variant:"secondary",children:a==="light"?"Switch to Dark":"Switch to Light"})]})})]}),n.jsxs(Nt,{children:[n.jsx(cs,{children:n.jsx(us,{className:"text-red-500",children:"Danger Zone"})}),n.jsxs(dn,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 dark:border-red-800 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-600 dark:text-red-400",children:"Logout"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sign out from your account"})]}),n.jsxs(be,{variant:"danger",onClick:Ae,children:[n.jsx(J2,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 dark:border-red-800 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-600 dark:text-red-400",children:"Delete Account"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Permanently delete your account and all data"})]}),n.jsxs(be,{variant:"danger",onClick:fe,children:[n.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]}),n.jsx(xt,{isOpen:!!U,onClose:()=>{ie||te(null)},title:"Delete Account",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-700 dark:text-gray-200",children:"Are you sure you want to delete your account? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>te(null),disabled:ie,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:ce,disabled:ie,children:ie?"Please wait...":"Delete"})]})]})})]})},c2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(""),[o,c]=p.useState("all"),[u,h]=p.useState(!1),[f,m]=p.useState(null),[y,b]=p.useState(null),[v,N]=p.useState(!1),[j,k]=p.useState(1),I=10,[S,O]=p.useState({name:"",description:"",image:"",isActive:!0}),[P,R]=p.useState(null),[E,C]=p.useState(null);p.useEffect(()=>{F()},[]);const F=async()=>{try{s(!0),console.log("Fetching categories...");const z=await dd.getAll({active:"all"});console.log("Full API Response:",z),console.log("Response Data:",z.data),console.log("Response Status:",z.status);let ge=[];z&&z.data?z.data.categories&&Array.isArray(z.data.categories)?(ge=z.data.categories,console.log("Found categories in response.data.categories:",ge.length)):Array.isArray(z.data)?(ge=z.data,console.log("Found categories in response.data (array):",ge.length)):z.data.data&&Array.isArray(z.data.data)?(ge=z.data.data,console.log("Found categories in response.data.data:",ge.length)):z.data.success&&z.data.categories?(ge=z.data.categories,console.log("Found categories in success response:",ge.length)):console.warn("Unexpected response structure:",z.data):console.warn("No response.data found:",z),console.log("Final parsed categories:",ge),console.log("Categories count:",ge.length),ge.length>0&&(console.log("Sample category:",ge[0]),console.log("Categories with isActive:",ge.map(le=>({name:le.name,isActive:le.isActive,_id:le._id})))),t(ge),ge.length===0?console.log('No categories found in database. You can create a new category using the "Add Category" button.'):console.log(`Successfully loaded ${ge.length} categories`)}catch(z){console.error("Error fetching categories:",z),console.error("Error details:",{message:z.message,response:z.response,status:z.response?.status,data:z.response?.data});const ge=z.response?.data?.error||z.response?.data?.message||z.message||"Failed to load categories";G.error(`Failed to load categories: ${ge}`),t([])}finally{s(!1)}},L=(z=null)=>{if(z){m(z),O({name:z.name||"",description:z.description||"",image:z.image||"",isActive:z.isActive!==void 0?z.isActive:!0});const ge=z.image?Pn(z.image):null;C(ge),R(null)}else m(null),O({name:"",description:"",image:"",isActive:!0}),C(null),R(null);h(!0)},D=()=>{h(!1),m(null),O({name:"",description:"",image:"",isActive:!0}),R(null),C(null)},M=z=>{const ge=z.target.files[0];if(ge){R(ge);const le=new FileReader;le.onloadend=()=>{C(le.result)},le.readAsDataURL(ge)}},$=async z=>{if(z.preventDefault(),!S.name.trim()){G.error("Category name is required");return}try{const ge=new FormData;ge.append("name",S.name),ge.append("description",S.description||""),ge.append("isActive",S.isActive),P&&ge.append("image",P),f?(await dd.update(f._id,ge),G.success("Category updated successfully")):(await dd.create(ge),G.success("Category created successfully")),D(),F()}catch(ge){const le=ge.response?.data?.error||ge.response?.data?.message||"Failed to save category";G.error(le)}},ee=async(z,ge=!1,le={})=>{if(!ge){b({id:z,name:le.name,type:"delete"});return}N(!0);try{await dd.delete(z),G.success("Category deleted successfully"),F()}catch(Pe){const Ae=Pe.response?.data?.error||Pe.response?.data?.message||"Failed to delete category";G.error(Ae)}finally{N(!1),b(null)}},q=async z=>{try{const ge={name:z.name,description:z.description||"",image:z.image||"",isActive:!z.isActive};await dd.update(z._id,ge),G.success(`Category ${z.isActive?"deactivated":"activated"} successfully`),F()}catch(ge){const le=ge.response?.data?.error||ge.response?.data?.message||"Failed to update category status";G.error(le),console.error("Toggle active error:",ge)}},V=e.filter(z=>{const ge=!a||z.name?.toLowerCase().includes(a.toLowerCase())||z.description?.toLowerCase().includes(a.toLowerCase()),le=z.isActive!==!1;let Pe=!0;return o==="active"?Pe=le:o==="inactive"&&(Pe=!le),ge&&Pe}),re=V.length,U=Math.ceil(re/I),te=(j-1)*I,ie=te+I,H=V.slice(te,ie);return p.useEffect(()=>{k(1)},[a,o]),r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Categories"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage venue categories"})]}),n.jsxs(be,{onClick:()=>L(),children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Category"]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx(Be,{type:"text",placeholder:"Search categories...",value:a,onChange:z=>i(z.target.value),className:"pl-10"})]}),n.jsxs("select",{value:o,onChange:z=>c(z.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active Only"}),n.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Categories: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:re})]}),n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"Name"}),n.jsx(Me,{children:"Description"}),n.jsx(Me,{children:"Image"}),n.jsx(Me,{children:"Venues"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:H.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No categories found"})}):H.map((z,ge)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:te+ge+1}),n.jsx(Se,{className:"font-medium",children:z.name}),n.jsx(Se,{className:"max-w-xs truncate",children:z.description||"N/A"}),n.jsx(Se,{children:z.image?n.jsx("img",{src:Pn(z.image),alt:z.name,className:"w-12 h-12 object-cover rounded",onError:le=>{le.target.style.display="none"}}):n.jsx("span",{className:"text-gray-400",children:"N/A"})}),n.jsx(Se,{children:n.jsx(pt,{variant:"info",children:z.venueCount||0})}),n.jsx(Se,{children:n.jsx(pt,{variant:z.isActive?"success":"danger",className:"cursor-pointer",onClick:()=>q(z),children:z.isActive?"Active":"Inactive"})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>L(z),children:n.jsx(ss,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>ee(z._id,!1,{name:z.name}),children:n.jsx(Kr,{className:"w-4 h-4 text-red-500"})})]})})]},z._id))})]}),re>10&&n.jsx(On,{currentPage:j,totalPages:U,totalItems:re,itemsPerPage:I,onPageChange:k})]})}),n.jsx(xt,{isOpen:!!y,onClose:()=>{v||b(null)},title:"Delete Category",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Delete ",y?.name||"this category","? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>b(null),disabled:v,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:()=>ee(y.id,!0),disabled:v,children:v?"Please wait...":"Delete"})]})]})}),n.jsx(xt,{isOpen:u,onClose:D,title:f?"Edit Category":"Add New Category",size:"md",children:n.jsxs("form",{onSubmit:$,className:"space-y-4",children:[n.jsx(Be,{label:"Category Name *",value:S.name,onChange:z=>O({...S,name:z.target.value}),placeholder:"e.g., Banquet Hall, Garden, Resort",required:!0}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Description"}),n.jsx("textarea",{value:S.description,onChange:z=>O({...S,description:z.target.value}),placeholder:"Category description...",rows:3,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Category Image"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("input",{type:"file",accept:"image/*",onChange:M,className:`block w-full text-sm text-gray-500
                    file:mr-4 file:py-2 file:px-4
                    file:rounded-lg file:border-0
                    file:text-sm file:font-semibold
                    file:bg-primary file:text-white
                    hover:file:bg-primary/90
                    cursor-pointer`}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Upload an image file (JPG, PNG, GIF, WEBP - Max 5MB)"})]}),E&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:Pn(E),alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-300",onError:z=>{z.target.style.display="none"}})})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:S.isActive,onChange:z=>O({...S,isActive:z.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(be,{type:"submit",className:"flex-1",children:f?"Update Category":"Create Category"}),n.jsx(be,{type:"button",variant:"ghost",onClick:D,className:"flex-1",children:"Cancel"})]})]})})]})},u2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(""),[o,c]=p.useState("all"),[u,h]=p.useState(!1),[f,m]=p.useState(null),[y,b]=p.useState(new Set),[v,N]=p.useState(null),[j,k]=p.useState(!1),[I,S]=p.useState(1),O=10,[P,R]=p.useState({name:"",description:"",icon:"",image:"",parentMenuId:null,isActive:!0,sortOrder:0}),[E,C]=p.useState(null),[F,L]=p.useState(null),[D,M]=p.useState(!1),[$,ee]=p.useState(null),[q,V]=p.useState([]);p.useEffect(()=>{re()},[]);const re=async()=>{try{s(!0);const Q=await Qa.getAll({active:"all"});let ve=[],ue=[];Q&&Q.data&&(Q.data.menus&&Array.isArray(Q.data.menus)?ve=Q.data.menus:Array.isArray(Q.data)?ve=Q.data:Q.data.success&&Q.data.menus&&(ve=Q.data.menus)),ve.forEach(xe=>{ue.push(xe),xe.submenus&&Array.isArray(xe.submenus)&&xe.submenus.forEach(Le=>{ue.push(Le)})}),t(ve),ve.length}catch(Q){console.error("Error fetching menus:",Q);const ve=Q.response?.data?.error||Q.response?.data?.message||Q.message||"Failed to load menus";G.error(`Failed to load menus: ${ve}`),t([])}finally{s(!1)}},U=(Q=null,ve=!1,ue=null)=>{if(Q){m(Q),R({name:Q.name||"",description:Q.description||"",icon:Q.icon||"",image:Q.image||"",parentMenuId:Q.parentMenuId||null,isActive:Q.isActive!==void 0?Q.isActive:!0,sortOrder:Q.sortOrder||0});const xe=Q.image?Pn(Q.image):null;if(L(xe),C(null),M(!!Q.parentMenuId),ee(ue||null),Q.parentMenuId)V([]);else{const it=e.find(St=>St._id===Q._id)?.submenus||[];V(it.map(St=>({name:St.name||"",description:St.description||"",icon:St.icon||"",isActive:St.isActive!==void 0?St.isActive:!0,sortOrder:St.sortOrder||0,_id:St._id})))}}else m(null),R({name:"",description:"",icon:"",image:"",parentMenuId:ve&&ue?._id||null,isActive:!0,sortOrder:0}),L(null),C(null),M(ve),ee(ue),V([]);h(!0)},te=()=>{h(!1),m(null),R({name:"",description:"",icon:"",image:"",parentMenuId:null,isActive:!0,sortOrder:0}),C(null),L(null),M(!1),ee(null),V([])},ie=()=>{V([...q,{name:"",description:"",icon:"",isActive:!0,sortOrder:q.length}])},H=Q=>{V(q.filter((ve,ue)=>ue!==Q))},z=(Q,ve,ue)=>{const xe=[...q];xe[Q]={...xe[Q],[ve]:ue},V(xe)},ge=Q=>{const ve=Q.target.files[0];if(ve){C(ve);const ue=new FileReader;ue.onloadend=()=>{L(ue.result)},ue.readAsDataURL(ve)}},le=async Q=>{if(Q.preventDefault(),!P.name.trim()){G.error("Menu name is required");return}if(!D&&q.length>0){for(let ve=0;ve<q.length;ve++)if(!q[ve].name.trim()){G.error(`Submenu ${ve+1} name is required`);return}}try{let ve;if(D){const ue=new FormData;ue.append("name",P.name),ue.append("description",P.description||""),ue.append("icon",P.icon||""),ue.append("isActive",P.isActive),ue.append("sortOrder",P.sortOrder||0),ue.append("parentMenuId",P.parentMenuId),E?ue.append("image",E):P.image&&!E&&ue.append("image",P.image),f?(await Qa.update(f._id,ue),G.success("Submenu updated successfully")):(await Qa.create(ue),G.success("Submenu created successfully"))}else{const ue=new FormData;if(ue.append("name",P.name),ue.append("description",P.description||""),ue.append("icon",P.icon||""),ue.append("isActive",P.isActive),ue.append("sortOrder",P.sortOrder||0),ue.append("parentMenuId","null"),E?ue.append("image",E):P.image&&!E&&ue.append("image",P.image),f?(await Qa.update(f._id,ue),ve=f._id,G.success("Menu updated successfully")):(ve=(await Qa.create(ue)).data.menu._id,G.success("Menu created successfully")),q.length>0&&ve){for(let xe=0;xe<q.length;xe++){const Le=q[xe],it=new FormData;it.append("name",Le.name),it.append("description",Le.description||""),it.append("icon",Le.icon||""),it.append("isActive",Le.isActive),it.append("sortOrder",Le.sortOrder||xe),it.append("parentMenuId",ve),Le._id?await Qa.update(Le._id,it):await Qa.create(it)}G.success(`${q.length} submenu(s) ${f?"updated":"created"} successfully`)}}te(),re()}catch(ve){const ue=ve.response?.data?.error||ve.response?.data?.message||"Failed to save menu";G.error(ue)}},Pe=async(Q,ve=!1,ue={})=>{if(!ve){N({id:Q,name:ue.name,type:"delete"});return}k(!0);try{await Qa.delete(Q),G.success("Menu deleted successfully"),re()}catch(xe){const Le=xe.response?.data?.error||xe.response?.data?.message||"Failed to delete menu";G.error(Le)}finally{k(!1),N(null)}},Ae=async Q=>{try{const ve={name:Q.name,description:Q.description||"",icon:Q.icon||"",image:Q.image||"",parentMenuId:Q.parentMenuId||null,isActive:!Q.isActive,sortOrder:Q.sortOrder||0};await Qa.update(Q._id,ve),G.success(`Menu ${Q.isActive?"deactivated":"activated"} successfully`),re()}catch(ve){const ue=ve.response?.data?.error||ve.response?.data?.message||"Failed to update menu status";G.error(ue)}},fe=Q=>{const ve=new Set(y);ve.has(Q)?ve.delete(Q):ve.add(Q),b(ve)},ce=e.filter(Q=>{const ve=!a||Q.name?.toLowerCase().includes(a.toLowerCase())||Q.description?.toLowerCase().includes(a.toLowerCase()),ue=Q.isActive!==!1;let xe=!0;o==="active"?xe=ue:o==="inactive"&&(xe=!ue);const Le=!Q.parentMenuId;return ve&&xe&&Le}),J=ce.length,Y=Math.ceil(J/O),de=(I-1)*O,X=de+O,pe=ce.slice(de,X);p.useEffect(()=>{S(1)},[a,o]);const se=Q=>e.find(ue=>ue._id===Q)?.submenus||[];return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):(e.filter(Q=>!Q.parentMenuId),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Menus & Submenus"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage menu structure and submenus"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(be,{onClick:()=>U(),children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Main Menu"]})})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx(Be,{type:"text",placeholder:"Search menus...",value:a,onChange:Q=>i(Q.target.value),className:"pl-10"})]}),n.jsxs("select",{value:o,onChange:Q=>c(Q.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active Only"}),n.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Menus: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:J})]}),n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12"}),n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"Name"}),n.jsx(Me,{children:"Description"}),n.jsx(Me,{children:"Image"}),n.jsx(Me,{children:"Submenus"}),n.jsx(Me,{children:"Venues"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:pe.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:9,className:"text-center py-8 text-gray-500",children:"No menus found"})}):pe.map((Q,ve)=>{const ue=se(Q._id),xe=y.has(Q._id);return n.jsxs(ni.Fragment,{children:[n.jsxs(ft,{children:[n.jsx(Se,{children:ue.length>0&&n.jsx("button",{onClick:()=>fe(Q._id),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:xe?n.jsx(Mm,{className:"w-4 h-4"}):n.jsx(Jd,{className:"w-4 h-4"})})}),n.jsx(Se,{className:"text-center font-medium",children:de+ve+1}),n.jsx(Se,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(av,{className:"w-4 h-4 text-primary"}),Q.name]})}),n.jsx(Se,{className:"max-w-xs truncate",children:Q.description||"N/A"}),n.jsx(Se,{children:Q.image?n.jsx("img",{src:Pn(Q.image),alt:Q.name,className:"w-12 h-12 object-cover rounded",onError:Le=>{Le.target.style.display="none"}}):n.jsx("span",{className:"text-gray-400",children:"N/A"})}),n.jsx(Se,{children:n.jsx(pt,{variant:"info",children:ue.length})}),n.jsx(Se,{children:n.jsx(pt,{variant:"info",children:Q.venueCount||0})}),n.jsx(Se,{children:n.jsx(pt,{variant:Q.isActive?"success":"danger",className:"cursor-pointer",onClick:()=>Ae(Q),children:Q.isActive?"Active":"Inactive"})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>U(null,!0,Q),title:"Add Submenu",children:n.jsx(Fr,{className:"w-4 h-4 text-green-500"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>U(Q),children:n.jsx(ss,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>Pe(Q._id,!1,{name:Q.name}),children:n.jsx(Kr,{className:"w-4 h-4 text-red-500"})})]})})]}),xe&&ue.map((Le,it)=>n.jsxs(ft,{className:"bg-gray-50 dark:bg-gray-800/50",children:[n.jsx(Se,{}),n.jsxs(Se,{className:"text-center text-sm text-gray-500",children:[ve+1,".",it+1]}),n.jsx(Se,{className:"font-medium pl-8",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1 h-4 bg-primary"}),Le.name]})}),n.jsx(Se,{className:"max-w-xs truncate text-sm",children:Le.description||"N/A"}),n.jsx(Se,{children:Le.image?n.jsx("img",{src:Pn(Le.image),alt:Le.name,className:"w-10 h-10 object-cover rounded",onError:St=>{St.target.style.display="none"}}):n.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})}),n.jsx(Se,{children:n.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),n.jsx(Se,{children:n.jsx(pt,{variant:"info",className:"text-xs",children:Le.venueCount||0})}),n.jsx(Se,{children:n.jsx(pt,{variant:Le.isActive?"success":"danger",className:"cursor-pointer text-xs",onClick:()=>Ae(Le),children:Le.isActive?"Active":"Inactive"})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>U(Le,!1,Q),children:n.jsx(ss,{className:"w-3 h-3"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>Pe(Le._id,!1,{name:Le.name}),children:n.jsx(Kr,{className:"w-3 h-3 text-red-500"})})]})})]},Le._id))]},Q._id)})})]}),J>10&&n.jsx(On,{currentPage:I,totalPages:Y,totalItems:J,itemsPerPage:O,onPageChange:S})]})}),n.jsx(xt,{isOpen:!!v,onClose:()=>{j||N(null)},title:"Delete Menu",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Delete ",v?.name||"this item","? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>N(null),disabled:j,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:()=>Pe(v.id,!0),disabled:j,children:j?"Please wait...":"Delete"})]})]})}),n.jsx(xt,{isOpen:u,onClose:te,title:f?`Edit ${D?"Submenu":"Menu"}`:`Add New ${D?"Submenu":"Menu"}`,size:"xl",children:n.jsxs("form",{onSubmit:le,className:"space-y-4 max-h-full",children:[D&&$&&n.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[n.jsx("strong",{children:"Parent Menu:"})," ",$.name]})}),n.jsx(Be,{label:`${D?"Submenu":"Menu"} Name *`,value:P.name,onChange:Q=>R({...P,name:Q.target.value}),placeholder:D?"e.g., Tent Booking, DJ Booking":"e.g., Event Services, Venue & Hall Bookings",required:!0}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Description"}),n.jsx("textarea",{value:P.description,onChange:Q=>R({...P,description:Q.target.value}),placeholder:"Menu description...",rows:3,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),n.jsx(Be,{label:"Icon",value:P.icon,onChange:Q=>R({...P,icon:Q.target.value}),placeholder:"Icon name or URL"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Menu Image"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("input",{type:"file",accept:"image/*",onChange:ge,className:`block w-full text-sm text-gray-500
                    file:mr-4 file:py-2 file:px-4
                    file:rounded-lg file:border-0
                    file:text-sm file:font-semibold
                    file:bg-primary file:text-white
                    hover:file:bg-primary/90
                    cursor-pointer`}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Upload an image file (JPG, PNG, GIF, WEBP - Max 5MB)"})]}),F&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:Pn(F),alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-300",onError:Q=>{Q.target.style.display="none"}})})]})]}),n.jsx(Be,{label:"Sort Order",type:"number",value:P.sortOrder,onChange:Q=>R({...P,sortOrder:parseInt(Q.target.value)||0}),placeholder:"0"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:P.isActive,onChange:Q=>R({...P,isActive:Q.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),!D&&n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Submenus (",q.length,")"]}),n.jsxs(be,{type:"button",variant:"ghost",size:"sm",onClick:ie,className:"text-primary",children:[n.jsx(Fr,{className:"w-4 h-4 mr-1"}),"Add Submenu"]})]}),q.length===0?n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:'No submenus added. Click "Add Submenu" to add one.'}):n.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:q.map((Q,ve)=>n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Submenu ",ve+1]}),n.jsx(be,{type:"button",variant:"ghost",size:"sm",onClick:()=>H(ve),className:"text-red-500 hover:text-red-700",children:n.jsx(er,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{label:"Submenu Name *",value:Q.name,onChange:ue=>z(ve,"name",ue.target.value),placeholder:"e.g., Tent Booking, DJ Booking",required:!0}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-600 dark:text-gray-400",children:"Description"}),n.jsx("textarea",{value:Q.description,onChange:ue=>z(ve,"description",ue.target.value),placeholder:"Submenu description...",rows:2,className:"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(Be,{label:"Icon",value:Q.icon,onChange:ue=>z(ve,"icon",ue.target.value),placeholder:"Icon name",className:"text-sm"}),n.jsx(Be,{label:"Sort Order",type:"number",value:Q.sortOrder,onChange:ue=>z(ve,"sortOrder",parseInt(ue.target.value)||0),placeholder:"0",className:"text-sm"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:`submenu-active-${ve}`,checked:Q.isActive,onChange:ue=>z(ve,"isActive",ue.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("label",{htmlFor:`submenu-active-${ve}`,className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Active"})]})]})]},ve))})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[n.jsx(be,{type:"submit",className:"flex-1",children:f?`Update ${D?"Submenu":"Menu"}`:`Create ${D?"Submenu":"Menu"}`}),n.jsx(be,{type:"button",variant:"ghost",onClick:te,className:"flex-1",children:"Cancel"})]})]})})]}))},d2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(""),[o,c]=p.useState(!1),[u,h]=p.useState(null),[f,m]=p.useState(null),[y,b]=p.useState(!1),[v,N]=p.useState(1),j=10,[k,I]=p.useState({title:"",description:"",video:"",thumbnail:"",link:"",isActive:!0,sortOrder:0,startDate:"",endDate:""}),[S,O]=p.useState(null),[P,R]=p.useState(null),E=H=>H?H.startsWith("/uploads/")?Pn(H):H.startsWith("http://")||H.startsWith("https://")?H:Pn(`/uploads/videos/${H}`):null;p.useEffect(()=>{C()},[]);const C=async()=>{try{s(!0),console.log("Fetching videos...");const H=await uf.getAll();console.log("Videos API Full Response:",H),console.log("Videos API Response Data:",H?.data);let z=[];H&&H.data?H.data.videos&&Array.isArray(H.data.videos)?(z=H.data.videos,console.log("Found videos in response.data.videos:",z.length)):Array.isArray(H.data)?(z=H.data,console.log("Found videos in response.data (array):",z.length)):H.data.data&&Array.isArray(H.data.data)?(z=H.data.data,console.log("Found videos in response.data.data:",z.length)):console.warn("Unexpected response structure:",H.data):console.warn("No response data found"),console.log("Final parsed videos:",z),console.log("Total videos found:",z.length),t(z),z.length===0&&console.log('No videos found. You can create a new video using the "Add Video" button.')}catch(H){console.error("Error fetching videos:",H),console.error("Error response:",H.response),console.error("Error details:",H.response?.data);const z=H.response?.data?.error||H.response?.data?.message||H.message||"Failed to load videos";G.error(z),t([])}finally{s(!1)}},F=(H=null)=>{if(H){h(H),I({title:H.title||"",description:H.description||"",video:H.video||"",thumbnail:H.thumbnail||"",link:H.link||"",isActive:H.isActive!==void 0?H.isActive:!0,sortOrder:H.sortOrder||0,startDate:H.startDate?new Date(H.startDate).toISOString().split("T")[0]:"",endDate:H.endDate?new Date(H.endDate).toISOString().split("T")[0]:""});const z=H.video?E(H.video):null;R(z),O(null)}else h(null),I({title:"",description:"",video:"",thumbnail:"",link:"",isActive:!0,sortOrder:0,startDate:"",endDate:""}),R(null),O(null);c(!0)},L=()=>{c(!1),h(null),I({title:"",description:"",video:"",thumbnail:"",link:"",isActive:!0,sortOrder:0,startDate:"",endDate:""}),O(null),R(null)},D=H=>{const z=H.target.files[0];if(z){O(z);const ge=URL.createObjectURL(z);R(ge)}},M=async H=>{if(H.preventDefault(),!k.title.trim()){G.error("Video title is required");return}if(!u&&!S){G.error("Video file is required");return}try{const z=new FormData;z.append("title",k.title),z.append("description",k.description||""),z.append("link",k.link||""),z.append("thumbnail",k.thumbnail||""),z.append("isActive",k.isActive),z.append("sortOrder",k.sortOrder),k.startDate&&z.append("startDate",k.startDate),k.endDate&&z.append("endDate",k.endDate),S?z.append("video",S):u&&k.video&&k.video.trim()&&z.append("video",k.video.trim()),u?(await uf.update(u._id,z),G.success("Video updated successfully")):(await uf.create(z),G.success("Video created successfully")),L(),C()}catch(z){const ge=z.response?.data?.error||z.response?.data?.message||"Failed to save video";G.error(ge)}},$=async(H,z=!1,ge={})=>{if(!z){m({id:H,name:ge.title});return}b(!0);try{await uf.delete(H),G.success("Video deleted successfully"),C()}catch(le){const Pe=le.response?.data?.error||le.response?.data?.message||"Failed to delete video";G.error(Pe)}finally{b(!1),m(null)}},ee=async H=>{try{await uf.toggleActive(H._id),G.success(`Video ${H.isActive?"deactivated":"activated"} successfully`),C()}catch{G.error("Failed to update video status")}},q=e.filter(H=>H.title?.toLowerCase().includes(a.toLowerCase())||H.description?.toLowerCase().includes(a.toLowerCase())),V=q.length,re=Math.ceil(V/j),U=(v-1)*j,te=U+j,ie=q.slice(U,te);return p.useEffect(()=>{N(1)},[a]),r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Videos"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage and upload videos"})]}),n.jsxs(be,{onClick:()=>F(),children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Video"]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx(Be,{type:"text",placeholder:"Search videos...",value:a,onChange:H=>i(H.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Videos: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:V})]}),n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"Video"}),n.jsx(Me,{children:"Title"}),n.jsx(Me,{children:"Description"}),n.jsx(Me,{children:"Link"}),n.jsx(Me,{children:"Sort Order"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:ie.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:8,className:"text-center py-12",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:n.jsx(Xf,{className:"w-8 h-8 text-gray-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-1",children:a?"No videos match your search":"No videos yet"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:a?"Try adjusting your search terms":"Create your first video to showcase your services"}),!a&&n.jsxs(be,{onClick:()=>F(),size:"sm",children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Your First Video"]})]})]})})}):ie.map((H,z)=>{const ge=E(H.video);return n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:U+z+1}),n.jsx(Se,{children:ge?n.jsx("div",{className:"relative w-32 h-20 bg-gray-900 rounded overflow-hidden",children:n.jsx("video",{src:ge,className:"w-full h-full object-cover",poster:H.thumbnail?E(H.thumbnail):void 0,controls:!0,preload:"metadata",onError:le=>{console.error("Video load error:",ge,le),le.target.style.display="none"},children:"Your browser does not support the video tag."})}):n.jsx("div",{className:"w-32 h-20 bg-gray-100 dark:bg-gray-800 rounded flex items-center justify-center",children:n.jsx(Xf,{className:"w-8 h-8 text-gray-400"})})}),n.jsx(Se,{className:"font-medium",children:H.title}),n.jsx(Se,{className:"max-w-xs truncate",children:H.description||"N/A"}),n.jsx(Se,{children:H.link?n.jsx("a",{href:H.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline truncate max-w-xs block",children:H.link}):n.jsx("span",{className:"text-gray-400",children:"N/A"})}),n.jsx(Se,{children:H.sortOrder||0}),n.jsx(Se,{children:n.jsx(pt,{variant:H.isActive?"success":"danger",className:"cursor-pointer",onClick:()=>ee(H),children:H.isActive?"Active":"Inactive"})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>F(H),children:n.jsx(ss,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>$(H._id,!1,{title:H.title}),children:n.jsx(Kr,{className:"w-4 h-4 text-red-500"})})]})})]},H._id)})})]}),V>10&&n.jsx(On,{currentPage:v,totalPages:re,totalItems:V,itemsPerPage:j,onPageChange:N})]})}),n.jsx(xt,{isOpen:!!f,onClose:()=>{y||m(null)},title:"Delete Video",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Delete ",f?.name||"this video","? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>m(null),disabled:y,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:()=>$(f.id,!0),disabled:y,children:y?"Please wait...":"Delete"})]})]})}),n.jsx(xt,{isOpen:o,onClose:L,title:u?"Edit Video":"Add New Video",size:"md",children:n.jsxs("form",{onSubmit:M,className:"space-y-2.5 max-h-[75vh] overflow-y-auto px-1",children:[n.jsx(Be,{label:"Video Title *",value:k.title,onChange:H=>I({...k,title:H.target.value}),placeholder:"e.g., Venue Tour, Wedding Highlights",required:!0}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"Description"}),n.jsx("textarea",{value:k.description,onChange:H=>I({...k,description:H.target.value}),placeholder:"Video description...",rows:2,className:"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"Video *"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("input",{type:"file",accept:"video/*",onChange:D,className:`block w-full text-sm text-gray-500
                    file:mr-4 file:py-2 file:px-4
                    file:rounded-lg file:border-0
                    file:text-sm file:font-semibold
                    file:bg-primary file:text-white
                    hover:file:bg-primary/90
                    cursor-pointer`}),n.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Upload a video file (MP4, WebM, MOV, AVI, MKV - Max 100MB)"})]}),P&&n.jsx("div",{className:"mt-1.5",children:n.jsx("video",{src:P,controls:!0,className:"w-full h-24 object-contain rounded border border-gray-300 dark:border-gray-600",style:{maxHeight:"96px"},children:"Your browser does not support the video tag."})})]})]}),n.jsx(Be,{label:"Thumbnail URL (Optional)",value:k.thumbnail,onChange:H=>I({...k,thumbnail:H.target.value}),placeholder:"https://example.com/thumbnail.jpg",type:"url"}),n.jsx(Be,{label:"Link (Optional)",value:k.link,onChange:H=>I({...k,link:H.target.value}),placeholder:"https://example.com",type:"url"}),n.jsx(Be,{label:"Sort Order",value:k.sortOrder,onChange:H=>I({...k,sortOrder:parseInt(H.target.value)||0}),type:"number",min:"0"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Be,{label:"Start Date (Optional)",value:k.startDate,onChange:H=>I({...k,startDate:H.target.value}),type:"date"}),n.jsx(Be,{label:"End Date (Optional)",value:k.endDate,onChange:H=>I({...k,endDate:H.target.value}),type:"date"})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:k.isActive,onChange:H=>I({...k,isActive:H.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx(be,{type:"submit",className:"flex-1",children:u?"Update Video":"Create Video"}),n.jsx(be,{type:"button",variant:"ghost",onClick:L,className:"flex-1",children:"Cancel"})]})]})})]})},h2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(""),[o,c]=p.useState(!1),[u,h]=p.useState(null),[f,m]=p.useState(null),[y,b]=p.useState(!1),[v,N]=p.useState(1),j=10,[k,I]=p.useState({name:"",text:"",event:"",rating:5,image:"",isActive:!0,sortOrder:0});p.useEffect(()=>{S()},[]);const S=async()=>{try{s(!0);const q=await df.getAll();console.log("Testimonials API Response:",q),console.log("Testimonials API Response Data:",q.data);let V=[];q.data&&(q.data.success&&q.data.testimonials&&Array.isArray(q.data.testimonials)||q.data.testimonials&&Array.isArray(q.data.testimonials)?V=q.data.testimonials:Array.isArray(q.data)?V=q.data:q.data.data&&Array.isArray(q.data.data)&&(V=q.data.data)),console.log("Parsed testimonials:",V),console.log("Testimonials count:",V.length),t(V),V.length===0&&console.log('No testimonials found. You can create a new testimonial using the "Add Testimonial" button.')}catch(q){console.error("Error fetching testimonials:",q),console.error("Error response:",q.response);const V=q.response?.data?.error||q.response?.data?.message||q.message||"Failed to load testimonials";G.error(V),t([])}finally{s(!1)}},O=(q=null)=>{q?(h(q),I({name:q.name||"",text:q.text||"",event:q.event||"",rating:q.rating||5,image:q.image||"",isActive:q.isActive!==void 0?q.isActive:!0,sortOrder:q.sortOrder||0})):(h(null),I({name:"",text:"",event:"",rating:5,image:"",isActive:!0,sortOrder:0})),c(!0)},P=()=>{c(!1),h(null),I({name:"",text:"",event:"",rating:5,image:"",isActive:!0,sortOrder:0})},R=async q=>{if(q.preventDefault(),!k.name.trim()){G.error("Name is required");return}if(!k.text.trim()){G.error("Testimonial text is required");return}try{u?(await df.update(u._id,k),G.success("Testimonial updated successfully")):(await df.create(k),G.success("Testimonial created successfully")),P(),S()}catch(V){const re=V.response?.data?.error||V.response?.data?.message||"Failed to save testimonial";G.error(re)}},E=async(q,V=!1,re={})=>{if(!V){m({id:q,name:re.name});return}b(!0);try{await df.delete(q),G.success("Testimonial deleted successfully"),S()}catch(U){const te=U.response?.data?.error||U.response?.data?.message||"Failed to delete testimonial";G.error(te)}finally{b(!1),m(null)}},C=async q=>{try{await df.toggleActive(q._id),G.success(`Testimonial ${q.isActive?"deactivated":"activated"} successfully`),S()}catch{G.error("Failed to update testimonial status")}},F=e.filter(q=>q.name?.toLowerCase().includes(a.toLowerCase())||q.text?.toLowerCase().includes(a.toLowerCase())||q.event?.toLowerCase().includes(a.toLowerCase())),L=F.length,D=Math.ceil(L/j),M=(v-1)*j,$=M+j,ee=F.slice(M,$);return p.useEffect(()=>{N(1)},[a]),r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Testimonials"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage customer testimonials"})]}),n.jsxs(be,{onClick:()=>O(),children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Testimonial"]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx(Be,{type:"text",placeholder:"Search testimonials...",value:a,onChange:q=>i(q.target.value),className:"pl-10"})]})}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Testimonials: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:L})]}),ee.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Zi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a?"No testimonials found matching your search":"No testimonials found. Create your first testimonial!"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"Name"}),n.jsx(Me,{children:"Text"}),n.jsx(Me,{children:"Event"}),n.jsx(Me,{children:"Rating"}),n.jsx(Me,{children:"Sort Order"}),n.jsx(Me,{className:"min-w-[100px]",children:"Status"}),n.jsx(Me,{className:"text-right min-w-[180px]",children:"Actions"})]})}),n.jsx(Dn,{children:ee.map((q,V)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:M+V+1}),n.jsx(Se,{className:"font-medium",children:q.name}),n.jsx(Se,{className:"max-w-md",children:n.jsx("div",{className:"truncate",title:q.text,children:q.text})}),n.jsx(Se,{children:q.event||"-"}),n.jsx(Se,{children:n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((re,U)=>n.jsx("span",{className:U<(q.rating||5)?"text-yellow-400":"text-gray-300",children:""},U))})}),n.jsx(Se,{children:q.sortOrder||0}),n.jsx(Se,{className:"min-w-[100px]",children:n.jsx(pt,{variant:q.isActive?"success":"secondary",className:"whitespace-nowrap",children:q.isActive?"Active":"Inactive"})}),n.jsx(Se,{className:"text-right min-w-[180px]",children:n.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>C(q),className:"whitespace-nowrap text-xs px-2",children:q.isActive?"Deactivate":"Activate"}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>O(q),className:"p-2",children:n.jsx(ss,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>E(q._id,!1,{name:q.name}),className:"p-2",children:n.jsx(Kr,{className:"w-4 h-4 text-red-500"})})]})})]},q._id))})]})}),L>10&&n.jsx(On,{currentPage:v,totalPages:D,totalItems:L,itemsPerPage:j,onPageChange:N})]})}),n.jsx(xt,{isOpen:!!f,onClose:()=>{y||m(null)},title:"Delete Testimonial",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Delete ",f?.name||"this testimonial","? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>m(null),disabled:y,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:()=>E(f.id,!0),disabled:y,children:y?"Please wait...":"Delete"})]})]})}),n.jsx(xt,{isOpen:o,onClose:P,title:u?"Edit Testimonial":"Add Testimonial",children:n.jsxs("form",{onSubmit:R,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Be,{type:"text",value:k.name,onChange:q=>I({...k,name:q.target.value}),placeholder:"Customer name",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Testimonial Text ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:k.text,onChange:q=>I({...k,text:q.target.value}),placeholder:"Enter testimonial text",required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event"}),n.jsx(Be,{type:"text",value:k.event,onChange:q=>I({...k,event:q.target.value}),placeholder:"e.g., Booked a Wedding Venue"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rating"}),n.jsx(Be,{type:"number",min:"1",max:"5",value:k.rating,onChange:q=>I({...k,rating:parseInt(q.target.value)||5}),placeholder:"Rating (1-5)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Image URL"}),n.jsx(Be,{type:"text",value:k.image,onChange:q=>I({...k,image:q.target.value}),placeholder:"Optional image URL"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sort Order"}),n.jsx(Be,{type:"number",value:k.sortOrder,onChange:q=>I({...k,sortOrder:parseInt(q.target.value)||0}),placeholder:"Sort order (lower numbers appear first)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:k.isActive,onChange:q=>I({...k,isActive:q.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(be,{type:"button",variant:"secondary",onClick:P,children:"Cancel"}),n.jsxs(be,{type:"submit",children:[u?"Update":"Create"," Testimonial"]})]})]})})]})},f2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(""),[o,c]=p.useState(!1),[u,h]=p.useState(null),[f,m]=p.useState(null),[y,b]=p.useState(!1),[v,N]=p.useState(1),j=10,[k,I]=p.useState({question:"",answer:"",category:"",isActive:!0,sortOrder:0});p.useEffect(()=>{S()},[]);const S=async()=>{try{s(!0);const q=await hf.getAll();console.log("FAQs API Response:",q),console.log("FAQs API Response Data:",q.data);let V=[];q.data&&(q.data.success&&q.data.faqs&&Array.isArray(q.data.faqs)||q.data.faqs&&Array.isArray(q.data.faqs)?V=q.data.faqs:Array.isArray(q.data)?V=q.data:q.data.data&&Array.isArray(q.data.data)&&(V=q.data.data)),console.log("Parsed FAQs:",V),console.log("FAQs count:",V.length),t(V),V.length===0&&console.log('No FAQs found. You can create a new FAQ using the "Add FAQ" button.')}catch(q){console.error("Error fetching FAQs:",q),console.error("Error response:",q.response);const V=q.response?.data?.error||q.response?.data?.message||q.message||"Failed to load FAQs";G.error(V),t([])}finally{s(!1)}},O=(q=null)=>{q?(h(q),I({question:q.question||"",answer:q.answer||"",category:q.category||"",isActive:q.isActive!==void 0?q.isActive:!0,sortOrder:q.sortOrder||0})):(h(null),I({question:"",answer:"",category:"",isActive:!0,sortOrder:0})),c(!0)},P=()=>{c(!1),h(null)},R=async q=>{if(q.preventDefault(),!k.question.trim()){G.error("Question is required");return}if(!k.answer.trim()){G.error("Answer is required");return}try{u?(await hf.update(u._id,k),G.success("FAQ updated successfully")):(await hf.create(k),G.success("FAQ created successfully")),P(),S()}catch(V){console.error("Error saving FAQ:",V);const re=V.response?.data?.message||V.response?.data?.error||"Failed to save FAQ";G.error(re)}},E=async(q,V=!1,re={})=>{if(!V){m({id:q,name:re.question});return}b(!0);try{await hf.delete(q),G.success("FAQ deleted successfully"),S()}catch(U){console.error("Error deleting FAQ:",U);const te=U.response?.data?.message||U.response?.data?.error||"Failed to delete FAQ";G.error(te)}finally{b(!1),m(null)}},C=async q=>{try{await hf.toggleActive(q._id),G.success(`FAQ ${q.isActive?"deactivated":"activated"} successfully`),S()}catch(V){console.error("Error toggling FAQ active status:",V);const re=V.response?.data?.message||V.response?.data?.error||"Failed to update FAQ status";G.error(re)}},F=e.filter(q=>{const V=a.toLowerCase();return q.question.toLowerCase().includes(V)||q.answer.toLowerCase().includes(V)||q.category&&q.category.toLowerCase().includes(V)}),L=F.length,D=Math.ceil(L/j),M=(v-1)*j,$=M+j,ee=F.slice(M,$);return p.useEffect(()=>{N(1)},[a]),r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading FAQs..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"FAQs"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage frequently asked questions"})]}),n.jsxs(be,{onClick:()=>O(),children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add FAQ"]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 w-full",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx(Be,{type:"text",placeholder:"Search FAQs...",value:a,onChange:q=>i(q.target.value),className:"pl-10"})]})}),n.jsxs("div",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:["Total FAQs: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:L})]}),ee.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(PL,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a?"No FAQs found matching your search":"No FAQs found. Create your first FAQ!"})]}):n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"Question"}),n.jsx(Me,{children:"Answer"}),n.jsx(Me,{children:"Category"}),n.jsx(Me,{children:"Sort Order"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{className:"text-right",children:"Actions"})]})}),n.jsx(Dn,{children:ee.map((q,V)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:M+V+1}),n.jsx(Se,{className:"font-medium",children:n.jsx("div",{className:"break-words",title:q.question,children:q.question})}),n.jsx(Se,{children:n.jsx("div",{className:"break-words line-clamp-2",title:q.answer,children:q.answer})}),n.jsx(Se,{className:"whitespace-nowrap",children:q.category||"-"}),n.jsx(Se,{className:"whitespace-nowrap",children:q.sortOrder||0}),n.jsx(Se,{className:"whitespace-nowrap",children:n.jsx(pt,{variant:q.isActive?"success":"secondary",children:q.isActive?"Active":"Inactive"})}),n.jsx(Se,{className:"text-right whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>C(q),title:q.isActive?"Deactivate":"Activate",className:"whitespace-nowrap min-w-[90px] text-center",children:n.jsx("span",{className:"block w-full",children:q.isActive?"Deactivate":"Activate"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>O(q),title:"Edit",children:n.jsx(ss,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>E(q._id,!1,{question:q.question}),title:"Delete",children:n.jsx(Kr,{className:"w-4 h-4 text-red-500"})})]})})]},q._id))})]})}),L>10&&n.jsx(On,{currentPage:v,totalPages:D,totalItems:L,itemsPerPage:j,onPageChange:N})]})}),n.jsx(xt,{isOpen:!!f,onClose:()=>{y||m(null)},title:"Delete FAQ",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Delete ",f?.name||"this FAQ","? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>m(null),disabled:y,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:()=>E(f.id,!0),disabled:y,children:y?"Please wait...":"Delete"})]})]})}),n.jsx(xt,{isOpen:o,onClose:P,title:u?"Edit FAQ":"Add FAQ",children:n.jsxs("form",{onSubmit:R,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Question ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Be,{type:"text",value:k.question,onChange:q=>I({...k,question:q.target.value}),placeholder:"Enter question",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Answer ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:k.answer,onChange:q=>I({...k,answer:q.target.value}),placeholder:"Enter answer",required:!0,rows:6,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),n.jsx(Be,{type:"text",value:k.category,onChange:q=>I({...k,category:q.target.value}),placeholder:"e.g., Booking, Payment, Cancellation"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sort Order"}),n.jsx(Be,{type:"number",value:k.sortOrder,onChange:q=>I({...k,sortOrder:parseInt(q.target.value)||0}),placeholder:"Sort order (lower numbers appear first)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:k.isActive,onChange:q=>I({...k,isActive:q.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(be,{type:"button",variant:"secondary",onClick:P,children:"Cancel"}),n.jsxs(be,{type:"submit",children:[u?"Update":"Create"," FAQ"]})]})]})})]})},m2e=()=>{const[e,t]=p.useState(!0),[r,s]=p.useState(!1),[a,i]=p.useState({companyName:"",description:"",address:"",phone:"",email:"",facebook:"",twitter:"",instagram:"",linkedin:"",copyright:"",isActive:!0});p.useEffect(()=>{o()},[]);const o=async()=>{try{t(!0);const u=await P4.get();console.log("Company API Response:",u),u.data?.success&&u.data?.company&&i({companyName:u.data.company.companyName||"",description:u.data.company.description||"",address:u.data.company.address||"",phone:u.data.company.phone||"",email:u.data.company.email||"",facebook:u.data.company.facebook||"",twitter:u.data.company.twitter||"",instagram:u.data.company.instagram||"",linkedin:u.data.company.linkedin||"",copyright:u.data.company.copyright||"",isActive:u.data.company.isActive!==void 0?u.data.company.isActive:!0})}catch(u){console.error("Error fetching company data:",u);const h=u.response?.data?.message||u.response?.data?.error||"Failed to load company data";G.error(h)}finally{t(!1)}},c=async u=>{if(u.preventDefault(),!a.companyName.trim()){G.error("Company name is required");return}try{s(!0),await P4.update(a),G.success("Company data updated successfully"),o()}catch(h){console.error("Error updating company data:",h);const f=h.response?.data?.message||h.response?.data?.error||"Failed to update company data";G.error(f)}finally{s(!1)}};return e?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading company data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Company Information"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your company details for the footer"})]}),n.jsx("div",{className:"flex items-center gap-2 text-primary",children:n.jsx(IL,{className:"w-8 h-8"})})]}),n.jsx(Nt,{children:n.jsx("div",{className:"p-6",children:n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Company Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Be,{type:"text",value:a.companyName,onChange:u=>i({...a,companyName:u.target.value}),placeholder:"Enter company name",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),n.jsx("textarea",{value:a.description,onChange:u=>i({...a,description:u.target.value}),placeholder:"Enter company description",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),n.jsx(Be,{type:"text",value:a.address,onChange:u=>i({...a,address:u.target.value}),placeholder:"Enter company address"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),n.jsx(Be,{type:"text",value:a.phone,onChange:u=>i({...a,phone:u.target.value}),placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),n.jsx(Be,{type:"email",value:a.email,onChange:u=>i({...a,email:u.target.value}),placeholder:"Enter email address"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Social Media Links"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook URL"}),n.jsx(Be,{type:"url",value:a.facebook,onChange:u=>i({...a,facebook:u.target.value}),placeholder:"https://facebook.com/yourpage"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Twitter URL"}),n.jsx(Be,{type:"url",value:a.twitter,onChange:u=>i({...a,twitter:u.target.value}),placeholder:"https://twitter.com/yourhandle"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Instagram URL"}),n.jsx(Be,{type:"url",value:a.instagram,onChange:u=>i({...a,instagram:u.target.value}),placeholder:"https://instagram.com/yourhandle"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LinkedIn URL"}),n.jsx(Be,{type:"url",value:a.linkedin,onChange:u=>i({...a,linkedin:u.target.value}),placeholder:"https://linkedin.com/company/yourcompany"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Copyright Text"}),n.jsx(Be,{type:"text",value:a.copyright,onChange:u=>i({...a,copyright:u.target.value}),placeholder:" 2024 Your Company. All rights reserved."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:a.isActive,onChange:u=>i({...a,isActive:u.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active (Show company data in footer)"})]}),n.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:n.jsxs(be,{type:"submit",disabled:r,children:[n.jsx(_L,{className:"w-4 h-4 mr-2"}),r?"Saving...":"Save Changes"]})})]})})})]})},p2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!1),[a,i]=p.useState(null),[o,c]=p.useState(!1),[u,h]=p.useState(!1),[f,m]=p.useState(""),[y,b]=p.useState("all"),[v,N]=p.useState({page:1,limit:20,total:0,pages:0}),[j,k]=p.useState(null),[I,S]=p.useState(!1);p.useEffect(()=>{O()},[y,v.page]);const O=async()=>{try{s(!0);const L={page:v.page,limit:v.limit};y!=="all"&&(L.status=y);const D=await Sl.getAll(L);D.data?.success&&(t(D.data.contacts||[]),N(M=>({...M,total:D.data.pagination?.total||0,pages:D.data.pagination?.pages||0})))}catch(L){console.error("Error fetching contacts:",L),G.error("Failed to load contact submissions")}finally{s(!1)}},P=async L=>{try{const D=await Sl.getById(L);D.data?.success&&(i(D.data.contact),c(!0),D.data.contact.status==="new"&&(await Sl.updateStatus(L,{status:"read"}),O()))}catch(D){console.error("Error fetching contact:",D),G.error("Failed to load contact details")}},R=async(L,D)=>{try{if(await Sl.updateStatus(L,{status:D}),G.success("Status updated successfully"),O(),o){const M=await Sl.getById(L);M.data?.success&&i(M.data.contact)}}catch(M){console.error("Error updating status:",M),G.error("Failed to update status")}},E=async()=>{if(!f.trim()){G.error("Please enter a reply message");return}try{if(await Sl.updateStatus(a._id,{status:"replied",replyMessage:f.trim()}),G.success("Reply sent successfully"),h(!1),m(""),O(),o){const L=await Sl.getById(a._id);L.data?.success&&i(L.data.contact)}}catch(L){console.error("Error sending reply:",L),G.error("Failed to send reply")}},C=async(L,D=!1)=>{if(!D){const M=e.find($=>$._id===L)||a;k({id:L,name:M?.name||M?.email});return}S(!0);try{await Sl.delete(L),G.success("Contact submission deleted successfully"),O(),o&&a?._id===L&&(c(!1),i(null))}catch(M){console.error("Error deleting contact:",M),G.error("Failed to delete contact submission")}finally{S(!1),k(null)}},F=L=>{const D={new:{label:"New",color:"blue",icon:Ia},read:{label:"Read",color:"yellow",icon:Gr},replied:{label:"Replied",color:"green",icon:Ca},resolved:{label:"Resolved",color:"gray",icon:Hl}},M=D[L]||D.new,$=M.icon;return n.jsxs(pt,{color:M.color,children:[n.jsx($,{className:"w-3 h-3 mr-1"}),M.label]})};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Contact Submissions"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage customer contact form submissions"})]})}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-4 flex gap-2 flex-wrap",children:[n.jsx(be,{variant:y==="all"?"primary":"secondary",onClick:()=>b("all"),size:"sm",children:"All"}),n.jsx(be,{variant:y==="new"?"primary":"secondary",onClick:()=>b("new"),size:"sm",children:"New"}),n.jsx(be,{variant:y==="read"?"primary":"secondary",onClick:()=>b("read"),size:"sm",children:"Read"}),n.jsx(be,{variant:y==="replied"?"primary":"secondary",onClick:()=>b("replied"),size:"sm",children:"Replied"}),n.jsx(be,{variant:y==="resolved"?"primary":"secondary",onClick:()=>b("resolved"),size:"sm",children:"Resolved"})]})}),n.jsx(Nt,{children:n.jsx(dn,{children:r?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Loading contacts..."})]}):e.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Zi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No contact submissions found"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"Name"}),n.jsx(Me,{children:"Email"}),n.jsx(Me,{children:"Phone"}),n.jsx(Me,{children:"Subject"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Date"}),n.jsx(Me,{className:"text-right",children:"Actions"})]})}),n.jsx(Dn,{children:e.map((L,D)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:D+1}),n.jsx(Se,{className:"font-medium",children:L.name}),n.jsx(Se,{children:n.jsx("a",{href:`mailto:${L.email}`,className:"text-purple-600 hover:underline",children:L.email})}),n.jsx(Se,{children:L.phone||"-"}),n.jsx(Se,{children:L.subject||"-"}),n.jsx(Se,{children:F(L.status)}),n.jsx(Se,{children:new Date(L.createdAt).toLocaleDateString()}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(be,{variant:"secondary",size:"sm",onClick:()=>P(L._id),children:n.jsx(Gr,{className:"w-4 h-4"})}),n.jsx(be,{variant:"danger",size:"sm",onClick:()=>C(L._id),children:n.jsx(Kr,{className:"w-4 h-4"})})]})})]},L._id))})]})}),v.pages>1&&n.jsxs("div",{className:"p-4 flex items-center justify-between border-t",children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(v.page-1)*v.limit+1," to ",Math.min(v.page*v.limit,v.total)," of ",v.total," contacts"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(be,{variant:"secondary",size:"sm",onClick:()=>N(L=>({...L,page:L.page-1})),disabled:v.page===1,children:"Previous"}),n.jsx(be,{variant:"secondary",size:"sm",onClick:()=>N(L=>({...L,page:L.page+1})),disabled:v.page>=v.pages,children:"Next"})]})]})]})})}),n.jsx(xt,{isOpen:!!j,onClose:()=>{I||k(null)},title:"Delete Contact Submission",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Delete ",j?.name||"this contact submission","? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>k(null),disabled:I,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:()=>C(j.id,!0),disabled:I,children:I?"Please wait...":"Delete"})]})]})}),n.jsx(xt,{isOpen:o,onClose:()=>{c(!1),i(null)},title:"Contact Submission Details",size:"lg",children:a&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),n.jsx("a",{href:`mailto:${a.email}`,className:"text-purple-600 hover:underline",children:a.email})]}),a.phone&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),n.jsx("a",{href:`tel:${a.phone}`,className:"text-gray-900 dark:text-gray-100",children:a.phone})]}),a.subject&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subject"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.subject})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Message"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:a.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),F(a.status)]}),a.replyMessage&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Reply"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 whitespace-pre-wrap bg-gray-50 dark:bg-gray-800 p-3 rounded",children:a.replyMessage}),a.repliedBy&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Replied by ",a.repliedBy.name," on ",new Date(a.repliedAt).toLocaleString()]})]}),n.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.status!=="replied"&&n.jsxs(be,{variant:"primary",onClick:()=>{m(""),h(!0)},children:[n.jsx(di,{className:"w-4 h-4 mr-2"}),"Reply"]}),n.jsx(be,{variant:"secondary",onClick:()=>R(a._id,"read"),disabled:a.status==="read",children:"Mark as Read"}),n.jsx(be,{variant:"secondary",onClick:()=>R(a._id,"resolved"),disabled:a.status==="resolved",children:"Mark as Resolved"})]})]})}),n.jsx(xt,{isOpen:u,onClose:()=>{h(!1),m("")},title:"Reply to Contact",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Reply Message"}),n.jsx("textarea",{value:f,onChange:L=>m(L.target.value),placeholder:"Enter your reply message...",rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-y"})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(be,{variant:"secondary",onClick:()=>{h(!1),m("")},children:"Cancel"}),n.jsx(be,{variant:"primary",onClick:E,children:"Send Reply"})]})]})})]})},g2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(""),[o,c]=p.useState(!1),[u,h]=p.useState(null),[f,m]=p.useState({title:"",description:"",image:"",link:"",isActive:!0,sortOrder:0,startDate:"",endDate:""}),[y,b]=p.useState(null),[v,N]=p.useState(null);p.useEffect(()=>{j()},[]);const j=async()=>{try{s(!0);const C=await cf.getAll({active:"all"});console.log("Banners API Response:",C.data);let F=[];C.data&&(C.data.banners&&Array.isArray(C.data.banners)?F=C.data.banners:Array.isArray(C.data)?F=C.data:C.data.data&&Array.isArray(C.data.data)&&(F=C.data.data)),console.log("Parsed banners:",F),t(F),F.length===0&&console.log('No banners found. You can create a new banner using the "Add Banner" button.')}catch(C){console.error("Error fetching banners:",C);const F=C.response?.data?.error||C.response?.data?.message||C.message||"Failed to load banners";G.error(F),t([])}finally{s(!1)}},k=(C=null)=>{if(C){h(C),m({title:C.title||"",description:C.description||"",image:C.image||"",link:C.link||"",isActive:C.isActive!==void 0?C.isActive:!0,sortOrder:C.sortOrder||0,startDate:C.startDate?new Date(C.startDate).toISOString().split("T")[0]:"",endDate:C.endDate?new Date(C.endDate).toISOString().split("T")[0]:""});const F=C.image?Pn(C.image):null;N(F),b(null)}else h(null),m({title:"",description:"",image:"",link:"",isActive:!0,sortOrder:0,startDate:"",endDate:""}),N(null),b(null);c(!0)},I=()=>{c(!1),h(null),m({title:"",description:"",image:"",link:"",isActive:!0,sortOrder:0,startDate:"",endDate:""}),b(null),N(null)},S=C=>{const F=C.target.files[0];if(F){b(F);const L=new FileReader;L.onloadend=()=>{N(L.result)},L.readAsDataURL(F),m({...f,image:""})}},O=async C=>{if(C.preventDefault(),!f.title.trim()){G.error("Banner title is required");return}if(!y&&!f.image&&!u){G.error("Banner image is required");return}try{const F=new FormData;F.append("title",f.title),F.append("description",f.description||""),F.append("link",f.link||""),F.append("isActive",f.isActive),F.append("sortOrder",f.sortOrder),f.startDate&&F.append("startDate",f.startDate),f.endDate&&F.append("endDate",f.endDate),y?F.append("image",y):f.image&&u&&F.append("image",f.image),u?(await cf.update(u._id,F),G.success("Banner updated successfully")):(await cf.create(F),G.success("Banner created successfully")),I(),j()}catch(F){const L=F.response?.data?.error||F.response?.data?.message||"Failed to save banner";G.error(L)}},P=async C=>{if(window.confirm("Are you sure you want to delete this banner? This action cannot be undone."))try{await cf.delete(C),G.success("Banner deleted successfully"),j()}catch(F){const L=F.response?.data?.error||F.response?.data?.message||"Failed to delete banner";G.error(L)}},R=async C=>{try{await cf.toggleActive(C._id),G.success(`Banner ${C.isActive?"deactivated":"activated"} successfully`),j()}catch{G.error("Failed to update banner status")}},E=e.filter(C=>C.title?.toLowerCase().includes(a.toLowerCase())||C.description?.toLowerCase().includes(a.toLowerCase()));return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Banners"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage promotional banners"})]}),n.jsxs(be,{onClick:()=>k(),children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Banner"]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx(Be,{type:"text",placeholder:"Search banners...",value:a,onChange:C=>i(C.target.value),className:"pl-10"})]}),n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{children:"Image"}),n.jsx(Me,{children:"Title"}),n.jsx(Me,{children:"Description"}),n.jsx(Me,{children:"Link"}),n.jsx(Me,{children:"Sort Order"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:E.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:7,className:"text-center py-12",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:n.jsx(Of,{className:"w-8 h-8 text-gray-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-1",children:a?"No banners match your search":"No banners yet"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:a?"Try adjusting your search terms":"Create your first banner to promote your services"}),!a&&n.jsxs(be,{onClick:()=>k(),size:"sm",children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Your First Banner"]})]})]})})}):E.map(C=>n.jsxs(ft,{children:[n.jsx(Se,{children:C.image?n.jsx("img",{src:Pn(C.image),alt:C.title,className:"w-20 h-12 object-cover rounded",onError:F=>{F.target.style.display="none"}}):n.jsx("span",{className:"text-gray-400",children:"N/A"})}),n.jsx(Se,{className:"font-medium",children:C.title}),n.jsx(Se,{className:"max-w-xs truncate",children:C.description||"N/A"}),n.jsx(Se,{children:C.link?n.jsx("a",{href:C.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline truncate max-w-xs block",children:C.link}):n.jsx("span",{className:"text-gray-400",children:"N/A"})}),n.jsx(Se,{children:C.sortOrder||0}),n.jsx(Se,{children:n.jsx(pt,{variant:C.isActive?"success":"danger",className:"cursor-pointer",onClick:()=>R(C),children:C.isActive?"Active":"Inactive"})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>k(C),children:n.jsx(ss,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>P(C._id),children:n.jsx(Kr,{className:"w-4 h-4 text-red-500"})})]})})]},C._id))})]})]})}),n.jsx(xt,{isOpen:o,onClose:I,title:u?"Edit Banner":"Add New Banner",size:"md",children:n.jsxs("form",{onSubmit:O,className:"space-y-4",children:[n.jsx(Be,{label:"Banner Title *",value:f.title,onChange:C=>m({...f,title:C.target.value}),placeholder:"e.g., Summer Sale, New Venue Launch",required:!0}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Description"}),n.jsx("textarea",{value:f.description,onChange:C=>m({...f,description:C.target.value}),placeholder:"Banner description...",rows:3,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Banner Image *"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("input",{type:"file",accept:"image/*",onChange:S,className:`block w-full text-sm text-gray-500
                    file:mr-4 file:py-2.5 file:px-4
                    file:rounded-lg file:border-0
                    file:text-sm file:font-semibold
                    file:bg-gradient-to-r file:from-purple-600 file:to-orange-600 file:text-white
                    hover:file:from-purple-700 hover:file:to-orange-700
                    cursor-pointer transition-colors`}),n.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Upload an image file (JPG, PNG, GIF, WEBP - Max 5MB)"})]}),v&&n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"relative w-full max-w-xs mx-auto",children:[n.jsx("img",{src:Pn(v),alt:"Banner Preview",className:"w-full h-40 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-700 shadow-sm",onError:C=>{C.target.style.display="none"}}),y&&n.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded",children:"New"})]}),y&&n.jsx("p",{className:"mt-2 text-xs text-center text-gray-500 dark:text-gray-400",children:"New image will replace the current one"})]})]})]}),n.jsx(Be,{label:"Link (Optional)",value:f.link,onChange:C=>m({...f,link:C.target.value}),placeholder:"https://example.com",type:"url"}),n.jsx(Be,{label:"Sort Order",value:f.sortOrder,onChange:C=>m({...f,sortOrder:parseInt(C.target.value)||0}),type:"number",min:"0"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Be,{label:"Start Date (Optional)",value:f.startDate,onChange:C=>m({...f,startDate:C.target.value}),type:"date"}),n.jsx(Be,{label:"End Date (Optional)",value:f.endDate,onChange:C=>m({...f,endDate:C.target.value}),type:"date"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:f.isActive,onChange:C=>m({...f,isActive:C.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(be,{type:"submit",className:"flex-1",children:u?"Update Banner":"Create Banner"}),n.jsx(be,{type:"button",variant:"ghost",onClick:I,className:"flex-1",children:"Cancel"})]})]})})]})},y2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState([]),[a,i]=p.useState(!0),[o,c]=p.useState(""),[u,h]=p.useState("all"),[f,m]=p.useState("all"),[y,b]=p.useState(null),[v,N]=p.useState(!1),[j,k]=p.useState(!1),[I,S]=p.useState(!1),[O,P]=p.useState(!1),[R,E]=p.useState(null),[C,F]=p.useState(!1),[L,D]=p.useState(1),M=10,[$,ee]=p.useState({name:"",email:"",phone:"",password:"",location:"",gender:"",role:"",isActive:!0}),[q,V]=p.useState(null),[re,U]=p.useState(null);p.useEffect(()=>{te(),ie()},[u,f]);const te=async()=>{try{const se={};u!=="all"&&(se.role=u),f!=="all"&&(se.isActive=f==="true");const Q=await ad.getAll(se);t(Q.data?.staff||[])}catch{G.error("Failed to load staff")}finally{i(!1)}},ie=async()=>{try{const se=await Il.getAll({isActive:"true"});s(se.data?.roles||[])}catch(se){console.error("Failed to load roles:",se)}},H=async se=>{P(!0),N(!0);try{const Q=await ad.getById(se);b(Q.data?.staff)}catch(Q){G.error(Q.response?.data?.error||"Failed to load staff details"),N(!1)}finally{P(!1)}},z=async se=>{P(!0),S(!0);try{const ve=(await ad.getById(se)).data?.staff;ee({name:ve.name||"",email:ve.email||"",phone:ve.phone||"",password:"",location:ve.location||"",gender:ve.gender||"",role:ve.role?._id||ve.role||"",isActive:ve.isActive!==void 0?ve.isActive:!0}),U(ve.img?Pn(ve.img):null),b(ve)}catch(Q){G.error(Q.response?.data?.error||"Failed to load staff details"),S(!1)}finally{P(!1)}},ge=async(se,Q=!1)=>{if(!Q){const ve=e.find(ue=>ue._id===se)||y;E({id:se,name:ve?.name,type:"delete"});return}F(!0);try{await ad.delete(se),G.success("Staff deleted successfully"),te(),y&&y._id===se&&(N(!1),b(null))}catch(ve){G.error(ve.response?.data?.error||"Failed to delete staff")}finally{F(!1),E(null)}},le=async()=>{if(!$.name||!$.email||!$.phone||!$.password||!$.role){G.error("Please fill all required fields");return}if($.phone.length<10||$.phone.length>15){G.error("Phone number must be between 10 and 15 digits");return}F(!0);try{const se=new FormData;se.append("name",$.name),se.append("email",$.email),se.append("phone",$.phone),se.append("password",$.password),se.append("role",$.role),$.location&&se.append("location",$.location),$.gender&&se.append("gender",$.gender),q&&se.append("img",q),await ad.create(se),G.success("Staff created successfully"),k(!1),Ae(),te()}catch(se){G.error(se.response?.data?.error||"Failed to create staff")}finally{F(!1)}},Pe=async()=>{if(!$.name||!$.email||!$.phone||!$.role){G.error("Please fill all required fields");return}if($.phone.length<10||$.phone.length>15){G.error("Phone number must be between 10 and 15 digits");return}F(!0);try{const se=new FormData;se.append("name",$.name),se.append("email",$.email),se.append("phone",$.phone),se.append("role",$.role),$.location&&se.append("location",$.location),$.gender&&se.append("gender",$.gender),$.password&&se.append("password",$.password),$.isActive!==void 0&&se.append("isActive",$.isActive),q&&se.append("img",q),await ad.update(y._id,se),G.success("Staff updated successfully"),S(!1),Ae(),te()}catch(se){G.error(se.response?.data?.error||"Failed to update staff")}finally{F(!1)}},Ae=()=>{ee({name:"",email:"",phone:"",password:"",location:"",gender:"",role:"",isActive:!0}),V(null),U(null),b(null)},fe=se=>{const Q=se.target.files[0];if(Q){V(Q);const ve=new FileReader;ve.onloadend=()=>{U(ve.result)},ve.readAsDataURL(Q)}},ce=e.filter(se=>se.name?.toLowerCase().includes(o.toLowerCase())||se.email?.toLowerCase().includes(o.toLowerCase())||se.phone?.includes(o)),J=ce.length,Y=Math.ceil(J/M),de=(L-1)*M,X=de+M,pe=ce.slice(de,X);return p.useEffect(()=>{D(1)},[o,u,f]),a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Staff"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all staff members"})]}),Gt("create_staff")&&n.jsxs(be,{onClick:()=>k(!0),children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Staff"]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx(Be,{type:"text",placeholder:"Search staff...",value:o,onChange:se=>c(se.target.value),className:"pl-10"})]})}),n.jsxs("select",{value:u,onChange:se=>h(se.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"all",children:"All Roles"}),r.map(se=>n.jsx("option",{value:se._id,children:se.name},se._id))]}),n.jsxs("select",{value:f,onChange:se=>m(se.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"true",children:"Active"}),n.jsx("option",{value:"false",children:"Inactive"})]})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Staff: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:J})]}),n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"Name"}),n.jsx(Me,{children:"Email"}),n.jsx(Me,{children:"Phone"}),n.jsx(Me,{children:"Role"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:pe.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No staff found"})}):pe.map((se,Q)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:de+Q+1}),n.jsx(Se,{className:"font-medium",children:se.name}),n.jsx(Se,{className:"whitespace-normal break-words max-w-[12rem] text-sm",children:se.email}),n.jsx(Se,{children:se.phone||"N/A"}),n.jsx(Se,{children:n.jsx(pt,{variant:"info",children:se.role?.name||"N/A"})}),n.jsx(Se,{children:n.jsx(pt,{variant:se.isActive?"success":"warning",children:se.isActive?"Active":"Inactive"})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[Gt("view_staff")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>H(se._id),title:"View Details",children:n.jsx(Gr,{className:"w-4 h-4"})}),Gt("edit_staff")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>z(se._id),title:"Edit Staff",children:n.jsx(ss,{className:"w-4 h-4"})}),Gt("delete_staff")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>ge(se._id),title:"Delete Staff",children:n.jsx(Kr,{className:"w-4 h-4 text-red-500"})})]})})]},se._id))})]}),J>10&&n.jsx(On,{currentPage:L,totalPages:Y,totalItems:J,itemsPerPage:M,onPageChange:D})]})}),n.jsx(xt,{isOpen:j,onClose:()=>{C||(k(!1),Ae())},title:"Add New Staff",size:"lg",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),n.jsx(Be,{value:$.name,onChange:se=>ee({...$,name:se.target.value}),placeholder:"Enter name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),n.jsx(Be,{type:"email",value:$.email,onChange:se=>ee({...$,email:se.target.value}),placeholder:"Enter email",autoComplete:"off"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),n.jsx(Be,{type:"tel",value:$.phone,onChange:se=>{const Q=se.target.value.replace(/\D/g,"");Q.length<=15&&ee({...$,phone:Q})},placeholder:"Enter phone (10-15 digits)",minLength:10,maxLength:15,autoComplete:"off"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password *"}),n.jsx(Be,{type:"password",value:$.password,onChange:se=>ee({...$,password:se.target.value}),placeholder:"Enter password"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role *"}),n.jsxs("select",{value:$.role,onChange:se=>ee({...$,role:se.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"",children:"Select role"}),r.map(se=>n.jsx("option",{value:se._id,children:se.name},se._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),n.jsxs("select",{value:$.gender,onChange:se=>ee({...$,gender:se.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"",children:"Select gender"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),n.jsx(Be,{value:$.location,onChange:se=>ee({...$,location:se.target.value}),placeholder:"Enter location"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsxs("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2",children:[n.jsx(Fy,{className:"w-4 h-4"}),n.jsx("span",{children:"Upload Image"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:fe,className:"hidden"})]}),re&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:re,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),n.jsx("button",{onClick:()=>{U(null),V(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:n.jsx(er,{className:"w-3 h-3"})})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(be,{variant:"outline",onClick:()=>{k(!1),Ae()},disabled:C,children:"Cancel"}),n.jsx(be,{onClick:le,disabled:C,children:C?"Creating...":"Create Staff"})]})]})}),n.jsx(xt,{isOpen:I,onClose:()=>{C||(S(!1),Ae())},title:"Edit Staff",size:"lg",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),n.jsx(Be,{value:$.name,onChange:se=>ee({...$,name:se.target.value}),placeholder:"Enter name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),n.jsx(Be,{type:"email",value:$.email,onChange:se=>ee({...$,email:se.target.value}),placeholder:"Enter email",autoComplete:"off"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),n.jsx(Be,{type:"tel",value:$.phone,onChange:se=>{const Q=se.target.value.replace(/\D/g,"");Q.length<=15&&ee({...$,phone:Q})},placeholder:"Enter phone (10-15 digits)",minLength:10,maxLength:15,autoComplete:"off"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password (leave blank to keep current)"}),n.jsx(Be,{type:"password",value:$.password,onChange:se=>ee({...$,password:se.target.value}),placeholder:"Enter new password"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role *"}),n.jsxs("select",{value:$.role,onChange:se=>ee({...$,role:se.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"",children:"Select role"}),r.map(se=>n.jsx("option",{value:se._id,children:se.name},se._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),n.jsxs("select",{value:$.gender,onChange:se=>ee({...$,gender:se.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"",children:"Select gender"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),n.jsx(Be,{value:$.location,onChange:se=>ee({...$,location:se.target.value}),placeholder:"Enter location"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),n.jsxs("select",{value:$.isActive,onChange:se=>ee({...$,isActive:se.target.value==="true"}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:!0,children:"Active"}),n.jsx("option",{value:!1,children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsxs("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2",children:[n.jsx(Fy,{className:"w-4 h-4"}),n.jsx("span",{children:"Upload Image"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:fe,className:"hidden"})]}),re&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:re,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),n.jsx("button",{onClick:()=>{U(null),V(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:n.jsx(er,{className:"w-3 h-3"})})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(be,{variant:"outline",onClick:()=>{S(!1),Ae()},disabled:C,children:"Cancel"}),n.jsx(be,{onClick:Pe,disabled:C,children:C?"Updating...":"Update Staff"})]})]})}),n.jsx(xt,{isOpen:!!R,onClose:()=>{C||E(null)},title:"Delete Staff",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Are you sure you want to delete ",R?.name||"this staff member","? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>E(null),disabled:C,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:()=>ge(R.id,!0),disabled:C,children:C?"Please wait...":"Delete"})]})]})}),n.jsx(xt,{isOpen:v,onClose:()=>{N(!1),b(null)},title:"Staff Details",size:"lg",children:O?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):y?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:n.jsx(sa,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:y.name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:n.jsx(di,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:y.email||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:n.jsx(tc,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Phone"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:y.phone||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:n.jsx(na,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Role"}),n.jsx("div",{className:"mt-1",children:n.jsx(pt,{variant:"info",children:y.role?.name||"N/A"})})]})]}),y.location&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:n.jsx(gs,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Location"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:y.location})]})]}),y.gender&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-pink-100 dark:bg-pink-900/30 rounded-lg",children:n.jsx(sa,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gender"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 capitalize",children:y.gender})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/30 rounded-lg",children:n.jsx(na,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(pt,{variant:y.isActive?"success":"warning",children:y.isActive?"Active":"Inactive"})})]})]})]}),y.img&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Image"}),n.jsx("img",{src:Pn(y.img),alt:y.name,className:"w-32 h-32 rounded-lg object-cover"})]})]}):null})]})},x2e=()=>{const e=lr(),[t]=OR(),[r,s]=p.useState([]),[a,i]=p.useState([]),[o,c]=p.useState({}),[u,h]=p.useState(!0),[f,m]=p.useState(""),[y,b]=p.useState("all"),[v,N]=p.useState(null),[j,k]=p.useState(!1),[I,S]=p.useState(!1),[O,P]=p.useState(null),[R,E]=p.useState(!1),[C,F]=p.useState(1),L=10,[D,M]=p.useState({name:"",description:"",permissions:[],isActive:!0}),$=t.get("mode")==="create"||t.get("mode")==="edit",ee=t.get("mode")==="create",q=t.get("mode")==="edit",V=t.get("id");p.useEffect(()=>{re(),U()},[y]),p.useEffect(()=>{q&&V?te():ee&&Pe()},[q,ee,V]);const re=async()=>{try{const Q={};y!=="all"&&(Q.isActive=y==="true");const ve=await Il.getAll(Q);s(ve.data?.roles||[])}catch{G.error("Failed to load roles")}finally{h(!1)}},U=async()=>{try{const Q=await Il.getAvailablePermissions();i(Q.data?.allPermissions||[]),c(Q.data?.permissionsByCategory||{})}catch(Q){console.error("Failed to load available permissions:",Q),i(["view_dashboard","view_users","create_users","edit_users","delete_users","view_vendors","create_vendors","edit_vendors","delete_vendors","view_venues","create_venues","edit_venues","delete_venues","view_bookings","edit_bookings","view_leads","edit_leads","view_payouts","view_analytics","view_settings","edit_settings","view_banners","create_banners","edit_banners","delete_banners","view_videos","create_videos","edit_videos","delete_videos","view_testimonials","create_testimonials","edit_testimonials","delete_testimonials","view_faqs","create_faqs","edit_faqs","delete_faqs","view_company","edit_company","view_contacts","edit_contacts","delete_contacts","view_roles","create_roles","edit_roles","delete_roles","view_staff","create_staff","edit_staff","delete_staff"])}},te=async()=>{S(!0);try{const ve=(await Il.getById(V)).data?.role;M({name:ve.name||"",description:ve.description||"",permissions:ve.permissions||[],isActive:ve.isActive!==void 0?ve.isActive:!0}),N(ve)}catch(Q){G.error(Q.response?.data?.error||"Failed to load role details"),e("/admin/roles")}finally{S(!1)}},ie=async Q=>{S(!0),k(!0);try{const ve=await Il.getById(Q);N(ve.data?.role)}catch(ve){G.error(ve.response?.data?.error||"Failed to load role details"),k(!1)}finally{S(!1)}},H=Q=>{e(`/admin/roles?mode=edit&id=${Q}`)},z=async(Q,ve=!1)=>{if(!ve){const ue=r.find(xe=>xe._id===Q)||v;P({id:Q,name:ue?.name,type:"delete"});return}E(!0);try{await Il.delete(Q),G.success("Role deleted successfully"),re(),v&&v._id===Q&&(k(!1),N(null))}catch(ue){G.error(ue.response?.data?.error||"Failed to delete role")}finally{E(!1),P(null)}},ge=async()=>{if(!D.name||D.permissions.length===0){G.error("Please fill name and select at least one permission");return}E(!0);try{await Il.create(D),G.success("Role created successfully"),e("/admin/roles"),Pe(),re()}catch(Q){G.error(Q.response?.data?.error||"Failed to create role")}finally{E(!1)}},le=async()=>{if(!D.name||D.permissions.length===0){G.error("Please fill name and select at least one permission");return}E(!0);try{await Il.update(v._id,D),G.success("Role updated successfully"),e("/admin/roles"),Pe(),re()}catch(Q){G.error(Q.response?.data?.error||"Failed to update role")}finally{E(!1)}},Pe=()=>{M({name:"",description:"",permissions:[],isActive:!0}),N(null)},Ae=Q=>{D.permissions.includes(Q)?M({...D,permissions:D.permissions.filter(ve=>ve!==Q)}):M({...D,permissions:[...D.permissions,Q]})},fe=Q=>{const ve=o[Q]||[];if(ve.every(xe=>D.permissions.includes(xe)))M({...D,permissions:D.permissions.filter(xe=>!ve.includes(xe))});else{const xe=[...D.permissions];ve.forEach(Le=>{xe.includes(Le)||xe.push(Le)}),M({...D,permissions:xe})}},ce=r.filter(Q=>Q.name?.toLowerCase().includes(f.toLowerCase())||Q.description?.toLowerCase().includes(f.toLowerCase())),J=ce.length,Y=Math.ceil(J/L),de=(C-1)*L,X=de+L,pe=ce.slice(de,X);p.useEffect(()=>{F(1)},[f,y]);const se=Q=>({dashboard:"Dashboard",users:"Users Management",vendors:"Vendors Management",venues:"Venues Management",bookings:"Bookings Management",leads:"Leads Management",payouts:"Payouts Management",analytics:"Analytics",settings:"Settings",banners:"Banners Management",videos:"Videos Management",testimonials:"Testimonials Management",faqs:"FAQs Management",company:"Company Management",legal_pages:"Legal Pages Management",contacts:"Contact Submissions",roles:"Roles Management",staff:"Staff Management"})[Q]||Q;return $?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(be,{variant:"ghost",onClick:()=>e("/admin/roles"),className:"flex items-center gap-2",children:[n.jsx(CL,{className:"w-4 h-4"}),"Back to Roles"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:ee?"Create New Role":"Edit Role"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:ee?"Add a new role with permissions":"Update role details and permissions"})]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Role Name *"}),n.jsx(Be,{value:D.name,onChange:Q=>M({...D,name:Q.target.value}),placeholder:"Enter role name (e.g., Manager, Support Staff)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),n.jsx("textarea",{value:D.description,onChange:Q=>M({...D,description:Q.target.value}),placeholder:"Enter role description",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",rows:"3"})]}),q&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),n.jsxs("select",{value:D.isActive,onChange:Q=>M({...D,isActive:Q.target.value==="true"}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:!0,children:"Active"}),n.jsx("option",{value:!1,children:"Inactive"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Permissions * (",D.permissions.length," selected)"]}),n.jsx(be,{variant:"outline",size:"sm",onClick:()=>{D.permissions.length===a.length?M({...D,permissions:[]}):M({...D,permissions:[...a]})},children:D.permissions.length===a.length?"Deselect All":"Select All"})]}),n.jsx("div",{className:"space-y-4",children:Object.keys(o).length>0?Object.keys(o).map(Q=>{const ve=o[Q]||[],ue=ve.filter(Le=>D.permissions.includes(Le)).length,xe=ve.length>0&&ue===ve.length;return n.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:se(Q)}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>fe(Q),children:xe?"Deselect All":"Select All"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:ve.map(Le=>{const it=D.permissions.includes(Le);return n.jsxs("button",{type:"button",onClick:()=>Ae(Le),className:`flex items-center gap-2 p-2 rounded-lg border transition-all ${it?"bg-primary/10 border-primary text-primary":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-primary/50"}`,children:[n.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${it?"bg-primary border-primary":"border-gray-300 dark:border-gray-600"}`,children:it&&n.jsx(Wl,{className:"w-3 h-3 text-white"})}),n.jsx("span",{className:"text-sm font-medium",children:Le})]},Le)})})]},Q)}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:a.map(Q=>{const ve=D.permissions.includes(Q);return n.jsxs("button",{type:"button",onClick:()=>Ae(Q),className:`flex items-center gap-2 p-2 rounded-lg border transition-all ${ve?"bg-primary/10 border-primary text-primary":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-primary/50"}`,children:[n.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${ve?"bg-primary border-primary":"border-gray-300 dark:border-gray-600"}`,children:ve&&n.jsx(Wl,{className:"w-3 h-3 text-white"})}),n.jsx("span",{className:"text-sm font-medium",children:Q})]},Q)})})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(be,{variant:"outline",onClick:()=>e("/admin/roles"),disabled:R,children:"Cancel"}),n.jsx(be,{onClick:ee?ge:le,disabled:R,children:R?ee?"Creating...":"Updating...":ee?"Create Role":"Update Role"})]})]})})]}):u?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Roles"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage user roles and permissions"})]}),n.jsxs(be,{onClick:()=>e("/admin/roles?mode=create"),children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Role"]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx(Be,{type:"text",placeholder:"Search roles...",value:f,onChange:Q=>m(Q.target.value),className:"pl-10"})]})}),n.jsxs("select",{value:y,onChange:Q=>b(Q.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"true",children:"Active"}),n.jsx("option",{value:"false",children:"Inactive"})]})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Roles: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:J})]}),n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"Name"}),n.jsx(Me,{children:"Description"}),n.jsx(Me,{children:"Permissions"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:pe.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No roles found"})}):pe.map((Q,ve)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:de+ve+1}),n.jsx(Se,{className:"font-medium",children:Q.name}),n.jsx(Se,{className:"max-w-xs truncate",children:Q.description||"N/A"}),n.jsx(Se,{children:n.jsxs(pt,{variant:"info",children:[Q.permissions?.length||0," permissions"]})}),n.jsx(Se,{children:n.jsx(pt,{variant:Q.isActive?"success":"warning",children:Q.isActive?"Active":"Inactive"})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>ie(Q._id),title:"View Details",children:n.jsx(Gr,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>H(Q._id),title:"Edit Role",children:n.jsx(ss,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>z(Q._id),title:"Delete Role",children:n.jsx(Kr,{className:"w-4 h-4 text-red-500"})})]})})]},Q._id))})]}),J>10&&n.jsx(On,{currentPage:C,totalPages:Y,totalItems:J,itemsPerPage:L,onPageChange:F})]})}),n.jsx(xt,{isOpen:!!O,onClose:()=>{R||P(null)},title:"Delete Role",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Are you sure you want to delete ",O?.name||"this role","? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>P(null),disabled:R,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:()=>z(O.id,!0),disabled:R,children:R?"Please wait...":"Delete"})]})]})}),n.jsx(xt,{isOpen:j,onClose:()=>{k(!1),N(null)},title:"Role Details",size:"lg",children:I?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):v?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:n.jsx(na,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:v.name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/30 rounded-lg",children:n.jsx(na,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(pt,{variant:v.isActive?"success":"warning",children:v.isActive?"Active":"Inactive"})})]})]})]}),v.description&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Description"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:v.description})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:["Permissions (",v.permissions?.length||0,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:v.permissions?.map(Q=>n.jsx(pt,{variant:"info",children:Q},Q))})]})]}):null})]})},v2e=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(""),[o,c]=p.useState("all"),[u,h]=p.useState(null),[f,m]=p.useState(!1),[y,b]=p.useState(!1),[v,N]=p.useState(!1),[j,k]=p.useState(null),[I,S]=p.useState(!1),[O,P]=p.useState(1),R=10,[E,C]=p.useState({rating:"",comment:""});p.useEffect(()=>{F()},[o]);const F=async()=>{try{const z={};o!=="all"&&(z.rating=o);const ge=await ff.getAll(z);t(ge.data?.reviews||[])}catch{G.error("Failed to load reviews")}finally{s(!1)}},L=async z=>{N(!0),m(!0);try{const ge=await ff.getById(z);h(ge.data?.review)}catch(ge){G.error(ge.response?.data?.error||"Failed to load review details"),m(!1)}finally{N(!1)}},D=async z=>{N(!0),b(!0);try{const le=(await ff.getById(z)).data?.review;C({rating:le.rating||"",comment:le.comment||""}),h(le)}catch(ge){G.error(ge.response?.data?.error||"Failed to load review details"),b(!1)}finally{N(!1)}},M=async(z,ge=!1)=>{if(!ge){const le=e.find(Pe=>Pe._id===z)||u;k({id:z,name:le?.comment?.substring(0,30)||"this review",type:"delete"});return}S(!0);try{await ff.delete(z),G.success("Review deleted successfully"),F(),u&&u._id===z&&(m(!1),h(null))}catch(le){G.error(le.response?.data?.error||"Failed to delete review")}finally{S(!1),k(null)}},$=async()=>{if(!E.rating||!E.comment){G.error("Please fill all fields");return}S(!0);try{await ff.update(u._id,E),G.success("Review updated successfully"),b(!1),ee(),F()}catch(z){G.error(z.response?.data?.error||"Failed to update review")}finally{S(!1)}},ee=()=>{C({rating:"",comment:""}),h(null)},q=z=>Array.from({length:5},(ge,le)=>n.jsx(Ri,{className:`w-4 h-4 ${le<z?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`},le)),V=e.filter(z=>z.comment?.toLowerCase().includes(a.toLowerCase())||z.userId?.name?.toLowerCase().includes(a.toLowerCase())||z.venueId?.name?.toLowerCase().includes(a.toLowerCase())),re=V.length,U=Math.ceil(re/R),te=(O-1)*R,ie=te+R,H=V.slice(te,ie);return p.useEffect(()=>{P(1)},[a,o]),r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Reviews"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all venue reviews"})]})}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx(Be,{type:"text",placeholder:"Search reviews...",value:a,onChange:z=>i(z.target.value),className:"pl-10"})]})}),n.jsxs("select",{value:o,onChange:z=>c(z.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"all",children:"All Ratings"}),n.jsx("option",{value:"5",children:"5 Stars"}),n.jsx("option",{value:"4",children:"4 Stars"}),n.jsx("option",{value:"3",children:"3 Stars"}),n.jsx("option",{value:"2",children:"2 Stars"}),n.jsx("option",{value:"1",children:"1 Star"})]})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Reviews: ",n.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:re})]}),n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"User"}),n.jsx(Me,{children:"Venue"}),n.jsx(Me,{children:"Rating"}),n.jsx(Me,{children:"Comment"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:H.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No reviews found"})}):H.map((z,ge)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:te+ge+1}),n.jsx(Se,{className:"font-medium",children:z.userId?.name||"Unknown User"}),n.jsx(Se,{children:z.venueId?.name||"Unknown Venue"}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[q(z.rating),n.jsxs("span",{className:"ml-1 text-sm text-gray-600 dark:text-gray-400",children:["(",z.rating,")"]})]})}),n.jsx(Se,{className:"max-w-xs truncate",children:z.comment||"N/A"}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[Gt("view_reviews")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>L(z._id),title:"View Details",children:n.jsx(Gr,{className:"w-4 h-4"})}),Gt("edit_reviews")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>D(z._id),title:"Edit Review",children:n.jsx(ss,{className:"w-4 h-4"})}),Gt("delete_reviews")&&n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>M(z._id),title:"Delete Review",children:n.jsx(Kr,{className:"w-4 h-4 text-red-500"})})]})})]},z._id))})]}),re>10&&n.jsx(On,{currentPage:O,totalPages:U,totalItems:re,itemsPerPage:R,onPageChange:P})]})}),Gt("edit_reviews")&&n.jsx(xt,{isOpen:y,onClose:()=>{I||(b(!1),ee())},title:"Edit Review",size:"lg",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rating *"}),n.jsxs("select",{value:E.rating,onChange:z=>C({...E,rating:z.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"",children:"Select rating"}),n.jsx("option",{value:"5",children:"5 Stars"}),n.jsx("option",{value:"4",children:"4 Stars"}),n.jsx("option",{value:"3",children:"3 Stars"}),n.jsx("option",{value:"2",children:"2 Stars"}),n.jsx("option",{value:"1",children:"1 Star"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Comment *"}),n.jsx("textarea",{value:E.comment,onChange:z=>C({...E,comment:z.target.value}),placeholder:"Enter review comment",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",rows:"4"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(be,{variant:"outline",onClick:()=>{b(!1),ee()},disabled:I,children:"Cancel"}),n.jsx(be,{onClick:$,disabled:I,children:I?"Updating...":"Update Review"})]})]})}),n.jsx(xt,{isOpen:!!j,onClose:()=>{I||k(null)},title:"Delete Review",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Are you sure you want to delete ",j?.name||"this review","? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>k(null),disabled:I,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:()=>M(j.id,!0),disabled:I,children:I?"Please wait...":"Delete"})]})]})}),n.jsx(xt,{isOpen:f,onClose:()=>{m(!1),h(null)},title:"Review Details",size:"lg",children:v?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):u?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:n.jsx(sa,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"User"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.userId?.name||"Unknown User"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:u.userId?.email||""})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:n.jsx(gs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Venue"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.venueId?.name||"Unknown Venue"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:n.jsx(Ri,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Rating"}),n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[q(u.rating),n.jsxs("span",{className:"ml-1 text-sm font-semibold text-gray-900 dark:text-gray-100",children:[u.rating,"/5"]})]})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:n.jsx(Zi,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.createdAt?new Date(u.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Comment"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:u.comment||"N/A"})]}),u.reply&&n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Reply"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:u.reply.comment}),u.reply.repliedBy&&n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["By: ",u.reply.repliedBy.name||"Unknown"]})]})]}):null})]})},b2e="https://shubhvenue.com/api",ut=$r.create({baseURL:b2e,headers:{"Content-Type":"application/json"}});ut.interceptors.request.use(e=>{const t=localStorage.getItem("vendor_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.data instanceof FormData&&delete e.headers["Content-Type"],e},e=>Promise.reject(e));ut.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("vendor_token"),localStorage.removeItem("vendor_user"),window.location.href="/vendor/login"),Promise.reject(e)));const zf={login:(e,t)=>ut.post("/auth/login",{email:e,password:t}),register:e=>ut.post("/auth/register",{...e,role:"vendor"}),googleLogin:(e,t)=>ut.post("/auth/google-login",{idToken:e,role:"vendor",fcmToken:t}),getProfile:()=>ut.get("/auth/profile"),updateProfile:e=>ut.put("/auth/profile",e),changePassword:e=>ut.put("/auth/change-password",e)},mr={getDashboard:(e,t)=>{const r={};return e&&(r.month=e),t&&(r.year=t),ut.get("/vendor/dashboard",{params:r})},getBookings:e=>ut.get("/vendor/bookings",{params:e}),createBooking:e=>ut.post("/vendor/bookings",e),getPayouts:()=>ut.get("/vendor/payouts"),getLedger:()=>ut.get("/vendor/ledger"),addLedgerEntry:e=>ut.post("/vendor/ledger",e),updateLedgerEntry:(e,t)=>ut.put(`/vendor/ledger/${e}`,t),deleteLedgerEntry:e=>ut.delete(`/vendor/ledger/${e}`),getVenues:e=>ut.get("/vendor/venues",{params:e}),getVenueById:e=>ut.get(`/vendor/venues/${e}`),getStates:()=>ut.get("/vendor/venues/states"),getCities:e=>ut.get("/vendor/venues/cities",{params:{state:e}}),createVenue:e=>ut.post("/vendor/venues",e),updateVenue:(e,t)=>ut.put(`/vendor/venues/${e}`,t),toggleVenueStatus:e=>ut.patch(`/vendor/venues/${e}/toggle-status`),deleteVenue:e=>ut.delete(`/vendor/venues/${e}`),updateBookingStatus:(e,t)=>ut.put(`/bookings/${e}/status`,{status:t}),getBlockedDates:e=>ut.get("/vendor/blocked-dates",{params:e?{venueId:e}:{}}),addBlockedDates:(e,t)=>ut.post("/vendor/blocked-dates",{venueId:e,dates:t}),removeBlockedDates:(e,t)=>ut.delete("/vendor/blocked-dates",{data:{venueId:e,dates:t}})},w2e={getCategories:()=>ut.get("/categories")},j2e={getPublic:()=>ut.get("/admin/vendor-categories/public")},sR={getMenus:e=>ut.get("/menus",{params:e}),getMenuById:e=>ut.get(`/menus/${e}`)},Fc={createReview:e=>ut.post("/reviews",e),getReviewsByVenue:e=>ut.get(`/reviews/venue/${e}`),getReviewsByUser:e=>ut.get(`/reviews/user/${e}`),getReviewsByVendor:e=>ut.get("/reviews/vendor/all",{params:e}),getReviews:e=>ut.get("/reviews",{params:e}),getReviewById:e=>ut.get(`/reviews/${e}`),updateReview:(e,t)=>ut.put(`/reviews/${e}`,t),deleteReview:e=>ut.delete(`/reviews/${e}`),addReplyToReview:(e,t)=>ut.post(`/reviews/${e}/reply`,{message:t}),updateReplyToReview:(e,t)=>ut.put(`/reviews/${e}/reply`,{message:t}),deleteReplyFromReview:e=>ut.delete(`/reviews/${e}/reply`)},Pl={getAll:e=>ut.get("/vendor/roles",{params:e}),getById:e=>ut.get(`/vendor/roles/${e}`),create:e=>ut.post("/vendor/roles",e),update:(e,t)=>ut.put(`/vendor/roles/${e}`,t),delete:e=>ut.delete(`/vendor/roles/${e}`),getAvailablePermissions:()=>ut.get("/vendor/roles/permissions/available")},cd={login:e=>ut.post("/vendor/staff/login",e),getProfile:()=>ut.get("/vendor/staff/profile"),getAll:e=>ut.get("/vendor/staff",{params:e}),getById:e=>ut.get(`/vendor/staff/${e}`),create:e=>e instanceof FormData?ut.post("/vendor/staff",e,{headers:{"Content-Type":"multipart/form-data"}}):ut.post("/vendor/staff",e),update:(e,t)=>t instanceof FormData?ut.put(`/vendor/staff/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):ut.put(`/vendor/staff/${e}`,t),delete:e=>ut.delete(`/vendor/staff/${e}`)},nz=p.createContext(null);function N2e({children:e}){const[t,r]=p.useState(null),[s,a]=p.useState(!0);p.useEffect(()=>{const u=localStorage.getItem("vendor_token"),h=localStorage.getItem("vendor_user");if(u&&h)try{r(JSON.parse(h)),zf.getProfile().then(f=>{let m=f.data.user||f.data.staff||f.data;if(f.data.staff){const y=f.data.staff,b=y.permissions||y.role&&y.role.permissions||y.roleDetails&&y.roleDetails.permissions||[];m={...y,permissions:Array.isArray(b)?b:[],role:"vendor_staff"},console.log("Vendor Staff Profile Loaded:",{email:m.email,role:m.role,permissionsCount:m.permissions.length,permissions:m.permissions})}m.role==="vendor"&&!m.permissions&&(m.permissions=[]),m.permissions||(m.permissions=[]),r(m),localStorage.setItem("vendor_user",JSON.stringify(m))}).catch(()=>{localStorage.removeItem("vendor_token"),localStorage.removeItem("vendor_user"),r(null)}).finally(()=>a(!1))}catch{localStorage.removeItem("vendor_token"),localStorage.removeItem("vendor_user"),a(!1)}else a(!1)},[]);const i=async(u,h)=>{try{const f=await zf.login(u,h),{token:m,user:y,staff:b}=f.data;let v=y||b;if(v){if(b){const N=b.permissions||b.role&&b.role.permissions||b.roleDetails&&b.roleDetails.permissions||[];v.permissions=Array.isArray(N)?N:[],v.role="vendor_staff",console.log("Vendor Staff Login:",{email:v.email,role:v.role,permissionsCount:v.permissions.length,permissions:v.permissions})}else v.role==="vendor"&&(v.permissions=v.permissions||[]);v.permissions||(v.permissions=[])}return localStorage.setItem("vendor_token",m),localStorage.setItem("vendor_user",JSON.stringify(v)),r(v),{success:!0}}catch(f){return{success:!1,error:f.response?.data?.error||f.message||"Login failed"}}},o=async u=>{try{const h=await zf.register(u),{token:f,user:m}=h.data;return m.role==="vendor"&&m.vendorStatus!=="approved"?{success:!0,requiresApproval:!0,message:"Registration successful! Your account is pending admin approval. You will be able to login once approved."}:(localStorage.setItem("vendor_token",f),localStorage.setItem("vendor_user",JSON.stringify(m)),r(m),{success:!0})}catch(h){return{success:!1,error:h.response?.data?.error||h.message||"Registration failed"}}},c=()=>{localStorage.removeItem("vendor_token"),localStorage.removeItem("vendor_user"),r(null)};return n.jsx(nz.Provider,{value:{user:t,loading:s,login:i,register:o,logout:c},children:e})}function pp(){const e=p.useContext(nz);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const k2e=()=>{const[e,t]=p.useState(null),[r,s]=p.useState(null),[a,i]=p.useState(Notification.permission);return p.useEffect(()=>{const o=async()=>{try{const c=await hQ();c&&(t(c),i(Notification.permission),console.log("FCM Token:",c))}catch(c){console.warn("FCM token not available:",c.message)}};"Notification"in window&&"serviceWorker"in navigator&&setTimeout(()=>{o()},1e3),a==="granted"&&fQ().then(c=>{console.log("Message received:",c),s(c),c.notification&&new Notification(c.notification.title,{body:c.notification.body,icon:c.notification.icon||"/icon-192x192.png",badge:"/icon-192x192.png"})}).catch(c=>{console.error("Error listening for messages:",c)})},[a]),{fcmToken:e,notification:r,permission:a}},qA=(e,t={})=>{if(E1)try{S3(E1,e,t)}catch(r){console.warn("Analytics event tracking failed:",r)}},S2e=e=>{qA("page_view",{page_title:e,page_location:window.location.href})},A2e=(e="email")=>{qA("login",{method:e})},C2e=(e="email")=>{qA("sign_up",{method:e})};function I2e(){const[e,t]=p.useState(""),[r,s]=p.useState(""),[a,i]=p.useState(!1),[o,c]=p.useState(""),{login:u}=pp(),h=lr(),f=async m=>{m.preventDefault(),c(""),i(!0);const y=await u(e,r);y.success?(A2e("email"),h("/vendor/")):c(y.error||"Login failed. Please try again."),i(!1)};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-500 via-primary-600 to-accent-500 p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white rounded-full shadow-lg mb-4 p-2",children:n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"w-full h-full object-contain",onError:m=>{m.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}})}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"ShubhVenue Vendor"}),n.jsx("p",{className:"text-primary-100",children:"Sign in to manage your venues"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[n.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:o}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{id:"email",type:"email",value:e,onChange:m=>t(m.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Enter your email"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{id:"password",type:"password",value:r,onChange:m=>s(m.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Enter your password"})]})]}),n.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-primary-600 to-accent-600 text-white py-3 rounded-lg font-semibold hover:from-primary-700 hover:to-accent-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:a?n.jsxs(n.Fragment,{children:[n.jsx(M1,{className:"w-5 h-5 mr-2 animate-spin"}),"Signing in..."]}):"Sign In"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx(Ks,{to:"/vendor/register",className:"text-primary-600 font-semibold hover:text-primary-700",children:"Register"})]})})]}),n.jsx("p",{className:"mt-6 text-center text-sm text-primary-100",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})}function P2e(){const[e,t]=p.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",vendorCategory:""}),[r,s]=p.useState([]),[a,i]=p.useState(!0),[o,c]=p.useState(!1),[u,h]=p.useState(""),[f,m]=p.useState(""),[y,b]=p.useState(!1),[v,N]=p.useState(!1),{register:j}=pp(),k=lr();p.useEffect(()=>{(async()=>{try{const R=await j2e.getPublic();let E=[];R.data&&(Array.isArray(R.data)?E=R.data:R.data.categories&&Array.isArray(R.data.categories)?E=R.data.categories:R.data.data&&Array.isArray(R.data.data)&&(E=R.data.data)),s(E)}catch(R){console.error("Failed to load categories:",R)}finally{i(!1)}})()},[]);const I=P=>{const{name:R,value:E}=P.target;if(R==="phone"){const C=E.replace(/\D/g,"");C.length<=15&&t({...e,[R]:C})}else t({...e,[R]:E})},S=async P=>{if(P.preventDefault(),h(""),m(""),e.password!==e.confirmPassword){h("Passwords do not match. Please try again.");return}if(e.password.length<6){h("Password must be at least 6 characters long.");return}if(e.phone.length<10||e.phone.length>15){h("Phone number must be between 10 and 15 digits.");return}c(!0);const{confirmPassword:R,...E}=e,C=await j(E);if(C.success)if(C2e("email"),C.requiresApproval){const F=C.message||"Registration successful! Your account is pending admin approval. You will be able to login once approved.";m(F),t({name:"",email:"",password:"",confirmPassword:"",phone:"",vendorCategory:""})}else k("/vendor/");else{h(C.error||"Registration failed. Please try again."),c(!1);return}c(!1)},O=()=>{k("/vendor/login")};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-500 via-primary-600 to-accent-500 p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white rounded-full shadow-lg mb-4 p-2",children:n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"w-full h-full object-contain",onError:P=>{P.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}})}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"ShubhVenue Vendor"}),n.jsx("p",{className:"text-primary-100",children:"Create your vendor account"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[f?n.jsxs("div",{className:"space-y-5",children:[n.jsx("div",{className:"bg-green-50 border-2 border-green-300 text-green-800 px-6 py-5 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ca,{className:"w-6 h-6 mt-0.5 flex-shrink-0 text-green-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold text-lg mb-2 text-green-900",children:"Registration Successful!"}),n.jsx("p",{className:"text-green-800 mb-3",children:f})]})]})}),n.jsx("button",{onClick:O,className:"w-full bg-gradient-to-r from-primary-600 to-accent-600 text-white py-3 rounded-lg font-semibold hover:from-primary-700 hover:to-accent-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center",children:"OK"})]}):n.jsxs("form",{onSubmit:S,className:"space-y-5",children:[u&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{id:"name",name:"name",type:"text",value:e.name,onChange:I,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Enter your full name"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:I,required:!0,autoComplete:"off",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Enter your email"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),n.jsxs("div",{className:"relative",children:[n.jsx(tc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{id:"phone",name:"phone",type:"tel",value:e.phone,onChange:I,required:!0,minLength:10,maxLength:15,autoComplete:"off",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Enter phone (10-15 digits)"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"vendorCategory",className:"block text-sm font-medium text-gray-700 mb-2",children:["Vendor Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(O1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsxs("select",{id:"vendorCategory",name:"vendorCategory",value:e.vendorCategory,onChange:I,required:!0,disabled:a,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition appearance-none bg-white disabled:bg-gray-100 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:"Select your category"}),r.map(P=>n.jsx("option",{value:P._id,children:P.name},P._id))]}),a&&n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:n.jsx(M1,{className:"w-5 h-5 animate-spin text-gray-400"})})]}),r.length===0&&!a&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No categories available. Please contact admin."})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{id:"password",name:"password",type:y?"text":"password",value:e.password,onChange:I,required:!0,minLength:6,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Enter your password (min 6 characters)"}),n.jsx("button",{type:"button",onClick:()=>b(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y?n.jsx(_o,{className:"w-5 h-5"}):n.jsx(Gr,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Re-enter Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:v?"text":"password",value:e.confirmPassword,onChange:I,required:!0,minLength:6,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Re-enter your password"}),n.jsx("button",{type:"button",onClick:()=>N(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v?n.jsx(_o,{className:"w-5 h-5"}):n.jsx(Gr,{className:"w-5 h-5"})})]})]}),n.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-primary-600 to-accent-600 text-white py-3 rounded-lg font-semibold hover:from-primary-700 hover:to-accent-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o?n.jsxs(n.Fragment,{children:[n.jsx(M1,{className:"w-5 h-5 mr-2 animate-spin"}),"Creating account..."]}):"Create Account"})]}),!f&&n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",n.jsx(Ks,{to:"/vendor/login",className:"text-primary-600 font-semibold hover:text-primary-700",children:"Sign In"})]})})]})]})})}function nn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ko(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function sz(e,t){const r=nn(e);if(isNaN(t))return Ko(e,NaN);if(!t)return r;const s=r.getDate(),a=Ko(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const az=6048e5,E2e=864e5;let T2e={};function gp(){return T2e}function qd(e,t){const r=gp(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=nn(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Ux(e){return qd(e,{weekStartsOn:1})}function iz(e){const t=nn(e),r=t.getFullYear(),s=Ko(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Ux(s),i=Ko(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Ux(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Wx(e){const t=nn(e);return t.setHours(0,0,0,0),t}function aR(e){const t=nn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function _2e(e,t){const r=Wx(e),s=Wx(t),a=+r-aR(r),i=+s-aR(s);return Math.round((a-i)/E2e)}function M2e(e){const t=iz(e),r=Ko(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ux(r)}function D2e(e,t){const r=Wx(e),s=Wx(t);return+r==+s}function O2e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function R2e(e){if(!O2e(e)&&typeof e!="number")return!1;const t=nn(e);return!isNaN(Number(t))}function L2e(e){const t=nn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function F2e(e,t){const r=nn(e.start),s=nn(e.end);let a=+r>+s;const i=a?+r:+s,o=a?s:r;o.setHours(0,0,0,0);let c=1;const u=[];for(;+o<=i;)u.push(nn(o)),o.setDate(o.getDate()+c),o.setHours(0,0,0,0);return a?u.reverse():u}function $2e(e){const t=nn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function B2e(e){const t=nn(e),r=Ko(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function z2e(e,t){const r=gp(),s=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=nn(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const V2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},U2e=(e,t,r)=>{let s;const a=V2e[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function u1(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const W2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},H2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},q2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},G2e={date:u1({formats:W2e,defaultWidth:"full"}),time:u1({formats:H2e,defaultWidth:"full"}),dateTime:u1({formats:q2e,defaultWidth:"full"})},K2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Y2e=(e,t,r,s)=>K2e[e];function Nf(e){return(t,r)=>{const s=r?.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=r?.width?String(r.width):o;a=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=r?.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Z2e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Q2e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},X2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},J2e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rke=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},nke={ordinalNumber:rke,era:Nf({values:Z2e,defaultWidth:"wide"}),quarter:Nf({values:Q2e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Nf({values:X2e,defaultWidth:"wide"}),day:Nf({values:J2e,defaultWidth:"wide"}),dayPeriod:Nf({values:eke,defaultWidth:"wide",formattingValues:tke,defaultFormattingWidth:"wide"})};function kf(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],c=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?ake(c,m=>m.test(o)):ske(c,m=>m.test(o));let h;h=e.valueCallback?e.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const f=t.slice(o.length);return{value:h,rest:f}}}function ske(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ake(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ike(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=t.slice(a.length);return{value:o,rest:c}}}const oke=/^(\d+)(th|st|nd|rd)?/i,lke=/\d+/i,cke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uke={any:[/^b/i,/^(a|c)/i]},dke={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hke={any:[/1/i,/2/i,/3/i,/4/i]},fke={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pke={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gke={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yke={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xke={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vke={ordinalNumber:ike({matchPattern:oke,parsePattern:lke,valueCallback:e=>parseInt(e,10)}),era:kf({matchPatterns:cke,defaultMatchWidth:"wide",parsePatterns:uke,defaultParseWidth:"any"}),quarter:kf({matchPatterns:dke,defaultMatchWidth:"wide",parsePatterns:hke,defaultParseWidth:"any",valueCallback:e=>e+1}),month:kf({matchPatterns:fke,defaultMatchWidth:"wide",parsePatterns:mke,defaultParseWidth:"any"}),day:kf({matchPatterns:pke,defaultMatchWidth:"wide",parsePatterns:gke,defaultParseWidth:"any"}),dayPeriod:kf({matchPatterns:yke,defaultMatchWidth:"any",parsePatterns:xke,defaultParseWidth:"any"})},bke={code:"en-US",formatDistance:U2e,formatLong:G2e,formatRelative:Y2e,localize:nke,match:vke,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wke(e){const t=nn(e);return _2e(t,B2e(t))+1}function jke(e){const t=nn(e),r=+Ux(t)-+M2e(t);return Math.round(r/az)+1}function oz(e,t){const r=nn(e),s=r.getFullYear(),a=gp(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Ko(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const c=qd(o,t),u=Ko(e,0);u.setFullYear(s,0,i),u.setHours(0,0,0,0);const h=qd(u,t);return r.getTime()>=c.getTime()?s+1:r.getTime()>=h.getTime()?s:s-1}function Nke(e,t){const r=gp(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=oz(e,t),i=Ko(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),qd(i,t)}function kke(e,t){const r=nn(e),s=+qd(r,t)-+Nke(r,t);return Math.round(s/az)+1}function Yt(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const Al={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Yt(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Yt(r+1,2)},d(e,t){return Yt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Yt(e.getHours()%12||12,t.length)},H(e,t){return Yt(e.getHours(),t.length)},m(e,t){return Yt(e.getMinutes(),t.length)},s(e,t){return Yt(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Yt(a,t.length)}},ud={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iR={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Al.y(e,t)},Y:function(e,t,r,s){const a=oz(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Yt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Yt(i,t.length)},R:function(e,t){const r=iz(e);return Yt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Yt(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Yt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Yt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return Al.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Yt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=kke(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Yt(a,t.length)},I:function(e,t,r){const s=jke(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Yt(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Al.d(e,t)},D:function(e,t,r){const s=wke(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Yt(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Yt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Yt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Yt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=ud.noon:s===0?a=ud.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=ud.evening:s>=12?a=ud.afternoon:s>=4?a=ud.morning:a=ud.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Al.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Al.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Yt(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Yt(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Al.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Al.s(e,t)},S:function(e,t){return Al.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return lR(s);case"XXXX":case"XX":return Rc(s);case"XXXXX":case"XXX":default:return Rc(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return lR(s);case"xxxx":case"xx":return Rc(s);case"xxxxx":case"xxx":default:return Rc(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+oR(s,":");case"OOOO":default:return"GMT"+Rc(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+oR(s,":");case"zzzz":default:return"GMT"+Rc(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return Yt(s,t.length)},T:function(e,t,r){const s=e.getTime();return Yt(s,t.length)}};function oR(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+Yt(i,2)}function lR(e,t){return e%60===0?(e>0?"-":"+")+Yt(Math.abs(e)/60,2):Rc(e,t)}function Rc(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Yt(Math.trunc(s/60),2),i=Yt(s%60,2);return r+a+t+i}const cR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},lz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ske=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return cR(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",cR(s,t)).replace("{{time}}",lz(a,t))},Ake={p:lz,P:Ske},Cke=/^D+$/,Ike=/^Y+$/,Pke=["D","DD","YY","YYYY"];function Eke(e){return Cke.test(e)}function Tke(e){return Ike.test(e)}function _ke(e,t,r){const s=Mke(e,t,r);if(console.warn(s),Pke.includes(e))throw new RangeError(s)}function Mke(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Dke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Oke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rke=/^'([^]*?)'?$/,Lke=/''/g,Fke=/[a-zA-Z]/;function Ir(e,t,r){const s=gp(),a=s.locale??bke,i=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=nn(e);if(!R2e(c))throw new RangeError("Invalid time value");let u=t.match(Oke).map(f=>{const m=f[0];if(m==="p"||m==="P"){const y=Ake[m];return y(f,a.formatLong)}return f}).join("").match(Dke).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const m=f[0];if(m==="'")return{isToken:!1,value:$ke(f)};if(iR[m])return{isToken:!0,value:f};if(m.match(Fke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:f}});a.localize.preprocessor&&(u=a.localize.preprocessor(c,u));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return u.map(f=>{if(!f.isToken)return f.value;const m=f.value;(Tke(m)||Eke(m))&&_ke(m,t,String(e));const y=iR[m[0]];return y(c,m,a.localize,h)}).join("")}function $ke(e){const t=e.match(Rke);return t?t[1].replace(Lke,"'"):e}function Bke(e,t){const r=nn(e),s=nn(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function zke(e,t){return sz(e,-1)}function Vke(){const[e,t]=p.useState({totalVenues:0,totalBookings:0,monthlyBookings:0,monthlyRevenue:0,monthlyExpenses:0,commissionPaid:0,totalBookedDates:0,totalExpenses:0,selectedMonth:{month:new Date().getMonth()+1,year:new Date().getFullYear(),monthName:Ir(new Date,"MMMM")},paymentStats:{totalIncoming:0,paid:0,pending:0,failed:0},bookingStats:{confirmed:0,pending:0,cancelled:0,recent:0},paymentBreakdown:{paid:0,pending:0,failed:0}}),[r,s]=p.useState(!0),[a,i]=p.useState(new Date().getMonth()+1),[o,c]=p.useState(new Date().getFullYear()),u=lr(),h=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],f=new Date().getFullYear(),m=[];for(let I=f-5;I<=f+1;I++)m.push(I);p.useEffect(()=>{y()},[a,o]);const y=async()=>{try{s(!0);const S=(await mr.getDashboard(a,o)).data;try{const O=await mr.getLedger();S.totalExpenses=O.data?.summary?.totalExpenses||0,S.monthlyExpenses=O.data?.summary?.monthlyExpenses||0}catch(O){console.error("Failed to load ledger data:",O),S.totalExpenses=0,S.monthlyExpenses=0}t(S)}catch(I){console.error("Failed to load dashboard:",I)}finally{s(!1)}},b=()=>{const I=e.selectedMonth?.year||o,S=e.selectedMonth?.month||a,O=new Date(I,S,0).getDate(),P=[],E=(e.monthlyRevenue||0)/O;for(let C=1;C<=O;C++){const F=.7+Math.random()*.6,L=Math.max(0,E*C*F);P.push({name:C<=10?`${C}`:C%5===0?`${C}`:"",revenue:Math.round(L),day:C})}return P},v=()=>{const I=e.selectedMonth?.year||o,S=e.selectedMonth?.month||a,O=new Date(I,S,0).getDate(),P=[],E=(e.monthlyExpenses||0)/O;for(let C=1;C<=O;C++){const F=.6+Math.random()*.8,L=Math.max(0,E*C*F);P.push({name:C<=10?`${C}`:C%5===0?`${C}`:"",expenses:Math.round(L),day:C})}return P},N=b(),j=v(),k=[{title:"Total Venues",value:e.totalVenues,icon:gs,color:"primary",action:()=>u("/venues")},{title:"Total Bookings",value:e.totalBookings,icon:Cn,color:"accent",action:()=>u("/bookings"),subtitle:`This Month: ${e.monthlyBookings||0}`},{title:"Booked Dates",value:e.totalBookedDates||0,icon:T1,color:"blue",action:()=>u("/bookings")},{title:"Monthly Revenue",value:`${e.monthlyRevenue.toLocaleString()}`,icon:null,color:"green",action:()=>u("/bookings")},{title:"Total Expenses",value:`${(e.totalExpenses||0).toLocaleString()}`,icon:null,color:"red",action:()=>u("/ledger")},{title:"Total Payments",value:`${(e.paymentStats?.totalIncoming||0).toLocaleString()}`,icon:Qf,color:"purple",action:()=>u("/bookings")},{title:"Paid Payments",value:`${(e.paymentStats?.paid||0).toLocaleString()}`,icon:Ca,color:"green",action:()=>u("/bookings")},{title:"Pending Payments",value:`${(e.paymentStats?.pending||0).toLocaleString()}`,icon:Ia,color:"orange",action:()=>u("/bookings")},{title:"Commission Paid",value:`${e.commissionPaid.toLocaleString()}`,icon:Jf,color:"indigo",action:()=>u("/payouts")}];return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Management Dashboard"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Complete overview of bookings, dates, and payments"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-white border border-gray-300 rounded-lg px-3 py-2",children:[n.jsx("label",{className:"text-sm text-gray-600",children:"Month:"}),n.jsx("select",{value:a,onChange:I=>i(parseInt(I.target.value)),className:"border-none outline-none text-sm font-medium text-gray-900 cursor-pointer",children:h.map(I=>n.jsx("option",{value:I.value,children:I.label},I.value))})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white border border-gray-300 rounded-lg px-3 py-2",children:[n.jsx("label",{className:"text-sm text-gray-600",children:"Year:"}),n.jsx("select",{value:o,onChange:I=>c(parseInt(I.target.value)),className:"border-none outline-none text-sm font-medium text-gray-900 cursor-pointer",children:m.map(I=>n.jsx("option",{value:I,children:I},I))})]}),n.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[n.jsx(vu,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]})]})]}),e.selectedMonth&&n.jsx("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-primary-700 font-medium",children:"Viewing Data For"}),n.jsxs("p",{className:"text-xl font-bold text-primary-900",children:[e.selectedMonth.monthName," ",e.selectedMonth.year]})]}),n.jsx(T1,{className:"w-8 h-8 text-primary-600"})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:k.map((I,S)=>{const O=I.icon,P={primary:"bg-primary-50 text-primary-600",accent:"bg-accent-50 text-accent-600",green:"bg-green-50 text-green-600",orange:"bg-orange-50 text-orange-600",blue:"bg-blue-50 text-blue-600",purple:"bg-purple-50 text-purple-600",indigo:"bg-indigo-50 text-indigo-600",red:"bg-red-50 text-red-600"};return n.jsxs("button",{onClick:I.action,className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:`p-3 rounded-lg ${P[I.color]||P.primary}`,children:I.icon?n.jsx(O,{className:"w-6 h-6"}):n.jsx("span",{className:"text-2xl font-bold",children:""})})}),n.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:I.title}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.value}),I.subtitle&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:I.subtitle})]},S)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Booking Status"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Overview of all bookings"})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ca,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Confirmed"})]}),n.jsx("span",{className:"text-2xl font-bold text-green-600",children:e.bookingStats?.confirmed||0})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ia,{className:"w-5 h-5 text-orange-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Pending"})]}),n.jsx("span",{className:"text-2xl font-bold text-orange-600",children:e.bookingStats?.pending||0})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Hl,{className:"w-5 h-5 text-red-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Cancelled"})]}),n.jsx("span",{className:"text-2xl font-bold text-red-600",children:e.bookingStats?.cancelled||0})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Cn,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Recent (Last 7 Days)"})]}),n.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e.bookingStats?.recent||0})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Status"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Payment breakdown"})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ca,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Paid"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-2xl font-bold text-green-600 block",children:e.paymentBreakdown?.paid||0}),n.jsxs("span",{className:"text-xs text-gray-500",children:["",(e.paymentStats?.paid||0).toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ia,{className:"w-5 h-5 text-orange-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Pending"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-2xl font-bold text-orange-600 block",children:e.paymentBreakdown?.pending||0}),n.jsxs("span",{className:"text-xs text-gray-500",children:["",(e.paymentStats?.pending||0).toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Hl,{className:"w-5 h-5 text-red-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Failed"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-2xl font-bold text-red-600 block",children:e.paymentBreakdown?.failed||0}),n.jsxs("span",{className:"text-xs text-gray-500",children:["",(e.paymentStats?.failed||0).toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Qf,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Total Incoming"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("span",{className:"text-2xl font-bold text-purple-600 block",children:["",(e.paymentStats?.totalIncoming||0).toLocaleString()]}),n.jsx("span",{className:"text-xs text-gray-500",children:"All payments"})]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:()=>u("/venues"),className:"flex items-center space-x-3 p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition border-2 border-primary-100 hover:border-primary-300",children:[n.jsx("div",{className:"p-2 bg-primary-50 rounded-lg",children:n.jsx(Fr,{className:"w-5 h-5 text-primary-600"})}),n.jsx("span",{className:"font-medium text-gray-900",children:"Add Venue"})]}),n.jsxs("button",{onClick:()=>u("/venues"),className:"flex items-center space-x-3 p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition border-2 border-accent-100 hover:border-accent-300",children:[n.jsx("div",{className:"p-2 bg-accent-50 rounded-lg",children:n.jsx(Gr,{className:"w-5 h-5 text-accent-600"})}),n.jsx("span",{className:"font-medium text-gray-900",children:"Manage Venues"})]}),n.jsxs("button",{onClick:()=>u("/bookings"),className:"flex items-center space-x-3 p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition border-2 border-green-100 hover:border-green-300",children:[n.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:n.jsx(Cn,{className:"w-5 h-5 text-green-600"})}),n.jsx("span",{className:"font-medium text-gray-900",children:"View Bookings"})]}),n.jsxs("button",{onClick:()=>u("/payouts"),className:"flex items-center space-x-3 p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition border-2 border-orange-100 hover:border-orange-300",children:[n.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:n.jsx(Jf,{className:"w-5 h-5 text-orange-600"})}),n.jsx("span",{className:"font-medium text-gray-900",children:"Payouts"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Revenue Trend"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.selectedMonth?.monthName," ",e.selectedMonth?.year," - Daily Revenue"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[n.jsx(ek,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm font-medium",children:"Growing"})]})]}),n.jsx(Na,{width:"100%",height:300,children:n.jsxs(c1,{data:N,margin:{top:10,right:10,left:0,bottom:0},children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#8B5CF6",stopOpacity:0})]})}),n.jsx(zi,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(Vi,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12},tickLine:{stroke:"#6b7280"}}),n.jsx(Ui,{stroke:"#6b7280",tick:{fontSize:12},tickLine:{stroke:"#6b7280"},tickFormatter:I=>`${(I/1e3).toFixed(0)}k`}),n.jsx(ka,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},formatter:I=>[`${I.toLocaleString()}`,"Revenue"],labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),n.jsx(Pf,{type:"monotone",dataKey:"revenue",stroke:"#8B5CF6",strokeWidth:2,fill:"url(#colorRevenue)"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Expenses Trend"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.selectedMonth?.monthName," ",e.selectedMonth?.year," - Daily Expenses"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[n.jsx(OL,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm font-medium",children:"Expenses"})]})]}),n.jsx(Na,{width:"100%",height:300,children:n.jsxs(c1,{data:j,margin:{top:10,right:10,left:0,bottom:0},children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorExpenses",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})}),n.jsx(zi,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(Vi,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12},tickLine:{stroke:"#6b7280"}}),n.jsx(Ui,{stroke:"#6b7280",tick:{fontSize:12},tickLine:{stroke:"#6b7280"},tickFormatter:I=>`${(I/1e3).toFixed(0)}k`}),n.jsx(ka,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},formatter:I=>[`${I.toLocaleString()}`,"Expenses"],labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),n.jsx(Pf,{type:"monotone",dataKey:"expenses",stroke:"#EF4444",strokeWidth:2,fill:"url(#colorExpenses)"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Revenue vs Expenses"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.selectedMonth?.monthName," ",e.selectedMonth?.year," - Daily Comparison"]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm font-medium",children:"Revenue"})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),n.jsx("span",{className:"text-sm font-medium",children:"Expenses"})]})]})]}),n.jsx(Na,{width:"100%",height:400,children:n.jsxs(c1,{data:N.map((I,S)=>({...I,expenses:j[S]?.expenses||0})),margin:{top:10,right:30,left:0,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorRevenueCombined",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.4}),n.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorExpensesCombined",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.4}),n.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),n.jsx(zi,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(Vi,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12},tickLine:{stroke:"#6b7280"}}),n.jsx(Ui,{stroke:"#6b7280",tick:{fontSize:12},tickLine:{stroke:"#6b7280"},tickFormatter:I=>`${(I/1e3).toFixed(0)}k`}),n.jsx(ka,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",padding:"12px"},formatter:(I,S)=>{const O=S==="revenue"?"Revenue":"Expenses";return[`${I.toLocaleString()}`,O]},labelStyle:{fontWeight:"bold",marginBottom:"8px",fontSize:"14px"}}),n.jsx($l,{wrapperStyle:{paddingTop:"20px"},iconType:"circle",formatter:I=>n.jsx("span",{style:{color:"#6b7280",fontSize:"14px"},children:I})}),n.jsx(Pf,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:2.5,fill:"url(#colorRevenueCombined)",name:"Revenue"}),n.jsx(Pf,{type:"monotone",dataKey:"expenses",stroke:"#EF4444",strokeWidth:2.5,fill:"url(#colorExpensesCombined)",name:"Expenses"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Booking Distribution"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Status breakdown"})]})}),n.jsx(Na,{width:"100%",height:350,children:n.jsxs(HA,{children:[n.jsx(o0,{data:[{name:"Confirmed",value:e.bookingStats?.confirmed||0,color:"#10b981"},{name:"Pending",value:e.bookingStats?.pending||0,color:"#f97316"},{name:"Cancelled",value:e.bookingStats?.cancelled||0,color:"#ef4444"}].filter(I=>I.value>0),cx:"50%",cy:"45%",labelLine:!1,label:!1,outerRadius:90,innerRadius:50,fill:"#8884d8",dataKey:"value",paddingAngle:3,children:[{name:"Confirmed",value:e.bookingStats?.confirmed||0,color:"#10b981"},{name:"Pending",value:e.bookingStats?.pending||0,color:"#f97316"},{name:"Cancelled",value:e.bookingStats?.cancelled||0,color:"#ef4444"}].filter(I=>I.value>0).map((I,S)=>n.jsx(Nu,{fill:I.color,stroke:"#fff",strokeWidth:3},`cell-${S}`))}),n.jsx(ka,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",padding:"12px"},formatter:(I,S)=>{const O=(e.bookingStats?.confirmed||0)+(e.bookingStats?.pending||0)+(e.bookingStats?.cancelled||0),P=O>0?(I/O*100).toFixed(1):0;return[`${I} bookings (${P}%)`,S]},labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),n.jsx($l,{verticalAlign:"bottom",height:60,wrapperStyle:{paddingTop:"10px"},iconType:"circle",formatter:I=>{const S=[{name:"Confirmed",value:e.bookingStats?.confirmed||0,color:"#10b981"},{name:"Pending",value:e.bookingStats?.pending||0,color:"#f97316"},{name:"Cancelled",value:e.bookingStats?.cancelled||0,color:"#ef4444"}].find(E=>E.name===I),O=(e.bookingStats?.confirmed||0)+(e.bookingStats?.pending||0)+(e.bookingStats?.cancelled||0),P=S?.value||0,R=O>0?(P/O*100).toFixed(1):0;return n.jsxs("span",{style:{color:"#6b7280",fontSize:"14px",padding:"0 8px"},children:[I,": ",P," (",R,"%)"]})}})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Overview"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Payment status comparison"})]})}),n.jsx(Na,{width:"100%",height:300,children:n.jsxs(Vx,{data:[{name:"Paid",amount:e.paymentStats?.paid||0,count:e.paymentBreakdown?.paid||0},{name:"Pending",amount:e.paymentStats?.pending||0,count:e.paymentBreakdown?.pending||0},{name:"Failed",amount:e.paymentStats?.failed||0,count:e.paymentBreakdown?.failed||0}],children:[n.jsx(zi,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(Vi,{dataKey:"name",stroke:"#6b7280"}),n.jsx(Ui,{stroke:"#6b7280"}),n.jsx(ka,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(I,S)=>S==="amount"?`${I.toLocaleString()}`:I}),n.jsx(Hd,{dataKey:"amount",fill:"#8B5CF6",radius:[8,8,0,0]})]})})]})]})}const uR=()=>"https://shubhvenue.com/api".replace("/api",""),Yc=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/uploads/")||e.startsWith("/uploads")?`${uR()}${e}`:e.startsWith("uploads/")?`${uR()}/${e}`:e:"",cz=()=>{try{const e=localStorage.getItem("vendor_user");if(e){const r=JSON.parse(e);if(r.permissions&&Array.isArray(r.permissions))return r.permissions;if(r.role&&typeof r.role=="object"&&r.role.permissions&&Array.isArray(r.role.permissions))return r.role.permissions}const t=localStorage.getItem("vendor_token");if(t)try{const r=JSON.parse(atob(t.split(".")[1]));if(r.permissions&&Array.isArray(r.permissions))return r.permissions}catch{}}catch(e){console.error("Error getting vendor permissions:",e)}return[]},zl=e=>{const t=cz();if(e==="vendor_view_dashboard")return!0;const r=localStorage.getItem("vendor_user");if(r)try{if(JSON.parse(r).role==="vendor")return!0}catch{}if(t.length===0){const s=localStorage.getItem("vendor_user");if(s)try{if(JSON.parse(s).role==="vendor")return!0}catch{}}return t.includes(e)},Uke=()=>{try{const e=localStorage.getItem("vendor_user");if(e)return JSON.parse(e).role||"vendor"}catch{}return"vendor"},Wke=()=>Uke()==="vendor";function dR(){const e=lr(),r=Wn().pathname.startsWith("/vendor/venues/add"),[s,a]=p.useState([]),[i,o]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,y]=p.useState(!0),[b,v]=p.useState({page:1,limit:10,total:0,pages:1}),[N,j]=p.useState(r),[k,I]=p.useState(null),[S,O]=p.useState("all"),[P,R]=p.useState({name:"",address:"",city:"",state:"",price:"",capacity:"",description:"",categoryId:"",menuId:"",subMenuId:"",amenities:[],highlights:[],rooms:"",openTime:"",closeTime:"",openDays:[]}),[E,C]=p.useState(null),[F,L]=p.useState(null),[D,M]=p.useState([]),[$,ee]=p.useState([]),[q,V]=p.useState([]),[re,U]=p.useState([]),[te,ie]=p.useState(null),[H,z]=p.useState(!1),[ge,le]=p.useState(0),[Pe,Ae]=p.useState(!1),[fe,ce]=p.useState([]),[J,Y]=p.useState([]),[de,X]=p.useState(!1),[pe,se]=p.useState(!1),[Q,ve]=p.useState(null),[ue,xe]=p.useState([]),[Le,it]=p.useState(!1),[St,La]=p.useState({}),[ur,bs]=p.useState(null),[kr,vn]=p.useState(!1),[Tr,_r]=p.useState(null),we=["Parking","AC","WiFi","Catering","Decoration","Sound System","Stage","Dance Floor","Photography","Videography","Bridal Room","Groom Room","Garden","Pool","Bar"],He=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];p.useEffect(()=>{Ve(),Re(),zt(),Vr()},[]),p.useEffect(()=>{Ve()},[b.page,S]),p.useEffect(()=>{r?(_t(),I(null),le(0),j(!0),zt()):k||j(!1)},[r]),p.useEffect(()=>{s.length>0&&Ft()},[s]),p.useEffect(()=>{P.state&&P.state.trim()?Pt(P.state):Y([])},[P.state]),p.useEffect(()=>{P.menuId?nr(P.menuId):(f([]),P.subMenuId&&R(K=>({...K,subMenuId:""})))},[P.menuId]),p.useEffect(()=>{if(P.menuId&&P.subMenuId&&h.length>0){const K=String(P.subMenuId);h.some(oe=>String(oe._id||oe.id||"")===K)||!h.find(We=>String(We._id||We.id||"")===K)&&P.subMenuId&&console.warn("Submenu not found in loaded list, clearing subMenuId")}},[h,P.menuId,P.subMenuId]);const Ve=async()=>{try{y(!0);const K={page:b.page,limit:b.limit};S!=="all"&&(K.status=S);const me=await mr.getVenues(K),oe=me.data?.venues||me.data?.data||me.data||[];a(Array.isArray(oe)?oe:[]),me.data?.pagination?v(We=>({...We,total:me.data.pagination.total||me.data.totalCount||oe.length,pages:me.data.pagination.pages||me.data.totalPages||1})):me.data?.totalCount&&v(We=>({...We,total:me.data.totalCount,pages:Math.ceil(me.data.totalCount/b.limit)}))}catch(K){console.error("Failed to load venues:",K),a([])}finally{y(!1)}},Ft=async()=>{try{const me=(await Fc.getReviewsByVendor()).data?.reviews||[],oe={};me.forEach(ze=>{const lt=(ze.venueId?._id||ze.venueId?.id||ze.venueId)?.toString();lt&&(oe[lt]||(oe[lt]={reviews:[],totalRating:0,count:0}),oe[lt].reviews.push(ze),oe[lt].totalRating+=ze.rating||0,oe[lt].count+=1)});const We={};Object.keys(oe).forEach(ze=>{const lt=oe[ze];We[ze]={average:lt.count>0?(lt.totalRating/lt.count).toFixed(1):0,count:lt.count,reviews:lt.reviews}}),La(We)}catch(K){console.error("Failed to load venue reviews:",K)}},Oe=async K=>{const me=K.id||K._id;ve(K),se(!0),it(!0);try{const We=(await Fc.getReviewsByVenue(me)).data?.reviews||[];xe(We)}catch(oe){console.error("Failed to load reviews:",oe),alert(oe.response?.data?.error||"Failed to load reviews"),xe([])}finally{it(!1)}},Re=async()=>{try{const K=await w2e.getCategories(),me=K.data?.categories||K.data?.data||K.data||[];o(Array.isArray(me)?me:[])}catch(K){console.error("Failed to load categories:",K),o([])}},zt=async()=>{try{const K=await sR.getMenus({active:"all"});console.log("Menus API Response:",K),console.log("Response Data:",K.data);let me=[];K&&K.data?K.data.menus&&Array.isArray(K.data.menus)?(me=K.data.menus,console.log(" Found menus in response.data.menus:",me.length)):Array.isArray(K.data)?(me=K.data,console.log(" Found menus in response.data (array):",me.length)):K.data.success&&K.data.menus?(me=K.data.menus,console.log(" Found menus in success response:",me.length)):console.warn(" Unexpected response structure:",K.data):console.warn(" No response data found"),console.log(" Final menus data:",me),console.log(" Menus count:",me.length),me.length>0&&(console.log(" Sample menu:",me[0]),console.log(" Sample menu keys:",Object.keys(me[0])),console.log(" Sample menu _id:",me[0]._id),console.log(" Sample menu id:",me[0].id),console.log(" Sample menu name:",me[0].name));const oe=Array.isArray(me)?me.map(We=>({...We,_id:String(We._id||We.id||""),id:String(We._id||We.id||"")})):[];return u(oe),oe}catch(K){return console.error(" Failed to load menus:",K),console.error(" Error details:",{message:K.message,response:K.response?.data,status:K.response?.status}),u([]),[]}},nr=async K=>{if(!K){f([]);return}try{const me=await sR.getMenus({parentMenuId:K,active:"all"}),oe=me.data?.menus||me.data||[],We=Array.isArray(oe)?oe.map(ze=>({...ze,_id:String(ze._id||ze.id||""),id:String(ze._id||ze.id||"")})):[];f(We)}catch(me){console.error("Failed to load submenus:",me),f([])}},Vr=async()=>{try{const K=await mr.getStates();K.data?.success&&K.data?.states||K.data?.states?ce(K.data.states):(console.warn("Unexpected response structure:",K.data),ce([]))}catch(K){console.error("Failed to load states:",K),ce([])}},Pt=async K=>{if(!K||!K.trim()){Y([]);return}try{X(!0);const me=await mr.getCities(K.trim());me.data?.success&&me.data?.cities?(Y(me.data.cities),P.city&&!me.data.cities.some(oe=>oe.toLowerCase()===P.city.toLowerCase())&&R(oe=>({...oe,city:""}))):me.data?.cities?Y(me.data.cities):(console.warn("Unexpected response structure:",me.data),Y([]))}catch(me){console.error("Failed to load cities:",me),Y([])}finally{X(!1)}},Ye=K=>{const{name:me,value:oe}=K.target;if(me==="state")R({...P,[me]:oe,city:""});else if(me==="menuId"){const We=oe?String(oe):"";R({...P,[me]:We,subMenuId:""}),We?nr(We):f([])}else R({...P,[me]:oe})},ne=K=>{R({...P,amenities:P.amenities.includes(K)?P.amenities.filter(me=>me!==K):[...P.amenities,K]})},_e=K=>{R({...P,openDays:P.openDays.includes(K)?P.openDays.filter(me=>me!==K):[...P.openDays,K]})},Ke=K=>{if(!K||!K.includes(":"))return"";const[me,oe]=K.split(":"),We=parseInt(me,10);if(isNaN(We))return K;const ze=We===0?12:We>12?We-12:We,lt=We>=12?"PM":"AM";return`${ze}:${oe} ${lt}`},Et=K=>{if(!K)return"";if(!K.includes("AM")&&!K.includes("PM"))return K;const me=K.match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!me)return K;let oe=parseInt(me[1],10);const We=me[2],ze=me[3].toUpperCase();return ze==="PM"&&oe!==12?oe+=12:ze==="AM"&&oe===12&&(oe=0),`${oe.toString().padStart(2,"0")}:${We}`},It=K=>{const me=Array.from(K.target.files);M([...D,...me])},Ur=K=>{const me=Array.from(K.target.files);V([...q,...me])},sn=()=>{const K=document.getElementById("videoUrlInput");if(K&&K.value.trim()){const me=K.value.trim();try{new URL(me),U([...re,me]),K.value=""}catch{alert("Please enter a valid URL")}}},Fs=K=>{V(q.filter((me,oe)=>oe!==K))},Rn=K=>{U(re.filter((me,oe)=>oe!==K))},Fa=K=>{ee($.filter((me,oe)=>oe!==K))},Yr=K=>{U(re.filter((me,oe)=>oe!==K))},sr=async K=>{K.preventDefault(),Ae(!0);try{if(!P.name||!P.name.trim()){alert("Venue name is required"),Ae(!1);return}if(!P.capacity||P.capacity<=0){alert("Capacity is required and must be greater than 0"),Ae(!1);return}if(!P.state||!P.state.trim()){alert("State is required"),Ae(!1);return}if(!P.city||!P.city.trim()){alert("City is required"),Ae(!1);return}const me=new FormData;me.append("name",P.name.trim()),me.append("capacity",P.capacity.toString());const oe={address:P.address||"",city:P.city||"",state:P.state||""};me.append("location",JSON.stringify(oe)),me.append("price",P.price||"0"),me.append("description",P.description||""),P.categoryId&&me.append("categoryId",P.categoryId),me.append("menuId",P.menuId||""),me.append("subMenuId",P.subMenuId||""),P.amenities&&P.amenities.length>0&&P.amenities.forEach(ze=>me.append("amenities",ze)),P.highlights&&P.highlights.length>0&&P.highlights.filter(ze=>ze.trim()).forEach(ze=>me.append("highlights",ze.trim())),P.rooms!==void 0&&P.rooms!==""&&me.append("rooms",P.rooms.toString());const We={status:"Open",openTime:P.openTime?Et(P.openTime):"",closeTime:P.closeTime?Et(P.closeTime):"",openDays:P.openDays||[]};if(me.append("availability",JSON.stringify(We)),k){const ze=JSON.stringify($||[]);me.append("existingGallery",ze),console.log(" Sending gallery data:",{existingUrls:$.length,existingUrlsData:$,newFiles:D?.length||0,existingGalleryJson:ze}),D&&D.length>0&&D.forEach(lt=>{console.log(" Adding gallery file:",lt.name,lt.type),me.append("gallery",lt)})}else D&&D.length>0&&(console.log(" Creating venue - sending gallery files:",D.length),D.forEach(ze=>{console.log(" Adding gallery file:",ze.name,ze.type),me.append("gallery",ze)}));if(k?re.length+(q?.length||0)===0?me.append("clearVideos","true"):(re.length>0&&re.forEach(lt=>{me.append("videos",lt)}),q&&q.length>0&&q.forEach(lt=>me.append("videos",lt))):(q&&q.length>0&&q.forEach(ze=>me.append("videos",ze)),re&&re.length>0&&re.forEach(ze=>{me.append("videos",ze)})),k){const ze=k.id||k._id;if(!ze){alert("Venue ID not found. Please try again."),Ae(!1);return}if(!localStorage.getItem("vendor_token")){alert("Please login to update venue"),Ae(!1);return}try{await mr.updateVenue(ze,me),_r({title:"Venue Updated",message:"Venue updated successfully!",status:"success"})}catch(Mt){throw Mt}}else await mr.createVenue(me),_r({title:"Venue Added",message:"Venue added successfully!",status:"success"});j(!1),I(null),_t(),r&&e("/vendor/venues"),Ve().catch(ze=>console.error("Failed to reload venues:",ze))}catch(me){console.error("Save venue error:",me);const oe=me.response?.data?.error||me.response?.data?.message||me.message||"Failed to save venue",We=me.response?.data?.details;let ze=oe;if(me.response?.status===403)oe.includes("permission")||oe.includes("Permission")?ze=`Access Denied: ${oe}

You do not have the required permissions to perform this action. Please contact your administrator.`:(ze=`Access Denied: ${oe}`,We&&(ze+=`

Details: ${JSON.stringify(We,null,2)}`),ze+=`

Please ensure:
1. You are logged in as a vendor or vendor staff
2. This venue belongs to your vendor account
3. Your session is valid`);else if(me.response?.status===401){ze="Authentication failed. Please login again.",localStorage.removeItem("vendor_token"),localStorage.removeItem("vendor_user"),window.location.href="/vendor/login";return}_r({title:"Error",message:ze,status:"error"})}finally{Ae(!1)}},jt=async(K,me=!1)=>{const oe=K.id||K._id,ze=K.vendorActive!==!1?"deactivate":"activate";if(!me){bs({type:"toggle",venue:K,action:ze,name:K.name});return}vn(!0),bs(null);try{const lt=await mr.toggleVenueStatus(oe);Ve();const Mt=lt.data?.message||`Venue ${ze}d successfully!`;_r({title:"Success",message:Mt,status:"success"})}catch(lt){const Mt=lt.response?.data?.error||lt.response?.data?.message||`Failed to ${ze} venue`;_r({title:"Error",message:Mt,status:"error"})}finally{vn(!1)}},$t=async(K,me,oe=!1)=>{if(!oe){bs({type:"delete",id:K,name:me});return}vn(!0),bs(null);try{await mr.deleteVenue(K),Ve(),_r({title:"Success",message:"Venue deleted successfully!",status:"success"})}catch(We){let ze=We.response?.data?.error||"Failed to delete venue";We.response?.status===403&&(ze.includes("permission")||ze.includes("Permission")?ze=`Access Denied: ${ze}

You do not have the required permissions. Please contact your administrator.`:ze=`Access Denied: ${ze}

Please ensure you have the required permissions and this venue belongs to your vendor account.`),_r({title:"Error",message:ze,status:"error"})}finally{vn(!1)}},Xt=async K=>{try{const me=K.id||K._id;let oe=K;if(me)try{const yr=await mr.getVenueById(me);yr.data&&(yr.data.success&&yr.data.data?oe=yr.data.data:yr.data.venue?oe=yr.data.venue:yr.data&&(oe=yr.data))}catch(yr){console.warn("Could not fetch full venue details, using provided data:",yr)}I(oe);const We=await zt(),ze=typeof oe.capacity=="object"?oe.capacity.maxGuests?.toString()||oe.capacity.minGuests?.toString()||"":oe.capacity?.toString()||"",lt=typeof oe.location=="object"?oe.location:{};let Mt="";oe.categoryId&&(typeof oe.categoryId=="object"&&oe.categoryId._id?Mt=oe.categoryId._id.toString():typeof oe.categoryId=="string"?Mt=oe.categoryId:Mt=oe.categoryId.toString());let ws="";oe.menuId&&(typeof oe.menuId=="object"&&oe.menuId._id?ws=String(oe.menuId._id):typeof oe.menuId=="string"?ws=oe.menuId:ws=String(oe.menuId),console.log(" Extracted menuId for editing:",ws),console.log(" Available menus:",We.map(yr=>({id:String(yr._id||yr.id),name:yr.name}))));let js="";oe.subMenuId&&(typeof oe.subMenuId=="object"&&oe.subMenuId._id?js=String(oe.subMenuId._id):typeof oe.subMenuId=="string"?js=oe.subMenuId:js=String(oe.subMenuId),console.log(" Extracted subMenuId for editing:",js));let mi=[];oe.highlights&&(Array.isArray(oe.highlights)?mi=oe.highlights:typeof oe.highlights=="string"&&(mi=[oe.highlights]));let $a=[];oe.amenities&&(Array.isArray(oe.amenities)?$a=oe.amenities:$a=[oe.amenities]);let $s=[];oe.availability?.openDays&&(Array.isArray(oe.availability.openDays)?$s=oe.availability.openDays:$s=[oe.availability.openDays]);const tr=oe.description||oe.about||"";R({name:oe.name||"",address:lt.address||"",city:lt.city||"",state:lt.state||"",price:oe.price?.toString()||"",capacity:ze,description:tr,categoryId:Mt,menuId:ws,subMenuId:js,amenities:$a,highlights:mi,rooms:oe.rooms?.toString()||"",openTime:oe.availability?.openTime?Ke(oe.availability.openTime):"",closeTime:oe.availability?.closeTime?Ke(oe.availability.closeTime):"",openDays:$s});const ku=oe.image||oe.coverImage||oe.images&&Array.isArray(oe.images)&&oe.images[0]||oe.gallery&&typeof oe.gallery=="object"&&oe.gallery.photos&&Array.isArray(oe.gallery.photos)&&oe.gallery.photos[0]||oe.galleryInfo?.photos&&Array.isArray(oe.galleryInfo.photos)&&oe.galleryInfo.photos[0];ku?(L(ku),C(null)):(L(null),C(null));let Ns=[];oe.gallery&&typeof oe.gallery=="object"&&oe.gallery.photos&&Array.isArray(oe.gallery.photos)&&oe.gallery.photos.length>0?Ns=oe.gallery.photos:oe.gallery&&Array.isArray(oe.gallery)&&oe.gallery.length>0?Ns=oe.gallery:oe.galleryInfo?.photos&&Array.isArray(oe.galleryInfo.photos)&&oe.galleryInfo.photos.length>0?Ns=oe.galleryInfo.photos:oe.images&&Array.isArray(oe.images)&&oe.images.length>0&&(Ns=oe.images.slice(1)),console.log(" Loading gallery images:",{gallery:oe.gallery,galleryInfo:oe.galleryInfo,images:oe.images,galleryImagesList:Ns}),Ns.length>0?(ee(Ns),M([])):(ee([]),M([]));let Ba=[];if(oe.videos&&Array.isArray(oe.videos)&&oe.videos.length>0?Ba=oe.videos:oe.galleryInfo?.videos&&Array.isArray(oe.galleryInfo.videos)&&oe.galleryInfo.videos.length>0?Ba=oe.galleryInfo.videos:oe.gallery?.videos&&Array.isArray(oe.gallery.videos)&&oe.gallery.videos.length>0&&(Ba=oe.gallery.videos),Ba.length>0){const yr=Ba.filter(za=>!za||typeof za!="string"?!1:za.startsWith("http")||za.startsWith("https")||za.startsWith("/uploads"));U(yr),V([])}else U([]),V([]);lt.state&&lt.state.trim()&&await Pt(lt.state),j(!0),le(0)}catch(me){console.error("Error loading venue for editing:",me),alert("Failed to load venue data. Please try again.")}},_t=()=>{R({name:"",address:"",city:"",state:"",price:"",capacity:"",description:"",categoryId:"",menuId:"",subMenuId:"",amenities:[],highlights:[],rooms:"",openTime:"",closeTime:"",openDays:[]}),C(null),L(null),M([]),ee([]),V([]),U([]),ie(null),le(0),I(null),f([])},Ln=K=>{if(!K)return"N/A";if(typeof K=="string")return K;if(typeof K=="object"){const me=[];return K.address&&me.push(K.address),K.city&&me.push(K.city),K.state&&me.push(K.state),K.pincode&&me.push(K.pincode),me.length>0?me.join(", "):"N/A"}return"N/A"},an=K=>K?typeof K=="number"?K.toString():typeof K=="object"?K.minGuests&&K.maxGuests?`${K.minGuests} - ${K.maxGuests}`:K.minGuests?K.minGuests.toString():K.maxGuests?K.maxGuests.toString():"N/A":K.toString():"N/A",Fn=K=>{const oe={approved:{icon:Ca,color:"green",text:"Approved (Inactive)"},active:{icon:VE,color:"green",text:"Active"},pending:{icon:Ia,color:"orange",text:"Pending"},rejected:{icon:Hl,color:"red",text:"Rejected"}}[K]||{icon:Ia,color:"gray",text:K},We=oe.icon;return n.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium bg-${oe.color}-100 text-${oe.color}-700`,children:[n.jsx(We,{className:"w-3 h-3"}),n.jsx("span",{children:oe.text})]})};return m?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n.jsxs("div",{className:"space-y-6",children:[!r&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Venues"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your wedding venues"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:Ve,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[n.jsx(vu,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]}),zl("vendor_create_venues")&&n.jsxs("button",{onClick:()=>e("/vendor/venues/add"),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[n.jsx(Fr,{className:"w-5 h-5"}),n.jsx("span",{children:"Add Venue"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Status:"}),n.jsxs("select",{value:S,onChange:K=>O(K.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Venues"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved (Inactive)"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"rejected",children:"Rejected"})]}),S!=="all"&&n.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",s.filter(K=>K.status===S).length," ",S==="approved"?"approved (inactive)":S," venue(s)"]})]}),s.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-primary-50 rounded-full mb-4",children:n.jsx(gs,{className:"w-10 h-10 text-primary-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Venues Yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Start by adding your first venue to showcase it to customers"}),n.jsx("button",{onClick:()=>e("/vendor/venues/add"),className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"Add Your First Venue"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.isArray(s)&&s.filter(K=>S==="all"||K.status===S).map(K=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition",children:[n.jsxs("div",{className:"relative h-48 bg-gray-200",children:[K.images&&K.images[0]?n.jsx("img",{src:Yc(K.images[0]),alt:K.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Of,{className:"w-12 h-12 text-gray-400"})}),n.jsx("div",{className:"absolute top-3 right-3",children:Fn(K.status)})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:K.name}),n.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[n.jsx(gs,{className:"w-4 h-4 mr-1"}),n.jsx("span",{className:"text-sm",children:Ln(K.location)})]}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Dm,{className:"w-4 h-4 mr-1"}),n.jsxs("span",{className:"text-sm",children:[an(K.capacity)," guests"]})]}),n.jsx("div",{className:"flex items-center text-primary-600 font-semibold",children:n.jsxs("span",{children:["",(K.price||K.pricingInfo?.rentalPrice||0)>0?(K.price||K.pricingInfo?.rentalPrice||0).toLocaleString():"N/A"]})})]}),K.description&&n.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:K.description}),(K.status==="approved"||K.status==="active")&&n.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[K.vendorActive!==!1?n.jsx(VE,{className:"w-4 h-4 text-green-600"}):n.jsx(NX,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:K.vendorActive!==!1?"Active":"Inactive"})]}),n.jsx("button",{onClick:()=>jt(K),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${K.vendorActive!==!1?"bg-green-500":"bg-gray-300"}`,title:K.vendorActive!==!1?"Deactivate venue":"Activate venue",children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${K.vendorActive!==!1?"translate-x-6":"translate-x-1"}`})})]})}),(()=>{const me=(K.id||K._id)?.toString(),oe=St[me],We=K.ratingInfo?.average||K.ratingAverage||oe?.average||0,ze=K.ratingInfo?.totalReviews||K.totalReviews||oe?.count||0;return We>0||ze>0?n.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((lt,Mt)=>n.jsx(Ri,{className:`w-4 h-4 ${Mt<Math.round(Number(We))?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Mt))}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Number(We).toFixed(1)}),n.jsxs("span",{className:"text-sm text-gray-600",children:["(",ze," ",ze===1?"review":"reviews",")"]})]}),n.jsxs("button",{onClick:()=>Oe(K),className:"flex items-center space-x-1 text-sm text-primary-600 hover:text-primary-700 font-medium",children:[n.jsx(Zi,{className:"w-4 h-4"}),n.jsx("span",{children:"View Reviews"})]})]}):null})(),n.jsxs("div",{className:"flex items-center space-x-2",children:[zl("vendor_edit_venues")&&n.jsxs("button",{onClick:()=>Xt(K),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-primary-50 text-primary-600 rounded-lg hover:bg-primary-100 transition",children:[n.jsx(ss,{className:"w-4 h-4"}),n.jsx("span",{children:"Edit"})]}),zl("vendor_delete_venues")&&n.jsx("button",{onClick:()=>$t(K.id||K._id,K.name),className:"flex items-center justify-center px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition",children:n.jsx(Kr,{className:"w-4 h-4"})})]})]})]},K.id||K._id))}),b.pages>1&&n.jsx("div",{className:"mt-6",children:n.jsx(On,{currentPage:b.page,totalPages:b.pages,totalItems:b.total,itemsPerPage:b.limit,onPageChange:K=>v(me=>({...me,page:K}))})})]})]}),(N||r)&&n.jsx("div",{className:r?"max-w-5xl mx-auto w-full px-4 sm:px-6 lg:px-8":"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:r?"bg-white rounded-2xl shadow-sm border border-gray-200 w-full my-6":"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:`sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between ${r?"relative":""}`,children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[k?"Edit Venue":"Add New Venue"," (",ge+1,"/4)"]}),n.jsx("button",{onClick:()=>{r?e("/vendor/venues"):j(!1),_t()},className:"text-gray-400 hover:text-gray-600",children:n.jsx(er,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("div",{className:"flex space-x-2",children:[0,1,2,3].map(K=>n.jsx("div",{className:`flex-1 h-2 rounded ${K<=ge?"bg-primary-600":"bg-gray-300"}`},K))})}),n.jsxs("form",{onSubmit:sr,className:"p-6",children:[ge===0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue Name *"}),n.jsx("input",{type:"text",name:"name",value:P.name,onChange:Ye,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-md font-semibold mb-4",children:"Location *"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsx("input",{type:"text",name:"address",value:P.address,onChange:Ye,placeholder:"Street address, building name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),n.jsxs("select",{name:"state",value:P.state,onChange:Ye,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select State"}),fe.map(K=>n.jsx("option",{value:K,children:K},K))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsxs("select",{name:"city",value:P.city,onChange:Ye,disabled:!P.state||de,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:P.state?de?"Loading Cities...":"Select City":"Select State First"}),J.map(K=>n.jsx("option",{value:K,children:K},K))]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price () *"}),n.jsx("input",{type:"number",name:"price",value:P.price,onChange:Ye,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity *"}),n.jsx("input",{type:"number",name:"capacity",value:P.capacity,onChange:Ye,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{name:"description",value:P.description,onChange:Ye,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),ge===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Images"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gallery Images"}),k&&$.length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Current Gallery Images (click X to remove):"}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:$.map((K,me)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:Yc(K),alt:`Gallery ${me+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-300",onError:oe=>{oe.target.style.display="none"}}),n.jsx("button",{type:"button",onClick:()=>Fa(me),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove image",children:n.jsx(er,{className:"w-3 h-3"})})]},me))}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Upload new images to add to gallery"})]}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:It,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),D.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"New Gallery Images:"}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:D.map((K,me)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:URL.createObjectURL(K),alt:`Gallery ${me+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-300"}),n.jsx("button",{type:"button",onClick:()=>M(D.filter((oe,We)=>We!==me)),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",children:n.jsx(er,{className:"w-3 h-3"})})]},me))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Videos"}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Upload video files or add video URLs (max 5 videos, 100MB per file)"}),k&&re.length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Current Videos (click X to remove):"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:re.map((K,me)=>{const oe=Yc(K);return n.jsxs("div",{className:"relative group bg-gray-50 rounded-lg overflow-hidden border border-gray-200",children:[n.jsxs("div",{className:"relative aspect-video bg-gray-900",children:[n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:n.jsx(Xf,{className:"w-16 h-16 text-gray-400"})}),n.jsx("button",{type:"button",onClick:We=>{We.preventDefault(),We.stopPropagation(),console.log("Opening video modal:",oe),ie({url:oe,index:me,title:`Video ${me+1}`})},className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 hover:bg-opacity-50 transition-opacity group cursor-pointer",title:"Play video",children:n.jsx("div",{className:"bg-white bg-opacity-90 rounded-full p-4 group-hover:bg-opacity-100 transition transform group-hover:scale-110",children:n.jsx(zE,{className:"w-8 h-8 text-primary-600 fill-primary-600"})})})]}),n.jsxs("div",{className:"p-2 flex items-center justify-between",children:[n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("p",{className:"text-xs text-gray-600 truncate",title:oe,children:oe.length>40?`${oe.substring(0,40)}...`:oe})}),n.jsx("button",{type:"button",onClick:()=>Yr(me),className:"ml-2 text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition",title:"Remove video",children:n.jsx(er,{className:"w-4 h-4"})})]})]},me)})}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Click play button to preview video. Upload new videos or add URLs to add more"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Upload Video Files:"}),n.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:Ur,className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm"}),q.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selected Video Files:"}),n.jsx("div",{className:"space-y-1",children:q.map((K,me)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-700 truncate flex-1",children:K.name}),n.jsx("button",{type:"button",onClick:()=>Fs(me),className:"ml-2 text-red-500 hover:text-red-700",children:n.jsx(er,{className:"w-4 h-4"})})]},me))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Or Add Video URL:"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{id:"videoUrlInput",type:"url",placeholder:"https://example.com/video.mp4",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm",onKeyPress:K=>{K.key==="Enter"&&(K.preventDefault(),sn())}}),n.jsx("button",{type:"button",onClick:sn,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition text-sm",children:"Add"})]}),re.length>0&&!k&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Video URLs (click play to preview):"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:re.map((K,me)=>{const oe=Yc(K),We=te===`new-${me}`;return n.jsxs("div",{className:"relative group bg-gray-50 rounded-lg overflow-hidden border border-gray-200",children:[n.jsx("div",{className:"relative aspect-video bg-gray-900",children:We?n.jsxs("video",{controls:!0,autoPlay:!0,playsInline:!0,className:"w-full h-full object-contain",onEnded:()=>ie(null),onError:ze=>{console.error("Video playback error:",ze,oe),alert(`Video could not be loaded.
URL: ${oe}

Please check:
1. Video URL is accessible
2. Video format is supported (MP4, WebM, etc.)
3. CORS is enabled on server`),ie(null)},onLoadedData:ze=>{console.log("Video loaded:",oe),ze.target.play().catch(Mt=>{console.error("Auto-play failed:",Mt)})},onCanPlay:()=>{console.log("Video can play:",oe)},preload:"auto",crossOrigin:"anonymous",children:[n.jsx("source",{src:oe,type:"video/mp4"}),"Your browser does not support the video tag."]},`new-video-${me}`):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Xf,{className:"w-12 h-12 text-gray-400"})}),n.jsx("button",{type:"button",onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),console.log("Playing video:",oe),ie(`new-${me}`)},className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 hover:bg-opacity-50 transition-opacity group cursor-pointer",title:"Play video",children:n.jsx("div",{className:"bg-white bg-opacity-90 rounded-full p-3 group-hover:bg-opacity-100 transition",children:n.jsx(zE,{className:"w-6 h-6 text-primary-600 fill-primary-600"})})})]})}),n.jsxs("div",{className:"p-2 flex items-center justify-between",children:[n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("p",{className:"text-xs text-gray-600 truncate",title:oe,children:oe.length>40?`${oe.substring(0,40)}...`:oe})}),n.jsx("button",{type:"button",onClick:()=>{We&&ie(null),Rn(me)},className:"ml-2 text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition",title:"Remove video",children:n.jsx(er,{className:"w-4 h-4"})})]})]},me)})})]})]})]})]}),ge===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Category & Amenities"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),n.jsxs("select",{name:"categoryId",value:P.categoryId,onChange:Ye,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"No Category"}),i.map(K=>n.jsx("option",{value:K.id||K._id,children:K.name},K.id||K._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Menu"}),n.jsxs("select",{name:"menuId",value:String(P.menuId||""),onChange:Ye,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"No Menu"}),c.map(K=>{const me=String(K._id||K.id||"");return n.jsx("option",{value:me,children:K.name},me)})]}),c.length===0&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m?"Loading menus...":"No menus available. Please contact admin."}),!1]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Submenu"}),n.jsxs("select",{name:"subMenuId",value:String(P.subMenuId||""),onChange:Ye,disabled:!P.menuId,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:P.menuId?h.length===0?"No Submenus Available":"Select Submenu":"Select Menu First"}),h.map(K=>{const me=String(K._id||K.id||"");return n.jsx("option",{value:me,children:K.name},me)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:we.map(K=>n.jsx("button",{type:"button",onClick:()=>ne(K),className:`px-3 py-1 rounded-full text-sm font-medium transition ${P.amenities.includes(K)?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:K},K))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Highlights"}),n.jsxs("div",{className:"space-y-2",children:[(P.highlights||[]).map((K,me)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:K,onChange:oe=>{const ze=[...P.highlights||[]];ze[me]=oe.target.value,R({...P,highlights:ze})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter highlight"}),n.jsx("button",{type:"button",onClick:()=>{const We=(P.highlights||[]).filter((ze,lt)=>lt!==me);R({...P,highlights:We})},className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:n.jsx(er,{className:"w-4 h-4"})})]},me)),n.jsx("button",{type:"button",onClick:()=>R({...P,highlights:[...P.highlights||[],""]}),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"+ Add Highlight"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Rooms"}),n.jsx("input",{type:"number",name:"rooms",value:P.rooms,onChange:Ye,min:"0",placeholder:"Enter number of rooms",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[n.jsx("h4",{className:"text-md font-semibold mb-4",children:"Availability & Timing"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opening Time"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("select",{name:"openTimeHour",value:(()=>{if(!P.openTime)return 9;const K=P.openTime.match(/(\d{1,2}):/);return K?parseInt(K[1]):9})(),onChange:K=>{const me=parseInt(K.target.value),oe=P.openTime||"9:00 AM",We=oe.match(/:(\d{2})\s*(AM|PM)/i),ze=We?We[1]:"00",lt=oe.includes("PM")||oe.includes("pm")?"PM":"AM";R(Mt=>({...Mt,openTime:`${me}:${ze} ${lt}`}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:Array.from({length:12},(K,me)=>me+1).map(K=>n.jsx("option",{value:K,children:K},K))}),n.jsx("span",{className:"text-gray-600",children:":"}),n.jsx("select",{name:"openTimeMinute",value:(()=>{if(!P.openTime)return"00";const K=P.openTime.match(/:(\d{2})\s*(AM|PM)/i);return K?K[1]:"00"})(),onChange:K=>{const me=K.target.value,oe=P.openTime||"9:00 AM",We=oe.match(/(\d{1,2}):/),ze=We?We[1]:"9",lt=oe.includes("PM")||oe.includes("pm")?"PM":"AM";R(Mt=>({...Mt,openTime:`${ze}:${me} ${lt}`}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:Array.from({length:60},(K,me)=>me.toString().padStart(2,"0")).map(K=>n.jsx("option",{value:K,children:K},K))}),n.jsxs("select",{name:"openTimeAmPm",value:P.openTime&&(P.openTime.includes("PM")||P.openTime.includes("pm"))?"PM":"AM",onChange:K=>{const me=K.target.value,We=(P.openTime||"9:00 AM").match(/(\d{1,2}):(\d{2})/),ze=We?We[1]:"9",lt=We?We[2]:"00";R(Mt=>({...Mt,openTime:`${ze}:${lt} ${me}`}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"AM",children:"AM"}),n.jsx("option",{value:"PM",children:"PM"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Closing Time"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("select",{name:"closeTimeHour",value:(()=>{if(!P.closeTime)return 6;const K=P.closeTime.match(/(\d{1,2}):/);return K?parseInt(K[1]):6})(),onChange:K=>{const me=parseInt(K.target.value),oe=P.closeTime||"6:00 PM",We=oe.match(/:(\d{2})\s*(AM|PM)/i),ze=We?We[1]:"00",lt=oe.includes("PM")||oe.includes("pm")?"PM":"AM";R(Mt=>({...Mt,closeTime:`${me}:${ze} ${lt}`}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:Array.from({length:12},(K,me)=>me+1).map(K=>n.jsx("option",{value:K,children:K},K))}),n.jsx("span",{className:"text-gray-600",children:":"}),n.jsx("select",{name:"closeTimeMinute",value:(()=>{if(!P.closeTime)return"00";const K=P.closeTime.match(/:(\d{2})\s*(AM|PM)/i);return K?K[1]:"00"})(),onChange:K=>{const me=K.target.value,oe=P.closeTime||"6:00 PM",We=oe.match(/(\d{1,2}):/),ze=We?We[1]:"6",lt=oe.includes("PM")||oe.includes("pm")?"PM":"AM";R(Mt=>({...Mt,closeTime:`${ze}:${me} ${lt}`}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:Array.from({length:60},(K,me)=>me.toString().padStart(2,"0")).map(K=>n.jsx("option",{value:K,children:K},K))}),n.jsxs("select",{name:"closeTimeAmPm",value:P.closeTime?P.closeTime.includes("PM")||P.closeTime.includes("pm")?"PM":"AM":"PM",onChange:K=>{const me=K.target.value,We=(P.closeTime||"6:00 PM").match(/(\d{1,2}):(\d{2})/),ze=We?We[1]:"6",lt=We?We[2]:"00";R(Mt=>({...Mt,closeTime:`${ze}:${lt} ${me}`}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"AM",children:"AM"}),n.jsx("option",{value:"PM",children:"PM"})]})]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Open Days"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:He.map(K=>n.jsx("button",{type:"button",onClick:()=>_e(K),className:`px-3 py-1 rounded-full text-sm font-medium transition ${P.openDays.includes(K)?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:K},K))})]})]})]}),ge===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Review & Submit"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Venue Name:"}),n.jsx("span",{className:"font-medium",children:P.name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Location:"}),n.jsx("span",{className:"font-medium",children:`${P.address||""}${P.address&&P.city?", ":""}${P.city||""}${(P.address||P.city)&&P.state?", ":""}${P.state||""}`.trim()||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Price:"}),n.jsxs("span",{className:"font-medium",children:["",P.price]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Capacity:"}),n.jsxs("span",{className:"font-medium",children:[P.capacity," guests"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Category:"}),n.jsx("span",{className:"font-medium",children:P.categoryId?i.find(K=>(K.id||K._id)===P.categoryId)?.name||"N/A":"No Category"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Amenities:"}),n.jsxs("span",{className:"font-medium",children:[P.amenities.length," selected"]})]}),(P.openTime||P.closeTime)&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Timing:"}),n.jsxs("span",{className:"font-medium",children:[P.openTime||"N/A"," - ",P.closeTime||"N/A"]})]}),P.openDays.length>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Open Days:"}),n.jsx("span",{className:"font-medium",children:P.openDays.join(", ")})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsxs("span",{className:"inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700",children:[n.jsx(Ia,{className:"w-3 h-3"}),n.jsx("span",{children:"Pending (Awaiting Admin Approval)"})]})]}),n.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-xs text-blue-700",children:[n.jsx("strong",{children:"Note:"})," Your venue will be submitted for admin approval. It will be visible to customers once approved."]})})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>{ge>0?le(ge-1):(r?e("/vendor/venues"):j(!1),_t())},className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:ge===0?"Cancel":"Previous"}),ge<3?n.jsx("button",{type:"button",onClick:()=>le(ge+1),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"Next"}):n.jsx("button",{type:"submit",disabled:Pe,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50",children:Pe?"Submitting...":k?"Update Venue":"Submit"})]})]})]})}),pe&&Q&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reviews"}),n.jsx("p",{className:"text-gray-600 mt-1",children:Q.name})]}),n.jsx("button",{onClick:()=>{se(!1),ve(null),xe([])},className:"text-gray-400 hover:text-gray-600",children:n.jsx(er,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Le?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):ue.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-primary-50 rounded-full mb-4",children:n.jsx(Zi,{className:"w-10 h-10 text-primary-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Reviews Yet"}),n.jsx("p",{className:"text-gray-600",children:"This venue hasn't received any reviews yet."})]}):n.jsx("div",{className:"space-y-4",children:ue.map(K=>{const me=K.userId,oe=me?.name||me?.email||"Anonymous",We=me?.email||"",ze=K.rating||0,lt=K.comment||"",Mt=K.createdAt?new Date(K.createdAt):new Date;return n.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-b-0",children:[n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((ws,js)=>n.jsx(Ri,{className:`w-4 h-4 ${js<ze?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},js))}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:oe}),We&&n.jsxs("span",{className:"text-sm text-gray-500",children:["(",We,")"]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:Ir(Mt,"MMM dd, yyyy")})]})}),lt&&n.jsx("p",{className:"text-gray-700 mt-2",children:lt}),K.reply&&n.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border-l-4 border-blue-500 rounded",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"Vendor Reply"}),K.reply.repliedAt&&n.jsx("span",{className:"text-xs text-blue-600",children:Ir(new Date(K.reply.repliedAt),"MMM dd, yyyy")})]}),n.jsx("p",{className:"text-blue-800 text-sm",children:K.reply.message})]})]},K._id||K.id)})})})]})}),ur&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm p-6 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ur.type==="delete"?"Delete Venue":ur.action==="deactivate"?"Deactivate Venue":"Activate Venue"}),n.jsx("p",{className:"text-sm text-gray-600",children:ur.type==="delete"?`Delete ${ur.name||"this venue"}? This action cannot be undone.`:`Are you sure you want to ${ur.action} ${ur.name||"this venue"}?`})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>bs(null),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50",disabled:kr,children:"Cancel"}),n.jsx("button",{onClick:()=>ur.type==="delete"?$t(ur.id,ur.name,!0):jt(ur.venue,!0),className:`px-4 py-2 rounded-lg ${ur.type==="delete"?"bg-red-600 hover:bg-red-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white"} disabled:opacity-50`,disabled:kr,children:kr?"Please wait...":ur.type==="delete"?"Delete":ur.action==="deactivate"?"Deactivate":"Activate"})]})]})}),te&&te.url&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>ie(null),children:n.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:K=>K.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:te.title||"Video Preview"}),n.jsx("button",{onClick:()=>ie(null),className:"text-gray-400 hover:text-gray-600 transition",title:"Close",children:n.jsx(er,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"relative bg-black",children:n.jsxs("video",{className:"w-full h-auto max-h-[70vh]",controls:!0,autoPlay:!0,playsInline:!0,onError:K=>{console.error("Video playback error:",K,te.url),alert(`Video could not be loaded.

URL: ${te.url}

Possible reasons:
1. Video file does not exist on server (404)
2. Video format not supported
3. CORS issue
4. Network error

Please verify the video file exists and is accessible.`)},onLoadedData:()=>{console.log("Video loaded successfully:",te.url)},preload:"auto",children:[n.jsx("source",{src:te.url,type:"video/mp4"}),n.jsx("source",{src:te.url,type:"video/webm"}),n.jsx("source",{src:te.url,type:"video/ogg"}),"Your browser does not support the video tag."]},te.url)}),n.jsx("div",{className:"p-4 bg-gray-50",children:n.jsxs("p",{className:"text-xs text-gray-600 break-all",children:[n.jsx("strong",{children:"Video URL:"})," ",te.url]})})]})}),Tr&&n.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:`rounded-xl shadow-xl w-full max-w-sm p-6 space-y-4 ${Tr.status==="error"?"bg-red-50 border-2 border-red-200":Tr.status==="success"?"bg-green-50 border-2 border-green-200":"bg-white border-2 border-gray-200"}`,children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:`text-lg font-semibold ${Tr.status==="error"?"text-red-900":Tr.status==="success"?"text-green-900":"text-gray-900"}`,children:Tr.title||"Notice"}),n.jsx("p",{className:`text-sm ${Tr.status==="error"?"text-red-700":Tr.status==="success"?"text-green-700":"text-gray-700"}`,children:Tr.message})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>_r(null),className:`px-4 py-2 rounded-lg text-white hover:opacity-90 transition ${Tr.status==="error"?"bg-red-600 hover:bg-red-700":Tr.status==="success"?"bg-green-600 hover:bg-green-700":"bg-primary-600 hover:bg-primary-700"}`,children:"OK"})})]})})]})}function Hke(){const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,i]=p.useState(new Set),[o,c]=p.useState({page:1,limit:10,total:0,pages:1}),[u,h]=p.useState(!1),[f,m]=p.useState([]),[y,b]=p.useState(!1),[v,N]=p.useState({venueId:"",date:"",dateFrom:"",dateTo:"",name:"",phone:"",email:"",marriageFor:"boy",personName:"",guests:"",foodPreference:"both",totalAmount:""}),[j,k]=p.useState(!1),[I,S]=p.useState(null),[O,P]=p.useState(null);p.useEffect(()=>{E(),R()},[]),p.useEffect(()=>{E()},[o.page]);const R=async()=>{try{const U=await mr.getVenues(),te=U.data?.data||U.data||[];m(te),te.length>0&&!v.venueId&&N(ie=>({...ie,venueId:te[0]._id||te[0].id}))}catch(U){console.error("Failed to load venues:",U)}},E=async()=>{try{s(!0);const U={page:o.page,limit:o.limit},te=await mr.getBookings(U),ie=te.data?.bookings||te.data?.data||te.data||[];t(Array.isArray(ie)?ie:[]),te.data?.pagination?c(H=>({...H,total:te.data.pagination.total||te.data.totalCount||ie.length,pages:te.data.pagination.pages||te.data.totalPages||1})):te.data?.totalCount&&c(H=>({...H,total:te.data.totalCount,pages:Math.ceil(te.data.totalCount/o.limit)}))}catch(U){console.error("Failed to load bookings:",U),t([])}finally{s(!1)}},C=(U,te)=>{S(U),P(te),k(!0)},F=async()=>{if(!(!I||!O))try{await mr.updateBookingStatus(I,O),k(!1),S(null),P(null),setTimeout(()=>{G.success(`Booking ${O} successfully!`)},100),E()}catch(U){k(!1),S(null),P(null),setTimeout(()=>{G.error(U.response?.data?.error||"Failed to update booking status")},100)}},L=()=>{k(!1),S(null),P(null)},D=U=>{const{name:te,value:ie}=U.target;N(H=>({...H,[te]:ie}))},M=async U=>{if(U.preventDefault(),!v.venueId||!v.date||!v.name||!v.phone||!v.guests){G.error("Please fill all required fields");return}if(parseInt(v.guests)<=0){G.error("Number of guests must be greater than 0");return}try{b(!0);const te={venueId:v.venueId,date:v.date,dateFrom:v.dateFrom||null,dateTo:v.dateTo||null,name:v.name,phone:v.phone,email:v.email||null,marriageFor:v.marriageFor,personName:v.personName||null,guests:parseInt(v.guests),foodPreference:v.foodPreference,totalAmount:v.totalAmount?parseFloat(v.totalAmount):0};await mr.createBooking(te),G.success("Booking added successfully!"),h(!1),N({venueId:f.length>0?f[0]._id||f[0].id:"",date:"",dateFrom:"",dateTo:"",name:"",phone:"",email:"",marriageFor:"boy",personName:"",guests:"",foodPreference:"both",totalAmount:""}),E()}catch(te){G.error(te.response?.data?.error||"Failed to add booking")}finally{b(!1)}},$=U=>{const te=new Set(a);te.has(U)?te.delete(U):te.add(U),i(te)},ee=U=>{if(!U)return"N/A";if(typeof U=="string")return U;if(typeof U=="object"){const te=[];return U.address&&te.push(U.address),U.city&&te.push(U.city),U.state&&te.push(U.state),U.pincode&&te.push(U.pincode),te.length>0?te.join(", "):"N/A"}return"N/A"},q=U=>!U&&U!==0?"0":typeof U=="number"?U.toString():typeof U=="object"?U.minGuests&&U.maxGuests?`${U.minGuests} - ${U.maxGuests}`:U.minGuests?U.minGuests.toString():U.maxGuests?U.maxGuests.toString():"0":U.toString(),V=U=>{const ie={confirmed:{icon:Ca,color:"green",text:"Confirmed"},pending:{icon:Ia,color:"orange",text:"Pending"},cancelled:{icon:Hl,color:"red",text:"Cancelled"}}[U]||{icon:Ia,color:"gray",text:U},H=ie.icon;return n.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium bg-${ie.color}-100 text-${ie.color}-700`,children:[n.jsx(H,{className:"w-4 h-4"}),n.jsx("span",{children:ie.text})]})},re=U=>{const ie={paid:{color:"green",text:"Paid"},pending:{color:"orange",text:"Pending"},failed:{color:"red",text:"Failed"}}[U]||{color:"gray",text:U};return n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium bg-${ie.color}-100 text-${ie.color}-700`,children:ie.text})};return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bookings"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your venue bookings"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[n.jsx(Fr,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Booking"})]}),n.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[n.jsx(vu,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]})]})]}),u&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between flex-shrink-0",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New Booking"}),n.jsx("button",{onClick:()=>h(!1),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition","aria-label":"Close modal",children:n.jsx(er,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"overflow-y-auto flex-1",children:n.jsxs("form",{onSubmit:M,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Venue ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"venueId",value:v.venueId,onChange:D,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[n.jsx("option",{value:"",children:"Select Venue"}),f.map(U=>n.jsx("option",{value:U._id||U.id,children:U.name},U._id||U.id))]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",name:"date",value:v.date,onChange:D,required:!0,min:Ir(new Date,"yyyy-MM-dd"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date (Optional)"}),n.jsx("input",{type:"date",name:"dateFrom",value:v.dateFrom,onChange:D,min:Ir(new Date,"yyyy-MM-dd"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date (Optional)"}),n.jsx("input",{type:"date",name:"dateTo",value:v.dateTo,onChange:D,min:v.dateFrom||Ir(new Date,"yyyy-MM-dd"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Customer Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"name",value:v.name,onChange:D,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"tel",name:"phone",value:v.phone,onChange:D,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (Optional)"}),n.jsx("input",{type:"email",name:"email",value:v.email,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marriage For"}),n.jsxs("select",{name:"marriageFor",value:v.marriageFor,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[n.jsx("option",{value:"boy",children:"Boy"}),n.jsx("option",{value:"girl",children:"Girl"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Person Name (Optional)"}),n.jsx("input",{type:"text",name:"personName",value:v.personName,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Number of Guests ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"guests",value:v.guests,onChange:D,required:!0,min:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Food Preference"}),n.jsxs("select",{name:"foodPreference",value:v.foodPreference,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[n.jsx("option",{value:"veg",children:"Vegetarian"}),n.jsx("option",{value:"non-veg",children:"Non-Vegetarian"}),n.jsx("option",{value:"both",children:"Both"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount (Optional)"}),n.jsx("input",{type:"number",name:"totalAmount",value:v.totalAmount,onChange:D,min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:y,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Adding...":"Add Booking"})]})]})})]})}),e.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[n.jsx(Cn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Bookings Yet"}),n.jsx("p",{className:"text-gray-600",children:"You don't have any bookings at the moment"})]}):n.jsx("div",{className:"space-y-4",children:e.map(U=>{const te=a.has(U.id||U._id),ie=U.venue||U.venueId,H=U.customer||U.customerId,z=U.name||H?.name||"Customer",ge=U.phone||H?.phone||"N/A",le=H?.email||"N/A",Pe=U.eventDate||U.date||U.createdAt;return n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:ie?.name||"Venue"}),n.jsx("p",{className:"text-gray-600",children:z})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[V(U.status),n.jsx("button",{onClick:()=>$(U.id||U._id),className:"text-gray-400 hover:text-gray-600",children:te?n.jsx(QQ,{className:"w-5 h-5"}):n.jsx(Mm,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Event Date"}),n.jsxs("div",{className:"flex items-center text-sm font-semibold",children:[n.jsx(Cn,{className:"w-4 h-4 mr-1 text-gray-400"}),Pe?Ir(new Date(Pe),"MMM dd, yyyy"):"N/A"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Guests"}),n.jsxs("div",{className:"flex items-center text-sm font-semibold",children:[n.jsx(Dm,{className:"w-4 h-4 mr-1 text-gray-400"}),q(U.guests||U.capacity||0)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Amount"}),n.jsxs("div",{className:"flex items-center text-sm font-semibold text-primary-600",children:[n.jsx("span",{className:"text-lg font-bold mr-1",children:""}),U.totalAmount?.toLocaleString()||U.amount?.toLocaleString()||0]})]})]}),te&&n.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Customer Details"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx("span",{className:"text-gray-600 w-24",children:"Name:"}),n.jsx("span",{className:"font-medium",children:z})]}),n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(tc,{className:"w-4 h-4 mr-2 text-gray-400"}),n.jsx("span",{className:"text-gray-600 w-24",children:"Phone:"}),n.jsx("span",{className:"font-medium",children:ge})]}),n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(di,{className:"w-4 h-4 mr-2 text-gray-400"}),n.jsx("span",{className:"text-gray-600 w-24",children:"Email:"}),n.jsx("span",{className:"font-medium",children:le})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Event Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[ie?.location&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(gs,{className:"w-4 h-4 mr-2 text-gray-400"}),n.jsx("span",{className:"text-gray-600 w-24",children:"Location:"}),n.jsx("span",{className:"font-medium",children:ee(ie.location)})]}),Pe&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Cn,{className:"w-4 h-4 mr-2 text-gray-400"}),n.jsx("span",{className:"text-gray-600 w-24",children:"Event Date:"}),n.jsx("span",{className:"font-medium",children:Ir(new Date(Pe),"MMM dd, yyyy")})]}),U.dateFrom&&U.dateTo&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Cn,{className:"w-4 h-4 mr-2 text-gray-400"}),n.jsx("span",{className:"text-gray-600 w-24",children:"Date Range:"}),n.jsxs("span",{className:"font-medium",children:[Ir(new Date(U.dateFrom),"MMM dd")," - ",Ir(new Date(U.dateTo),"MMM dd, yyyy")]})]}),U.eventType&&n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-600 w-24",children:"Event Type:"}),n.jsx("span",{className:"font-medium capitalize",children:U.eventType})]}),U.personName&&n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-600 w-24",children:"Person Name:"}),n.jsx("span",{className:"font-medium",children:U.personName})]}),U.foodPreference&&n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-600 w-24",children:"Food:"}),n.jsx("span",{className:"font-medium capitalize",children:U.foodPreference})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Payment Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-600 w-24",children:"Status:"}),re(U.paymentStatus||"pending")]}),U.paymentId&&n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-600 w-24",children:"Payment ID:"}),n.jsx("span",{className:"font-medium",children:U.paymentId})]}),U.createdAt&&n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-600 w-24",children:"Booked On:"}),n.jsx("span",{className:"font-medium",children:Ir(new Date(U.createdAt),"MMM dd, yyyy hh:mm a")})]})]})]}),U.status==="pending"&&n.jsxs("div",{className:"pt-4 border-t border-gray-200 flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>C(U.id||U._id,"confirmed"),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[n.jsx(Ca,{className:"w-4 h-4"}),n.jsx("span",{children:"Confirm"})]}),n.jsxs("button",{onClick:()=>C(U.id||U._id,"cancelled"),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[n.jsx(Hl,{className:"w-4 h-4"}),n.jsx("span",{children:"Cancel"})]})]})]})]})},U.id||U._id)})}),o.pages>1&&n.jsx("div",{className:"mt-6",children:n.jsx(On,{currentPage:o.page,totalPages:o.pages,totalItems:o.total,itemsPerPage:o.limit,onPageChange:U=>c(te=>({...te,page:U}))})}),j&&O&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:O==="confirmed"?"Confirm Booking":"Cancel Booking"})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to ",O==="confirmed"?"confirm":"cancel"," this booking?"]}),O==="cancelled"&&n.jsx("p",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg mb-4",children:"This action cannot be undone."}),n.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[n.jsx("button",{onClick:L,className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium",children:"Cancel"}),n.jsx("button",{onClick:F,className:`px-6 py-2.5 rounded-lg hover:opacity-90 transition font-medium ${O==="confirmed"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:O==="confirmed"?"Confirm":"Cancel Booking"})]})]})]})})]})}function qke(){const[e,t]=p.useState([]),[r,s]=p.useState(!0);p.useEffect(()=>{a()},[]);const a=async()=>{try{s(!0);const h=await mr.getPayouts(),f=h.data?.payouts||h.data?.data||h.data||[];t(Array.isArray(f)?f:[])}catch(h){console.error("Failed to load payouts:",h),t([])}finally{s(!1)}},i=h=>{const m={paid:{icon:Ca,color:"green",text:"Paid"},pending:{icon:Ia,color:"orange",text:"Pending"}}[h]||{icon:Ia,color:"gray",text:h},y=m.icon;return n.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium bg-${m.color}-100 text-${m.color}-700`,children:[n.jsx(y,{className:"w-4 h-4"}),n.jsx("span",{children:m.text})]})};if(r)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const o=e.reduce((h,f)=>h+(f.amount||0),0),c=e.filter(h=>h.payment_status==="paid").reduce((h,f)=>h+(f.amount||0),0),u=e.filter(h=>h.payment_status==="pending").reduce((h,f)=>h+(f.amount||0),0);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payouts"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"View your payment history"})]}),n.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[n.jsx(vu,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Payouts"}),n.jsx(Jf,{className:"w-5 h-5 text-gray-400"})]}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",o.toLocaleString()]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Paid"}),n.jsx(Ca,{className:"w-5 h-5 text-green-500"})]}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",c.toLocaleString()]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsx(Ia,{className:"w-5 h-5 text-orange-500"})]}),n.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["",u.toLocaleString()]})]})]}),e.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[n.jsx(Jf,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Payouts Yet"}),n.jsx("p",{className:"text-gray-600",children:"You don't have any payouts at the moment"})]}):n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(h=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["",h.amount?.toLocaleString()||0]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["",h.commission?.toLocaleString()||0]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i(h.payment_status||"pending")}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-600",children:h.createdAt?Ir(new Date(h.createdAt),"MMM dd, yyyy"):"N/A"})})]},h.id||h._id))})]})})})]})}function Gke(){const[e,t]=p.useState(new Date),[r,s]=p.useState(null),[a,i]=p.useState([]),[o,c]=p.useState([]),[u,h]=p.useState(!0),[f,m]=p.useState([]),[y,b]=p.useState(!1);p.useEffect(()=>{v()},[]),p.useEffect(()=>{a.length>0&&N()},[a,r]);const v=async()=>{try{const L=await mr.getVenues(),D=L.data?.data||L.data||[];i(D),D.length>0&&!r&&s(D[0]._id||D[0].id)}catch(L){console.error("Failed to load venues:",L)}},N=async()=>{try{h(!0);const D=(await mr.getBlockedDates(r)).data?.data||[];c(Array.isArray(D)?D:[D])}catch(L){console.error("Failed to load dates:",L),c([])}finally{h(!1)}},j=L=>{const D=Ir(L,"yyyy-MM-dd"),M=Ir(new Date,"yyyy-MM-dd");D<M||m($=>$.includes(D)?$.filter(ee=>ee!==D):[...$,D])},k=async()=>{if(!(f.length===0||!r))try{b(!0),await mr.addBlockedDates(r,f),alert("Dates blocked successfully!"),m([]),N()}catch(L){alert(L.response?.data?.error||"Failed to block dates")}finally{b(!1)}},I=async()=>{if(!(f.length===0||!r))try{b(!0),await mr.removeBlockedDates(r,f),alert("Dates unblocked successfully!"),m([]),N()}catch(L){alert(L.response?.data?.error||"Failed to unblock dates")}finally{b(!1)}},S=L=>{const D=Ir(L,"yyyy-MM-dd"),M=Ir(new Date,"yyyy-MM-dd");if(D<M)return"past";const $=o.find(V=>V.venueId===r||V.venueId?._id===r||V.venueId?.toString()===r);if(!$)return"available";const{blockedDates:ee=[],bookedDates:q=[]}=$;return q.includes(D)?"booked":ee.includes(D)?"blocked":f.includes(D)?"selected":"available"},O=$2e(e),P=L2e(e),R=qd(O),E=z2e(P),C=F2e({start:R,end:E}),F=o.find(L=>L.venueId===r||L.venueId?._id===r||L.venueId?.toString()===r);return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Calendar Management"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Manage booked and blocked dates"})]}),n.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-3 py-1.5 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition text-sm",children:[n.jsx(vu,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:"Refresh"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Select Venue"}),n.jsx("select",{value:r||"",onChange:L=>{s(L.target.value),m([])},className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:a.map(L=>n.jsx("option",{value:L._id||L.id,children:L.name},L._id||L.id))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("button",{onClick:()=>t(zke(e)),className:"p-1.5 hover:bg-gray-100 rounded-lg transition",children:n.jsx(X2,{className:"w-4 h-4"})}),n.jsx("h2",{className:"text-base font-bold text-gray-900",children:Ir(e,"MMMM yyyy")}),n.jsx("button",{onClick:()=>t(sz(e,1)),className:"p-1.5 hover:bg-gray-100 rounded-lg transition",children:n.jsx(Jd,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 p-2 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("div",{className:"w-3 h-3 bg-green-100 border-2 border-green-500 rounded"}),n.jsx("span",{className:"text-xs text-gray-700",children:"Available"})]}),n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),n.jsx("span",{className:"text-xs text-gray-700",children:"Booked"})]}),n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),n.jsx("span",{className:"text-xs text-gray-700",children:"Blocked"})]}),n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),n.jsx("span",{className:"text-xs text-gray-700",children:"Selected"})]}),n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded"}),n.jsx("span",{className:"text-xs text-gray-700",children:"Past"})]})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(L=>n.jsx("div",{className:"text-center font-semibold text-gray-700 py-1 text-xs",children:L},L)),C.map((L,D)=>{const M=S(L),$=Bke(L,e),ee=D2e(L,new Date);f.includes(Ir(L,"yyyy-MM-dd"));const q=()=>{let V="aspect-square flex items-center justify-center rounded-lg cursor-pointer transition-all ";return $?M==="past"?V+="bg-gray-100 text-gray-400 cursor-not-allowed ":M==="booked"?V+="bg-red-500 text-white hover:bg-red-600 ":M==="blocked"?V+="bg-orange-500 text-white hover:bg-orange-600 ":M==="selected"?V+="bg-blue-500 text-white hover:bg-blue-600 ":V+="bg-green-50 text-gray-900 hover:bg-green-100 border-2 border-green-200 ":V+="text-gray-300 ",ee&&$&&(V+="ring-2 ring-primary-500 ring-offset-2 "),V};return n.jsx("div",{onClick:()=>j(L),className:q(),children:n.jsx("span",{className:"text-xs font-medium",children:Ir(L,"d")})},D)})]}),f.length>0&&n.jsxs("div",{className:"mt-3 p-2 bg-blue-50 rounded-lg flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs font-medium text-gray-700",children:[f.length," date(s) selected"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[f.slice(0,3).join(", "),f.length>3&&` +${f.length-3} more`]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:k,disabled:y,className:"flex items-center space-x-1.5 px-3 py-1.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition disabled:opacity-50 text-xs",children:[n.jsx(er,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:"Block"})]}),n.jsxs("button",{onClick:I,disabled:y,className:"flex items-center space-x-1.5 px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50 text-xs",children:[n.jsx(Wl,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:"Unblock"})]}),n.jsx("button",{onClick:()=>m([]),className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition text-xs",children:"Clear"})]})]}),F&&n.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[n.jsxs("div",{className:"p-2 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Available"}),n.jsx("p",{className:"text-lg font-bold text-green-600",children:F.allUnavailableDates?365-F.allUnavailableDates.length:"N/A"})]}),n.jsxs("div",{className:"p-2 bg-red-50 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Booked"}),n.jsx("p",{className:"text-lg font-bold text-red-600",children:F.bookedDates?.length||0})]}),n.jsxs("div",{className:"p-2 bg-orange-50 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Blocked"}),n.jsx("p",{className:"text-lg font-bold text-orange-600",children:F.blockedDates?.length||0})]})]})]})]})}function Kke(){const[e,t]=p.useState({transactions:[],summary:{totalIncome:0,totalExpenses:0,netBalance:0,pendingIncome:0,pendingExpenses:0,monthlyIncome:0,monthlyExpenses:0,monthlyNet:0},counts:{totalTransactions:0,incomeCount:0,expenseCount:0}}),[r,s]=p.useState(!0),[a,i]=p.useState("all"),[o,c]=p.useState(!1),[u,h]=p.useState(null),[f,m]=p.useState({type:"income",category:"",description:"",amount:"",date:new Date().toISOString().split("T")[0],status:"paid",reference:"",venueId:"",notes:""}),[y,b]=p.useState(!1),[v,N]=p.useState([]),[j,k]=p.useState(!1),[I,S]=p.useState(null),[O,P]=p.useState(null);p.useEffect(()=>{E(),R()},[]);const R=async()=>{try{const V=await mr.getVenues(),re=V.data?.venues||V.data?.data||V.data||[];N(Array.isArray(re)?re:[])}catch(V){console.error("Failed to load venues:",V),N([])}},E=async()=>{try{s(!0);const V=await mr.getLedger();t(V.data)}catch(V){console.error("Failed to load ledger:",V)}finally{s(!1)}},C=a==="all"?e.transactions:a==="unpaid-expenses"?e.transactions.filter(V=>V.type==="expense"&&V.status!=="paid"&&V.status!=="cancelled"):e.transactions.filter(V=>V.type===a),F=V=>{const{name:re,value:U}=V.target;m(te=>({...te,[re]:U}))},L=async V=>{if(V.preventDefault(),!f.category||!f.category.trim()){P({title:"Missing Information",message:"Category is required.",type:"error"});return}if(!f.description||!f.description.trim()){P({title:"Missing Information",message:"Description is required.",type:"error"});return}if(!f.amount||f.amount<=0){P({title:"Invalid Amount",message:"Amount must be greater than 0.",type:"error"});return}try{b(!0);const re={type:f.type,category:f.category.trim(),description:f.description.trim(),amount:Number(f.amount),date:f.date,status:f.status,reference:f.reference.trim(),venueId:f.venueId||null,notes:f.notes.trim()};u?(await mr.updateLedgerEntry(u.id,re),P({title:"Entry Updated",message:"Ledger entry updated successfully.",type:"success"})):(await mr.addLedgerEntry(re),P({title:"Entry Added",message:"Ledger entry added successfully.",type:"success"})),c(!1),h(null),q(),await E()}catch(re){console.error("Failed to save ledger entry:",re),P({title:"Save Failed",message:re.response?.data?.error||"Failed to save ledger entry.",type:"error"})}finally{b(!1)}},D=V=>{if(!V.isManual){P({title:"Not Allowed",message:"Only manual entries can be edited.",type:"error"});return}h(V),m({type:V.type,category:V.category||"",description:V.description||"",amount:V.amount?.toString()||"",date:V.date?new Date(V.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],status:V.status||"paid",reference:V.reference||"",venueId:V.venueId?._id||V.venueId?.id||V.venueId||"",notes:V.notes||""}),c(!0)},M=V=>{if(!V.isManual){P({title:"Not Allowed",message:"Only manual entries can be deleted.",type:"error"});return}S(V),k(!0)},$=async()=>{if(I)try{await mr.deleteLedgerEntry(I.id),k(!1),S(null),P({title:"Entry Deleted",message:"Ledger entry deleted successfully.",type:"success"}),await E()}catch(V){console.error("Failed to delete ledger entry:",V),P({title:"Delete Failed",message:V.response?.data?.error||"Failed to delete ledger entry.",type:"error"}),k(!1),S(null)}},ee=()=>{k(!1),S(null)},q=()=>{m({type:"income",category:"",description:"",amount:"",date:new Date().toISOString().split("T")[0],status:"paid",reference:"",venueId:"",notes:""}),h(null)};return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ledger"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Complete financial transaction history"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[zl("vendor_create_ledger")&&n.jsxs("button",{onClick:()=>{q(),c(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[n.jsx(Fr,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Entry"})]}),n.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[n.jsx(vu,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Income"}),n.jsx(ek,{className:"w-5 h-5 text-green-500"})]}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",e.summary.totalIncome.toLocaleString()]}),e.summary.pendingIncome>0&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Pending: ",e.summary.pendingIncome.toLocaleString()]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Expenses"}),n.jsx(OL,{className:"w-5 h-5 text-red-500"})]}),n.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",e.summary.totalExpenses.toLocaleString()]}),e.summary.pendingExpenses>0&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Pending: ",e.summary.pendingExpenses.toLocaleString()]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Net Balance"}),n.jsx("span",{className:"text-2xl font-bold text-primary-600",children:""})]}),n.jsxs("p",{className:`text-2xl font-bold ${e.summary.netBalance>=0?"text-green-600":"text-red-600"}`,children:["",e.summary.netBalance.toLocaleString()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"After all transactions"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"This Month"}),n.jsx(Cn,{className:"w-5 h-5 text-blue-500"})]}),n.jsxs("p",{className:`text-2xl font-bold ${e.summary.monthlyNet>=0?"text-green-600":"text-red-600"}`,children:["",e.summary.monthlyNet.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Income: ",e.summary.monthlyIncome.toLocaleString()," | Expenses: ",e.summary.monthlyExpenses.toLocaleString()]})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(EL,{className:"w-5 h-5 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"})]}),n.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${a==="all"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Transactions"}),n.jsx("button",{onClick:()=>i("income"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${a==="income"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Income Only"}),n.jsx("button",{onClick:()=>i("expense"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${a==="expense"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Expenses Only"}),n.jsx("button",{onClick:()=>i("unpaid-expenses"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${a==="unpaid-expenses"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Unpaid Expenses"})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Transaction History (",C.length,")"]})}),C.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("span",{className:"text-6xl text-gray-400 mx-auto mb-4 block",children:""}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Transactions"}),n.jsx("p",{className:"text-gray-600",children:"No transactions found for the selected filter"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(V=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:Ir(new Date(V.date),"MMM dd, yyyy")}),n.jsx("div",{className:"text-xs text-gray-500",children:Ir(new Date(V.date),"hh:mm a")})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium ${V.type==="income"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[V.type==="income"?n.jsx(OQ,{className:"w-3 h-3"}):n.jsx(_Q,{className:"w-3 h-3"}),n.jsx("span",{className:"capitalize",children:V.type})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.description}),V.venueName&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Venue: ",V.venueName]}),V.customerName&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Customer: ",V.customerName]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-600",children:V.reference})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${V.status==="paid"?"bg-green-100 text-green-700":V.status==="pending"?"bg-orange-100 text-orange-700":V.status==="unpaid"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:V.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsxs("div",{className:`text-sm font-bold ${V.type==="income"?"text-green-600":"text-red-600"}`,children:[V.type==="income"?"+":"-","",V.amount.toLocaleString()]}),V.isManual&&n.jsxs("div",{className:"flex items-center space-x-1",children:[zl("vendor_edit_ledger")&&n.jsx("button",{onClick:()=>D(V),className:"text-primary-600 hover:text-primary-800",title:"Edit entry",children:n.jsx(ss,{className:"w-4 h-4"})}),zl("vendor_delete_ledger")&&n.jsx("button",{onClick:()=>M(V),className:"text-red-600 hover:text-red-800",title:"Delete entry",children:n.jsx(Kr,{className:"w-4 h-4"})})]})]})})]},V.id))})]})})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:u?"Edit Ledger Entry":"Add Ledger Entry"}),n.jsx("button",{onClick:()=>{c(!1),q()},className:"text-gray-400 hover:text-gray-600",children:n.jsx(er,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:L,className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"type",value:f.type,onChange:F,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"income",children:"Income"}),n.jsx("option",{value:"expense",children:"Expense"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"status",value:f.status,onChange:F,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"unpaid",children:"Unpaid"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"category",value:f.category,onChange:F,required:!0,placeholder:"e.g., Maintenance, Utilities, Service Fee",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{name:"description",value:f.description,onChange:F,required:!0,rows:3,placeholder:"Enter transaction description...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"amount",value:f.amount,onChange:F,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",name:"date",value:f.date,onChange:F,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue (Optional)"}),n.jsxs("select",{name:"venueId",value:f.venueId,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"No Venue"}),v.map(V=>n.jsx("option",{value:V.id||V._id,children:V.name},V.id||V._id))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference (Optional)"}),n.jsx("input",{type:"text",name:"reference",value:f.reference,onChange:F,placeholder:"e.g., Invoice #123, Receipt #456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),n.jsx("textarea",{name:"notes",value:f.notes,onChange:F,rows:3,placeholder:"Additional notes...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>{c(!1),q()},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:y,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Saving...":u?"Update Entry":"Add Entry"})]})]})]})}),j&&I&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Delete Ledger Entry"}),n.jsx("p",{className:"text-gray-700",children:"Are you sure you want to delete this ledger entry?"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This action cannot be undone."})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:ee,className:"px-6 py-2 bg-orange-50 text-gray-900 rounded-lg hover:bg-orange-100 transition font-medium",children:"Cancel"}),n.jsx("button",{onClick:$,className:"px-6 py-2 bg-amber-900 text-white rounded-lg hover:bg-amber-800 transition font-medium",children:"OK"})]})]})}),O&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm p-6 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.title||"Notice"}),n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:O.message})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>P(null),className:`px-4 py-2 rounded-lg ${O.type==="error"?"bg-red-600 hover:bg-red-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:"OK"})})]})})]})}function Yke(){const[e,t]=p.useState([]),[r,s]=p.useState([]),[a,i]=p.useState(!0),[o,c]=p.useState("all"),[u,h]=p.useState("all"),[f,m]=p.useState({page:1,limit:10,total:0,pages:1}),[y,b]=p.useState({total:0,average:0,byRating:{5:0,4:0,3:0,2:0,1:0}}),[v,N]=p.useState(null),[j,k]=p.useState(""),[I,S]=p.useState(null),[O,P]=p.useState(!1),[R,E]=p.useState(!1),[C,F]=p.useState({venueId:"",rating:5,comment:""}),[L,D]=p.useState(null),[M,$]=p.useState(!1),[ee,q]=p.useState(!1),[V,re]=p.useState(null);p.useEffect(()=>{U()},[]),p.useEffect(()=>{f.page===1?U():m(fe=>({...fe,page:1}))},[o,u]),p.useEffect(()=>{U()},[f.page]);const U=async()=>{try{i(!0);const fe={page:f.page,limit:f.limit};o!=="all"&&(fe.venueId=o),u!=="all"&&(fe.rating=u);const ce=await Fc.getReviewsByVendor(fe),J=ce.data?.reviews||[],Y=ce.data?.venues||[];t(J);try{const de=await mr.getVenues(),X=de.data?.venues||de.data?.data||de.data||[],pe=new Map;Y.forEach(se=>{const Q=se.id||se._id;pe.set(Q,{id:Q,name:se.name})}),Array.isArray(X)&&X.forEach(se=>{const Q=se.id||se._id;pe.has(Q)?pe.set(Q,{id:Q,name:se.name||pe.get(Q).name}):pe.set(Q,{id:Q,name:se.name})}),s(Array.from(pe.values()))}catch(de){console.error("Failed to load vendor venues:",de),s(Y)}te(J),ce.data?.pagination?m(de=>({...de,total:ce.data.pagination.total||ce.data.totalCount||J.length,pages:ce.data.pagination.pages||ce.data.totalPages||1})):ce.data?.totalCount&&m(de=>({...de,total:ce.data.totalCount,pages:Math.ceil(ce.data.totalCount/f.limit)}))}catch(fe){console.error("Failed to load reviews:",fe),re({title:"Error",message:fe.response?.data?.error||"Failed to load reviews",status:"error"}),t([]),s([])}finally{i(!1)}},te=fe=>{if(fe.length===0){b({total:0,average:0,byRating:{5:0,4:0,3:0,2:0,1:0}});return}const ce=fe.length,Y=fe.reduce((X,pe)=>X+(pe.rating||0),0)/ce,de={5:0,4:0,3:0,2:0,1:0};fe.forEach(X=>{const pe=X.rating||0;pe>=5?de[5]++:pe>=4?de[4]++:pe>=3?de[3]++:pe>=2?de[2]++:pe>=1&&de[1]++}),b({total:ce,average:Y,byRating:de})},ie=e.filter(fe=>{const ce=o==="all"||(fe.venueId?._id||fe.venueId?.id||fe.venueId)?.toString()===o,J=u==="all"||fe.rating?.toString()===u;return ce&&J}),H=async(fe,ce,J=!1)=>{if(!ce||!ce.trim()){re({title:"Validation Error",message:"Please enter a reply message",status:"error"});return}try{P(!0),J?(await Fc.updateReplyToReview(fe,ce),re({title:"Success",message:"Reply updated successfully!",status:"success"})):(await Fc.addReplyToReview(fe,ce),re({title:"Success",message:"Reply added successfully!",status:"success"})),N(null),S(null),k(""),await U()}catch(Y){console.error("Failed to submit reply:",Y);let de=Y.response?.data?.error||"Failed to submit reply";Y.response?.status===403&&(de.includes("permission")||de.includes("Permission")?de=`Access Denied: ${de}

You do not have the required permissions. Please contact your administrator.`:de=`Access Denied: ${de}

Please ensure you have the required permissions.`),re({title:"Error",message:de,status:"error"})}finally{P(!1)}},z=async(fe,ce=!1)=>{if(!ce){D({type:"delete-reply",reviewId:fe});return}$(!0),D(null);try{await Fc.deleteReplyFromReview(fe),re({title:"Success",message:"Reply deleted successfully!",status:"success"}),await U()}catch(J){console.error("Failed to delete reply:",J);let Y=J.response?.data?.error||"Failed to delete reply";J.response?.status===403&&(Y.includes("permission")||Y.includes("Permission")?Y=`Access Denied: ${Y}

You do not have the required permissions. Please contact your administrator.`:Y=`Access Denied: ${Y}

Please ensure you have the required permissions.`),re({title:"Error",message:Y,status:"error"})}finally{$(!1)}},ge=async fe=>{if(fe.preventDefault(),!C.venueId){re({title:"Validation Error",message:"Please select a venue",status:"error"});return}if(!C.rating||C.rating<1||C.rating>5){re({title:"Validation Error",message:"Please select a rating",status:"error"});return}try{q(!0),await Fc.createReview({venueId:C.venueId,rating:C.rating,comment:C.comment||""}),re({title:"Success",message:"Review added successfully!",status:"success"}),E(!1),F({venueId:"",rating:5,comment:""}),await U()}catch(ce){console.error("Failed to add review:",ce),re({title:"Error",message:ce.response?.data?.error||"Failed to add review",status:"error"})}finally{q(!1)}},le=fe=>{const{name:ce,value:J}=fe.target;F(Y=>({...Y,[ce]:ce==="rating"?Number(J):J}))},Pe=fe=>{if(!fe)return"N/A";if(typeof fe=="string")return fe;if(typeof fe=="object"){const ce=[];return fe.address&&ce.push(fe.address),fe.city&&ce.push(fe.city),fe.state&&ce.push(fe.state),ce.length>0?ce.join(", "):"N/A"}return"N/A"},Ae=fe=>{if(!fe)return null;const ce=fe.images||[];if(ce.length>0){const J=ce[0];return Yc(J)}return null};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reviews"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage reviews for your venues"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>E(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[n.jsx(Fr,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Review"})]}),n.jsxs("button",{onClick:U,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[n.jsx(vu,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Reviews"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:y.total})]}),n.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:n.jsx(Zi,{className:"w-6 h-6 text-primary-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Average Rating"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.average.toFixed(1)}),n.jsx("div",{className:"flex items-center",children:n.jsx(Ri,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"})})]})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(Ri,{className:"w-6 h-6 text-yellow-600 fill-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"5 Star Reviews"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:y.byRating[5]})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Ri,{className:"w-6 h-6 text-green-600 fill-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Venues Reviewed"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:r.length})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(gs,{className:"w-6 h-6 text-blue-600"})})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(EL,{className:"w-5 h-5 text-gray-500"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Venue"}),n.jsxs("select",{value:o,onChange:fe=>c(fe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Venues"}),r.map(fe=>n.jsx("option",{value:fe.id||fe._id,children:fe.name},fe.id||fe._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Rating"}),n.jsxs("select",{value:u,onChange:fe=>h(fe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Ratings"}),n.jsx("option",{value:"5",children:"5 Stars"}),n.jsx("option",{value:"4",children:"4 Stars"}),n.jsx("option",{value:"3",children:"3 Stars"}),n.jsx("option",{value:"2",children:"2 Stars"}),n.jsx("option",{value:"1",children:"1 Star"})]})]})]})]}),ie.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-primary-50 rounded-full mb-4",children:n.jsx(Zi,{className:"w-10 h-10 text-primary-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Reviews Yet"}),n.jsx("p",{className:"text-gray-600",children:e.length===0?"You haven't received any reviews yet. Reviews will appear here once customers review your venues.":"No reviews match your current filters."})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Showing ",ie.length," review",ie.length!==1?"s":""]})}),ie.map(fe=>{const ce=fe.venueId,J=fe.userId;ce?._id||ce?.id;const Y=ce?.name||"Unknown Venue",de=J?.name||J?.email||"Anonymous",X=J?.email||"",pe=fe.rating||0,se=fe.comment||"",Q=fe.createdAt?new Date(fe.createdAt):new Date;return n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[Ae(ce)&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:Ae(ce),alt:Y,className:"w-20 h-20 object-cover rounded-lg",onError:ve=>{ve.target.style.display="none"}})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"flex items-start justify-between mb-3",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:Y}),n.jsx("span",{className:"text-gray-400",children:""}),n.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((ve,ue)=>n.jsx(Ri,{className:`w-4 h-4 ${ue<pe?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},ue))})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(sa,{className:"w-4 h-4"}),n.jsx("span",{children:de}),X&&n.jsxs("span",{className:"text-gray-400",children:["(",X,")"]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Cn,{className:"w-4 h-4"}),n.jsx("span",{children:Ir(Q,"MMM dd, yyyy")})]})]})]})}),se&&n.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-700",children:se})}),ce?.location&&n.jsxs("div",{className:"mt-3 flex items-center space-x-1 text-sm text-gray-600",children:[n.jsx(gs,{className:"w-4 h-4"}),n.jsx("span",{children:Pe(ce.location)})]}),fe.reply&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border-l-4 border-blue-500 rounded",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"Vendor Reply"}),fe.reply.repliedBy&&n.jsxs("span",{className:"text-xs text-blue-700",children:["by ",fe.reply.repliedBy?.name||"Vendor"]}),fe.reply.repliedAt&&n.jsx("span",{className:"text-xs text-blue-600",children:Ir(new Date(fe.reply.repliedAt),"MMM dd, yyyy")})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>{S(fe._id||fe.id),k(fe.reply.message||"")},className:"text-blue-600 hover:text-blue-800 text-sm",children:n.jsx(ss,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>z(fe._id||fe.id),className:"text-red-600 hover:text-red-800 text-sm",children:n.jsx(Kr,{className:"w-4 h-4"})})]})]}),I===(fe._id||fe.id)?n.jsxs("div",{className:"mt-2",children:[n.jsx("textarea",{value:j,onChange:ve=>k(ve.target.value),rows:3,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your reply..."}),n.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[n.jsx("button",{onClick:()=>H(fe._id||fe.id,j,!0),disabled:O,className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm disabled:opacity-50",children:O?"Updating...":"Update"}),n.jsx("button",{onClick:()=>{S(null),k("")},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 text-sm",children:"Cancel"})]})]}):n.jsx("p",{className:"text-blue-800",children:fe.reply.message})]}),!fe.reply&&n.jsx("div",{className:"mt-4",children:v===(fe._id||fe.id)?n.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[n.jsx("textarea",{value:j,onChange:ve=>k(ve.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your reply..."}),n.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[n.jsxs("button",{onClick:()=>H(fe._id||fe.id,j),disabled:O,className:"flex items-center space-x-1 px-3 py-1 bg-primary-600 text-white rounded-lg hover:bg-primary-700 text-sm disabled:opacity-50",children:[n.jsx(TX,{className:"w-4 h-4"}),n.jsx("span",{children:O?"Sending...":"Send Reply"})]}),n.jsx("button",{onClick:()=>{N(null),k("")},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 text-sm",children:"Cancel"})]})]}):n.jsxs("button",{onClick:()=>{N(fe._id||fe.id),k("")},className:"flex items-center space-x-1 text-primary-600 hover:text-primary-700 text-sm font-medium",children:[n.jsx(CX,{className:"w-4 h-4"}),n.jsx("span",{children:"Reply"})]})})]})]})},fe._id||fe.id)})]}),f.pages>1&&n.jsx("div",{className:"mt-6",children:n.jsx(On,{currentPage:f.page,totalPages:f.pages,totalItems:f.total,itemsPerPage:f.limit,onPageChange:fe=>m(ce=>({...ce,page:fe}))})}),R&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Review"}),n.jsx("button",{onClick:()=>{E(!1),F({venueId:"",rating:5,comment:""})},className:"text-gray-400 hover:text-gray-600",children:n.jsx(er,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:ge,className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Venue ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"venueId",value:C.venueId,onChange:le,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select a venue"}),r.map(fe=>n.jsx("option",{value:fe.id||fe._id,children:fe.name},fe.id||fe._id))]}),r.length===0&&n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No venues available. Please add venues first."})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Rating ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(fe=>n.jsx("button",{type:"button",onClick:()=>F({...C,rating:fe}),className:"focus:outline-none",children:n.jsx(Ri,{size:32,className:fe<=C.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"})},fe)),n.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[C.rating," ",C.rating===1?"star":"stars"]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Comment"}),n.jsx("textarea",{name:"comment",value:C.comment,onChange:le,rows:6,placeholder:"Write your review about this venue...",maxLength:500,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.comment.length,"/500 characters"]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>{E(!1),F({venueId:"",rating:5,comment:""})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:ee||!C.venueId||!C.rating,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:ee?"Adding...":"Add Review"})]})]})]})}),L&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm p-6 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Reply"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this reply? This action cannot be undone."})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>D(null),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50",disabled:M,children:"Cancel"}),n.jsx("button",{onClick:()=>z(L.reviewId,!0),className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",disabled:M,children:M?"Please wait...":"Delete"})]})]})}),V&&n.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:`rounded-xl shadow-xl w-full max-w-sm p-6 space-y-4 ${V.status==="error"?"bg-red-50 border-2 border-red-200":V.status==="success"?"bg-green-50 border-2 border-green-200":"bg-white border-2 border-gray-200"}`,children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:`text-lg font-semibold ${V.status==="error"?"text-red-900":V.status==="success"?"text-green-900":"text-gray-900"}`,children:V.title||"Notice"}),n.jsx("p",{className:`text-sm ${V.status==="error"?"text-red-700":V.status==="success"?"text-green-700":"text-gray-700"}`,children:V.message})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>re(null),className:`px-4 py-2 rounded-lg text-white hover:opacity-90 transition ${V.status==="error"?"bg-red-600 hover:bg-red-700":V.status==="success"?"bg-green-600 hover:bg-green-700":"bg-primary-600 hover:bg-primary-700"}`,children:"OK"})})]})})]})}function Zke(){const{user:e,setUser:t}=pp(),[r,s]=p.useState(!1),[a,i]=p.useState("profile"),[o,c]=p.useState(""),[u,h]=p.useState(""),[f,m]=p.useState({name:"",email:"",phone:""}),[y,b]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[v,N]=p.useState({current:!1,new:!1,confirm:!1});p.useEffect(()=>{e&&m({name:e.name||"",email:e.email||"",phone:e.phone||""})},[e]);const j=O=>{const{name:P,value:R}=O.target;m(E=>({...E,[P]:R}))},k=O=>{const{name:P,value:R}=O.target;b(E=>({...E,[P]:R}))},I=async O=>{O.preventDefault(),s(!0),c(""),h("");try{const P=await zf.updateProfile(f),R=P.data?.user||P.data;t(R),localStorage.setItem("vendor_user",JSON.stringify(R)),c("Profile updated successfully!"),setTimeout(()=>c(""),3e3)}catch(P){h(P.response?.data?.error||"Failed to update profile"),setTimeout(()=>h(""),5e3)}finally{s(!1)}},S=async O=>{if(O.preventDefault(),s(!0),c(""),h(""),y.newPassword.length<6){h("New password must be at least 6 characters long"),setTimeout(()=>h(""),5e3),s(!1);return}if(y.newPassword!==y.confirmPassword){h("New password and confirm password do not match"),setTimeout(()=>h(""),5e3),s(!1);return}try{await zf.changePassword({currentPassword:y.currentPassword,newPassword:y.newPassword}),c("Password changed successfully!"),b({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>c(""),3e3)}catch(P){h(P.response?.data?.error||"Failed to change password"),setTimeout(()=>h(""),5e3)}finally{s(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account settings and preferences"})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"flex space-x-8",children:[n.jsx("button",{onClick:()=>i("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm transition ${a==="profile"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sa,{className:"w-4 h-4"}),n.jsx("span",{children:"Profile"})]})}),n.jsx("button",{onClick:()=>i("password"),className:`py-4 px-1 border-b-2 font-medium text-sm transition ${a==="password"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cu,{className:"w-4 h-4"}),n.jsx("span",{children:"Password"})]})})]})}),o&&n.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[n.jsx(Ca,{className:"w-5 h-5"}),n.jsx("span",{children:o})]}),u&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[n.jsx(Hl,{className:"w-5 h-5"}),n.jsx("span",{children:u})]}),a==="profile"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Profile Information"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Update your personal information"})]}),n.jsxs("form",{onSubmit:I,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sa,{className:"w-4 h-4"}),n.jsx("span",{children:"Full Name"})]})}),n.jsx("input",{type:"text",name:"name",value:f.name,onChange:j,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(di,{className:"w-4 h-4"}),n.jsx("span",{children:"Email Address"})]})}),n.jsx("input",{type:"email",name:"email",value:f.email,onChange:j,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(tc,{className:"w-4 h-4"}),n.jsx("span",{children:"Phone Number"})]})}),n.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:j,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),n.jsx("div",{className:"flex items-center justify-end pt-4 border-t border-gray-200",children:n.jsxs("button",{type:"submit",disabled:r,className:"flex items-center space-x-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(_L,{className:"w-4 h-4"}),n.jsx("span",{children:r?"Saving...":"Save Changes"})]})})]})]}),a==="password"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Change Password"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Update your password to keep your account secure"})]}),n.jsxs("form",{onSubmit:S,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:v.current?"text":"password",name:"currentPassword",value:y.currentPassword,onChange:k,required:!0,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter current password"}),n.jsx("button",{type:"button",onClick:()=>N(O=>({...O,current:!O.current})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:v.current?n.jsx(_o,{className:"w-5 h-5"}):n.jsx(Gr,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:v.new?"text":"password",name:"newPassword",value:y.newPassword,onChange:k,required:!0,minLength:6,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter new password (min 6 characters)"}),n.jsx("button",{type:"button",onClick:()=>N(O=>({...O,new:!O.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:v.new?n.jsx(_o,{className:"w-5 h-5"}):n.jsx(Gr,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:v.confirm?"text":"password",name:"confirmPassword",value:y.confirmPassword,onChange:k,required:!0,minLength:6,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Confirm new password"}),n.jsx("button",{type:"button",onClick:()=>N(O=>({...O,confirm:!O.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:v.confirm?n.jsx(_o,{className:"w-5 h-5"}):n.jsx(Gr,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"flex items-center justify-end pt-4 border-t border-gray-200",children:n.jsxs("button",{type:"submit",disabled:r,className:"flex items-center space-x-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(cu,{className:"w-4 h-4"}),n.jsx("span",{children:r?"Updating...":"Update Password"})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Account Information"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Your account details"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Account Type"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:e?.role||"Vendor"})]}),n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Member Since"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:e?.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"flex items-center justify-between py-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"User ID"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 font-mono text-xs",children:e?._id||e?.id||"N/A"})]})]})]})]})}function Qke(){const[e,t]=p.useState([]),[r,s]=p.useState([]),[a,i]=p.useState(!0),[o,c]=p.useState(""),[u,h]=p.useState("all"),[f,m]=p.useState("all"),[y,b]=p.useState({page:1,limit:10,total:0,pages:1}),[v,N]=p.useState(null),[j,k]=p.useState(!1),[I,S]=p.useState(!1),[O,P]=p.useState(!1),[R,E]=p.useState(!1),[C,F]=p.useState(null),[L,D]=p.useState(!1),[M,$]=p.useState({name:"",email:"",phone:"",password:"",location:"",gender:"",role:"",isActive:!0}),[ee,q]=p.useState(null),[V,re]=p.useState(null);p.useEffect(()=>{U(),te()},[u,f,y.page]);const U=async()=>{try{const ce={page:y.page,limit:y.limit};u!=="all"&&(ce.role=u),f!=="all"&&(ce.isActive=f==="true");const J=await cd.getAll(ce);t(J.data?.staff||[]),J.data?.pagination?b(Y=>({...Y,total:J.data.pagination.total||J.data.totalCount||J.data?.staff?.length||0,pages:J.data.pagination.pages||J.data.totalPages||1})):J.data?.totalCount&&b(Y=>({...Y,total:J.data.totalCount,pages:Math.ceil(J.data.totalCount/y.limit)}))}catch{G.error("Failed to load staff")}finally{i(!1)}},te=async()=>{try{const ce=await Pl.getAll({isActive:"true"});s(ce.data?.roles||[])}catch(ce){console.error("Failed to load roles:",ce)}},ie=async ce=>{E(!0),k(!0);try{const J=await cd.getById(ce);N(J.data?.staff)}catch(J){G.error(J.response?.data?.error||"Failed to load staff details"),k(!1)}finally{E(!1)}},H=async ce=>{E(!0),P(!0);try{const Y=(await cd.getById(ce)).data?.staff;$({name:Y.name||"",email:Y.email||"",phone:Y.phone||"",password:"",location:Y.location||"",gender:Y.gender||"",role:Y.role?._id||Y.role||"",isActive:Y.isActive!==void 0?Y.isActive:!0}),re(Y.img?Yc(Y.img):null),N(Y)}catch(J){G.error(J.response?.data?.error||"Failed to load staff details"),P(!1)}finally{E(!1)}},z=async(ce,J=!1)=>{if(!J){const Y=e.find(de=>de._id===ce)||v;F({id:ce,name:Y?.name,type:"delete"});return}D(!0);try{await cd.delete(ce),G.success("Staff deleted successfully"),U(),v&&v._id===ce&&(k(!1),N(null))}catch(Y){G.error(Y.response?.data?.error||"Failed to delete staff")}finally{D(!1),F(null)}},ge=async()=>{if(!M.name||!M.email||!M.phone||!M.password||!M.role){G.error("Please fill all required fields");return}if(M.phone.length<10||M.phone.length>15){G.error("Phone number must be between 10 and 15 digits");return}D(!0);try{const ce=new FormData;ce.append("name",M.name),ce.append("email",M.email),ce.append("phone",M.phone),ce.append("password",M.password),ce.append("role",M.role),M.location&&ce.append("location",M.location),M.gender&&ce.append("gender",M.gender),ee&&ce.append("img",ee),await cd.create(ce),G.success("Staff created successfully"),S(!1),Pe(),U()}catch(ce){G.error(ce.response?.data?.error||"Failed to create staff")}finally{D(!1)}},le=async()=>{if(!M.name||!M.email||!M.phone||!M.role){G.error("Please fill all required fields");return}if(M.phone.length<10||M.phone.length>15){G.error("Phone number must be between 10 and 15 digits");return}D(!0);try{const ce=new FormData;ce.append("name",M.name),ce.append("email",M.email),ce.append("phone",M.phone),ce.append("role",M.role),M.location&&ce.append("location",M.location),M.gender&&ce.append("gender",M.gender),M.password&&ce.append("password",M.password),M.isActive!==void 0&&ce.append("isActive",M.isActive),ee&&ce.append("img",ee),await cd.update(v._id,ce),G.success("Staff updated successfully"),P(!1),Pe(),U()}catch(ce){G.error(ce.response?.data?.error||"Failed to update staff")}finally{D(!1)}},Pe=()=>{$({name:"",email:"",phone:"",password:"",location:"",gender:"",role:"",isActive:!0}),q(null),re(null),N(null)},Ae=ce=>{const J=ce.target.files[0];if(J){q(J);const Y=new FileReader;Y.onloadend=()=>{re(Y.result)},Y.readAsDataURL(J)}},fe=e.filter(ce=>ce.name?.toLowerCase().includes(o.toLowerCase())||ce.email?.toLowerCase().includes(o.toLowerCase())||ce.phone?.includes(o));return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Staff"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all staff members"})]}),n.jsxs(be,{onClick:()=>S(!0),children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Staff"]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx(Be,{type:"text",placeholder:"Search staff...",value:o,onChange:ce=>c(ce.target.value),className:"pl-10"})]})}),n.jsxs("select",{value:u,onChange:ce=>h(ce.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"all",children:"All Roles"}),r.map(ce=>n.jsx("option",{value:ce._id,children:ce.name},ce._id))]}),n.jsxs("select",{value:f,onChange:ce=>m(ce.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"true",children:"Active"}),n.jsx("option",{value:"false",children:"Inactive"})]})]}),n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"Name"}),n.jsx(Me,{children:"Email"}),n.jsx(Me,{children:"Phone"}),n.jsx(Me,{children:"Role"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:fe.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No staff found"})}):fe.map((ce,J)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:J+1}),n.jsx(Se,{className:"font-medium",children:ce.name}),n.jsx(Se,{className:"whitespace-normal break-words max-w-[12rem] text-sm",children:ce.email}),n.jsx(Se,{children:ce.phone||"N/A"}),n.jsx(Se,{children:n.jsx(pt,{variant:"info",children:ce.role?.name||"N/A"})}),n.jsx(Se,{children:n.jsx(pt,{variant:ce.isActive?"success":"warning",children:ce.isActive?"Active":"Inactive"})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>ie(ce._id),title:"View Details",children:n.jsx(Gr,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>H(ce._id),title:"Edit Staff",children:n.jsx(ss,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>z(ce._id),title:"Delete Staff",children:n.jsx(Kr,{className:"w-4 h-4 text-red-500"})})]})})]},ce._id))})]}),y.pages>1&&n.jsx("div",{className:"mt-6",children:n.jsx(On,{currentPage:y.page,totalPages:y.pages,totalItems:y.total,itemsPerPage:y.limit,onPageChange:ce=>b(J=>({...J,page:ce}))})})]})}),n.jsx(xt,{isOpen:I,onClose:()=>{L||(S(!1),Pe())},title:"Add New Staff",size:"lg",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),n.jsx(Be,{value:M.name,onChange:ce=>$({...M,name:ce.target.value}),placeholder:"Enter name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),n.jsx(Be,{type:"email",value:M.email,onChange:ce=>$({...M,email:ce.target.value}),placeholder:"Enter email",autoComplete:"off"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),n.jsx(Be,{type:"tel",value:M.phone,onChange:ce=>{const J=ce.target.value.replace(/\D/g,"");J.length<=15&&$({...M,phone:J})},placeholder:"Enter phone (10-15 digits)",minLength:10,maxLength:15,autoComplete:"off"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password *"}),n.jsx(Be,{type:"password",value:M.password,onChange:ce=>$({...M,password:ce.target.value}),placeholder:"Enter password"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role *"}),n.jsxs("select",{value:M.role,onChange:ce=>$({...M,role:ce.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"",children:"Select role"}),r.map(ce=>n.jsx("option",{value:ce._id,children:ce.name},ce._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),n.jsxs("select",{value:M.gender,onChange:ce=>$({...M,gender:ce.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"",children:"Select gender"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),n.jsx(Be,{value:M.location,onChange:ce=>$({...M,location:ce.target.value}),placeholder:"Enter location"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsxs("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2",children:[n.jsx(Fy,{className:"w-4 h-4"}),n.jsx("span",{children:"Upload Image"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:Ae,className:"hidden"})]}),V&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:V,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),n.jsx("button",{onClick:()=>{re(null),q(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:n.jsx(er,{className:"w-3 h-3"})})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(be,{variant:"outline",onClick:()=>{S(!1),Pe()},disabled:L,children:"Cancel"}),n.jsx(be,{onClick:ge,disabled:L,children:L?"Creating...":"Create Staff"})]})]})}),n.jsx(xt,{isOpen:O,onClose:()=>{L||(P(!1),Pe())},title:"Edit Staff",size:"lg",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),n.jsx(Be,{value:M.name,onChange:ce=>$({...M,name:ce.target.value}),placeholder:"Enter name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),n.jsx(Be,{type:"email",value:M.email,onChange:ce=>$({...M,email:ce.target.value}),placeholder:"Enter email",autoComplete:"off"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),n.jsx(Be,{type:"tel",value:M.phone,onChange:ce=>{const J=ce.target.value.replace(/\D/g,"");J.length<=15&&$({...M,phone:J})},placeholder:"Enter phone (10-15 digits)",minLength:10,maxLength:15,autoComplete:"off"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password (leave blank to keep current)"}),n.jsx(Be,{type:"password",value:M.password,onChange:ce=>$({...M,password:ce.target.value}),placeholder:"Enter new password"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role *"}),n.jsxs("select",{value:M.role,onChange:ce=>$({...M,role:ce.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"",children:"Select role"}),r.map(ce=>n.jsx("option",{value:ce._id,children:ce.name},ce._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),n.jsxs("select",{value:M.gender,onChange:ce=>$({...M,gender:ce.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"",children:"Select gender"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),n.jsx(Be,{value:M.location,onChange:ce=>$({...M,location:ce.target.value}),placeholder:"Enter location"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),n.jsxs("select",{value:M.isActive,onChange:ce=>$({...M,isActive:ce.target.value==="true"}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:!0,children:"Active"}),n.jsx("option",{value:!1,children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsxs("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2",children:[n.jsx(Fy,{className:"w-4 h-4"}),n.jsx("span",{children:"Upload Image"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:Ae,className:"hidden"})]}),V&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:V,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),n.jsx("button",{onClick:()=>{re(null),q(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:n.jsx(er,{className:"w-3 h-3"})})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(be,{variant:"outline",onClick:()=>{P(!1),Pe()},disabled:L,children:"Cancel"}),n.jsx(be,{onClick:le,disabled:L,children:L?"Updating...":"Update Staff"})]})]})}),n.jsx(xt,{isOpen:!!C,onClose:()=>{L||F(null)},title:"Delete Staff",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Are you sure you want to delete ",C?.name||"this staff member","? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>F(null),disabled:L,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:()=>z(C.id,!0),disabled:L,children:L?"Please wait...":"Delete"})]})]})}),n.jsx(xt,{isOpen:j,onClose:()=>{k(!1),N(null)},title:"Staff Details",size:"lg",children:R?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):v?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:n.jsx(sa,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:v.name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:n.jsx(di,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:v.email||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:n.jsx(tc,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Phone"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:v.phone||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:n.jsx(na,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Role"}),n.jsx("div",{className:"mt-1",children:n.jsx(pt,{variant:"info",children:v.role?.name||"N/A"})})]})]}),v.location&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:n.jsx(gs,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Location"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:v.location})]})]}),v.gender&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-pink-100 dark:bg-pink-900/30 rounded-lg",children:n.jsx(sa,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gender"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 capitalize",children:v.gender})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/30 rounded-lg",children:n.jsx(na,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(pt,{variant:v.isActive?"success":"warning",children:v.isActive?"Active":"Inactive"})})]})]})]}),v.img&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Image"}),n.jsx("img",{src:Yc(v.img),alt:v.name,className:"w-32 h-32 rounded-lg object-cover"})]})]}):null})]})}function Xke(){const e=lr(),[t]=OR(),[r,s]=p.useState([]),[a,i]=p.useState([]),[o,c]=p.useState({}),[u,h]=p.useState(!0),[f,m]=p.useState(""),[y,b]=p.useState("all"),[v,N]=p.useState({page:1,limit:10,total:0,pages:1}),[j,k]=p.useState(null),[I,S]=p.useState(!1),[O,P]=p.useState(!1),[R,E]=p.useState(null),[C,F]=p.useState(!1),[L,D]=p.useState({name:"",description:"",permissions:[],isActive:!0}),M=t.get("mode")==="create"||t.get("mode")==="edit",$=t.get("mode")==="create",ee=t.get("mode")==="edit",q=t.get("id");p.useEffect(()=>{V(),re()},[y,v.page]),p.useEffect(()=>{ee&&q?U():$&&le()},[ee,$,q]);const V=async()=>{try{const J={page:v.page,limit:v.limit};y!=="all"&&(J.isActive=y==="true");const Y=await Pl.getAll(J);s(Y.data?.roles||[]),Y.data?.pagination?N(de=>({...de,total:Y.data.pagination.total||Y.data.totalCount||Y.data?.roles?.length||0,pages:Y.data.pagination.pages||Y.data.totalPages||1})):Y.data?.totalCount&&N(de=>({...de,total:Y.data.totalCount,pages:Math.ceil(Y.data.totalCount/v.limit)}))}catch{G.error("Failed to load roles")}finally{h(!1)}},re=async()=>{try{const J=await Pl.getAvailablePermissions();i(J.data?.allPermissions||[]),c(J.data?.permissionsByCategory||{})}catch(J){console.error("Failed to load available permissions:",J)}},U=async()=>{P(!0);try{const Y=(await Pl.getById(q)).data?.role;D({name:Y.name||"",description:Y.description||"",permissions:Y.permissions||[],isActive:Y.isActive!==void 0?Y.isActive:!0}),k(Y)}catch(J){G.error(J.response?.data?.error||"Failed to load role details"),e("/vendor/roles")}finally{P(!1)}},te=async J=>{P(!0),S(!0);try{const Y=await Pl.getById(J);k(Y.data?.role)}catch(Y){G.error(Y.response?.data?.error||"Failed to load role details"),S(!1)}finally{P(!1)}},ie=J=>{e(`/vendor/roles?mode=edit&id=${J}`)},H=async(J,Y=!1)=>{if(!Y){const de=r.find(X=>X._id===J)||j;E({id:J,name:de?.name,type:"delete"});return}F(!0);try{await Pl.delete(J),G.success("Role deleted successfully"),V(),j&&j._id===J&&(S(!1),k(null))}catch(de){G.error(de.response?.data?.error||"Failed to delete role")}finally{F(!1),E(null)}},z=async()=>{if(!L.name||L.permissions.length===0){G.error("Please fill name and select at least one permission");return}F(!0);try{await Pl.create(L),G.success("Role created successfully"),e("/vendor/roles"),le(),V()}catch(J){G.error(J.response?.data?.error||"Failed to create role")}finally{F(!1)}},ge=async()=>{if(!L.name||L.permissions.length===0){G.error("Please fill name and select at least one permission");return}F(!0);try{await Pl.update(j._id,L),G.success("Role updated successfully"),e("/vendor/roles"),le(),V()}catch(J){G.error(J.response?.data?.error||"Failed to update role")}finally{F(!1)}},le=()=>{D({name:"",description:"",permissions:[],isActive:!0}),k(null)},Pe=J=>{L.permissions.includes(J)?D({...L,permissions:L.permissions.filter(Y=>Y!==J)}):D({...L,permissions:[...L.permissions,J]})},Ae=J=>{const Y=o[J]||[];if(Y.every(X=>L.permissions.includes(X)))D({...L,permissions:L.permissions.filter(X=>!Y.includes(X))});else{const X=[...L.permissions];Y.forEach(pe=>{X.includes(pe)||X.push(pe)}),D({...L,permissions:X})}},fe=r.filter(J=>J.name?.toLowerCase().includes(f.toLowerCase())||J.description?.toLowerCase().includes(f.toLowerCase())),ce=J=>({dashboard:"Dashboard",venues:"Venues Management",bookings:"Bookings Management",payouts:"Payouts Management",ledger:"Ledger Management",blocked_dates:"Blocked Dates Management",reviews:"Reviews Management",staff:"Staff Management",roles:"Roles Management",profile:"Profile Management"})[J]||J;return M?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(be,{variant:"ghost",onClick:()=>e("/vendor/roles"),className:"flex items-center gap-2",children:[n.jsx(CL,{className:"w-4 h-4"}),"Back to Roles"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:$?"Create New Role":"Edit Role"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:$?"Add a new role with permissions":"Update role details and permissions"})]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Role Name *"}),n.jsx(Be,{value:L.name,onChange:J=>D({...L,name:J.target.value}),placeholder:"Enter role name (e.g., Venue Manager, Booking Manager)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),n.jsx("textarea",{value:L.description,onChange:J=>D({...L,description:J.target.value}),placeholder:"Enter role description",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",rows:"3"})]}),ee&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),n.jsxs("select",{value:L.isActive,onChange:J=>D({...L,isActive:J.target.value==="true"}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:!0,children:"Active"}),n.jsx("option",{value:!1,children:"Inactive"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Permissions * (",L.permissions.length," selected)"]}),n.jsx(be,{variant:"outline",size:"sm",onClick:()=>{L.permissions.length===a.length?D({...L,permissions:[]}):D({...L,permissions:[...a]})},children:L.permissions.length===a.length?"Deselect All":"Select All"})]}),n.jsx("div",{className:"space-y-4",children:Object.keys(o).length>0?Object.keys(o).map(J=>{const Y=o[J]||[],de=Y.filter(pe=>L.permissions.includes(pe)).length,X=Y.length>0&&de===Y.length;return n.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:ce(J)}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>Ae(J),children:X?"Deselect All":"Select All"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:Y.map(pe=>{const se=L.permissions.includes(pe);return n.jsxs("button",{type:"button",onClick:()=>Pe(pe),className:`flex items-center gap-2 p-2 rounded-lg border transition-all ${se?"bg-primary/10 border-primary text-primary":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-primary/50"}`,children:[n.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${se?"bg-primary border-primary":"border-gray-300 dark:border-gray-600"}`,children:se&&n.jsx(Wl,{className:"w-3 h-3 text-white"})}),n.jsx("span",{className:"text-sm font-medium",children:pe})]},pe)})})]},J)}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:a.map(J=>{const Y=L.permissions.includes(J);return n.jsxs("button",{type:"button",onClick:()=>Pe(J),className:`flex items-center gap-2 p-2 rounded-lg border transition-all ${Y?"bg-primary/10 border-primary text-primary":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-primary/50"}`,children:[n.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${Y?"bg-primary border-primary":"border-gray-300 dark:border-gray-600"}`,children:Y&&n.jsx(Wl,{className:"w-3 h-3 text-white"})}),n.jsx("span",{className:"text-sm font-medium",children:J})]},J)})})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(be,{variant:"outline",onClick:()=>e("/vendor/roles"),disabled:C,children:"Cancel"}),n.jsx(be,{onClick:$?z:ge,disabled:C,children:C?$?"Creating...":"Updating...":$?"Create Role":"Update Role"})]})]})})]}):u?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Roles"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage user roles and permissions"})]}),n.jsxs(be,{onClick:()=>e("/vendor/roles?mode=create"),children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Role"]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx(Be,{type:"text",placeholder:"Search roles...",value:f,onChange:J=>m(J.target.value),className:"pl-10"})]})}),n.jsxs("select",{value:y,onChange:J=>b(J.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"true",children:"Active"}),n.jsx("option",{value:"false",children:"Inactive"})]})]}),n.jsxs(_n,{children:[n.jsx(Mn,{children:n.jsxs(ft,{children:[n.jsx(Me,{className:"w-12 text-center",children:"S.No"}),n.jsx(Me,{children:"Name"}),n.jsx(Me,{children:"Description"}),n.jsx(Me,{children:"Permissions"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Actions"})]})}),n.jsx(Dn,{children:fe.length===0?n.jsx(ft,{children:n.jsx(Se,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No roles found"})}):fe.map((J,Y)=>n.jsxs(ft,{children:[n.jsx(Se,{className:"text-center font-medium",children:Y+1}),n.jsx(Se,{className:"font-medium",children:J.name}),n.jsx(Se,{className:"max-w-xs truncate",children:J.description||"N/A"}),n.jsx(Se,{children:n.jsxs(pt,{variant:"info",children:[J.permissions?.length||0," permissions"]})}),n.jsx(Se,{children:n.jsx(pt,{variant:J.isActive?"success":"warning",children:J.isActive?"Active":"Inactive"})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>te(J._id),title:"View Details",children:n.jsx(Gr,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>ie(J._id),title:"Edit Role",children:n.jsx(ss,{className:"w-4 h-4"})}),n.jsx(be,{variant:"ghost",size:"sm",onClick:()=>H(J._id),title:"Delete Role",children:n.jsx(Kr,{className:"w-4 h-4 text-red-500"})})]})})]},J._id))})]}),v.pages>1&&n.jsx("div",{className:"mt-6",children:n.jsx(On,{currentPage:v.page,totalPages:v.pages,totalItems:v.total,itemsPerPage:v.limit,onPageChange:J=>N(Y=>({...Y,page:J}))})})]})}),n.jsx(xt,{isOpen:!!R,onClose:()=>{C||E(null)},title:"Delete Role",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Are you sure you want to delete ",R?.name||"this role","? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(be,{variant:"outline",onClick:()=>E(null),disabled:C,children:"Cancel"}),n.jsx(be,{variant:"danger",onClick:()=>H(R.id,!0),disabled:C,children:C?"Please wait...":"Delete"})]})]})}),n.jsx(xt,{isOpen:I,onClose:()=>{S(!1),k(null)},title:"Role Details",size:"lg",children:O?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):j?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:n.jsx(na,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:j.name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/30 rounded-lg",children:n.jsx(na,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(pt,{variant:j.isActive?"success":"warning",children:j.isActive?"Active":"Inactive"})})]})]})]}),j.description&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Description"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:j.description})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:["Permissions (",j.permissions?.length||0,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:j.permissions?.map(J=>n.jsx(pt,{variant:"info",children:J},J))})]})]}):null})]})}function Jke(){const e=lr(),t=Wn(),{user:r,logout:s}=pp(),[a,i]=p.useState(!1),[o,c]=p.useState(!1),[u,h]=p.useState(!1),f=[{name:"Dashboard",href:"/vendor/",icon:_1,permission:"vendor_view_dashboard",hasDropdown:!0,dropdownItems:[{name:"Overview",href:"/vendor/",icon:_1,permission:"vendor_view_dashboard"},{name:"Calendar Management",href:"/vendor/calendar",icon:T1,permission:"vendor_view_calendar"},{name:"Ledger",href:"/vendor/ledger",icon:BQ,permission:"vendor_view_ledger"}]},{name:"Venues",href:"/vendor/venues",icon:gs,permission:"vendor_view_venues"},{name:"Bookings",href:"/vendor/bookings",icon:Cn,permission:"vendor_view_bookings"},{name:"Reviews",href:"/vendor/reviews",icon:Zi,permission:"vendor_view_reviews"},{name:"Payouts",href:"/vendor/payouts",icon:Jf,permission:"vendor_view_payouts"},{name:"Staff",href:"/vendor/staff",icon:$y,permission:null,ownerOnly:!0,hasDropdown:!0,dropdownItems:[{name:"Roles",href:"/vendor/roles",icon:na,permission:null,ownerOnly:!0},{name:"Staff",href:"/vendor/staff",icon:$y,permission:null,ownerOnly:!0}]},{name:"Settings",href:"/vendor/settings",icon:D1,permission:"vendor_view_profile"}],m=p.useMemo(()=>cz(),[]),y=p.useMemo(()=>Wke(),[]),b=p.useMemo(()=>f.map(j=>{if(j.ownerOnly&&!y)return null;if(y||!j.permission)return j;if(!zl(j.permission))return null;if(j.hasDropdown&&j.dropdownItems){const k=j.dropdownItems.filter(I=>I.ownerOnly&&!y?!1:I.permission?zl(I.permission):!0);return k.length===0?null:{...j,dropdownItems:k}}return j}).filter(j=>j!==null),[m,y]),v=()=>{s(),e("/vendor/login")},N=j=>t.pathname===j||t.pathname.startsWith(j+"/");return p.useEffect(()=>{(t.pathname==="/vendor/calendar"||t.pathname==="/vendor/ledger")&&c(!0),(t.pathname==="/vendor/staff"||t.pathname==="/vendor/roles")&&h(!0)},[t.pathname]),p.useEffect(()=>{const j=t.pathname==="/vendor/"||t.pathname==="/vendor"?"Dashboard":t.pathname.replace("/vendor/","");S2e(j)},[t.pathname]),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-20 lg:hidden",onClick:()=>i(!1)}),n.jsx("aside",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${a?"translate-x-0":"-translate-x-full"}`,children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"w-10 h-10 object-contain",onError:j=>{j.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ShubhVenue Vendor"})]}),n.jsx("button",{onClick:()=>i(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:n.jsx(er,{className:"w-6 h-6"})})]}),n.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:b.map(j=>{const k=j.icon,I=N(j.href)||j.hasDropdown&&j.dropdownItems?.some(S=>N(S.href));if(j.hasDropdown&&j.dropdownItems&&j.dropdownItems.length>0){const S=j.name==="Dashboard",O=j.name==="Staff",P=S?o:O?u:!1,R=S?c:O?h:()=>{};return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("button",{onClick:()=>{R(!P),P||e(j.href)},className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-colors ${I?"bg-primary-50 text-primary-700 border-l-4 border-primary-600":"text-gray-700 hover:bg-gray-100"}`,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(k,{className:`w-5 h-5 ${I?"text-primary-600":""}`}),n.jsx("span",{className:"font-medium",children:j.name})]}),P?n.jsx(Mm,{className:`w-4 h-4 ${I?"text-primary-600":"text-gray-500"}`}):n.jsx(Jd,{className:`w-4 h-4 ${I?"text-primary-600":"text-gray-500"}`})]}),P&&n.jsx("div",{className:"ml-4 space-y-1",children:j.dropdownItems.map(E=>{const C=E.icon,F=N(E.href);return n.jsxs("button",{onClick:()=>{e(E.href),i(!1)},className:`w-full flex items-center space-x-3 px-4 py-2 rounded-lg transition-colors text-sm ${F?"bg-primary-100 text-primary-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(C,{className:`w-4 h-4 ${F?"text-primary-600":""}`}),n.jsx("span",{children:E.name})]},E.name)})})]},j.name)}return n.jsxs("button",{onClick:()=>{e(j.href),i(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${I?"bg-primary-50 text-primary-700 border-l-4 border-primary-600":"text-gray-700 hover:bg-gray-100"}`,children:[n.jsx(k,{className:`w-5 h-5 ${I?"text-primary-600":""}`}),n.jsx("span",{className:"font-medium",children:j.name})]},j.name)})}),n.jsxs("div",{className:"p-4 border-t border-gray-200",children:[n.jsxs("div",{className:"mb-3 px-4 py-2 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:r?.name||"Vendor"}),n.jsx("p",{className:"text-xs text-gray-500 truncate",children:r?.email})]}),n.jsxs("button",{onClick:v,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(J2,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})}),n.jsxs("div",{className:"lg:pl-64",children:[n.jsx("header",{className:"sticky top-0 z-10 bg-white shadow-sm border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:px-8",children:[n.jsx("button",{onClick:()=>i(!0),className:"lg:hidden text-gray-500 hover:text-gray-700",children:n.jsx(av,{className:"w-6 h-6"})}),n.jsx("div",{className:"flex-1"}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"hidden sm:block text-right",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:r?.name||"Vendor"}),n.jsx("p",{className:"text-xs text-gray-500",children:r?.email})]})})]})}),n.jsx("main",{className:"p-4 lg:p-8",children:n.jsx(K7,{})})]})]})}function eSe({children:e}){const{user:t,loading:r}=pp();return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t?e:n.jsx(Uf,{to:"/vendor/login",replace:!0})}function tSe(){return k2e(),n.jsxs(qx,{children:[n.jsx(ct,{path:"login",element:n.jsx(I2e,{})}),n.jsx(ct,{path:"register",element:n.jsx(P2e,{})}),n.jsxs(ct,{path:"",element:n.jsx(eSe,{children:n.jsx(Jke,{})}),children:[n.jsx(ct,{index:!0,element:n.jsx(Vke,{})}),n.jsx(ct,{path:"venues/add",element:n.jsx(dR,{})}),n.jsx(ct,{path:"venues",element:n.jsx(dR,{})}),n.jsx(ct,{path:"bookings",element:n.jsx(Hke,{})}),n.jsx(ct,{path:"payouts",element:n.jsx(qke,{})}),n.jsx(ct,{path:"calendar",element:n.jsx(Gke,{})}),n.jsx(ct,{path:"ledger",element:n.jsx(Kke,{})}),n.jsx(ct,{path:"reviews",element:n.jsx(Yke,{})}),n.jsx(ct,{path:"staff",element:n.jsx(Qke,{})}),n.jsx(ct,{path:"roles",element:n.jsx(Xke,{})}),n.jsx(ct,{path:"settings",element:n.jsx(Zke,{})})]}),n.jsx(ct,{path:"*",element:n.jsx(Uf,{to:"/vendor/login",replace:!0})})]})}function rSe(){const[e,t]=p.useState(!1),r=()=>{t(!e)};return n.jsxs("div",{className:"app-wrapper",children:[n.jsx(wQ,{}),n.jsx(bQ,{isSidebarOpen:e,toggleSidebar:r}),n.jsx("main",{className:"main-content",children:n.jsxs(qx,{children:[n.jsx(ct,{path:"/",element:n.jsx(sJ,{})}),n.jsx(ct,{path:"/venue/:categorySlug/:slug",element:n.jsx(UE,{})}),n.jsx(ct,{path:"/venue/:slug",element:n.jsx(UE,{})}),n.jsx(ct,{path:"/venues",element:n.jsx(aJ,{})}),n.jsx(ct,{path:"/profile",element:n.jsx(iJ,{})}),n.jsx(ct,{path:"/booking",element:n.jsx(oJ,{})}),n.jsx(ct,{path:"/contact-venue",element:n.jsx(cJ,{})}),n.jsx(ct,{path:"/booking-history",element:n.jsx(lJ,{})}),n.jsx(ct,{path:"/shotlist",element:n.jsx(uJ,{})}),n.jsx(ct,{path:"/about-us",element:n.jsx(dJ,{})}),n.jsx(ct,{path:"/how-it-works",element:n.jsx(hJ,{})}),n.jsx(ct,{path:"/blog",element:n.jsx(fJ,{})}),n.jsx(ct,{path:"/privacy-policy",element:n.jsx(mJ,{})}),n.jsx(ct,{path:"/terms-of-service",element:n.jsx(pJ,{})}),n.jsx(ct,{path:"/cookie-policy",element:n.jsx(gJ,{})}),n.jsx(ct,{path:"/contact-us",element:n.jsx(yJ,{})})]})})]})}function nSe(){return n.jsxs(qx,{children:[n.jsx(ct,{path:"login",element:n.jsx(bie,{})}),n.jsx(ct,{path:"",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(Uf,{to:"/admin/dashboard",replace:!0})})})}),n.jsx(ct,{path:"dashboard",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(JNe,{})})})}),n.jsx(ct,{path:"users",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(e2e,{})})})}),n.jsx(ct,{path:"vendors",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(t2e,{})})})}),n.jsx(ct,{path:"vendor-categories",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(r2e,{})})})}),n.jsx(ct,{path:"venues",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(n2e,{})})})}),n.jsx(ct,{path:"bookings",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(s2e,{})})})}),n.jsx(ct,{path:"leads",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(a2e,{})})})}),n.jsx(ct,{path:"payouts",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(i2e,{})})})}),n.jsx(ct,{path:"analytics",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(o2e,{})})})}),n.jsx(ct,{path:"settings",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(l2e,{})})})}),n.jsx(ct,{path:"categories",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(c2e,{})})})}),n.jsx(ct,{path:"menus",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(u2e,{})})})}),n.jsx(ct,{path:"videos",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(d2e,{})})})}),n.jsx(ct,{path:"testimonials",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(h2e,{})})})}),n.jsx(ct,{path:"faqs",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(f2e,{})})})}),n.jsx(ct,{path:"company",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(m2e,{})})})}),n.jsx(ct,{path:"contacts",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(p2e,{})})})}),n.jsx(ct,{path:"banners",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(g2e,{})})})}),n.jsx(ct,{path:"staff",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(y2e,{})})})}),n.jsx(ct,{path:"roles",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(x2e,{})})})}),n.jsx(ct,{path:"reviews",element:n.jsx(Dr,{children:n.jsx(Or,{children:n.jsx(v2e,{})})})}),n.jsx(ct,{path:"*",element:n.jsx(Uf,{to:"/admin/dashboard",replace:!0})})]})}function sSe(){return p.useEffect(()=>{gW()},[]),n.jsxs(vU,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[n.jsx(N2e,{children:n.jsxs(qx,{children:[n.jsx(ct,{path:"/admin/*",element:n.jsx(nSe,{})}),n.jsx(ct,{path:"/vendor/*",element:n.jsx(tSe,{})}),n.jsx(ct,{path:"/*",element:n.jsx(rSe,{})})]})}),n.jsx(pW,{position:"top-right",toastOptions:{duration:3e3,style:{background:"var(--toast-bg, #363636)",color:"var(--toast-color, #fff)",borderRadius:"8px",padding:"12px 16px"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})}const aSe=["cross-origin-opener-policy","coop","window.closed","window.close","policy would block","would block the window","opener-policy","cross-origin","policy would block the window","would block the window.closed","policy would block the window.closed call","policy would block the window.close call","would block the window.closed call","would block the window.close call","cross-origin-opener-policy policy would block","policy would block the window.closed","policy would block the window.close"],iSe=()=>{if(typeof window>"u")return;const e=console.warn,t=console.error,r=console.log,s=o=>{if(!o)return!1;const c=String(o).toLowerCase();return aSe.some(u=>c.includes(u.toLowerCase()))||c.includes("cross-origin-opener-policy policy would block")||c.includes("policy would block the window.closed")||c.includes("policy would block the window.close")},a=o=>{try{const c=o.map(h=>{if(typeof h=="string")return h;if(h instanceof Error)return(h.message||"")+" "+(h.stack||"");if(h&&typeof h=="object")try{const f=JSON.stringify(h);return h.message?f+" "+h.message:h.stack?f+" "+h.stack:f}catch{return String(h)}return String(h)}),u=c.join(" ");return s(u)?!0:c.some(h=>s(h))}catch{return!1}};console.warn=function(...o){a(o)||e.apply(console,o)},console.error=function(...o){a(o)||t.apply(console,o)},console.log=function(...o){a(o)||r.apply(console,o)};const i=window.onerror;window.onerror=function(o,c,u,h,f){const m=f?.message||String(o||"");return s(m)?!0:i?i.call(this,o,c,u,h,f):!1},window.addEventListener("unhandledrejection",o=>{const c=o.reason?.message||String(o.reason||"");s(c)&&(o.preventDefault(),o.stopPropagation())},!0),window.console&&window.console.warn&&(window.__originalConsoleWarn=e,window.__originalConsoleError=t)};iSe();CV.createRoot(document.getElementById("root")).render(n.jsx(ni.StrictMode,{children:n.jsx(vR,{children:n.jsx(sSe,{})})}));
