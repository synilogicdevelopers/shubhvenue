function S7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function ua(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yb={exports:{}},df={},Zb={exports:{}},$t={};var EP;function k7(){if(EP)return $t;EP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,j={};function w(W,z,pe){this.props=W,this.context=z,this.refs=j,this.updater=pe||v}w.prototype.isReactComponent={},w.prototype.setState=function(W,z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,z,"setState")},w.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function S(){}S.prototype=w.prototype;function P(W,z,pe){this.props=W,this.context=z,this.refs=j,this.updater=pe||v}var k=P.prototype=new S;k.constructor=P,x(k,w.prototype),k.isPureReactComponent=!0;var R=Array.isArray,I=Object.prototype.hasOwnProperty,L={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(W,z,pe){var oe,Pe={},ke=null,fe=null;if(z!=null)for(oe in z.ref!==void 0&&(fe=z.ref),z.key!==void 0&&(ke=""+z.key),z)I.call(z,oe)&&!E.hasOwnProperty(oe)&&(Pe[oe]=z[oe]);var ue=arguments.length-2;if(ue===1)Pe.children=pe;else if(1<ue){for(var re=Array(ue),K=0;K<ue;K++)re[K]=arguments[K+2];Pe.children=re}if(W&&W.defaultProps)for(oe in ue=W.defaultProps,ue)Pe[oe]===void 0&&(Pe[oe]=ue[oe]);return{$$typeof:e,type:W,key:ke,ref:fe,props:Pe,_owner:L.current}}function F(W,z){return{$$typeof:e,type:W.type,key:z,ref:W.ref,props:W.props,_owner:W._owner}}function _(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function T(W){var z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(pe){return z[pe]})}var M=/\/+/g;function $(W,z){return typeof W=="object"&&W!==null&&W.key!=null?T(""+W.key):z.toString(36)}function J(W,z,pe,oe,Pe){var ke=typeof W;(ke==="undefined"||ke==="boolean")&&(W=null);var fe=!1;if(W===null)fe=!0;else switch(ke){case"string":case"number":fe=!0;break;case"object":switch(W.$$typeof){case e:case t:fe=!0}}if(fe)return fe=W,Pe=Pe(fe),W=oe===""?"."+$(fe,0):oe,R(Pe)?(pe="",W!=null&&(pe=W.replace(M,"$&/")+"/"),J(Pe,z,pe,"",function(K){return K})):Pe!=null&&(_(Pe)&&(Pe=F(Pe,pe+(!Pe.key||fe&&fe.key===Pe.key?"":(""+Pe.key).replace(M,"$&/")+"/")+W)),z.push(Pe)),1;if(fe=0,oe=oe===""?".":oe+":",R(W))for(var ue=0;ue<W.length;ue++){ke=W[ue];var re=oe+$(ke,ue);fe+=J(ke,z,pe,re,Pe)}else if(re=p(W),typeof re=="function")for(W=re.call(W),ue=0;!(ke=W.next()).done;)ke=ke.value,re=oe+$(ke,ue++),fe+=J(ke,z,pe,re,Pe);else if(ke==="object")throw z=String(W),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return fe}function q(W,z,pe){if(W==null)return W;var oe=[],Pe=0;return J(W,oe,"","",function(ke){return z.call(pe,ke,Pe++)}),oe}function U(W){if(W._status===-1){var z=W._result;z=z(),z.then(function(pe){(W._status===0||W._status===-1)&&(W._status=1,W._result=pe)},function(pe){(W._status===0||W._status===-1)&&(W._status=2,W._result=pe)}),W._status===-1&&(W._status=0,W._result=z)}if(W._status===1)return W._result.default;throw W._result}var X={current:null},B={transition:null},Z={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:B,ReactCurrentOwner:L};function ne(){throw Error("act(...) is not supported in production builds of React.")}return $t.Children={map:q,forEach:function(W,z,pe){q(W,function(){z.apply(this,arguments)},pe)},count:function(W){var z=0;return q(W,function(){z++}),z},toArray:function(W){return q(W,function(z){return z})||[]},only:function(W){if(!_(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},$t.Component=w,$t.Fragment=r,$t.Profiler=a,$t.PureComponent=P,$t.StrictMode=n,$t.Suspense=u,$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,$t.act=ne,$t.cloneElement=function(W,z,pe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var oe=x({},W.props),Pe=W.key,ke=W.ref,fe=W._owner;if(z!=null){if(z.ref!==void 0&&(ke=z.ref,fe=L.current),z.key!==void 0&&(Pe=""+z.key),W.type&&W.type.defaultProps)var ue=W.type.defaultProps;for(re in z)I.call(z,re)&&!E.hasOwnProperty(re)&&(oe[re]=z[re]===void 0&&ue!==void 0?ue[re]:z[re])}var re=arguments.length-2;if(re===1)oe.children=pe;else if(1<re){ue=Array(re);for(var K=0;K<re;K++)ue[K]=arguments[K+2];oe.children=ue}return{$$typeof:e,type:W.type,key:Pe,ref:ke,props:oe,_owner:fe}},$t.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:i,_context:W},W.Consumer=W},$t.createElement=C,$t.createFactory=function(W){var z=C.bind(null,W);return z.type=W,z},$t.createRef=function(){return{current:null}},$t.forwardRef=function(W){return{$$typeof:l,render:W}},$t.isValidElement=_,$t.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:U}},$t.memo=function(W,z){return{$$typeof:d,type:W,compare:z===void 0?null:z}},$t.startTransition=function(W){var z=B.transition;B.transition={};try{W()}finally{B.transition=z}},$t.unstable_act=ne,$t.useCallback=function(W,z){return X.current.useCallback(W,z)},$t.useContext=function(W){return X.current.useContext(W)},$t.useDebugValue=function(){},$t.useDeferredValue=function(W){return X.current.useDeferredValue(W)},$t.useEffect=function(W,z){return X.current.useEffect(W,z)},$t.useId=function(){return X.current.useId()},$t.useImperativeHandle=function(W,z,pe){return X.current.useImperativeHandle(W,z,pe)},$t.useInsertionEffect=function(W,z){return X.current.useInsertionEffect(W,z)},$t.useLayoutEffect=function(W,z){return X.current.useLayoutEffect(W,z)},$t.useMemo=function(W,z){return X.current.useMemo(W,z)},$t.useReducer=function(W,z,pe){return X.current.useReducer(W,z,pe)},$t.useRef=function(W){return X.current.useRef(W)},$t.useState=function(W){return X.current.useState(W)},$t.useSyncExternalStore=function(W,z,pe){return X.current.useSyncExternalStore(W,z,pe)},$t.useTransition=function(){return X.current.useTransition()},$t.version="18.3.1",$t}var TP;function nh(){return TP||(TP=1,Zb.exports=k7()),Zb.exports}var MP;function C7(){if(MP)return df;MP=1;var e=nh(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var f,m={},p=null,v=null;d!==void 0&&(p=""+d),u.key!==void 0&&(p=""+u.key),u.ref!==void 0&&(v=u.ref);for(f in u)n.call(u,f)&&!i.hasOwnProperty(f)&&(m[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)m[f]===void 0&&(m[f]=u[f]);return{$$typeof:t,type:l,key:p,ref:v,props:m,_owner:a.current}}return df.Fragment=r,df.jsx=o,df.jsxs=o,df}var _P;function A7(){return _P||(_P=1,Yb.exports=C7()),Yb.exports}var s=A7(),g=nh();const rr=ua(g),I7=S7({__proto__:null,default:rr},[g]);var Ag={},Qb={exports:{}},_s={},Xb={exports:{}},Jb={};var DP;function P7(){return DP||(DP=1,(function(e){function t(B,Z){var ne=B.length;B.push(Z);e:for(;0<ne;){var W=ne-1>>>1,z=B[W];if(0<a(z,Z))B[W]=Z,B[ne]=z,ne=W;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var Z=B[0],ne=B.pop();if(ne!==Z){B[0]=ne;e:for(var W=0,z=B.length,pe=z>>>1;W<pe;){var oe=2*(W+1)-1,Pe=B[oe],ke=oe+1,fe=B[ke];if(0>a(Pe,ne))ke<z&&0>a(fe,Pe)?(B[W]=fe,B[ke]=ne,W=ke):(B[W]=Pe,B[oe]=ne,W=oe);else if(ke<z&&0>a(fe,ne))B[W]=fe,B[ke]=ne,W=ke;else break e}}return Z}function a(B,Z){var ne=B.sortIndex-Z.sortIndex;return ne!==0?ne:B.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,m=null,p=3,v=!1,x=!1,j=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(B){for(var Z=r(d);Z!==null;){if(Z.callback===null)n(d);else if(Z.startTime<=B)n(d),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=r(d)}}function R(B){if(j=!1,k(B),!x)if(r(u)!==null)x=!0,U(I);else{var Z=r(d);Z!==null&&X(R,Z.startTime-B)}}function I(B,Z){x=!1,j&&(j=!1,S(C),C=-1),v=!0;var ne=p;try{for(k(Z),m=r(u);m!==null&&(!(m.expirationTime>Z)||B&&!T());){var W=m.callback;if(typeof W=="function"){m.callback=null,p=m.priorityLevel;var z=W(m.expirationTime<=Z);Z=e.unstable_now(),typeof z=="function"?m.callback=z:m===r(u)&&n(u),k(Z)}else n(u);m=r(u)}if(m!==null)var pe=!0;else{var oe=r(d);oe!==null&&X(R,oe.startTime-Z),pe=!1}return pe}finally{m=null,p=ne,v=!1}}var L=!1,E=null,C=-1,F=5,_=-1;function T(){return!(e.unstable_now()-_<F)}function M(){if(E!==null){var B=e.unstable_now();_=B;var Z=!0;try{Z=E(!0,B)}finally{Z?$():(L=!1,E=null)}}else L=!1}var $;if(typeof P=="function")$=function(){P(M)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,q=J.port2;J.port1.onmessage=M,$=function(){q.postMessage(null)}}else $=function(){w(M,0)};function U(B){E=B,L||(L=!0,$())}function X(B,Z){C=w(function(){B(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,U(I))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var ne=p;p=Z;try{return B()}finally{p=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ne=p;p=B;try{return Z()}finally{p=ne}},e.unstable_scheduleCallback=function(B,Z,ne){var W=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?W+ne:W):ne=W,B){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ne+z,B={id:f++,callback:Z,priorityLevel:B,startTime:ne,expirationTime:z,sortIndex:-1},ne>W?(B.sortIndex=ne,t(d,B),r(u)===null&&B===r(d)&&(j?(S(C),C=-1):j=!0,X(R,ne-W))):(B.sortIndex=z,t(u,B),x||v||(x=!0,U(I))),B},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(B){var Z=p;return function(){var ne=p;p=Z;try{return B.apply(this,arguments)}finally{p=ne}}}})(Jb)),Jb}var OP;function E7(){return OP||(OP=1,Xb.exports=P7()),Xb.exports}var RP;function T7(){if(RP)return _s;RP=1;var e=nh(),t=E7();function r(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(c,h){o(c,h),o(c+"Capture",h)}function o(c,h){for(a[c]=h,c=0;c<h.length;c++)n.add(h[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(c){return u.call(m,c)?!0:u.call(f,c)?!1:d.test(c)?m[c]=!0:(f[c]=!0,!1)}function v(c,h,y,N){if(y!==null&&y.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return N?!1:y!==null?!y.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function x(c,h,y,N){if(h===null||typeof h>"u"||v(c,h,y,N))return!0;if(N)return!1;if(y!==null)switch(y.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function j(c,h,y,N,A,D,H){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=N,this.attributeNamespace=A,this.mustUseProperty=y,this.propertyName=c,this.type=h,this.sanitizeURL=D,this.removeEmptyString=H}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){w[c]=new j(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var h=c[0];w[h]=new j(h,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){w[c]=new j(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){w[c]=new j(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){w[c]=new j(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){w[c]=new j(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){w[c]=new j(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){w[c]=new j(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){w[c]=new j(c,5,!1,c.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function P(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var h=c.replace(S,P);w[h]=new j(h,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var h=c.replace(S,P);w[h]=new j(h,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var h=c.replace(S,P);w[h]=new j(h,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){w[c]=new j(c,1,!1,c.toLowerCase(),null,!1,!1)}),w.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){w[c]=new j(c,1,!1,c.toLowerCase(),null,!0,!0)});function k(c,h,y,N){var A=w.hasOwnProperty(h)?w[h]:null;(A!==null?A.type!==0:N||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(x(h,y,A,N)&&(y=null),N||A===null?p(h)&&(y===null?c.removeAttribute(h):c.setAttribute(h,""+y)):A.mustUseProperty?c[A.propertyName]=y===null?A.type===3?!1:"":y:(h=A.attributeName,N=A.attributeNamespace,y===null?c.removeAttribute(h):(A=A.type,y=A===3||A===4&&y===!0?"":""+y,N?c.setAttributeNS(N,h,y):c.setAttribute(h,y))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),L=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),B=Symbol.iterator;function Z(c){return c===null||typeof c!="object"?null:(c=B&&c[B]||c["@@iterator"],typeof c=="function"?c:null)}var ne=Object.assign,W;function z(c){if(W===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);W=h&&h[1]||""}return`
`+W+c}var pe=!1;function oe(c,h){if(!c||pe)return"";pe=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ee){var N=Ee}Reflect.construct(c,[],h)}else{try{h.call()}catch(Ee){N=Ee}c.call(h.prototype)}else{try{throw Error()}catch(Ee){N=Ee}c()}}catch(Ee){if(Ee&&N&&typeof Ee.stack=="string"){for(var A=Ee.stack.split(`
`),D=N.stack.split(`
`),H=A.length-1,ie=D.length-1;1<=H&&0<=ie&&A[H]!==D[ie];)ie--;for(;1<=H&&0<=ie;H--,ie--)if(A[H]!==D[ie]){if(H!==1||ie!==1)do if(H--,ie--,0>ie||A[H]!==D[ie]){var me=`
`+A[H].replace(" at new "," at ");return c.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",c.displayName)),me}while(1<=H&&0<=ie);break}}}finally{pe=!1,Error.prepareStackTrace=y}return(c=c?c.displayName||c.name:"")?z(c):""}function Pe(c){switch(c.tag){case 5:return z(c.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return c=oe(c.type,!1),c;case 11:return c=oe(c.type.render,!1),c;case 1:return c=oe(c.type,!0),c;default:return""}}function ke(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case E:return"Fragment";case L:return"Portal";case F:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case J:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case T:return(c.displayName||"Context")+".Consumer";case _:return(c._context.displayName||"Context")+".Provider";case M:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case q:return h=c.displayName||null,h!==null?h:ke(c.type)||"Memo";case U:h=c._payload,c=c._init;try{return ke(c(h))}catch{}}return null}function fe(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(h);case 8:return h===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function ue(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function re(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function K(c){var h=re(c)?"checked":"value",y=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),N=""+c[h];if(!c.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var A=y.get,D=y.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return A.call(this)},set:function(H){N=""+H,D.call(this,H)}}),Object.defineProperty(c,h,{enumerable:y.enumerable}),{getValue:function(){return N},setValue:function(H){N=""+H},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function de(c){c._valueTracker||(c._valueTracker=K(c))}function te(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var y=h.getValue(),N="";return c&&(N=re(c)?c.checked?"true":"false":c.value),c=N,c!==y?(h.setValue(c),!0):!1}function ye(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function ae(c,h){var y=h.checked;return ne({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??c._wrapperState.initialChecked})}function ee(c,h){var y=h.defaultValue==null?"":h.defaultValue,N=h.checked!=null?h.checked:h.defaultChecked;y=ue(h.value!=null?h.value:y),c._wrapperState={initialChecked:N,initialValue:y,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function be(c,h){h=h.checked,h!=null&&k(c,"checked",h,!1)}function he(c,h){be(c,h);var y=ue(h.value),N=h.type;if(y!=null)N==="number"?(y===0&&c.value===""||c.value!=y)&&(c.value=""+y):c.value!==""+y&&(c.value=""+y);else if(N==="submit"||N==="reset"){c.removeAttribute("value");return}h.hasOwnProperty("value")?Be(c,h.type,y):h.hasOwnProperty("defaultValue")&&Be(c,h.type,ue(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(c.defaultChecked=!!h.defaultChecked)}function xe(c,h,y){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var N=h.type;if(!(N!=="submit"&&N!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+c._wrapperState.initialValue,y||h===c.value||(c.value=h),c.defaultValue=h}y=c.name,y!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,y!==""&&(c.name=y)}function Be(c,h,y){(h!=="number"||ye(c.ownerDocument)!==c)&&(y==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+y&&(c.defaultValue=""+y))}var ut=Array.isArray;function _t(c,h,y,N){if(c=c.options,h){h={};for(var A=0;A<y.length;A++)h["$"+y[A]]=!0;for(y=0;y<c.length;y++)A=h.hasOwnProperty("$"+c[y].value),c[y].selected!==A&&(c[y].selected=A),A&&N&&(c[y].defaultSelected=!0)}else{for(y=""+ue(y),h=null,A=0;A<c.length;A++){if(c[A].value===y){c[A].selected=!0,N&&(c[A].defaultSelected=!0);return}h!==null||c[A].disabled||(h=c[A])}h!==null&&(h.selected=!0)}}function je(c,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},h,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function De(c,h){var y=h.value;if(y==null){if(y=h.children,h=h.defaultValue,y!=null){if(h!=null)throw Error(r(92));if(ut(y)){if(1<y.length)throw Error(r(93));y=y[0]}h=y}h==null&&(h=""),y=h}c._wrapperState={initialValue:ue(y)}}function rt(c,h){var y=ue(h.value),N=ue(h.defaultValue);y!=null&&(y=""+y,y!==c.value&&(c.value=y),h.defaultValue==null&&c.defaultValue!==y&&(c.defaultValue=y)),N!=null&&(c.defaultValue=""+N)}function xt(c){var h=c.textContent;h===c._wrapperState.initialValue&&h!==""&&h!==null&&(c.value=h)}function Qe(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(c,h){return c==null||c==="http://www.w3.org/1999/xhtml"?Qe(h):c==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Xe,ce=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,y,N,A){MSApp.execUnsafeLocalFunction(function(){return c(h,y,N,A)})}:c})(function(c,h){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=h;else{for(Xe=Xe||document.createElement("div"),Xe.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Xe.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;h.firstChild;)c.appendChild(h.firstChild)}});function Fe(c,h){if(h){var y=c.firstChild;if(y&&y===c.lastChild&&y.nodeType===3){y.nodeValue=h;return}}c.textContent=h}var Ve={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},It=["Webkit","ms","Moz","O"];Object.keys(Ve).forEach(function(c){It.forEach(function(h){h=h+c.charAt(0).toUpperCase()+c.substring(1),Ve[h]=Ve[c]})});function Le(c,h,y){return h==null||typeof h=="boolean"||h===""?"":y||typeof h!="number"||h===0||Ve.hasOwnProperty(c)&&Ve[c]?(""+h).trim():h+"px"}function $e(c,h){c=c.style;for(var y in h)if(h.hasOwnProperty(y)){var N=y.indexOf("--")===0,A=Le(y,h[y],N);y==="float"&&(y="cssFloat"),N?c.setProperty(y,A):c[y]=A}}var Bt=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ut(c,h){if(h){if(Bt[c]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function mr(c,h){if(c.indexOf("-")===-1)return typeof h.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=null;function et(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var se=null,_e=null,Ye=null;function Rt(c){if(c=Yh(c)){if(typeof se!="function")throw Error(r(280));var h=c.stateNode;h&&(h=zp(h),se(c.stateNode,c.type,h))}}function Lt(c){_e?Ye?Ye.push(c):Ye=[c]:_e=c}function Gr(){if(_e){var c=_e,h=Ye;if(Ye=_e=null,Rt(c),h)for(c=0;c<h.length;c++)Rt(h[c])}}function un(c,h){return c(h)}function Vs(){}var Bn=!1;function $a(c,h,y){if(Bn)return c(h,y);Bn=!0;try{return un(c,h,y)}finally{Bn=!1,(_e!==null||Ye!==null)&&(Vs(),Gr())}}function Jr(c,h){var y=c.stateNode;if(y===null)return null;var N=zp(y);if(N===null)return null;y=N[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(c=c.type,N=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!N;break e;default:c=!1}if(c)return null;if(y&&typeof y!="function")throw Error(r(231,h,typeof y));return y}var pr=!1;if(l)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{pr=!1}function Yt(c,h,y,N,A,D,H,ie,me){var Ee=Array.prototype.slice.call(arguments,3);try{h.apply(y,Ee)}catch(We){this.onError(We)}}var cr=!1,Wt=null,Vn=!1,dn=null,zn={onError:function(c){cr=!0,Wt=c}};function Y(c,h,y,N,A,D,H,ie,me){cr=!1,Wt=null,Yt.apply(zn,arguments)}function ge(c,h,y,N,A,D,H,ie,me){if(Y.apply(this,arguments),cr){if(cr){var Ee=Wt;cr=!1,Wt=null}else throw Error(r(198));Vn||(Vn=!0,dn=Ee)}}function le(c){var h=c,y=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(y=h.return),c=h.return;while(c)}return h.tag===3?y:null}function Ge(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function ze(c){if(le(c)!==c)throw Error(r(188))}function Je(c){var h=c.alternate;if(!h){if(h=le(c),h===null)throw Error(r(188));return h!==c?null:c}for(var y=c,N=h;;){var A=y.return;if(A===null)break;var D=A.alternate;if(D===null){if(N=A.return,N!==null){y=N;continue}break}if(A.child===D.child){for(D=A.child;D;){if(D===y)return ze(A),c;if(D===N)return ze(A),h;D=D.sibling}throw Error(r(188))}if(y.return!==N.return)y=A,N=D;else{for(var H=!1,ie=A.child;ie;){if(ie===y){H=!0,y=A,N=D;break}if(ie===N){H=!0,N=A,y=D;break}ie=ie.sibling}if(!H){for(ie=D.child;ie;){if(ie===y){H=!0,y=D,N=A;break}if(ie===N){H=!0,N=D,y=A;break}ie=ie.sibling}if(!H)throw Error(r(189))}}if(y.alternate!==N)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?c:h}function Ct(c){return c=Je(c),c!==null?en(c):null}function en(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=en(c);if(h!==null)return h;c=c.sibling}return null}var ks=t.unstable_scheduleCallback,mi=t.unstable_cancelCallback,Ba=t.unstable_shouldYield,zs=t.unstable_requestPaint,hr=t.unstable_now,Du=t.unstable_getCurrentPriorityLevel,Cs=t.unstable_ImmediatePriority,Va=t.unstable_UserBlockingPriority,Cr=t.unstable_NormalPriority,za=t.unstable_LowPriority,Ou=t.unstable_IdlePriority,mc=null,Us=null;function Cp(c){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(mc,c,void 0,(c.current.flags&128)===128)}catch{}}var Ws=Math.clz32?Math.clz32:pc,pi=Math.log,fa=Math.LN2;function pc(c){return c>>>=0,c===0?32:31-(pi(c)/fa|0)|0}var gi=64,al=4194304;function er(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function ao(c,h){var y=c.pendingLanes;if(y===0)return 0;var N=0,A=c.suspendedLanes,D=c.pingedLanes,H=y&268435455;if(H!==0){var ie=H&~A;ie!==0?N=er(ie):(D&=H,D!==0&&(N=er(D)))}else H=y&~A,H!==0?N=er(H):D!==0&&(N=er(D));if(N===0)return 0;if(h!==0&&h!==N&&(h&A)===0&&(A=N&-N,D=h&-h,A>=D||A===16&&(D&4194240)!==0))return h;if((N&4)!==0&&(N|=y&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=N;0<h;)y=31-Ws(h),A=1<<y,N|=c[y],h&=~A;return N}function gc(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yc(c,h){for(var y=c.suspendedLanes,N=c.pingedLanes,A=c.expirationTimes,D=c.pendingLanes;0<D;){var H=31-Ws(D),ie=1<<H,me=A[H];me===-1?((ie&y)===0||(ie&N)!==0)&&(A[H]=gc(ie,h)):me<=h&&(c.expiredLanes|=ie),D&=~ie}}function Ih(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Ph(){var c=gi;return gi<<=1,(gi&4194240)===0&&(gi=64),c}function Eh(c){for(var h=[],y=0;31>y;y++)h.push(c);return h}function vc(c,h,y){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-Ws(h),c[h]=y}function A0(c,h){var y=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var N=c.eventTimes;for(c=c.expirationTimes;0<y;){var A=31-Ws(y),D=1<<A;h[A]=0,N[A]=-1,c[A]=-1,y&=~D}}function Th(c,h){var y=c.entangledLanes|=h;for(c=c.entanglements;y;){var N=31-Ws(y),A=1<<N;A&h|c[N]&h&&(c[N]|=h),y&=~A}}var zt=0;function yi(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Mh,Ru,_h,Dh,Oh,vi=!1,Lu=[],xi=null,bi=null,Un=null,xc=new Map,io=new Map,Hs=[],Ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function il(c,h){switch(c){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":xc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(h.pointerId)}}function Ua(c,h,y,N,A,D){return c===null||c.nativeEvent!==D?(c={blockedOn:h,domEventName:y,eventSystemFlags:N,nativeEvent:D,targetContainers:[A]},h!==null&&(h=Yh(h),h!==null&&Ru(h)),c):(c.eventSystemFlags|=N,h=c.targetContainers,A!==null&&h.indexOf(A)===-1&&h.push(A),c)}function Ip(c,h,y,N,A){switch(h){case"focusin":return xi=Ua(xi,c,h,y,N,A),!0;case"dragenter":return bi=Ua(bi,c,h,y,N,A),!0;case"mouseover":return Un=Ua(Un,c,h,y,N,A),!0;case"pointerover":var D=A.pointerId;return xc.set(D,Ua(xc.get(D)||null,c,h,y,N,A)),!0;case"gotpointercapture":return D=A.pointerId,io.set(D,Ua(io.get(D)||null,c,h,y,N,A)),!0}return!1}function Fu(c){var h=Nc(c.target);if(h!==null){var y=le(h);if(y!==null){if(h=y.tag,h===13){if(h=Ge(y),h!==null){c.blockedOn=h,Oh(c.priority,function(){_h(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){c.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}c.blockedOn=null}function gr(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var y=$u(c.domEventName,c.eventSystemFlags,h[0],c.nativeEvent);if(y===null){y=c.nativeEvent;var N=new y.constructor(y.type,y);Tt=N,y.target.dispatchEvent(N),Tt=null}else return h=Yh(y),h!==null&&Ru(h),c.blockedOn=y,!1;h.shift()}return!0}function Pp(c,h,y){gr(c)&&y.delete(h)}function I0(){vi=!1,xi!==null&&gr(xi)&&(xi=null),bi!==null&&gr(bi)&&(bi=null),Un!==null&&gr(Un)&&(Un=null),xc.forEach(Pp),io.forEach(Pp)}function ol(c,h){c.blockedOn===h&&(c.blockedOn=null,vi||(vi=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,I0)))}function ll(c){function h(A){return ol(A,c)}if(0<Lu.length){ol(Lu[0],c);for(var y=1;y<Lu.length;y++){var N=Lu[y];N.blockedOn===c&&(N.blockedOn=null)}}for(xi!==null&&ol(xi,c),bi!==null&&ol(bi,c),Un!==null&&ol(Un,c),xc.forEach(h),io.forEach(h),y=0;y<Hs.length;y++)N=Hs[y],N.blockedOn===c&&(N.blockedOn=null);for(;0<Hs.length&&(y=Hs[0],y.blockedOn===null);)Fu(y),y.blockedOn===null&&Hs.shift()}var oo=R.ReactCurrentBatchConfig,lo=!0;function wi(c,h,y,N){var A=zt,D=oo.transition;oo.transition=null;try{zt=1,Rh(c,h,y,N)}finally{zt=A,oo.transition=D}}function Ep(c,h,y,N){var A=zt,D=oo.transition;oo.transition=null;try{zt=4,Rh(c,h,y,N)}finally{zt=A,oo.transition=D}}function Rh(c,h,y,N){if(lo){var A=$u(c,h,y,N);if(A===null)$0(c,h,N,ji,y),il(c,N);else if(Ip(A,c,h,y,N))N.stopPropagation();else if(il(c,N),h&4&&-1<Ap.indexOf(c)){for(;A!==null;){var D=Yh(A);if(D!==null&&Mh(D),D=$u(c,h,y,N),D===null&&$0(c,h,N,ji,y),D===A)break;A=D}A!==null&&N.stopPropagation()}else $0(c,h,N,null,y)}}var ji=null;function $u(c,h,y,N){if(ji=null,c=et(N),c=Nc(c),c!==null)if(h=le(c),h===null)c=null;else if(y=h.tag,y===13){if(c=Ge(h),c!==null)return c;c=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null);return ji=c,null}function Bu(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Du()){case Cs:return 1;case Va:return 4;case Cr:case za:return 16;case Ou:return 536870912;default:return 16}default:return 16}}var qs=null,Vu=null,co=null;function Tp(){if(co)return co;var c,h=Vu,y=h.length,N,A="value"in qs?qs.value:qs.textContent,D=A.length;for(c=0;c<y&&h[c]===A[c];c++);var H=y-c;for(N=1;N<=H&&h[y-N]===A[D-N];N++);return co=A.slice(c,1<N?1-N:void 0)}function bc(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function Ni(){return!0}function Lh(){return!1}function Yn(c){function h(y,N,A,D,H){this._reactName=y,this._targetInst=A,this.type=N,this.nativeEvent=D,this.target=H,this.currentTarget=null;for(var ie in c)c.hasOwnProperty(ie)&&(y=c[ie],this[ie]=y?y(D):D[ie]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Ni:Lh,this.isPropagationStopped=Lh,this}return ne(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),h}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wc=Yn(Si),cl=ne({},Si,{view:0,detail:0}),zu=Yn(cl),Uu,Wu,Gs,jc=ne({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Gs&&(Gs&&c.type==="mousemove"?(Uu=c.screenX-Gs.screenX,Wu=c.screenY-Gs.screenY):Wu=Uu=0,Gs=c),Uu)},movementY:function(c){return"movementY"in c?c.movementY:Wu}}),Fh=Yn(jc),Mp=ne({},jc,{dataTransfer:0}),_p=Yn(Mp),As=ne({},cl,{relatedTarget:0}),Hu=Yn(As),Dp=ne({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),ul=Yn(Dp),b=ne({},Si,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),O=Yn(b),V=ne({},Si,{data:0}),Q=Yn(V),Se={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Te={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ze={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pt(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=Ze[c])?!!h[c]:!1}function _r(){return Pt}var ar=ne({},cl,{key:function(c){if(c.key){var h=Se[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=bc(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Te[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(c){return c.type==="keypress"?bc(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?bc(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),tn=Yn(ar),ma=ne({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Yn(ma),Ci=ne({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),Ai=Yn(Ci),qu=ne({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),$h=Yn(qu),y8=ne({},jc,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),v8=Yn(y8),x8=[9,13,27,32],P0=l&&"CompositionEvent"in window,Bh=null;l&&"documentMode"in document&&(Bh=document.documentMode);var b8=l&&"TextEvent"in window&&!Bh,jA=l&&(!P0||Bh&&8<Bh&&11>=Bh),NA=" ",SA=!1;function kA(c,h){switch(c){case"keyup":return x8.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CA(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Gu=!1;function w8(c,h){switch(c){case"compositionend":return CA(h);case"keypress":return h.which!==32?null:(SA=!0,NA);case"textInput":return c=h.data,c===NA&&SA?null:c;default:return null}}function j8(c,h){if(Gu)return c==="compositionend"||!P0&&kA(c,h)?(c=Tp(),co=Vu=qs=null,Gu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return jA&&h.locale!=="ko"?null:h.data;default:return null}}var N8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AA(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!N8[c.type]:h==="textarea"}function IA(c,h,y,N){Lt(N),h=$p(h,"onChange"),0<h.length&&(y=new wc("onChange","change",null,y,N),c.push({event:y,listeners:h}))}var Vh=null,zh=null;function S8(c){qA(c,0)}function Op(c){var h=Xu(c);if(te(h))return c}function k8(c,h){if(c==="change")return h}var PA=!1;if(l){var E0;if(l){var T0="oninput"in document;if(!T0){var EA=document.createElement("div");EA.setAttribute("oninput","return;"),T0=typeof EA.oninput=="function"}E0=T0}else E0=!1;PA=E0&&(!document.documentMode||9<document.documentMode)}function TA(){Vh&&(Vh.detachEvent("onpropertychange",MA),zh=Vh=null)}function MA(c){if(c.propertyName==="value"&&Op(zh)){var h=[];IA(h,zh,c,et(c)),$a(S8,h)}}function C8(c,h,y){c==="focusin"?(TA(),Vh=h,zh=y,Vh.attachEvent("onpropertychange",MA)):c==="focusout"&&TA()}function A8(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Op(zh)}function I8(c,h){if(c==="click")return Op(h)}function P8(c,h){if(c==="input"||c==="change")return Op(h)}function E8(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Wa=typeof Object.is=="function"?Object.is:E8;function Uh(c,h){if(Wa(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var y=Object.keys(c),N=Object.keys(h);if(y.length!==N.length)return!1;for(N=0;N<y.length;N++){var A=y[N];if(!u.call(h,A)||!Wa(c[A],h[A]))return!1}return!0}function _A(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function DA(c,h){var y=_A(c);c=0;for(var N;y;){if(y.nodeType===3){if(N=c+y.textContent.length,c<=h&&N>=h)return{node:y,offset:h-c};c=N}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=_A(y)}}function OA(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?OA(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function RA(){for(var c=window,h=ye();h instanceof c.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)c=h.contentWindow;else break;h=ye(c.document)}return h}function M0(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}function T8(c){var h=RA(),y=c.focusedElem,N=c.selectionRange;if(h!==y&&y&&y.ownerDocument&&OA(y.ownerDocument.documentElement,y)){if(N!==null&&M0(y)){if(h=N.start,c=N.end,c===void 0&&(c=h),"selectionStart"in y)y.selectionStart=h,y.selectionEnd=Math.min(c,y.value.length);else if(c=(h=y.ownerDocument||document)&&h.defaultView||window,c.getSelection){c=c.getSelection();var A=y.textContent.length,D=Math.min(N.start,A);N=N.end===void 0?D:Math.min(N.end,A),!c.extend&&D>N&&(A=N,N=D,D=A),A=DA(y,D);var H=DA(y,N);A&&H&&(c.rangeCount!==1||c.anchorNode!==A.node||c.anchorOffset!==A.offset||c.focusNode!==H.node||c.focusOffset!==H.offset)&&(h=h.createRange(),h.setStart(A.node,A.offset),c.removeAllRanges(),D>N?(c.addRange(h),c.extend(H.node,H.offset)):(h.setEnd(H.node,H.offset),c.addRange(h)))}}for(h=[],c=y;c=c.parentNode;)c.nodeType===1&&h.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<h.length;y++)c=h[y],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var M8=l&&"documentMode"in document&&11>=document.documentMode,Ku=null,_0=null,Wh=null,D0=!1;function LA(c,h,y){var N=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;D0||Ku==null||Ku!==ye(N)||(N=Ku,"selectionStart"in N&&M0(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Wh&&Uh(Wh,N)||(Wh=N,N=$p(_0,"onSelect"),0<N.length&&(h=new wc("onSelect","select",null,h,y),c.push({event:h,listeners:N}),h.target=Ku)))}function Rp(c,h){var y={};return y[c.toLowerCase()]=h.toLowerCase(),y["Webkit"+c]="webkit"+h,y["Moz"+c]="moz"+h,y}var Yu={animationend:Rp("Animation","AnimationEnd"),animationiteration:Rp("Animation","AnimationIteration"),animationstart:Rp("Animation","AnimationStart"),transitionend:Rp("Transition","TransitionEnd")},O0={},FA={};l&&(FA=document.createElement("div").style,"AnimationEvent"in window||(delete Yu.animationend.animation,delete Yu.animationiteration.animation,delete Yu.animationstart.animation),"TransitionEvent"in window||delete Yu.transitionend.transition);function Lp(c){if(O0[c])return O0[c];if(!Yu[c])return c;var h=Yu[c],y;for(y in h)if(h.hasOwnProperty(y)&&y in FA)return O0[c]=h[y];return c}var $A=Lp("animationend"),BA=Lp("animationiteration"),VA=Lp("animationstart"),zA=Lp("transitionend"),UA=new Map,WA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dl(c,h){UA.set(c,h),i(h,[c])}for(var R0=0;R0<WA.length;R0++){var L0=WA[R0],_8=L0.toLowerCase(),D8=L0[0].toUpperCase()+L0.slice(1);dl(_8,"on"+D8)}dl($A,"onAnimationEnd"),dl(BA,"onAnimationIteration"),dl(VA,"onAnimationStart"),dl("dblclick","onDoubleClick"),dl("focusin","onFocus"),dl("focusout","onBlur"),dl(zA,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hh));function HA(c,h,y){var N=c.type||"unknown-event";c.currentTarget=y,ge(N,h,void 0,c),c.currentTarget=null}function qA(c,h){h=(h&4)!==0;for(var y=0;y<c.length;y++){var N=c[y],A=N.event;N=N.listeners;e:{var D=void 0;if(h)for(var H=N.length-1;0<=H;H--){var ie=N[H],me=ie.instance,Ee=ie.currentTarget;if(ie=ie.listener,me!==D&&A.isPropagationStopped())break e;HA(A,ie,Ee),D=me}else for(H=0;H<N.length;H++){if(ie=N[H],me=ie.instance,Ee=ie.currentTarget,ie=ie.listener,me!==D&&A.isPropagationStopped())break e;HA(A,ie,Ee),D=me}}}if(Vn)throw c=dn,Vn=!1,dn=null,c}function wr(c,h){var y=h[H0];y===void 0&&(y=h[H0]=new Set);var N=c+"__bubble";y.has(N)||(GA(h,c,2,!1),y.add(N))}function F0(c,h,y){var N=0;h&&(N|=4),GA(y,c,N,h)}var Fp="_reactListening"+Math.random().toString(36).slice(2);function qh(c){if(!c[Fp]){c[Fp]=!0,n.forEach(function(y){y!=="selectionchange"&&(O8.has(y)||F0(y,!1,c),F0(y,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[Fp]||(h[Fp]=!0,F0("selectionchange",!1,h))}}function GA(c,h,y,N){switch(Bu(h)){case 1:var A=wi;break;case 4:A=Ep;break;default:A=Rh}y=A.bind(null,h,y,c),A=void 0,!pr||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(A=!0),N?A!==void 0?c.addEventListener(h,y,{capture:!0,passive:A}):c.addEventListener(h,y,!0):A!==void 0?c.addEventListener(h,y,{passive:A}):c.addEventListener(h,y,!1)}function $0(c,h,y,N,A){var D=N;if((h&1)===0&&(h&2)===0&&N!==null)e:for(;;){if(N===null)return;var H=N.tag;if(H===3||H===4){var ie=N.stateNode.containerInfo;if(ie===A||ie.nodeType===8&&ie.parentNode===A)break;if(H===4)for(H=N.return;H!==null;){var me=H.tag;if((me===3||me===4)&&(me=H.stateNode.containerInfo,me===A||me.nodeType===8&&me.parentNode===A))return;H=H.return}for(;ie!==null;){if(H=Nc(ie),H===null)return;if(me=H.tag,me===5||me===6){N=D=H;continue e}ie=ie.parentNode}}N=N.return}$a(function(){var Ee=D,We=et(y),qe=[];e:{var Ue=UA.get(c);if(Ue!==void 0){var tt=wc,ot=c;switch(c){case"keypress":if(bc(y)===0)break e;case"keydown":case"keyup":tt=tn;break;case"focusin":ot="focus",tt=Hu;break;case"focusout":ot="blur",tt=Hu;break;case"beforeblur":case"afterblur":tt=Hu;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=_p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Ai;break;case $A:case BA:case VA:tt=ul;break;case zA:tt=$h;break;case"scroll":tt=zu;break;case"wheel":tt=v8;break;case"copy":case"cut":case"paste":tt=O;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=ki}var ht=(h&4)!==0,Kr=!ht&&c==="scroll",Ne=ht?Ue!==null?Ue+"Capture":null:Ue;ht=[];for(var ve=Ee,Ie;ve!==null;){Ie=ve;var Ke=Ie.stateNode;if(Ie.tag===5&&Ke!==null&&(Ie=Ke,Ne!==null&&(Ke=Jr(ve,Ne),Ke!=null&&ht.push(Gh(ve,Ke,Ie)))),Kr)break;ve=ve.return}0<ht.length&&(Ue=new tt(Ue,ot,null,y,We),qe.push({event:Ue,listeners:ht}))}}if((h&7)===0){e:{if(Ue=c==="mouseover"||c==="pointerover",tt=c==="mouseout"||c==="pointerout",Ue&&y!==Tt&&(ot=y.relatedTarget||y.fromElement)&&(Nc(ot)||ot[uo]))break e;if((tt||Ue)&&(Ue=We.window===We?We:(Ue=We.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,tt?(ot=y.relatedTarget||y.toElement,tt=Ee,ot=ot?Nc(ot):null,ot!==null&&(Kr=le(ot),ot!==Kr||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(tt=null,ot=Ee),tt!==ot)){if(ht=Fh,Ke="onMouseLeave",Ne="onMouseEnter",ve="mouse",(c==="pointerout"||c==="pointerover")&&(ht=ki,Ke="onPointerLeave",Ne="onPointerEnter",ve="pointer"),Kr=tt==null?Ue:Xu(tt),Ie=ot==null?Ue:Xu(ot),Ue=new ht(Ke,ve+"leave",tt,y,We),Ue.target=Kr,Ue.relatedTarget=Ie,Ke=null,Nc(We)===Ee&&(ht=new ht(Ne,ve+"enter",ot,y,We),ht.target=Ie,ht.relatedTarget=Kr,Ke=ht),Kr=Ke,tt&&ot)t:{for(ht=tt,Ne=ot,ve=0,Ie=ht;Ie;Ie=Zu(Ie))ve++;for(Ie=0,Ke=Ne;Ke;Ke=Zu(Ke))Ie++;for(;0<ve-Ie;)ht=Zu(ht),ve--;for(;0<Ie-ve;)Ne=Zu(Ne),Ie--;for(;ve--;){if(ht===Ne||Ne!==null&&ht===Ne.alternate)break t;ht=Zu(ht),Ne=Zu(Ne)}ht=null}else ht=null;tt!==null&&KA(qe,Ue,tt,ht,!1),ot!==null&&Kr!==null&&KA(qe,Kr,ot,ht,!0)}}e:{if(Ue=Ee?Xu(Ee):window,tt=Ue.nodeName&&Ue.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Ue.type==="file")var mt=k8;else if(AA(Ue))if(PA)mt=P8;else{mt=A8;var gt=C8}else(tt=Ue.nodeName)&&tt.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(mt=I8);if(mt&&(mt=mt(c,Ee))){IA(qe,mt,y,We);break e}gt&&gt(c,Ue,Ee),c==="focusout"&&(gt=Ue._wrapperState)&&gt.controlled&&Ue.type==="number"&&Be(Ue,"number",Ue.value)}switch(gt=Ee?Xu(Ee):window,c){case"focusin":(AA(gt)||gt.contentEditable==="true")&&(Ku=gt,_0=Ee,Wh=null);break;case"focusout":Wh=_0=Ku=null;break;case"mousedown":D0=!0;break;case"contextmenu":case"mouseup":case"dragend":D0=!1,LA(qe,y,We);break;case"selectionchange":if(M8)break;case"keydown":case"keyup":LA(qe,y,We)}var yt;if(P0)e:{switch(c){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else Gu?kA(c,y)&&(Nt="onCompositionEnd"):c==="keydown"&&y.keyCode===229&&(Nt="onCompositionStart");Nt&&(jA&&y.locale!=="ko"&&(Gu||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Gu&&(yt=Tp()):(qs=We,Vu="value"in qs?qs.value:qs.textContent,Gu=!0)),gt=$p(Ee,Nt),0<gt.length&&(Nt=new Q(Nt,c,null,y,We),qe.push({event:Nt,listeners:gt}),yt?Nt.data=yt:(yt=CA(y),yt!==null&&(Nt.data=yt)))),(yt=b8?w8(c,y):j8(c,y))&&(Ee=$p(Ee,"onBeforeInput"),0<Ee.length&&(We=new Q("onBeforeInput","beforeinput",null,y,We),qe.push({event:We,listeners:Ee}),We.data=yt))}qA(qe,h)})}function Gh(c,h,y){return{instance:c,listener:h,currentTarget:y}}function $p(c,h){for(var y=h+"Capture",N=[];c!==null;){var A=c,D=A.stateNode;A.tag===5&&D!==null&&(A=D,D=Jr(c,y),D!=null&&N.unshift(Gh(c,D,A)),D=Jr(c,h),D!=null&&N.push(Gh(c,D,A))),c=c.return}return N}function Zu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function KA(c,h,y,N,A){for(var D=h._reactName,H=[];y!==null&&y!==N;){var ie=y,me=ie.alternate,Ee=ie.stateNode;if(me!==null&&me===N)break;ie.tag===5&&Ee!==null&&(ie=Ee,A?(me=Jr(y,D),me!=null&&H.unshift(Gh(y,me,ie))):A||(me=Jr(y,D),me!=null&&H.push(Gh(y,me,ie)))),y=y.return}H.length!==0&&c.push({event:h,listeners:H})}var R8=/\r\n?/g,L8=/\u0000|\uFFFD/g;function YA(c){return(typeof c=="string"?c:""+c).replace(R8,`
`).replace(L8,"")}function Bp(c,h,y){if(h=YA(h),YA(c)!==h&&y)throw Error(r(425))}function Vp(){}var B0=null,V0=null;function z0(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var U0=typeof setTimeout=="function"?setTimeout:void 0,F8=typeof clearTimeout=="function"?clearTimeout:void 0,ZA=typeof Promise=="function"?Promise:void 0,$8=typeof queueMicrotask=="function"?queueMicrotask:typeof ZA<"u"?function(c){return ZA.resolve(null).then(c).catch(B8)}:U0;function B8(c){setTimeout(function(){throw c})}function W0(c,h){var y=h,N=0;do{var A=y.nextSibling;if(c.removeChild(y),A&&A.nodeType===8)if(y=A.data,y==="/$"){if(N===0){c.removeChild(A),ll(h);return}N--}else y!=="$"&&y!=="$?"&&y!=="$!"||N++;y=A}while(y);ll(h)}function hl(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return c}function QA(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var y=c.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return c;h--}else y==="/$"&&h++}c=c.previousSibling}return null}var Qu=Math.random().toString(36).slice(2),Ii="__reactFiber$"+Qu,Kh="__reactProps$"+Qu,uo="__reactContainer$"+Qu,H0="__reactEvents$"+Qu,V8="__reactListeners$"+Qu,z8="__reactHandles$"+Qu;function Nc(c){var h=c[Ii];if(h)return h;for(var y=c.parentNode;y;){if(h=y[uo]||y[Ii]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(c=QA(c);c!==null;){if(y=c[Ii])return y;c=QA(c)}return h}c=y,y=c.parentNode}return null}function Yh(c){return c=c[Ii]||c[uo],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Xu(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function zp(c){return c[Kh]||null}var q0=[],Ju=-1;function fl(c){return{current:c}}function jr(c){0>Ju||(c.current=q0[Ju],q0[Ju]=null,Ju--)}function yr(c,h){Ju++,q0[Ju]=c.current,c.current=h}var ml={},Zn=fl(ml),Is=fl(!1),Sc=ml;function ed(c,h){var y=c.type.contextTypes;if(!y)return ml;var N=c.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===h)return N.__reactInternalMemoizedMaskedChildContext;var A={},D;for(D in y)A[D]=h[D];return N&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=A),A}function Ps(c){return c=c.childContextTypes,c!=null}function Up(){jr(Is),jr(Zn)}function XA(c,h,y){if(Zn.current!==ml)throw Error(r(168));yr(Zn,h),yr(Is,y)}function JA(c,h,y){var N=c.stateNode;if(h=h.childContextTypes,typeof N.getChildContext!="function")return y;N=N.getChildContext();for(var A in N)if(!(A in h))throw Error(r(108,fe(c)||"Unknown",A));return ne({},y,N)}function Wp(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ml,Sc=Zn.current,yr(Zn,c),yr(Is,Is.current),!0}function eI(c,h,y){var N=c.stateNode;if(!N)throw Error(r(169));y?(c=JA(c,h,Sc),N.__reactInternalMemoizedMergedChildContext=c,jr(Is),jr(Zn),yr(Zn,c)):jr(Is),yr(Is,y)}var ho=null,Hp=!1,G0=!1;function tI(c){ho===null?ho=[c]:ho.push(c)}function U8(c){Hp=!0,tI(c)}function pl(){if(!G0&&ho!==null){G0=!0;var c=0,h=zt;try{var y=ho;for(zt=1;c<y.length;c++){var N=y[c];do N=N(!0);while(N!==null)}ho=null,Hp=!1}catch(A){throw ho!==null&&(ho=ho.slice(c+1)),ks(Cs,pl),A}finally{zt=h,G0=!1}}return null}var td=[],rd=0,qp=null,Gp=0,pa=[],ga=0,kc=null,fo=1,mo="";function Cc(c,h){td[rd++]=Gp,td[rd++]=qp,qp=c,Gp=h}function rI(c,h,y){pa[ga++]=fo,pa[ga++]=mo,pa[ga++]=kc,kc=c;var N=fo;c=mo;var A=32-Ws(N)-1;N&=~(1<<A),y+=1;var D=32-Ws(h)+A;if(30<D){var H=A-A%5;D=(N&(1<<H)-1).toString(32),N>>=H,A-=H,fo=1<<32-Ws(h)+A|y<<A|N,mo=D+c}else fo=1<<D|y<<A|N,mo=c}function K0(c){c.return!==null&&(Cc(c,1),rI(c,1,0))}function Y0(c){for(;c===qp;)qp=td[--rd],td[rd]=null,Gp=td[--rd],td[rd]=null;for(;c===kc;)kc=pa[--ga],pa[ga]=null,mo=pa[--ga],pa[ga]=null,fo=pa[--ga],pa[ga]=null}var Ks=null,Ys=null,Ar=!1,Ha=null;function nI(c,h){var y=ba(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=c,h=c.deletions,h===null?(c.deletions=[y],c.flags|=16):h.push(y)}function sI(c,h){switch(c.tag){case 5:var y=c.type;return h=h.nodeType!==1||y.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(c.stateNode=h,Ks=c,Ys=hl(h.firstChild),!0):!1;case 6:return h=c.pendingProps===""||h.nodeType!==3?null:h,h!==null?(c.stateNode=h,Ks=c,Ys=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(y=kc!==null?{id:fo,overflow:mo}:null,c.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=ba(18,null,null,0),y.stateNode=h,y.return=c,c.child=y,Ks=c,Ys=null,!0):!1;default:return!1}}function Z0(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Q0(c){if(Ar){var h=Ys;if(h){var y=h;if(!sI(c,h)){if(Z0(c))throw Error(r(418));h=hl(y.nextSibling);var N=Ks;h&&sI(c,h)?nI(N,y):(c.flags=c.flags&-4097|2,Ar=!1,Ks=c)}}else{if(Z0(c))throw Error(r(418));c.flags=c.flags&-4097|2,Ar=!1,Ks=c}}}function aI(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ks=c}function Kp(c){if(c!==Ks)return!1;if(!Ar)return aI(c),Ar=!0,!1;var h;if((h=c.tag!==3)&&!(h=c.tag!==5)&&(h=c.type,h=h!=="head"&&h!=="body"&&!z0(c.type,c.memoizedProps)),h&&(h=Ys)){if(Z0(c))throw iI(),Error(r(418));for(;h;)nI(c,h),h=hl(h.nextSibling)}if(aI(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8){var y=c.data;if(y==="/$"){if(h===0){Ys=hl(c.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++}c=c.nextSibling}Ys=null}}else Ys=Ks?hl(c.stateNode.nextSibling):null;return!0}function iI(){for(var c=Ys;c;)c=hl(c.nextSibling)}function nd(){Ys=Ks=null,Ar=!1}function X0(c){Ha===null?Ha=[c]:Ha.push(c)}var W8=R.ReactCurrentBatchConfig;function Zh(c,h,y){if(c=y.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var N=y.stateNode}if(!N)throw Error(r(147,c));var A=N,D=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===D?h.ref:(h=function(H){var ie=A.refs;H===null?delete ie[D]:ie[D]=H},h._stringRef=D,h)}if(typeof c!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,c))}return c}function Yp(c,h){throw c=Object.prototype.toString.call(h),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function oI(c){var h=c._init;return h(c._payload)}function lI(c){function h(Ne,ve){if(c){var Ie=Ne.deletions;Ie===null?(Ne.deletions=[ve],Ne.flags|=16):Ie.push(ve)}}function y(Ne,ve){if(!c)return null;for(;ve!==null;)h(Ne,ve),ve=ve.sibling;return null}function N(Ne,ve){for(Ne=new Map;ve!==null;)ve.key!==null?Ne.set(ve.key,ve):Ne.set(ve.index,ve),ve=ve.sibling;return Ne}function A(Ne,ve){return Ne=Nl(Ne,ve),Ne.index=0,Ne.sibling=null,Ne}function D(Ne,ve,Ie){return Ne.index=Ie,c?(Ie=Ne.alternate,Ie!==null?(Ie=Ie.index,Ie<ve?(Ne.flags|=2,ve):Ie):(Ne.flags|=2,ve)):(Ne.flags|=1048576,ve)}function H(Ne){return c&&Ne.alternate===null&&(Ne.flags|=2),Ne}function ie(Ne,ve,Ie,Ke){return ve===null||ve.tag!==6?(ve=Ub(Ie,Ne.mode,Ke),ve.return=Ne,ve):(ve=A(ve,Ie),ve.return=Ne,ve)}function me(Ne,ve,Ie,Ke){var mt=Ie.type;return mt===E?We(Ne,ve,Ie.props.children,Ke,Ie.key):ve!==null&&(ve.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===U&&oI(mt)===ve.type)?(Ke=A(ve,Ie.props),Ke.ref=Zh(Ne,ve,Ie),Ke.return=Ne,Ke):(Ke=xg(Ie.type,Ie.key,Ie.props,null,Ne.mode,Ke),Ke.ref=Zh(Ne,ve,Ie),Ke.return=Ne,Ke)}function Ee(Ne,ve,Ie,Ke){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Ie.containerInfo||ve.stateNode.implementation!==Ie.implementation?(ve=Wb(Ie,Ne.mode,Ke),ve.return=Ne,ve):(ve=A(ve,Ie.children||[]),ve.return=Ne,ve)}function We(Ne,ve,Ie,Ke,mt){return ve===null||ve.tag!==7?(ve=Dc(Ie,Ne.mode,Ke,mt),ve.return=Ne,ve):(ve=A(ve,Ie),ve.return=Ne,ve)}function qe(Ne,ve,Ie){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=Ub(""+ve,Ne.mode,Ie),ve.return=Ne,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case I:return Ie=xg(ve.type,ve.key,ve.props,null,Ne.mode,Ie),Ie.ref=Zh(Ne,null,ve),Ie.return=Ne,Ie;case L:return ve=Wb(ve,Ne.mode,Ie),ve.return=Ne,ve;case U:var Ke=ve._init;return qe(Ne,Ke(ve._payload),Ie)}if(ut(ve)||Z(ve))return ve=Dc(ve,Ne.mode,Ie,null),ve.return=Ne,ve;Yp(Ne,ve)}return null}function Ue(Ne,ve,Ie,Ke){var mt=ve!==null?ve.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return mt!==null?null:ie(Ne,ve,""+Ie,Ke);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case I:return Ie.key===mt?me(Ne,ve,Ie,Ke):null;case L:return Ie.key===mt?Ee(Ne,ve,Ie,Ke):null;case U:return mt=Ie._init,Ue(Ne,ve,mt(Ie._payload),Ke)}if(ut(Ie)||Z(Ie))return mt!==null?null:We(Ne,ve,Ie,Ke,null);Yp(Ne,Ie)}return null}function tt(Ne,ve,Ie,Ke,mt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Ne=Ne.get(Ie)||null,ie(ve,Ne,""+Ke,mt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case I:return Ne=Ne.get(Ke.key===null?Ie:Ke.key)||null,me(ve,Ne,Ke,mt);case L:return Ne=Ne.get(Ke.key===null?Ie:Ke.key)||null,Ee(ve,Ne,Ke,mt);case U:var gt=Ke._init;return tt(Ne,ve,Ie,gt(Ke._payload),mt)}if(ut(Ke)||Z(Ke))return Ne=Ne.get(Ie)||null,We(ve,Ne,Ke,mt,null);Yp(ve,Ke)}return null}function ot(Ne,ve,Ie,Ke){for(var mt=null,gt=null,yt=ve,Nt=ve=0,Cn=null;yt!==null&&Nt<Ie.length;Nt++){yt.index>Nt?(Cn=yt,yt=null):Cn=yt.sibling;var Qt=Ue(Ne,yt,Ie[Nt],Ke);if(Qt===null){yt===null&&(yt=Cn);break}c&&yt&&Qt.alternate===null&&h(Ne,yt),ve=D(Qt,ve,Nt),gt===null?mt=Qt:gt.sibling=Qt,gt=Qt,yt=Cn}if(Nt===Ie.length)return y(Ne,yt),Ar&&Cc(Ne,Nt),mt;if(yt===null){for(;Nt<Ie.length;Nt++)yt=qe(Ne,Ie[Nt],Ke),yt!==null&&(ve=D(yt,ve,Nt),gt===null?mt=yt:gt.sibling=yt,gt=yt);return Ar&&Cc(Ne,Nt),mt}for(yt=N(Ne,yt);Nt<Ie.length;Nt++)Cn=tt(yt,Ne,Nt,Ie[Nt],Ke),Cn!==null&&(c&&Cn.alternate!==null&&yt.delete(Cn.key===null?Nt:Cn.key),ve=D(Cn,ve,Nt),gt===null?mt=Cn:gt.sibling=Cn,gt=Cn);return c&&yt.forEach(function(Sl){return h(Ne,Sl)}),Ar&&Cc(Ne,Nt),mt}function ht(Ne,ve,Ie,Ke){var mt=Z(Ie);if(typeof mt!="function")throw Error(r(150));if(Ie=mt.call(Ie),Ie==null)throw Error(r(151));for(var gt=mt=null,yt=ve,Nt=ve=0,Cn=null,Qt=Ie.next();yt!==null&&!Qt.done;Nt++,Qt=Ie.next()){yt.index>Nt?(Cn=yt,yt=null):Cn=yt.sibling;var Sl=Ue(Ne,yt,Qt.value,Ke);if(Sl===null){yt===null&&(yt=Cn);break}c&&yt&&Sl.alternate===null&&h(Ne,yt),ve=D(Sl,ve,Nt),gt===null?mt=Sl:gt.sibling=Sl,gt=Sl,yt=Cn}if(Qt.done)return y(Ne,yt),Ar&&Cc(Ne,Nt),mt;if(yt===null){for(;!Qt.done;Nt++,Qt=Ie.next())Qt=qe(Ne,Qt.value,Ke),Qt!==null&&(ve=D(Qt,ve,Nt),gt===null?mt=Qt:gt.sibling=Qt,gt=Qt);return Ar&&Cc(Ne,Nt),mt}for(yt=N(Ne,yt);!Qt.done;Nt++,Qt=Ie.next())Qt=tt(yt,Ne,Nt,Qt.value,Ke),Qt!==null&&(c&&Qt.alternate!==null&&yt.delete(Qt.key===null?Nt:Qt.key),ve=D(Qt,ve,Nt),gt===null?mt=Qt:gt.sibling=Qt,gt=Qt);return c&&yt.forEach(function(N7){return h(Ne,N7)}),Ar&&Cc(Ne,Nt),mt}function Kr(Ne,ve,Ie,Ke){if(typeof Ie=="object"&&Ie!==null&&Ie.type===E&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case I:e:{for(var mt=Ie.key,gt=ve;gt!==null;){if(gt.key===mt){if(mt=Ie.type,mt===E){if(gt.tag===7){y(Ne,gt.sibling),ve=A(gt,Ie.props.children),ve.return=Ne,Ne=ve;break e}}else if(gt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===U&&oI(mt)===gt.type){y(Ne,gt.sibling),ve=A(gt,Ie.props),ve.ref=Zh(Ne,gt,Ie),ve.return=Ne,Ne=ve;break e}y(Ne,gt);break}else h(Ne,gt);gt=gt.sibling}Ie.type===E?(ve=Dc(Ie.props.children,Ne.mode,Ke,Ie.key),ve.return=Ne,Ne=ve):(Ke=xg(Ie.type,Ie.key,Ie.props,null,Ne.mode,Ke),Ke.ref=Zh(Ne,ve,Ie),Ke.return=Ne,Ne=Ke)}return H(Ne);case L:e:{for(gt=Ie.key;ve!==null;){if(ve.key===gt)if(ve.tag===4&&ve.stateNode.containerInfo===Ie.containerInfo&&ve.stateNode.implementation===Ie.implementation){y(Ne,ve.sibling),ve=A(ve,Ie.children||[]),ve.return=Ne,Ne=ve;break e}else{y(Ne,ve);break}else h(Ne,ve);ve=ve.sibling}ve=Wb(Ie,Ne.mode,Ke),ve.return=Ne,Ne=ve}return H(Ne);case U:return gt=Ie._init,Kr(Ne,ve,gt(Ie._payload),Ke)}if(ut(Ie))return ot(Ne,ve,Ie,Ke);if(Z(Ie))return ht(Ne,ve,Ie,Ke);Yp(Ne,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"?(Ie=""+Ie,ve!==null&&ve.tag===6?(y(Ne,ve.sibling),ve=A(ve,Ie),ve.return=Ne,Ne=ve):(y(Ne,ve),ve=Ub(Ie,Ne.mode,Ke),ve.return=Ne,Ne=ve),H(Ne)):y(Ne,ve)}return Kr}var sd=lI(!0),cI=lI(!1),Zp=fl(null),Qp=null,ad=null,J0=null;function eb(){J0=ad=Qp=null}function tb(c){var h=Zp.current;jr(Zp),c._currentValue=h}function rb(c,h,y){for(;c!==null;){var N=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,N!==null&&(N.childLanes|=h)):N!==null&&(N.childLanes&h)!==h&&(N.childLanes|=h),c===y)break;c=c.return}}function id(c,h){Qp=c,J0=ad=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&h)!==0&&(Es=!0),c.firstContext=null)}function ya(c){var h=c._currentValue;if(J0!==c)if(c={context:c,memoizedValue:h,next:null},ad===null){if(Qp===null)throw Error(r(308));ad=c,Qp.dependencies={lanes:0,firstContext:c}}else ad=ad.next=c;return h}var Ac=null;function nb(c){Ac===null?Ac=[c]:Ac.push(c)}function uI(c,h,y,N){var A=h.interleaved;return A===null?(y.next=y,nb(h)):(y.next=A.next,A.next=y),h.interleaved=y,po(c,N)}function po(c,h){c.lanes|=h;var y=c.alternate;for(y!==null&&(y.lanes|=h),y=c,c=c.return;c!==null;)c.childLanes|=h,y=c.alternate,y!==null&&(y.childLanes|=h),y=c,c=c.return;return y.tag===3?y.stateNode:null}var gl=!1;function sb(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dI(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function go(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function yl(c,h,y){var N=c.updateQueue;if(N===null)return null;if(N=N.shared,(Zt&2)!==0){var A=N.pending;return A===null?h.next=h:(h.next=A.next,A.next=h),N.pending=h,po(c,y)}return A=N.interleaved,A===null?(h.next=h,nb(N)):(h.next=A.next,A.next=h),N.interleaved=h,po(c,y)}function Xp(c,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var N=h.lanes;N&=c.pendingLanes,y|=N,h.lanes=y,Th(c,y)}}function hI(c,h){var y=c.updateQueue,N=c.alternate;if(N!==null&&(N=N.updateQueue,y===N)){var A=null,D=null;if(y=y.firstBaseUpdate,y!==null){do{var H={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};D===null?A=D=H:D=D.next=H,y=y.next}while(y!==null);D===null?A=D=h:D=D.next=h}else A=D=h;y={baseState:N.baseState,firstBaseUpdate:A,lastBaseUpdate:D,shared:N.shared,effects:N.effects},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=h:c.next=h,y.lastBaseUpdate=h}function Jp(c,h,y,N){var A=c.updateQueue;gl=!1;var D=A.firstBaseUpdate,H=A.lastBaseUpdate,ie=A.shared.pending;if(ie!==null){A.shared.pending=null;var me=ie,Ee=me.next;me.next=null,H===null?D=Ee:H.next=Ee,H=me;var We=c.alternate;We!==null&&(We=We.updateQueue,ie=We.lastBaseUpdate,ie!==H&&(ie===null?We.firstBaseUpdate=Ee:ie.next=Ee,We.lastBaseUpdate=me))}if(D!==null){var qe=A.baseState;H=0,We=Ee=me=null,ie=D;do{var Ue=ie.lane,tt=ie.eventTime;if((N&Ue)===Ue){We!==null&&(We=We.next={eventTime:tt,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var ot=c,ht=ie;switch(Ue=h,tt=y,ht.tag){case 1:if(ot=ht.payload,typeof ot=="function"){qe=ot.call(tt,qe,Ue);break e}qe=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ht.payload,Ue=typeof ot=="function"?ot.call(tt,qe,Ue):ot,Ue==null)break e;qe=ne({},qe,Ue);break e;case 2:gl=!0}}ie.callback!==null&&ie.lane!==0&&(c.flags|=64,Ue=A.effects,Ue===null?A.effects=[ie]:Ue.push(ie))}else tt={eventTime:tt,lane:Ue,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},We===null?(Ee=We=tt,me=qe):We=We.next=tt,H|=Ue;if(ie=ie.next,ie===null){if(ie=A.shared.pending,ie===null)break;Ue=ie,ie=Ue.next,Ue.next=null,A.lastBaseUpdate=Ue,A.shared.pending=null}}while(!0);if(We===null&&(me=qe),A.baseState=me,A.firstBaseUpdate=Ee,A.lastBaseUpdate=We,h=A.shared.interleaved,h!==null){A=h;do H|=A.lane,A=A.next;while(A!==h)}else D===null&&(A.shared.lanes=0);Ec|=H,c.lanes=H,c.memoizedState=qe}}function fI(c,h,y){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var N=c[h],A=N.callback;if(A!==null){if(N.callback=null,N=y,typeof A!="function")throw Error(r(191,A));A.call(N)}}}var Qh={},Pi=fl(Qh),Xh=fl(Qh),Jh=fl(Qh);function Ic(c){if(c===Qh)throw Error(r(174));return c}function ab(c,h){switch(yr(Jh,h),yr(Xh,c),yr(Pi,Qh),c=h.nodeType,c){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:jt(null,"");break;default:c=c===8?h.parentNode:h,h=c.namespaceURI||null,c=c.tagName,h=jt(h,c)}jr(Pi),yr(Pi,h)}function od(){jr(Pi),jr(Xh),jr(Jh)}function mI(c){Ic(Jh.current);var h=Ic(Pi.current),y=jt(h,c.type);h!==y&&(yr(Xh,c),yr(Pi,y))}function ib(c){Xh.current===c&&(jr(Pi),jr(Xh))}var Dr=fl(0);function eg(c){for(var h=c;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ob=[];function lb(){for(var c=0;c<ob.length;c++)ob[c]._workInProgressVersionPrimary=null;ob.length=0}var tg=R.ReactCurrentDispatcher,cb=R.ReactCurrentBatchConfig,Pc=0,Or=null,hn=null,Sn=null,rg=!1,ef=!1,tf=0,H8=0;function Qn(){throw Error(r(321))}function ub(c,h){if(h===null)return!1;for(var y=0;y<h.length&&y<c.length;y++)if(!Wa(c[y],h[y]))return!1;return!0}function db(c,h,y,N,A,D){if(Pc=D,Or=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,tg.current=c===null||c.memoizedState===null?Y8:Z8,c=y(N,A),ef){D=0;do{if(ef=!1,tf=0,25<=D)throw Error(r(301));D+=1,Sn=hn=null,h.updateQueue=null,tg.current=Q8,c=y(N,A)}while(ef)}if(tg.current=ag,h=hn!==null&&hn.next!==null,Pc=0,Sn=hn=Or=null,rg=!1,h)throw Error(r(300));return c}function hb(){var c=tf!==0;return tf=0,c}function Ei(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Or.memoizedState=Sn=c:Sn=Sn.next=c,Sn}function va(){if(hn===null){var c=Or.alternate;c=c!==null?c.memoizedState:null}else c=hn.next;var h=Sn===null?Or.memoizedState:Sn.next;if(h!==null)Sn=h,hn=c;else{if(c===null)throw Error(r(310));hn=c,c={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},Sn===null?Or.memoizedState=Sn=c:Sn=Sn.next=c}return Sn}function rf(c,h){return typeof h=="function"?h(c):h}function fb(c){var h=va(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=c;var N=hn,A=N.baseQueue,D=y.pending;if(D!==null){if(A!==null){var H=A.next;A.next=D.next,D.next=H}N.baseQueue=A=D,y.pending=null}if(A!==null){D=A.next,N=N.baseState;var ie=H=null,me=null,Ee=D;do{var We=Ee.lane;if((Pc&We)===We)me!==null&&(me=me.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),N=Ee.hasEagerState?Ee.eagerState:c(N,Ee.action);else{var qe={lane:We,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};me===null?(ie=me=qe,H=N):me=me.next=qe,Or.lanes|=We,Ec|=We}Ee=Ee.next}while(Ee!==null&&Ee!==D);me===null?H=N:me.next=ie,Wa(N,h.memoizedState)||(Es=!0),h.memoizedState=N,h.baseState=H,h.baseQueue=me,y.lastRenderedState=N}if(c=y.interleaved,c!==null){A=c;do D=A.lane,Or.lanes|=D,Ec|=D,A=A.next;while(A!==c)}else A===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function mb(c){var h=va(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=c;var N=y.dispatch,A=y.pending,D=h.memoizedState;if(A!==null){y.pending=null;var H=A=A.next;do D=c(D,H.action),H=H.next;while(H!==A);Wa(D,h.memoizedState)||(Es=!0),h.memoizedState=D,h.baseQueue===null&&(h.baseState=D),y.lastRenderedState=D}return[D,N]}function pI(){}function gI(c,h){var y=Or,N=va(),A=h(),D=!Wa(N.memoizedState,A);if(D&&(N.memoizedState=A,Es=!0),N=N.queue,pb(xI.bind(null,y,N,c),[c]),N.getSnapshot!==h||D||Sn!==null&&Sn.memoizedState.tag&1){if(y.flags|=2048,nf(9,vI.bind(null,y,N,A,h),void 0,null),kn===null)throw Error(r(349));(Pc&30)!==0||yI(y,h,A)}return A}function yI(c,h,y){c.flags|=16384,c={getSnapshot:h,value:y},h=Or.updateQueue,h===null?(h={lastEffect:null,stores:null},Or.updateQueue=h,h.stores=[c]):(y=h.stores,y===null?h.stores=[c]:y.push(c))}function vI(c,h,y,N){h.value=y,h.getSnapshot=N,bI(h)&&wI(c)}function xI(c,h,y){return y(function(){bI(h)&&wI(c)})}function bI(c){var h=c.getSnapshot;c=c.value;try{var y=h();return!Wa(c,y)}catch{return!0}}function wI(c){var h=po(c,1);h!==null&&Ya(h,c,1,-1)}function jI(c){var h=Ei();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rf,lastRenderedState:c},h.queue=c,c=c.dispatch=K8.bind(null,Or,c),[h.memoizedState,c]}function nf(c,h,y,N){return c={tag:c,create:h,destroy:y,deps:N,next:null},h=Or.updateQueue,h===null?(h={lastEffect:null,stores:null},Or.updateQueue=h,h.lastEffect=c.next=c):(y=h.lastEffect,y===null?h.lastEffect=c.next=c:(N=y.next,y.next=c,c.next=N,h.lastEffect=c)),c}function NI(){return va().memoizedState}function ng(c,h,y,N){var A=Ei();Or.flags|=c,A.memoizedState=nf(1|h,y,void 0,N===void 0?null:N)}function sg(c,h,y,N){var A=va();N=N===void 0?null:N;var D=void 0;if(hn!==null){var H=hn.memoizedState;if(D=H.destroy,N!==null&&ub(N,H.deps)){A.memoizedState=nf(h,y,D,N);return}}Or.flags|=c,A.memoizedState=nf(1|h,y,D,N)}function SI(c,h){return ng(8390656,8,c,h)}function pb(c,h){return sg(2048,8,c,h)}function kI(c,h){return sg(4,2,c,h)}function CI(c,h){return sg(4,4,c,h)}function AI(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function II(c,h,y){return y=y!=null?y.concat([c]):null,sg(4,4,AI.bind(null,h,c),y)}function gb(){}function PI(c,h){var y=va();h=h===void 0?null:h;var N=y.memoizedState;return N!==null&&h!==null&&ub(h,N[1])?N[0]:(y.memoizedState=[c,h],c)}function EI(c,h){var y=va();h=h===void 0?null:h;var N=y.memoizedState;return N!==null&&h!==null&&ub(h,N[1])?N[0]:(c=c(),y.memoizedState=[c,h],c)}function TI(c,h,y){return(Pc&21)===0?(c.baseState&&(c.baseState=!1,Es=!0),c.memoizedState=y):(Wa(y,h)||(y=Ph(),Or.lanes|=y,Ec|=y,c.baseState=!0),h)}function q8(c,h){var y=zt;zt=y!==0&&4>y?y:4,c(!0);var N=cb.transition;cb.transition={};try{c(!1),h()}finally{zt=y,cb.transition=N}}function MI(){return va().memoizedState}function G8(c,h,y){var N=wl(c);if(y={lane:N,action:y,hasEagerState:!1,eagerState:null,next:null},_I(c))DI(h,y);else if(y=uI(c,h,y,N),y!==null){var A=ds();Ya(y,c,N,A),OI(y,h,N)}}function K8(c,h,y){var N=wl(c),A={lane:N,action:y,hasEagerState:!1,eagerState:null,next:null};if(_I(c))DI(h,A);else{var D=c.alternate;if(c.lanes===0&&(D===null||D.lanes===0)&&(D=h.lastRenderedReducer,D!==null))try{var H=h.lastRenderedState,ie=D(H,y);if(A.hasEagerState=!0,A.eagerState=ie,Wa(ie,H)){var me=h.interleaved;me===null?(A.next=A,nb(h)):(A.next=me.next,me.next=A),h.interleaved=A;return}}catch{}finally{}y=uI(c,h,A,N),y!==null&&(A=ds(),Ya(y,c,N,A),OI(y,h,N))}}function _I(c){var h=c.alternate;return c===Or||h!==null&&h===Or}function DI(c,h){ef=rg=!0;var y=c.pending;y===null?h.next=h:(h.next=y.next,y.next=h),c.pending=h}function OI(c,h,y){if((y&4194240)!==0){var N=h.lanes;N&=c.pendingLanes,y|=N,h.lanes=y,Th(c,y)}}var ag={readContext:ya,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},Y8={readContext:ya,useCallback:function(c,h){return Ei().memoizedState=[c,h===void 0?null:h],c},useContext:ya,useEffect:SI,useImperativeHandle:function(c,h,y){return y=y!=null?y.concat([c]):null,ng(4194308,4,AI.bind(null,h,c),y)},useLayoutEffect:function(c,h){return ng(4194308,4,c,h)},useInsertionEffect:function(c,h){return ng(4,2,c,h)},useMemo:function(c,h){var y=Ei();return h=h===void 0?null:h,c=c(),y.memoizedState=[c,h],c},useReducer:function(c,h,y){var N=Ei();return h=y!==void 0?y(h):h,N.memoizedState=N.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},N.queue=c,c=c.dispatch=G8.bind(null,Or,c),[N.memoizedState,c]},useRef:function(c){var h=Ei();return c={current:c},h.memoizedState=c},useState:jI,useDebugValue:gb,useDeferredValue:function(c){return Ei().memoizedState=c},useTransition:function(){var c=jI(!1),h=c[0];return c=q8.bind(null,c[1]),Ei().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,y){var N=Or,A=Ei();if(Ar){if(y===void 0)throw Error(r(407));y=y()}else{if(y=h(),kn===null)throw Error(r(349));(Pc&30)!==0||yI(N,h,y)}A.memoizedState=y;var D={value:y,getSnapshot:h};return A.queue=D,SI(xI.bind(null,N,D,c),[c]),N.flags|=2048,nf(9,vI.bind(null,N,D,y,h),void 0,null),y},useId:function(){var c=Ei(),h=kn.identifierPrefix;if(Ar){var y=mo,N=fo;y=(N&~(1<<32-Ws(N)-1)).toString(32)+y,h=":"+h+"R"+y,y=tf++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=H8++,h=":"+h+"r"+y.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},Z8={readContext:ya,useCallback:PI,useContext:ya,useEffect:pb,useImperativeHandle:II,useInsertionEffect:kI,useLayoutEffect:CI,useMemo:EI,useReducer:fb,useRef:NI,useState:function(){return fb(rf)},useDebugValue:gb,useDeferredValue:function(c){var h=va();return TI(h,hn.memoizedState,c)},useTransition:function(){var c=fb(rf)[0],h=va().memoizedState;return[c,h]},useMutableSource:pI,useSyncExternalStore:gI,useId:MI,unstable_isNewReconciler:!1},Q8={readContext:ya,useCallback:PI,useContext:ya,useEffect:pb,useImperativeHandle:II,useInsertionEffect:kI,useLayoutEffect:CI,useMemo:EI,useReducer:mb,useRef:NI,useState:function(){return mb(rf)},useDebugValue:gb,useDeferredValue:function(c){var h=va();return hn===null?h.memoizedState=c:TI(h,hn.memoizedState,c)},useTransition:function(){var c=mb(rf)[0],h=va().memoizedState;return[c,h]},useMutableSource:pI,useSyncExternalStore:gI,useId:MI,unstable_isNewReconciler:!1};function qa(c,h){if(c&&c.defaultProps){h=ne({},h),c=c.defaultProps;for(var y in c)h[y]===void 0&&(h[y]=c[y]);return h}return h}function yb(c,h,y,N){h=c.memoizedState,y=y(N,h),y=y==null?h:ne({},h,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}var ig={isMounted:function(c){return(c=c._reactInternals)?le(c)===c:!1},enqueueSetState:function(c,h,y){c=c._reactInternals;var N=ds(),A=wl(c),D=go(N,A);D.payload=h,y!=null&&(D.callback=y),h=yl(c,D,A),h!==null&&(Ya(h,c,A,N),Xp(h,c,A))},enqueueReplaceState:function(c,h,y){c=c._reactInternals;var N=ds(),A=wl(c),D=go(N,A);D.tag=1,D.payload=h,y!=null&&(D.callback=y),h=yl(c,D,A),h!==null&&(Ya(h,c,A,N),Xp(h,c,A))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var y=ds(),N=wl(c),A=go(y,N);A.tag=2,h!=null&&(A.callback=h),h=yl(c,A,N),h!==null&&(Ya(h,c,N,y),Xp(h,c,N))}};function RI(c,h,y,N,A,D,H){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(N,D,H):h.prototype&&h.prototype.isPureReactComponent?!Uh(y,N)||!Uh(A,D):!0}function LI(c,h,y){var N=!1,A=ml,D=h.contextType;return typeof D=="object"&&D!==null?D=ya(D):(A=Ps(h)?Sc:Zn.current,N=h.contextTypes,D=(N=N!=null)?ed(c,A):ml),h=new h(y,D),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ig,c.stateNode=h,h._reactInternals=c,N&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=A,c.__reactInternalMemoizedMaskedChildContext=D),h}function FI(c,h,y,N){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,N),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,N),h.state!==c&&ig.enqueueReplaceState(h,h.state,null)}function vb(c,h,y,N){var A=c.stateNode;A.props=y,A.state=c.memoizedState,A.refs={},sb(c);var D=h.contextType;typeof D=="object"&&D!==null?A.context=ya(D):(D=Ps(h)?Sc:Zn.current,A.context=ed(c,D)),A.state=c.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(yb(c,h,D,y),A.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(h=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),h!==A.state&&ig.enqueueReplaceState(A,A.state,null),Jp(c,y,A,N),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308)}function ld(c,h){try{var y="",N=h;do y+=Pe(N),N=N.return;while(N);var A=y}catch(D){A=`
Error generating stack: `+D.message+`
`+D.stack}return{value:c,source:h,stack:A,digest:null}}function xb(c,h,y){return{value:c,source:null,stack:y??null,digest:h??null}}function bb(c,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var X8=typeof WeakMap=="function"?WeakMap:Map;function $I(c,h,y){y=go(-1,y),y.tag=3,y.payload={element:null};var N=h.value;return y.callback=function(){fg||(fg=!0,Ob=N),bb(c,h)},y}function BI(c,h,y){y=go(-1,y),y.tag=3;var N=c.type.getDerivedStateFromError;if(typeof N=="function"){var A=h.value;y.payload=function(){return N(A)},y.callback=function(){bb(c,h)}}var D=c.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(y.callback=function(){bb(c,h),typeof N!="function"&&(xl===null?xl=new Set([this]):xl.add(this));var H=h.stack;this.componentDidCatch(h.value,{componentStack:H!==null?H:""})}),y}function VI(c,h,y){var N=c.pingCache;if(N===null){N=c.pingCache=new X8;var A=new Set;N.set(h,A)}else A=N.get(h),A===void 0&&(A=new Set,N.set(h,A));A.has(y)||(A.add(y),c=h7.bind(null,c,h,y),h.then(c,c))}function zI(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function UI(c,h,y,N,A){return(c.mode&1)===0?(c===h?c.flags|=65536:(c.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=go(-1,1),h.tag=2,yl(y,h,1))),y.lanes|=1),c):(c.flags|=65536,c.lanes=A,c)}var J8=R.ReactCurrentOwner,Es=!1;function us(c,h,y,N){h.child=c===null?cI(h,null,y,N):sd(h,c.child,y,N)}function WI(c,h,y,N,A){y=y.render;var D=h.ref;return id(h,A),N=db(c,h,y,N,D,A),y=hb(),c!==null&&!Es?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~A,yo(c,h,A)):(Ar&&y&&K0(h),h.flags|=1,us(c,h,N,A),h.child)}function HI(c,h,y,N,A){if(c===null){var D=y.type;return typeof D=="function"&&!zb(D)&&D.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=D,qI(c,h,D,N,A)):(c=xg(y.type,null,N,h,h.mode,A),c.ref=h.ref,c.return=h,h.child=c)}if(D=c.child,(c.lanes&A)===0){var H=D.memoizedProps;if(y=y.compare,y=y!==null?y:Uh,y(H,N)&&c.ref===h.ref)return yo(c,h,A)}return h.flags|=1,c=Nl(D,N),c.ref=h.ref,c.return=h,h.child=c}function qI(c,h,y,N,A){if(c!==null){var D=c.memoizedProps;if(Uh(D,N)&&c.ref===h.ref)if(Es=!1,h.pendingProps=N=D,(c.lanes&A)!==0)(c.flags&131072)!==0&&(Es=!0);else return h.lanes=c.lanes,yo(c,h,A)}return wb(c,h,y,N,A)}function GI(c,h,y){var N=h.pendingProps,A=N.children,D=c!==null?c.memoizedState:null;if(N.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(ud,Zs),Zs|=y;else{if((y&1073741824)===0)return c=D!==null?D.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,yr(ud,Zs),Zs|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=D!==null?D.baseLanes:y,yr(ud,Zs),Zs|=N}else D!==null?(N=D.baseLanes|y,h.memoizedState=null):N=y,yr(ud,Zs),Zs|=N;return us(c,h,A,y),h.child}function KI(c,h){var y=h.ref;(c===null&&y!==null||c!==null&&c.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function wb(c,h,y,N,A){var D=Ps(y)?Sc:Zn.current;return D=ed(h,D),id(h,A),y=db(c,h,y,N,D,A),N=hb(),c!==null&&!Es?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~A,yo(c,h,A)):(Ar&&N&&K0(h),h.flags|=1,us(c,h,y,A),h.child)}function YI(c,h,y,N,A){if(Ps(y)){var D=!0;Wp(h)}else D=!1;if(id(h,A),h.stateNode===null)lg(c,h),LI(h,y,N),vb(h,y,N,A),N=!0;else if(c===null){var H=h.stateNode,ie=h.memoizedProps;H.props=ie;var me=H.context,Ee=y.contextType;typeof Ee=="object"&&Ee!==null?Ee=ya(Ee):(Ee=Ps(y)?Sc:Zn.current,Ee=ed(h,Ee));var We=y.getDerivedStateFromProps,qe=typeof We=="function"||typeof H.getSnapshotBeforeUpdate=="function";qe||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ie!==N||me!==Ee)&&FI(h,H,N,Ee),gl=!1;var Ue=h.memoizedState;H.state=Ue,Jp(h,N,H,A),me=h.memoizedState,ie!==N||Ue!==me||Is.current||gl?(typeof We=="function"&&(yb(h,y,We,N),me=h.memoizedState),(ie=gl||RI(h,y,ie,N,Ue,me,Ee))?(qe||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(h.flags|=4194308)):(typeof H.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=N,h.memoizedState=me),H.props=N,H.state=me,H.context=Ee,N=ie):(typeof H.componentDidMount=="function"&&(h.flags|=4194308),N=!1)}else{H=h.stateNode,dI(c,h),ie=h.memoizedProps,Ee=h.type===h.elementType?ie:qa(h.type,ie),H.props=Ee,qe=h.pendingProps,Ue=H.context,me=y.contextType,typeof me=="object"&&me!==null?me=ya(me):(me=Ps(y)?Sc:Zn.current,me=ed(h,me));var tt=y.getDerivedStateFromProps;(We=typeof tt=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ie!==qe||Ue!==me)&&FI(h,H,N,me),gl=!1,Ue=h.memoizedState,H.state=Ue,Jp(h,N,H,A);var ot=h.memoizedState;ie!==qe||Ue!==ot||Is.current||gl?(typeof tt=="function"&&(yb(h,y,tt,N),ot=h.memoizedState),(Ee=gl||RI(h,y,Ee,N,Ue,ot,me)||!1)?(We||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(N,ot,me),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(N,ot,me)),typeof H.componentDidUpdate=="function"&&(h.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof H.componentDidUpdate!="function"||ie===c.memoizedProps&&Ue===c.memoizedState||(h.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ie===c.memoizedProps&&Ue===c.memoizedState||(h.flags|=1024),h.memoizedProps=N,h.memoizedState=ot),H.props=N,H.state=ot,H.context=me,N=Ee):(typeof H.componentDidUpdate!="function"||ie===c.memoizedProps&&Ue===c.memoizedState||(h.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ie===c.memoizedProps&&Ue===c.memoizedState||(h.flags|=1024),N=!1)}return jb(c,h,y,N,D,A)}function jb(c,h,y,N,A,D){KI(c,h);var H=(h.flags&128)!==0;if(!N&&!H)return A&&eI(h,y,!1),yo(c,h,D);N=h.stateNode,J8.current=h;var ie=H&&typeof y.getDerivedStateFromError!="function"?null:N.render();return h.flags|=1,c!==null&&H?(h.child=sd(h,c.child,null,D),h.child=sd(h,null,ie,D)):us(c,h,ie,D),h.memoizedState=N.state,A&&eI(h,y,!0),h.child}function ZI(c){var h=c.stateNode;h.pendingContext?XA(c,h.pendingContext,h.pendingContext!==h.context):h.context&&XA(c,h.context,!1),ab(c,h.containerInfo)}function QI(c,h,y,N,A){return nd(),X0(A),h.flags|=256,us(c,h,y,N),h.child}var Nb={dehydrated:null,treeContext:null,retryLane:0};function Sb(c){return{baseLanes:c,cachePool:null,transitions:null}}function XI(c,h,y){var N=h.pendingProps,A=Dr.current,D=!1,H=(h.flags&128)!==0,ie;if((ie=H)||(ie=c!==null&&c.memoizedState===null?!1:(A&2)!==0),ie?(D=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(A|=1),yr(Dr,A&1),c===null)return Q0(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((h.mode&1)===0?h.lanes=1:c.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(H=N.children,c=N.fallback,D?(N=h.mode,D=h.child,H={mode:"hidden",children:H},(N&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=H):D=bg(H,N,0,null),c=Dc(c,N,y,null),D.return=h,c.return=h,D.sibling=c,h.child=D,h.child.memoizedState=Sb(y),h.memoizedState=Nb,c):kb(h,H));if(A=c.memoizedState,A!==null&&(ie=A.dehydrated,ie!==null))return e7(c,h,H,N,ie,A,y);if(D){D=N.fallback,H=h.mode,A=c.child,ie=A.sibling;var me={mode:"hidden",children:N.children};return(H&1)===0&&h.child!==A?(N=h.child,N.childLanes=0,N.pendingProps=me,h.deletions=null):(N=Nl(A,me),N.subtreeFlags=A.subtreeFlags&14680064),ie!==null?D=Nl(ie,D):(D=Dc(D,H,y,null),D.flags|=2),D.return=h,N.return=h,N.sibling=D,h.child=N,N=D,D=h.child,H=c.child.memoizedState,H=H===null?Sb(y):{baseLanes:H.baseLanes|y,cachePool:null,transitions:H.transitions},D.memoizedState=H,D.childLanes=c.childLanes&~y,h.memoizedState=Nb,N}return D=c.child,c=D.sibling,N=Nl(D,{mode:"visible",children:N.children}),(h.mode&1)===0&&(N.lanes=y),N.return=h,N.sibling=null,c!==null&&(y=h.deletions,y===null?(h.deletions=[c],h.flags|=16):y.push(c)),h.child=N,h.memoizedState=null,N}function kb(c,h){return h=bg({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function og(c,h,y,N){return N!==null&&X0(N),sd(h,c.child,null,y),c=kb(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function e7(c,h,y,N,A,D,H){if(y)return h.flags&256?(h.flags&=-257,N=xb(Error(r(422))),og(c,h,H,N)):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(D=N.fallback,A=h.mode,N=bg({mode:"visible",children:N.children},A,0,null),D=Dc(D,A,H,null),D.flags|=2,N.return=h,D.return=h,N.sibling=D,h.child=N,(h.mode&1)!==0&&sd(h,c.child,null,H),h.child.memoizedState=Sb(H),h.memoizedState=Nb,D);if((h.mode&1)===0)return og(c,h,H,null);if(A.data==="$!"){if(N=A.nextSibling&&A.nextSibling.dataset,N)var ie=N.dgst;return N=ie,D=Error(r(419)),N=xb(D,N,void 0),og(c,h,H,N)}if(ie=(H&c.childLanes)!==0,Es||ie){if(N=kn,N!==null){switch(H&-H){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(N.suspendedLanes|H))!==0?0:A,A!==0&&A!==D.retryLane&&(D.retryLane=A,po(c,A),Ya(N,c,A,-1))}return Vb(),N=xb(Error(r(421))),og(c,h,H,N)}return A.data==="$?"?(h.flags|=128,h.child=c.child,h=f7.bind(null,c),A._reactRetry=h,null):(c=D.treeContext,Ys=hl(A.nextSibling),Ks=h,Ar=!0,Ha=null,c!==null&&(pa[ga++]=fo,pa[ga++]=mo,pa[ga++]=kc,fo=c.id,mo=c.overflow,kc=h),h=kb(h,N.children),h.flags|=4096,h)}function JI(c,h,y){c.lanes|=h;var N=c.alternate;N!==null&&(N.lanes|=h),rb(c.return,h,y)}function Cb(c,h,y,N,A){var D=c.memoizedState;D===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:N,tail:y,tailMode:A}:(D.isBackwards=h,D.rendering=null,D.renderingStartTime=0,D.last=N,D.tail=y,D.tailMode=A)}function eP(c,h,y){var N=h.pendingProps,A=N.revealOrder,D=N.tail;if(us(c,h,N.children,y),N=Dr.current,(N&2)!==0)N=N&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&JI(c,y,h);else if(c.tag===19)JI(c,y,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}N&=1}if(yr(Dr,N),(h.mode&1)===0)h.memoizedState=null;else switch(A){case"forwards":for(y=h.child,A=null;y!==null;)c=y.alternate,c!==null&&eg(c)===null&&(A=y),y=y.sibling;y=A,y===null?(A=h.child,h.child=null):(A=y.sibling,y.sibling=null),Cb(h,!1,A,y,D);break;case"backwards":for(y=null,A=h.child,h.child=null;A!==null;){if(c=A.alternate,c!==null&&eg(c)===null){h.child=A;break}c=A.sibling,A.sibling=y,y=A,A=c}Cb(h,!0,y,null,D);break;case"together":Cb(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function lg(c,h){(h.mode&1)===0&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function yo(c,h,y){if(c!==null&&(h.dependencies=c.dependencies),Ec|=h.lanes,(y&h.childLanes)===0)return null;if(c!==null&&h.child!==c.child)throw Error(r(153));if(h.child!==null){for(c=h.child,y=Nl(c,c.pendingProps),h.child=y,y.return=h;c.sibling!==null;)c=c.sibling,y=y.sibling=Nl(c,c.pendingProps),y.return=h;y.sibling=null}return h.child}function t7(c,h,y){switch(h.tag){case 3:ZI(h),nd();break;case 5:mI(h);break;case 1:Ps(h.type)&&Wp(h);break;case 4:ab(h,h.stateNode.containerInfo);break;case 10:var N=h.type._context,A=h.memoizedProps.value;yr(Zp,N._currentValue),N._currentValue=A;break;case 13:if(N=h.memoizedState,N!==null)return N.dehydrated!==null?(yr(Dr,Dr.current&1),h.flags|=128,null):(y&h.child.childLanes)!==0?XI(c,h,y):(yr(Dr,Dr.current&1),c=yo(c,h,y),c!==null?c.sibling:null);yr(Dr,Dr.current&1);break;case 19:if(N=(y&h.childLanes)!==0,(c.flags&128)!==0){if(N)return eP(c,h,y);h.flags|=128}if(A=h.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),yr(Dr,Dr.current),N)break;return null;case 22:case 23:return h.lanes=0,GI(c,h,y)}return yo(c,h,y)}var tP,Ab,rP,nP;tP=function(c,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)c.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Ab=function(){},rP=function(c,h,y,N){var A=c.memoizedProps;if(A!==N){c=h.stateNode,Ic(Pi.current);var D=null;switch(y){case"input":A=ae(c,A),N=ae(c,N),D=[];break;case"select":A=ne({},A,{value:void 0}),N=ne({},N,{value:void 0}),D=[];break;case"textarea":A=je(c,A),N=je(c,N),D=[];break;default:typeof A.onClick!="function"&&typeof N.onClick=="function"&&(c.onclick=Vp)}Ut(y,N);var H;y=null;for(Ee in A)if(!N.hasOwnProperty(Ee)&&A.hasOwnProperty(Ee)&&A[Ee]!=null)if(Ee==="style"){var ie=A[Ee];for(H in ie)ie.hasOwnProperty(H)&&(y||(y={}),y[H]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(a.hasOwnProperty(Ee)?D||(D=[]):(D=D||[]).push(Ee,null));for(Ee in N){var me=N[Ee];if(ie=A?.[Ee],N.hasOwnProperty(Ee)&&me!==ie&&(me!=null||ie!=null))if(Ee==="style")if(ie){for(H in ie)!ie.hasOwnProperty(H)||me&&me.hasOwnProperty(H)||(y||(y={}),y[H]="");for(H in me)me.hasOwnProperty(H)&&ie[H]!==me[H]&&(y||(y={}),y[H]=me[H])}else y||(D||(D=[]),D.push(Ee,y)),y=me;else Ee==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,ie=ie?ie.__html:void 0,me!=null&&ie!==me&&(D=D||[]).push(Ee,me)):Ee==="children"?typeof me!="string"&&typeof me!="number"||(D=D||[]).push(Ee,""+me):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ee)?(me!=null&&Ee==="onScroll"&&wr("scroll",c),D||ie===me||(D=[])):(D=D||[]).push(Ee,me))}y&&(D=D||[]).push("style",y);var Ee=D;(h.updateQueue=Ee)&&(h.flags|=4)}},nP=function(c,h,y,N){y!==N&&(h.flags|=4)};function sf(c,h){if(!Ar)switch(c.tailMode){case"hidden":h=c.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var N=null;y!==null;)y.alternate!==null&&(N=y),y=y.sibling;N===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:N.sibling=null}}function Xn(c){var h=c.alternate!==null&&c.alternate.child===c.child,y=0,N=0;if(h)for(var A=c.child;A!==null;)y|=A.lanes|A.childLanes,N|=A.subtreeFlags&14680064,N|=A.flags&14680064,A.return=c,A=A.sibling;else for(A=c.child;A!==null;)y|=A.lanes|A.childLanes,N|=A.subtreeFlags,N|=A.flags,A.return=c,A=A.sibling;return c.subtreeFlags|=N,c.childLanes=y,h}function r7(c,h,y){var N=h.pendingProps;switch(Y0(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(h),null;case 1:return Ps(h.type)&&Up(),Xn(h),null;case 3:return N=h.stateNode,od(),jr(Is),jr(Zn),lb(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(c===null||c.child===null)&&(Kp(h)?h.flags|=4:c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Ha!==null&&(Fb(Ha),Ha=null))),Ab(c,h),Xn(h),null;case 5:ib(h);var A=Ic(Jh.current);if(y=h.type,c!==null&&h.stateNode!=null)rP(c,h,y,N,A),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!N){if(h.stateNode===null)throw Error(r(166));return Xn(h),null}if(c=Ic(Pi.current),Kp(h)){N=h.stateNode,y=h.type;var D=h.memoizedProps;switch(N[Ii]=h,N[Kh]=D,c=(h.mode&1)!==0,y){case"dialog":wr("cancel",N),wr("close",N);break;case"iframe":case"object":case"embed":wr("load",N);break;case"video":case"audio":for(A=0;A<Hh.length;A++)wr(Hh[A],N);break;case"source":wr("error",N);break;case"img":case"image":case"link":wr("error",N),wr("load",N);break;case"details":wr("toggle",N);break;case"input":ee(N,D),wr("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!D.multiple},wr("invalid",N);break;case"textarea":De(N,D),wr("invalid",N)}Ut(y,D),A=null;for(var H in D)if(D.hasOwnProperty(H)){var ie=D[H];H==="children"?typeof ie=="string"?N.textContent!==ie&&(D.suppressHydrationWarning!==!0&&Bp(N.textContent,ie,c),A=["children",ie]):typeof ie=="number"&&N.textContent!==""+ie&&(D.suppressHydrationWarning!==!0&&Bp(N.textContent,ie,c),A=["children",""+ie]):a.hasOwnProperty(H)&&ie!=null&&H==="onScroll"&&wr("scroll",N)}switch(y){case"input":de(N),xe(N,D,!0);break;case"textarea":de(N),xt(N);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(N.onclick=Vp)}N=A,h.updateQueue=N,N!==null&&(h.flags|=4)}else{H=A.nodeType===9?A:A.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Qe(y)),c==="http://www.w3.org/1999/xhtml"?y==="script"?(c=H.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof N.is=="string"?c=H.createElement(y,{is:N.is}):(c=H.createElement(y),y==="select"&&(H=c,N.multiple?H.multiple=!0:N.size&&(H.size=N.size))):c=H.createElementNS(c,y),c[Ii]=h,c[Kh]=N,tP(c,h,!1,!1),h.stateNode=c;e:{switch(H=mr(y,N),y){case"dialog":wr("cancel",c),wr("close",c),A=N;break;case"iframe":case"object":case"embed":wr("load",c),A=N;break;case"video":case"audio":for(A=0;A<Hh.length;A++)wr(Hh[A],c);A=N;break;case"source":wr("error",c),A=N;break;case"img":case"image":case"link":wr("error",c),wr("load",c),A=N;break;case"details":wr("toggle",c),A=N;break;case"input":ee(c,N),A=ae(c,N),wr("invalid",c);break;case"option":A=N;break;case"select":c._wrapperState={wasMultiple:!!N.multiple},A=ne({},N,{value:void 0}),wr("invalid",c);break;case"textarea":De(c,N),A=je(c,N),wr("invalid",c);break;default:A=N}Ut(y,A),ie=A;for(D in ie)if(ie.hasOwnProperty(D)){var me=ie[D];D==="style"?$e(c,me):D==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&ce(c,me)):D==="children"?typeof me=="string"?(y!=="textarea"||me!=="")&&Fe(c,me):typeof me=="number"&&Fe(c,""+me):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(a.hasOwnProperty(D)?me!=null&&D==="onScroll"&&wr("scroll",c):me!=null&&k(c,D,me,H))}switch(y){case"input":de(c),xe(c,N,!1);break;case"textarea":de(c),xt(c);break;case"option":N.value!=null&&c.setAttribute("value",""+ue(N.value));break;case"select":c.multiple=!!N.multiple,D=N.value,D!=null?_t(c,!!N.multiple,D,!1):N.defaultValue!=null&&_t(c,!!N.multiple,N.defaultValue,!0);break;default:typeof A.onClick=="function"&&(c.onclick=Vp)}switch(y){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Xn(h),null;case 6:if(c&&h.stateNode!=null)nP(c,h,c.memoizedProps,N);else{if(typeof N!="string"&&h.stateNode===null)throw Error(r(166));if(y=Ic(Jh.current),Ic(Pi.current),Kp(h)){if(N=h.stateNode,y=h.memoizedProps,N[Ii]=h,(D=N.nodeValue!==y)&&(c=Ks,c!==null))switch(c.tag){case 3:Bp(N.nodeValue,y,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Bp(N.nodeValue,y,(c.mode&1)!==0)}D&&(h.flags|=4)}else N=(y.nodeType===9?y:y.ownerDocument).createTextNode(N),N[Ii]=h,h.stateNode=N}return Xn(h),null;case 13:if(jr(Dr),N=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Ar&&Ys!==null&&(h.mode&1)!==0&&(h.flags&128)===0)iI(),nd(),h.flags|=98560,D=!1;else if(D=Kp(h),N!==null&&N.dehydrated!==null){if(c===null){if(!D)throw Error(r(318));if(D=h.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));D[Ii]=h}else nd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Xn(h),D=!1}else Ha!==null&&(Fb(Ha),Ha=null),D=!0;if(!D)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=y,h):(N=N!==null,N!==(c!==null&&c.memoizedState!==null)&&N&&(h.child.flags|=8192,(h.mode&1)!==0&&(c===null||(Dr.current&1)!==0?fn===0&&(fn=3):Vb())),h.updateQueue!==null&&(h.flags|=4),Xn(h),null);case 4:return od(),Ab(c,h),c===null&&qh(h.stateNode.containerInfo),Xn(h),null;case 10:return tb(h.type._context),Xn(h),null;case 17:return Ps(h.type)&&Up(),Xn(h),null;case 19:if(jr(Dr),D=h.memoizedState,D===null)return Xn(h),null;if(N=(h.flags&128)!==0,H=D.rendering,H===null)if(N)sf(D,!1);else{if(fn!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(H=eg(c),H!==null){for(h.flags|=128,sf(D,!1),N=H.updateQueue,N!==null&&(h.updateQueue=N,h.flags|=4),h.subtreeFlags=0,N=y,y=h.child;y!==null;)D=y,c=N,D.flags&=14680066,H=D.alternate,H===null?(D.childLanes=0,D.lanes=c,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=H.childLanes,D.lanes=H.lanes,D.child=H.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=H.memoizedProps,D.memoizedState=H.memoizedState,D.updateQueue=H.updateQueue,D.type=H.type,c=H.dependencies,D.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),y=y.sibling;return yr(Dr,Dr.current&1|2),h.child}c=c.sibling}D.tail!==null&&hr()>dd&&(h.flags|=128,N=!0,sf(D,!1),h.lanes=4194304)}else{if(!N)if(c=eg(H),c!==null){if(h.flags|=128,N=!0,y=c.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),sf(D,!0),D.tail===null&&D.tailMode==="hidden"&&!H.alternate&&!Ar)return Xn(h),null}else 2*hr()-D.renderingStartTime>dd&&y!==1073741824&&(h.flags|=128,N=!0,sf(D,!1),h.lanes=4194304);D.isBackwards?(H.sibling=h.child,h.child=H):(y=D.last,y!==null?y.sibling=H:h.child=H,D.last=H)}return D.tail!==null?(h=D.tail,D.rendering=h,D.tail=h.sibling,D.renderingStartTime=hr(),h.sibling=null,y=Dr.current,yr(Dr,N?y&1|2:y&1),h):(Xn(h),null);case 22:case 23:return Bb(),N=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==N&&(h.flags|=8192),N&&(h.mode&1)!==0?(Zs&1073741824)!==0&&(Xn(h),h.subtreeFlags&6&&(h.flags|=8192)):Xn(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function n7(c,h){switch(Y0(h),h.tag){case 1:return Ps(h.type)&&Up(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return od(),jr(Is),jr(Zn),lb(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 5:return ib(h),null;case 13:if(jr(Dr),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(r(340));nd()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return jr(Dr),null;case 4:return od(),null;case 10:return tb(h.type._context),null;case 22:case 23:return Bb(),null;case 24:return null;default:return null}}var cg=!1,Jn=!1,s7=typeof WeakSet=="function"?WeakSet:Set,at=null;function cd(c,h){var y=c.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(N){Fr(c,h,N)}else y.current=null}function Ib(c,h,y){try{y()}catch(N){Fr(c,h,N)}}var sP=!1;function a7(c,h){if(B0=lo,c=RA(),M0(c)){if("selectionStart"in c)var y={start:c.selectionStart,end:c.selectionEnd};else e:{y=(y=c.ownerDocument)&&y.defaultView||window;var N=y.getSelection&&y.getSelection();if(N&&N.rangeCount!==0){y=N.anchorNode;var A=N.anchorOffset,D=N.focusNode;N=N.focusOffset;try{y.nodeType,D.nodeType}catch{y=null;break e}var H=0,ie=-1,me=-1,Ee=0,We=0,qe=c,Ue=null;t:for(;;){for(var tt;qe!==y||A!==0&&qe.nodeType!==3||(ie=H+A),qe!==D||N!==0&&qe.nodeType!==3||(me=H+N),qe.nodeType===3&&(H+=qe.nodeValue.length),(tt=qe.firstChild)!==null;)Ue=qe,qe=tt;for(;;){if(qe===c)break t;if(Ue===y&&++Ee===A&&(ie=H),Ue===D&&++We===N&&(me=H),(tt=qe.nextSibling)!==null)break;qe=Ue,Ue=qe.parentNode}qe=tt}y=ie===-1||me===-1?null:{start:ie,end:me}}else y=null}y=y||{start:0,end:0}}else y=null;for(V0={focusedElem:c,selectionRange:y},lo=!1,at=h;at!==null;)if(h=at,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,at=c;else for(;at!==null;){h=at;try{var ot=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var ht=ot.memoizedProps,Kr=ot.memoizedState,Ne=h.stateNode,ve=Ne.getSnapshotBeforeUpdate(h.elementType===h.type?ht:qa(h.type,ht),Kr);Ne.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Ie=h.stateNode.containerInfo;Ie.nodeType===1?Ie.textContent="":Ie.nodeType===9&&Ie.documentElement&&Ie.removeChild(Ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ke){Fr(h,h.return,Ke)}if(c=h.sibling,c!==null){c.return=h.return,at=c;break}at=h.return}return ot=sP,sP=!1,ot}function af(c,h,y){var N=h.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var A=N=N.next;do{if((A.tag&c)===c){var D=A.destroy;A.destroy=void 0,D!==void 0&&Ib(h,y,D)}A=A.next}while(A!==N)}}function ug(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&c)===c){var N=y.create;y.destroy=N()}y=y.next}while(y!==h)}}function Pb(c){var h=c.ref;if(h!==null){var y=c.stateNode;switch(c.tag){case 5:c=y;break;default:c=y}typeof h=="function"?h(c):h.current=c}}function aP(c){var h=c.alternate;h!==null&&(c.alternate=null,aP(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&(delete h[Ii],delete h[Kh],delete h[H0],delete h[V8],delete h[z8])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function iP(c){return c.tag===5||c.tag===3||c.tag===4}function oP(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||iP(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Eb(c,h,y){var N=c.tag;if(N===5||N===6)c=c.stateNode,h?y.nodeType===8?y.parentNode.insertBefore(c,h):y.insertBefore(c,h):(y.nodeType===8?(h=y.parentNode,h.insertBefore(c,y)):(h=y,h.appendChild(c)),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=Vp));else if(N!==4&&(c=c.child,c!==null))for(Eb(c,h,y),c=c.sibling;c!==null;)Eb(c,h,y),c=c.sibling}function Tb(c,h,y){var N=c.tag;if(N===5||N===6)c=c.stateNode,h?y.insertBefore(c,h):y.appendChild(c);else if(N!==4&&(c=c.child,c!==null))for(Tb(c,h,y),c=c.sibling;c!==null;)Tb(c,h,y),c=c.sibling}var Wn=null,Ga=!1;function vl(c,h,y){for(y=y.child;y!==null;)lP(c,h,y),y=y.sibling}function lP(c,h,y){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(mc,y)}catch{}switch(y.tag){case 5:Jn||cd(y,h);case 6:var N=Wn,A=Ga;Wn=null,vl(c,h,y),Wn=N,Ga=A,Wn!==null&&(Ga?(c=Wn,y=y.stateNode,c.nodeType===8?c.parentNode.removeChild(y):c.removeChild(y)):Wn.removeChild(y.stateNode));break;case 18:Wn!==null&&(Ga?(c=Wn,y=y.stateNode,c.nodeType===8?W0(c.parentNode,y):c.nodeType===1&&W0(c,y),ll(c)):W0(Wn,y.stateNode));break;case 4:N=Wn,A=Ga,Wn=y.stateNode.containerInfo,Ga=!0,vl(c,h,y),Wn=N,Ga=A;break;case 0:case 11:case 14:case 15:if(!Jn&&(N=y.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){A=N=N.next;do{var D=A,H=D.destroy;D=D.tag,H!==void 0&&((D&2)!==0||(D&4)!==0)&&Ib(y,h,H),A=A.next}while(A!==N)}vl(c,h,y);break;case 1:if(!Jn&&(cd(y,h),N=y.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=y.memoizedProps,N.state=y.memoizedState,N.componentWillUnmount()}catch(ie){Fr(y,h,ie)}vl(c,h,y);break;case 21:vl(c,h,y);break;case 22:y.mode&1?(Jn=(N=Jn)||y.memoizedState!==null,vl(c,h,y),Jn=N):vl(c,h,y);break;default:vl(c,h,y)}}function cP(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var y=c.stateNode;y===null&&(y=c.stateNode=new s7),h.forEach(function(N){var A=m7.bind(null,c,N);y.has(N)||(y.add(N),N.then(A,A))})}}function Ka(c,h){var y=h.deletions;if(y!==null)for(var N=0;N<y.length;N++){var A=y[N];try{var D=c,H=h,ie=H;e:for(;ie!==null;){switch(ie.tag){case 5:Wn=ie.stateNode,Ga=!1;break e;case 3:Wn=ie.stateNode.containerInfo,Ga=!0;break e;case 4:Wn=ie.stateNode.containerInfo,Ga=!0;break e}ie=ie.return}if(Wn===null)throw Error(r(160));lP(D,H,A),Wn=null,Ga=!1;var me=A.alternate;me!==null&&(me.return=null),A.return=null}catch(Ee){Fr(A,h,Ee)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)uP(h,c),h=h.sibling}function uP(c,h){var y=c.alternate,N=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Ka(h,c),Ti(c),N&4){try{af(3,c,c.return),ug(3,c)}catch(ht){Fr(c,c.return,ht)}try{af(5,c,c.return)}catch(ht){Fr(c,c.return,ht)}}break;case 1:Ka(h,c),Ti(c),N&512&&y!==null&&cd(y,y.return);break;case 5:if(Ka(h,c),Ti(c),N&512&&y!==null&&cd(y,y.return),c.flags&32){var A=c.stateNode;try{Fe(A,"")}catch(ht){Fr(c,c.return,ht)}}if(N&4&&(A=c.stateNode,A!=null)){var D=c.memoizedProps,H=y!==null?y.memoizedProps:D,ie=c.type,me=c.updateQueue;if(c.updateQueue=null,me!==null)try{ie==="input"&&D.type==="radio"&&D.name!=null&&be(A,D),mr(ie,H);var Ee=mr(ie,D);for(H=0;H<me.length;H+=2){var We=me[H],qe=me[H+1];We==="style"?$e(A,qe):We==="dangerouslySetInnerHTML"?ce(A,qe):We==="children"?Fe(A,qe):k(A,We,qe,Ee)}switch(ie){case"input":he(A,D);break;case"textarea":rt(A,D);break;case"select":var Ue=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!D.multiple;var tt=D.value;tt!=null?_t(A,!!D.multiple,tt,!1):Ue!==!!D.multiple&&(D.defaultValue!=null?_t(A,!!D.multiple,D.defaultValue,!0):_t(A,!!D.multiple,D.multiple?[]:"",!1))}A[Kh]=D}catch(ht){Fr(c,c.return,ht)}}break;case 6:if(Ka(h,c),Ti(c),N&4){if(c.stateNode===null)throw Error(r(162));A=c.stateNode,D=c.memoizedProps;try{A.nodeValue=D}catch(ht){Fr(c,c.return,ht)}}break;case 3:if(Ka(h,c),Ti(c),N&4&&y!==null&&y.memoizedState.isDehydrated)try{ll(h.containerInfo)}catch(ht){Fr(c,c.return,ht)}break;case 4:Ka(h,c),Ti(c);break;case 13:Ka(h,c),Ti(c),A=c.child,A.flags&8192&&(D=A.memoizedState!==null,A.stateNode.isHidden=D,!D||A.alternate!==null&&A.alternate.memoizedState!==null||(Db=hr())),N&4&&cP(c);break;case 22:if(We=y!==null&&y.memoizedState!==null,c.mode&1?(Jn=(Ee=Jn)||We,Ka(h,c),Jn=Ee):Ka(h,c),Ti(c),N&8192){if(Ee=c.memoizedState!==null,(c.stateNode.isHidden=Ee)&&!We&&(c.mode&1)!==0)for(at=c,We=c.child;We!==null;){for(qe=at=We;at!==null;){switch(Ue=at,tt=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:af(4,Ue,Ue.return);break;case 1:cd(Ue,Ue.return);var ot=Ue.stateNode;if(typeof ot.componentWillUnmount=="function"){N=Ue,y=Ue.return;try{h=N,ot.props=h.memoizedProps,ot.state=h.memoizedState,ot.componentWillUnmount()}catch(ht){Fr(N,y,ht)}}break;case 5:cd(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){fP(qe);continue}}tt!==null?(tt.return=Ue,at=tt):fP(qe)}We=We.sibling}e:for(We=null,qe=c;;){if(qe.tag===5){if(We===null){We=qe;try{A=qe.stateNode,Ee?(D=A.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(ie=qe.stateNode,me=qe.memoizedProps.style,H=me!=null&&me.hasOwnProperty("display")?me.display:null,ie.style.display=Le("display",H))}catch(ht){Fr(c,c.return,ht)}}}else if(qe.tag===6){if(We===null)try{qe.stateNode.nodeValue=Ee?"":qe.memoizedProps}catch(ht){Fr(c,c.return,ht)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===c)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===c)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===c)break e;We===qe&&(We=null),qe=qe.return}We===qe&&(We=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:Ka(h,c),Ti(c),N&4&&cP(c);break;case 21:break;default:Ka(h,c),Ti(c)}}function Ti(c){var h=c.flags;if(h&2){try{e:{for(var y=c.return;y!==null;){if(iP(y)){var N=y;break e}y=y.return}throw Error(r(160))}switch(N.tag){case 5:var A=N.stateNode;N.flags&32&&(Fe(A,""),N.flags&=-33);var D=oP(c);Tb(c,D,A);break;case 3:case 4:var H=N.stateNode.containerInfo,ie=oP(c);Eb(c,ie,H);break;default:throw Error(r(161))}}catch(me){Fr(c,c.return,me)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function i7(c,h,y){at=c,dP(c)}function dP(c,h,y){for(var N=(c.mode&1)!==0;at!==null;){var A=at,D=A.child;if(A.tag===22&&N){var H=A.memoizedState!==null||cg;if(!H){var ie=A.alternate,me=ie!==null&&ie.memoizedState!==null||Jn;ie=cg;var Ee=Jn;if(cg=H,(Jn=me)&&!Ee)for(at=A;at!==null;)H=at,me=H.child,H.tag===22&&H.memoizedState!==null?mP(A):me!==null?(me.return=H,at=me):mP(A);for(;D!==null;)at=D,dP(D),D=D.sibling;at=A,cg=ie,Jn=Ee}hP(c)}else(A.subtreeFlags&8772)!==0&&D!==null?(D.return=A,at=D):hP(c)}}function hP(c){for(;at!==null;){var h=at;if((h.flags&8772)!==0){var y=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Jn||ug(5,h);break;case 1:var N=h.stateNode;if(h.flags&4&&!Jn)if(y===null)N.componentDidMount();else{var A=h.elementType===h.type?y.memoizedProps:qa(h.type,y.memoizedProps);N.componentDidUpdate(A,y.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var D=h.updateQueue;D!==null&&fI(h,D,N);break;case 3:var H=h.updateQueue;if(H!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=h.child.stateNode;break;case 1:y=h.child.stateNode}fI(h,H,y)}break;case 5:var ie=h.stateNode;if(y===null&&h.flags&4){y=ie;var me=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&y.focus();break;case"img":me.src&&(y.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var Ee=h.alternate;if(Ee!==null){var We=Ee.memoizedState;if(We!==null){var qe=We.dehydrated;qe!==null&&ll(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Jn||h.flags&512&&Pb(h)}catch(Ue){Fr(h,h.return,Ue)}}if(h===c){at=null;break}if(y=h.sibling,y!==null){y.return=h.return,at=y;break}at=h.return}}function fP(c){for(;at!==null;){var h=at;if(h===c){at=null;break}var y=h.sibling;if(y!==null){y.return=h.return,at=y;break}at=h.return}}function mP(c){for(;at!==null;){var h=at;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{ug(4,h)}catch(me){Fr(h,y,me)}break;case 1:var N=h.stateNode;if(typeof N.componentDidMount=="function"){var A=h.return;try{N.componentDidMount()}catch(me){Fr(h,A,me)}}var D=h.return;try{Pb(h)}catch(me){Fr(h,D,me)}break;case 5:var H=h.return;try{Pb(h)}catch(me){Fr(h,H,me)}}}catch(me){Fr(h,h.return,me)}if(h===c){at=null;break}var ie=h.sibling;if(ie!==null){ie.return=h.return,at=ie;break}at=h.return}}var o7=Math.ceil,dg=R.ReactCurrentDispatcher,Mb=R.ReactCurrentOwner,xa=R.ReactCurrentBatchConfig,Zt=0,kn=null,rn=null,Hn=0,Zs=0,ud=fl(0),fn=0,of=null,Ec=0,hg=0,_b=0,lf=null,Ts=null,Db=0,dd=1/0,vo=null,fg=!1,Ob=null,xl=null,mg=!1,bl=null,pg=0,cf=0,Rb=null,gg=-1,yg=0;function ds(){return(Zt&6)!==0?hr():gg!==-1?gg:gg=hr()}function wl(c){return(c.mode&1)===0?1:(Zt&2)!==0&&Hn!==0?Hn&-Hn:W8.transition!==null?(yg===0&&(yg=Ph()),yg):(c=zt,c!==0||(c=window.event,c=c===void 0?16:Bu(c.type)),c)}function Ya(c,h,y,N){if(50<cf)throw cf=0,Rb=null,Error(r(185));vc(c,y,N),((Zt&2)===0||c!==kn)&&(c===kn&&((Zt&2)===0&&(hg|=y),fn===4&&jl(c,Hn)),Ms(c,N),y===1&&Zt===0&&(h.mode&1)===0&&(dd=hr()+500,Hp&&pl()))}function Ms(c,h){var y=c.callbackNode;yc(c,h);var N=ao(c,c===kn?Hn:0);if(N===0)y!==null&&mi(y),c.callbackNode=null,c.callbackPriority=0;else if(h=N&-N,c.callbackPriority!==h){if(y!=null&&mi(y),h===1)c.tag===0?U8(gP.bind(null,c)):tI(gP.bind(null,c)),$8(function(){(Zt&6)===0&&pl()}),y=null;else{switch(yi(N)){case 1:y=Cs;break;case 4:y=Va;break;case 16:y=Cr;break;case 536870912:y=Ou;break;default:y=Cr}y=SP(y,pP.bind(null,c))}c.callbackPriority=h,c.callbackNode=y}}function pP(c,h){if(gg=-1,yg=0,(Zt&6)!==0)throw Error(r(327));var y=c.callbackNode;if(hd()&&c.callbackNode!==y)return null;var N=ao(c,c===kn?Hn:0);if(N===0)return null;if((N&30)!==0||(N&c.expiredLanes)!==0||h)h=vg(c,N);else{h=N;var A=Zt;Zt|=2;var D=vP();(kn!==c||Hn!==h)&&(vo=null,dd=hr()+500,Mc(c,h));do try{u7();break}catch(ie){yP(c,ie)}while(!0);eb(),dg.current=D,Zt=A,rn!==null?h=0:(kn=null,Hn=0,h=fn)}if(h!==0){if(h===2&&(A=Ih(c),A!==0&&(N=A,h=Lb(c,A))),h===1)throw y=of,Mc(c,0),jl(c,N),Ms(c,hr()),y;if(h===6)jl(c,N);else{if(A=c.current.alternate,(N&30)===0&&!l7(A)&&(h=vg(c,N),h===2&&(D=Ih(c),D!==0&&(N=D,h=Lb(c,D))),h===1))throw y=of,Mc(c,0),jl(c,N),Ms(c,hr()),y;switch(c.finishedWork=A,c.finishedLanes=N,h){case 0:case 1:throw Error(r(345));case 2:_c(c,Ts,vo);break;case 3:if(jl(c,N),(N&130023424)===N&&(h=Db+500-hr(),10<h)){if(ao(c,0)!==0)break;if(A=c.suspendedLanes,(A&N)!==N){ds(),c.pingedLanes|=c.suspendedLanes&A;break}c.timeoutHandle=U0(_c.bind(null,c,Ts,vo),h);break}_c(c,Ts,vo);break;case 4:if(jl(c,N),(N&4194240)===N)break;for(h=c.eventTimes,A=-1;0<N;){var H=31-Ws(N);D=1<<H,H=h[H],H>A&&(A=H),N&=~D}if(N=A,N=hr()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*o7(N/1960))-N,10<N){c.timeoutHandle=U0(_c.bind(null,c,Ts,vo),N);break}_c(c,Ts,vo);break;case 5:_c(c,Ts,vo);break;default:throw Error(r(329))}}}return Ms(c,hr()),c.callbackNode===y?pP.bind(null,c):null}function Lb(c,h){var y=lf;return c.current.memoizedState.isDehydrated&&(Mc(c,h).flags|=256),c=vg(c,h),c!==2&&(h=Ts,Ts=y,h!==null&&Fb(h)),c}function Fb(c){Ts===null?Ts=c:Ts.push.apply(Ts,c)}function l7(c){for(var h=c;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var N=0;N<y.length;N++){var A=y[N],D=A.getSnapshot;A=A.value;try{if(!Wa(D(),A))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function jl(c,h){for(h&=~_b,h&=~hg,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var y=31-Ws(h),N=1<<y;c[y]=-1,h&=~N}}function gP(c){if((Zt&6)!==0)throw Error(r(327));hd();var h=ao(c,0);if((h&1)===0)return Ms(c,hr()),null;var y=vg(c,h);if(c.tag!==0&&y===2){var N=Ih(c);N!==0&&(h=N,y=Lb(c,N))}if(y===1)throw y=of,Mc(c,0),jl(c,h),Ms(c,hr()),y;if(y===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,_c(c,Ts,vo),Ms(c,hr()),null}function $b(c,h){var y=Zt;Zt|=1;try{return c(h)}finally{Zt=y,Zt===0&&(dd=hr()+500,Hp&&pl())}}function Tc(c){bl!==null&&bl.tag===0&&(Zt&6)===0&&hd();var h=Zt;Zt|=1;var y=xa.transition,N=zt;try{if(xa.transition=null,zt=1,c)return c()}finally{zt=N,xa.transition=y,Zt=h,(Zt&6)===0&&pl()}}function Bb(){Zs=ud.current,jr(ud)}function Mc(c,h){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;if(y!==-1&&(c.timeoutHandle=-1,F8(y)),rn!==null)for(y=rn.return;y!==null;){var N=y;switch(Y0(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&Up();break;case 3:od(),jr(Is),jr(Zn),lb();break;case 5:ib(N);break;case 4:od();break;case 13:jr(Dr);break;case 19:jr(Dr);break;case 10:tb(N.type._context);break;case 22:case 23:Bb()}y=y.return}if(kn=c,rn=c=Nl(c.current,null),Hn=Zs=h,fn=0,of=null,_b=hg=Ec=0,Ts=lf=null,Ac!==null){for(h=0;h<Ac.length;h++)if(y=Ac[h],N=y.interleaved,N!==null){y.interleaved=null;var A=N.next,D=y.pending;if(D!==null){var H=D.next;D.next=A,N.next=H}y.pending=N}Ac=null}return c}function yP(c,h){do{var y=rn;try{if(eb(),tg.current=ag,rg){for(var N=Or.memoizedState;N!==null;){var A=N.queue;A!==null&&(A.pending=null),N=N.next}rg=!1}if(Pc=0,Sn=hn=Or=null,ef=!1,tf=0,Mb.current=null,y===null||y.return===null){fn=1,of=h,rn=null;break}e:{var D=c,H=y.return,ie=y,me=h;if(h=Hn,ie.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ee=me,We=ie,qe=We.tag;if((We.mode&1)===0&&(qe===0||qe===11||qe===15)){var Ue=We.alternate;Ue?(We.updateQueue=Ue.updateQueue,We.memoizedState=Ue.memoizedState,We.lanes=Ue.lanes):(We.updateQueue=null,We.memoizedState=null)}var tt=zI(H);if(tt!==null){tt.flags&=-257,UI(tt,H,ie,D,h),tt.mode&1&&VI(D,Ee,h),h=tt,me=Ee;var ot=h.updateQueue;if(ot===null){var ht=new Set;ht.add(me),h.updateQueue=ht}else ot.add(me);break e}else{if((h&1)===0){VI(D,Ee,h),Vb();break e}me=Error(r(426))}}else if(Ar&&ie.mode&1){var Kr=zI(H);if(Kr!==null){(Kr.flags&65536)===0&&(Kr.flags|=256),UI(Kr,H,ie,D,h),X0(ld(me,ie));break e}}D=me=ld(me,ie),fn!==4&&(fn=2),lf===null?lf=[D]:lf.push(D),D=H;do{switch(D.tag){case 3:D.flags|=65536,h&=-h,D.lanes|=h;var Ne=$I(D,me,h);hI(D,Ne);break e;case 1:ie=me;var ve=D.type,Ie=D.stateNode;if((D.flags&128)===0&&(typeof ve.getDerivedStateFromError=="function"||Ie!==null&&typeof Ie.componentDidCatch=="function"&&(xl===null||!xl.has(Ie)))){D.flags|=65536,h&=-h,D.lanes|=h;var Ke=BI(D,ie,h);hI(D,Ke);break e}}D=D.return}while(D!==null)}bP(y)}catch(mt){h=mt,rn===y&&y!==null&&(rn=y=y.return);continue}break}while(!0)}function vP(){var c=dg.current;return dg.current=ag,c===null?ag:c}function Vb(){(fn===0||fn===3||fn===2)&&(fn=4),kn===null||(Ec&268435455)===0&&(hg&268435455)===0||jl(kn,Hn)}function vg(c,h){var y=Zt;Zt|=2;var N=vP();(kn!==c||Hn!==h)&&(vo=null,Mc(c,h));do try{c7();break}catch(A){yP(c,A)}while(!0);if(eb(),Zt=y,dg.current=N,rn!==null)throw Error(r(261));return kn=null,Hn=0,fn}function c7(){for(;rn!==null;)xP(rn)}function u7(){for(;rn!==null&&!Ba();)xP(rn)}function xP(c){var h=NP(c.alternate,c,Zs);c.memoizedProps=c.pendingProps,h===null?bP(c):rn=h,Mb.current=null}function bP(c){var h=c;do{var y=h.alternate;if(c=h.return,(h.flags&32768)===0){if(y=r7(y,h,Zs),y!==null){rn=y;return}}else{if(y=n7(y,h),y!==null){y.flags&=32767,rn=y;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{fn=6,rn=null;return}}if(h=h.sibling,h!==null){rn=h;return}rn=h=c}while(h!==null);fn===0&&(fn=5)}function _c(c,h,y){var N=zt,A=xa.transition;try{xa.transition=null,zt=1,d7(c,h,y,N)}finally{xa.transition=A,zt=N}return null}function d7(c,h,y,N){do hd();while(bl!==null);if((Zt&6)!==0)throw Error(r(327));y=c.finishedWork;var A=c.finishedLanes;if(y===null)return null;if(c.finishedWork=null,c.finishedLanes=0,y===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var D=y.lanes|y.childLanes;if(A0(c,D),c===kn&&(rn=kn=null,Hn=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||mg||(mg=!0,SP(Cr,function(){return hd(),null})),D=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||D){D=xa.transition,xa.transition=null;var H=zt;zt=1;var ie=Zt;Zt|=4,Mb.current=null,a7(c,y),uP(y,c),T8(V0),lo=!!B0,V0=B0=null,c.current=y,i7(y),zs(),Zt=ie,zt=H,xa.transition=D}else c.current=y;if(mg&&(mg=!1,bl=c,pg=A),D=c.pendingLanes,D===0&&(xl=null),Cp(y.stateNode),Ms(c,hr()),h!==null)for(N=c.onRecoverableError,y=0;y<h.length;y++)A=h[y],N(A.value,{componentStack:A.stack,digest:A.digest});if(fg)throw fg=!1,c=Ob,Ob=null,c;return(pg&1)!==0&&c.tag!==0&&hd(),D=c.pendingLanes,(D&1)!==0?c===Rb?cf++:(cf=0,Rb=c):cf=0,pl(),null}function hd(){if(bl!==null){var c=yi(pg),h=xa.transition,y=zt;try{if(xa.transition=null,zt=16>c?16:c,bl===null)var N=!1;else{if(c=bl,bl=null,pg=0,(Zt&6)!==0)throw Error(r(331));var A=Zt;for(Zt|=4,at=c.current;at!==null;){var D=at,H=D.child;if((at.flags&16)!==0){var ie=D.deletions;if(ie!==null){for(var me=0;me<ie.length;me++){var Ee=ie[me];for(at=Ee;at!==null;){var We=at;switch(We.tag){case 0:case 11:case 15:af(8,We,D)}var qe=We.child;if(qe!==null)qe.return=We,at=qe;else for(;at!==null;){We=at;var Ue=We.sibling,tt=We.return;if(aP(We),We===Ee){at=null;break}if(Ue!==null){Ue.return=tt,at=Ue;break}at=tt}}}var ot=D.alternate;if(ot!==null){var ht=ot.child;if(ht!==null){ot.child=null;do{var Kr=ht.sibling;ht.sibling=null,ht=Kr}while(ht!==null)}}at=D}}if((D.subtreeFlags&2064)!==0&&H!==null)H.return=D,at=H;else e:for(;at!==null;){if(D=at,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:af(9,D,D.return)}var Ne=D.sibling;if(Ne!==null){Ne.return=D.return,at=Ne;break e}at=D.return}}var ve=c.current;for(at=ve;at!==null;){H=at;var Ie=H.child;if((H.subtreeFlags&2064)!==0&&Ie!==null)Ie.return=H,at=Ie;else e:for(H=ve;at!==null;){if(ie=at,(ie.flags&2048)!==0)try{switch(ie.tag){case 0:case 11:case 15:ug(9,ie)}}catch(mt){Fr(ie,ie.return,mt)}if(ie===H){at=null;break e}var Ke=ie.sibling;if(Ke!==null){Ke.return=ie.return,at=Ke;break e}at=ie.return}}if(Zt=A,pl(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(mc,c)}catch{}N=!0}return N}finally{zt=y,xa.transition=h}}return!1}function wP(c,h,y){h=ld(y,h),h=$I(c,h,1),c=yl(c,h,1),h=ds(),c!==null&&(vc(c,1,h),Ms(c,h))}function Fr(c,h,y){if(c.tag===3)wP(c,c,y);else for(;h!==null;){if(h.tag===3){wP(h,c,y);break}else if(h.tag===1){var N=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(xl===null||!xl.has(N))){c=ld(y,c),c=BI(h,c,1),h=yl(h,c,1),c=ds(),h!==null&&(vc(h,1,c),Ms(h,c));break}}h=h.return}}function h7(c,h,y){var N=c.pingCache;N!==null&&N.delete(h),h=ds(),c.pingedLanes|=c.suspendedLanes&y,kn===c&&(Hn&y)===y&&(fn===4||fn===3&&(Hn&130023424)===Hn&&500>hr()-Db?Mc(c,0):_b|=y),Ms(c,h)}function jP(c,h){h===0&&((c.mode&1)===0?h=1:(h=al,al<<=1,(al&130023424)===0&&(al=4194304)));var y=ds();c=po(c,h),c!==null&&(vc(c,h,y),Ms(c,y))}function f7(c){var h=c.memoizedState,y=0;h!==null&&(y=h.retryLane),jP(c,y)}function m7(c,h){var y=0;switch(c.tag){case 13:var N=c.stateNode,A=c.memoizedState;A!==null&&(y=A.retryLane);break;case 19:N=c.stateNode;break;default:throw Error(r(314))}N!==null&&N.delete(h),jP(c,y)}var NP;NP=function(c,h,y){if(c!==null)if(c.memoizedProps!==h.pendingProps||Is.current)Es=!0;else{if((c.lanes&y)===0&&(h.flags&128)===0)return Es=!1,t7(c,h,y);Es=(c.flags&131072)!==0}else Es=!1,Ar&&(h.flags&1048576)!==0&&rI(h,Gp,h.index);switch(h.lanes=0,h.tag){case 2:var N=h.type;lg(c,h),c=h.pendingProps;var A=ed(h,Zn.current);id(h,y),A=db(null,h,N,c,A,y);var D=hb();return h.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Ps(N)?(D=!0,Wp(h)):D=!1,h.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,sb(h),A.updater=ig,h.stateNode=A,A._reactInternals=h,vb(h,N,c,y),h=jb(null,h,N,!0,D,y)):(h.tag=0,Ar&&D&&K0(h),us(null,h,A,y),h=h.child),h;case 16:N=h.elementType;e:{switch(lg(c,h),c=h.pendingProps,A=N._init,N=A(N._payload),h.type=N,A=h.tag=g7(N),c=qa(N,c),A){case 0:h=wb(null,h,N,c,y);break e;case 1:h=YI(null,h,N,c,y);break e;case 11:h=WI(null,h,N,c,y);break e;case 14:h=HI(null,h,N,qa(N.type,c),y);break e}throw Error(r(306,N,""))}return h;case 0:return N=h.type,A=h.pendingProps,A=h.elementType===N?A:qa(N,A),wb(c,h,N,A,y);case 1:return N=h.type,A=h.pendingProps,A=h.elementType===N?A:qa(N,A),YI(c,h,N,A,y);case 3:e:{if(ZI(h),c===null)throw Error(r(387));N=h.pendingProps,D=h.memoizedState,A=D.element,dI(c,h),Jp(h,N,null,y);var H=h.memoizedState;if(N=H.element,D.isDehydrated)if(D={element:N,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},h.updateQueue.baseState=D,h.memoizedState=D,h.flags&256){A=ld(Error(r(423)),h),h=QI(c,h,N,y,A);break e}else if(N!==A){A=ld(Error(r(424)),h),h=QI(c,h,N,y,A);break e}else for(Ys=hl(h.stateNode.containerInfo.firstChild),Ks=h,Ar=!0,Ha=null,y=cI(h,null,N,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(nd(),N===A){h=yo(c,h,y);break e}us(c,h,N,y)}h=h.child}return h;case 5:return mI(h),c===null&&Q0(h),N=h.type,A=h.pendingProps,D=c!==null?c.memoizedProps:null,H=A.children,z0(N,A)?H=null:D!==null&&z0(N,D)&&(h.flags|=32),KI(c,h),us(c,h,H,y),h.child;case 6:return c===null&&Q0(h),null;case 13:return XI(c,h,y);case 4:return ab(h,h.stateNode.containerInfo),N=h.pendingProps,c===null?h.child=sd(h,null,N,y):us(c,h,N,y),h.child;case 11:return N=h.type,A=h.pendingProps,A=h.elementType===N?A:qa(N,A),WI(c,h,N,A,y);case 7:return us(c,h,h.pendingProps,y),h.child;case 8:return us(c,h,h.pendingProps.children,y),h.child;case 12:return us(c,h,h.pendingProps.children,y),h.child;case 10:e:{if(N=h.type._context,A=h.pendingProps,D=h.memoizedProps,H=A.value,yr(Zp,N._currentValue),N._currentValue=H,D!==null)if(Wa(D.value,H)){if(D.children===A.children&&!Is.current){h=yo(c,h,y);break e}}else for(D=h.child,D!==null&&(D.return=h);D!==null;){var ie=D.dependencies;if(ie!==null){H=D.child;for(var me=ie.firstContext;me!==null;){if(me.context===N){if(D.tag===1){me=go(-1,y&-y),me.tag=2;var Ee=D.updateQueue;if(Ee!==null){Ee=Ee.shared;var We=Ee.pending;We===null?me.next=me:(me.next=We.next,We.next=me),Ee.pending=me}}D.lanes|=y,me=D.alternate,me!==null&&(me.lanes|=y),rb(D.return,y,h),ie.lanes|=y;break}me=me.next}}else if(D.tag===10)H=D.type===h.type?null:D.child;else if(D.tag===18){if(H=D.return,H===null)throw Error(r(341));H.lanes|=y,ie=H.alternate,ie!==null&&(ie.lanes|=y),rb(H,y,h),H=D.sibling}else H=D.child;if(H!==null)H.return=D;else for(H=D;H!==null;){if(H===h){H=null;break}if(D=H.sibling,D!==null){D.return=H.return,H=D;break}H=H.return}D=H}us(c,h,A.children,y),h=h.child}return h;case 9:return A=h.type,N=h.pendingProps.children,id(h,y),A=ya(A),N=N(A),h.flags|=1,us(c,h,N,y),h.child;case 14:return N=h.type,A=qa(N,h.pendingProps),A=qa(N.type,A),HI(c,h,N,A,y);case 15:return qI(c,h,h.type,h.pendingProps,y);case 17:return N=h.type,A=h.pendingProps,A=h.elementType===N?A:qa(N,A),lg(c,h),h.tag=1,Ps(N)?(c=!0,Wp(h)):c=!1,id(h,y),LI(h,N,A),vb(h,N,A,y),jb(null,h,N,!0,c,y);case 19:return eP(c,h,y);case 22:return GI(c,h,y)}throw Error(r(156,h.tag))};function SP(c,h){return ks(c,h)}function p7(c,h,y,N){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ba(c,h,y,N){return new p7(c,h,y,N)}function zb(c){return c=c.prototype,!(!c||!c.isReactComponent)}function g7(c){if(typeof c=="function")return zb(c)?1:0;if(c!=null){if(c=c.$$typeof,c===M)return 11;if(c===q)return 14}return 2}function Nl(c,h){var y=c.alternate;return y===null?(y=ba(c.tag,h,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=h,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&14680064,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,h=c.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y}function xg(c,h,y,N,A,D){var H=2;if(N=c,typeof c=="function")zb(c)&&(H=1);else if(typeof c=="string")H=5;else e:switch(c){case E:return Dc(y.children,A,D,h);case C:H=8,A|=8;break;case F:return c=ba(12,y,h,A|2),c.elementType=F,c.lanes=D,c;case $:return c=ba(13,y,h,A),c.elementType=$,c.lanes=D,c;case J:return c=ba(19,y,h,A),c.elementType=J,c.lanes=D,c;case X:return bg(y,A,D,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case _:H=10;break e;case T:H=9;break e;case M:H=11;break e;case q:H=14;break e;case U:H=16,N=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return h=ba(H,y,h,A),h.elementType=c,h.type=N,h.lanes=D,h}function Dc(c,h,y,N){return c=ba(7,c,N,h),c.lanes=y,c}function bg(c,h,y,N){return c=ba(22,c,N,h),c.elementType=X,c.lanes=y,c.stateNode={isHidden:!1},c}function Ub(c,h,y){return c=ba(6,c,null,h),c.lanes=y,c}function Wb(c,h,y){return h=ba(4,c.children!==null?c.children:[],c.key,h),h.lanes=y,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function y7(c,h,y,N,A){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eh(0),this.expirationTimes=Eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eh(0),this.identifierPrefix=N,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Hb(c,h,y,N,A,D,H,ie,me){return c=new y7(c,h,y,ie,me),h===1?(h=1,D===!0&&(h|=8)):h=0,D=ba(3,null,null,h),c.current=D,D.stateNode=c,D.memoizedState={element:N,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},sb(D),c}function v7(c,h,y){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:N==null?null:""+N,children:c,containerInfo:h,implementation:y}}function kP(c){if(!c)return ml;c=c._reactInternals;e:{if(le(c)!==c||c.tag!==1)throw Error(r(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Ps(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(c.tag===1){var y=c.type;if(Ps(y))return JA(c,y,h)}return h}function CP(c,h,y,N,A,D,H,ie,me){return c=Hb(y,N,!0,c,A,D,H,ie,me),c.context=kP(null),y=c.current,N=ds(),A=wl(y),D=go(N,A),D.callback=h??null,yl(y,D,A),c.current.lanes=A,vc(c,A,N),Ms(c,N),c}function wg(c,h,y,N){var A=h.current,D=ds(),H=wl(A);return y=kP(y),h.context===null?h.context=y:h.pendingContext=y,h=go(D,H),h.payload={element:c},N=N===void 0?null:N,N!==null&&(h.callback=N),c=yl(A,h,H),c!==null&&(Ya(c,A,H,D),Xp(c,A,H)),H}function jg(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function AP(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<h?y:h}}function qb(c,h){AP(c,h),(c=c.alternate)&&AP(c,h)}function x7(){return null}var IP=typeof reportError=="function"?reportError:function(c){console.error(c)};function Gb(c){this._internalRoot=c}Ng.prototype.render=Gb.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(r(409));wg(c,h,null,null)},Ng.prototype.unmount=Gb.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;Tc(function(){wg(null,c,null,null)}),h[uo]=null}};function Ng(c){this._internalRoot=c}Ng.prototype.unstable_scheduleHydration=function(c){if(c){var h=Dh();c={blockedOn:null,target:c,priority:h};for(var y=0;y<Hs.length&&h!==0&&h<Hs[y].priority;y++);Hs.splice(y,0,c),y===0&&Fu(c)}};function Kb(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Sg(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function PP(){}function b7(c,h,y,N,A){if(A){if(typeof N=="function"){var D=N;N=function(){var Ee=jg(H);D.call(Ee)}}var H=CP(h,N,c,0,null,!1,!1,"",PP);return c._reactRootContainer=H,c[uo]=H.current,qh(c.nodeType===8?c.parentNode:c),Tc(),H}for(;A=c.lastChild;)c.removeChild(A);if(typeof N=="function"){var ie=N;N=function(){var Ee=jg(me);ie.call(Ee)}}var me=Hb(c,0,!1,null,null,!1,!1,"",PP);return c._reactRootContainer=me,c[uo]=me.current,qh(c.nodeType===8?c.parentNode:c),Tc(function(){wg(h,me,y,N)}),me}function kg(c,h,y,N,A){var D=y._reactRootContainer;if(D){var H=D;if(typeof A=="function"){var ie=A;A=function(){var me=jg(H);ie.call(me)}}wg(h,H,c,A)}else H=b7(y,h,c,A,N);return jg(H)}Mh=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var y=er(h.pendingLanes);y!==0&&(Th(h,y|1),Ms(h,hr()),(Zt&6)===0&&(dd=hr()+500,pl()))}break;case 13:Tc(function(){var N=po(c,1);if(N!==null){var A=ds();Ya(N,c,1,A)}}),qb(c,1)}},Ru=function(c){if(c.tag===13){var h=po(c,134217728);if(h!==null){var y=ds();Ya(h,c,134217728,y)}qb(c,134217728)}},_h=function(c){if(c.tag===13){var h=wl(c),y=po(c,h);if(y!==null){var N=ds();Ya(y,c,h,N)}qb(c,h)}},Dh=function(){return zt},Oh=function(c,h){var y=zt;try{return zt=c,h()}finally{zt=y}},se=function(c,h,y){switch(h){case"input":if(he(c,y),h=y.name,y.type==="radio"&&h!=null){for(y=c;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<y.length;h++){var N=y[h];if(N!==c&&N.form===c.form){var A=zp(N);if(!A)throw Error(r(90));te(N),he(N,A)}}}break;case"textarea":rt(c,y);break;case"select":h=y.value,h!=null&&_t(c,!!y.multiple,h,!1)}},un=$b,Vs=Tc;var w7={usingClientEntryPoint:!1,Events:[Yh,Xu,zp,Lt,Gr,$b]},uf={findFiberByHostInstance:Nc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j7={bundleType:uf.bundleType,version:uf.version,rendererPackageName:uf.rendererPackageName,rendererConfig:uf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Ct(c),c===null?null:c.stateNode},findFiberByHostInstance:uf.findFiberByHostInstance||x7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cg.isDisabled&&Cg.supportsFiber)try{mc=Cg.inject(j7),Us=Cg}catch{}}return _s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w7,_s.createPortal=function(c,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kb(h))throw Error(r(200));return v7(c,h,null,y)},_s.createRoot=function(c,h){if(!Kb(c))throw Error(r(299));var y=!1,N="",A=IP;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(N=h.identifierPrefix),h.onRecoverableError!==void 0&&(A=h.onRecoverableError)),h=Hb(c,1,!1,null,null,y,!1,N,A),c[uo]=h.current,qh(c.nodeType===8?c.parentNode:c),new Gb(h)},_s.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=Ct(h),c=c===null?null:c.stateNode,c},_s.flushSync=function(c){return Tc(c)},_s.hydrate=function(c,h,y){if(!Sg(h))throw Error(r(200));return kg(null,c,h,!0,y)},_s.hydrateRoot=function(c,h,y){if(!Kb(c))throw Error(r(405));var N=y!=null&&y.hydratedSources||null,A=!1,D="",H=IP;if(y!=null&&(y.unstable_strictMode===!0&&(A=!0),y.identifierPrefix!==void 0&&(D=y.identifierPrefix),y.onRecoverableError!==void 0&&(H=y.onRecoverableError)),h=CP(h,null,c,1,y??null,A,!1,D,H),c[uo]=h.current,qh(c),N)for(c=0;c<N.length;c++)y=N[c],A=y._getVersion,A=A(y._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[y,A]:h.mutableSourceEagerHydrationData.push(y,A);return new Ng(h)},_s.render=function(c,h,y){if(!Sg(h))throw Error(r(200));return kg(null,c,h,!1,y)},_s.unmountComponentAtNode=function(c){if(!Sg(c))throw Error(r(40));return c._reactRootContainer?(Tc(function(){kg(null,null,c,!1,function(){c._reactRootContainer=null,c[uo]=null})}),!0):!1},_s.unstable_batchedUpdates=$b,_s.unstable_renderSubtreeIntoContainer=function(c,h,y,N){if(!Sg(y))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return kg(c,h,y,!1,N)},_s.version="18.3.1-next-f1338f8080-20240426",_s}var LP;function ZR(){if(LP)return Qb.exports;LP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qb.exports=T7(),Qb.exports}var FP;function M7(){if(FP)return Ag;FP=1;var e=ZR();return Ag.createRoot=e.createRoot,Ag.hydrateRoot=e.hydrateRoot,Ag}var _7=M7();const D7=ua(_7);var ew,$P;function O7(){if($P)return ew;$P=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var l,u,d;if(Array.isArray(i)){if(l=i.length,l!=o.length)return!1;for(u=l;u--!==0;)if(!a(i[u],o[u]))return!1;return!0}var f;if(t&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(f=i.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;for(f=i.entries();!(u=f.next()).done;)if(!a(u.value[1],o.get(u.value[0])))return!1;return!0}if(r&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(f=i.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(l=i.length,l!=o.length)return!1;for(u=l;u--!==0;)if(i[u]!==o[u])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(d=Object.keys(i),l=d.length,l!==Object.keys(o).length)return!1;for(u=l;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[u]))return!1;if(e&&i instanceof Element)return!1;for(u=l;u--!==0;)if(!((d[u]==="_owner"||d[u]==="__v"||d[u]==="__o")&&i.$$typeof)&&!a(i[d[u]],o[d[u]]))return!1;return!0}return i!==i&&o!==o}return ew=function(o,l){try{return a(o,l)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},ew}var R7=O7();const L7=ua(R7);var tw,BP;function F7(){if(BP)return tw;BP=1;var e=function(t,r,n,a,i,o,l,u){if(!t){var d;if(r===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,a,i,o,l,u],m=0;d=new Error(r.replace(/%s/g,function(){return f[m++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return tw=e,tw}var $7=F7();const VP=ua($7);var rw,zP;function B7(){return zP||(zP=1,rw=function(t,r,n,a){var i=n?n.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(r),d=0;d<o.length;d++){var f=o[d];if(!u(f))return!1;var m=t[f],p=r[f];if(i=n?n.call(a,m,p,f):void 0,i===!1||i===void 0&&m!==p)return!1}return!0}),rw}var V7=B7();const z7=ua(V7);var QR=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(QR||{}),nw={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},UP=Object.values(QR),R2={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},U7=Object.entries(R2).reduce((e,[t,r])=>(e[r]=t,e),{}),si="data-rh",Td={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Md=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},W7=e=>{let t=Md(e,"title");const r=Md(e,Td.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Md(e,Td.DEFAULT_TITLE);return t||n||void 0},H7=e=>Md(e,Td.ON_CHANGE_CLIENT_STATE)||(()=>{}),sw=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),q7=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let i=0;i<a.length;i+=1){const l=a[i].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),G7=e=>console&&typeof console.warn=="function"&&console.warn(e),hf=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&G7(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const o={};i.filter(u=>{let d;const f=Object.keys(u);for(let p=0;p<f.length;p+=1){const v=f[p],x=v.toLowerCase();t.indexOf(x)!==-1&&!(d==="rel"&&u[d].toLowerCase()==="canonical")&&!(x==="rel"&&u[x].toLowerCase()==="stylesheet")&&(d=x),t.indexOf(v)!==-1&&(v==="innerHTML"||v==="cssText"||v==="itemprop")&&(d=v)}if(!d||!u[d])return!1;const m=u[d].toLowerCase();return n[d]||(n[d]={}),o[d]||(o[d]={}),n[d][m]?!1:(o[d][m]=!0,!0)}).reverse().forEach(u=>a.push(u));const l=Object.keys(o);for(let u=0;u<l.length;u+=1){const d=l[u],f={...n[d],...o[d]};n[d]=f}return a},[]).reverse()},K7=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},Y7=e=>({baseTag:q7(["href"],e),bodyAttributes:sw("bodyAttributes",e),defer:Md(e,Td.DEFER),encode:Md(e,Td.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:sw("htmlAttributes",e),linkTags:hf("link",["rel","href"],e),metaTags:hf("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:hf("noscript",["innerHTML"],e),onChangeClientState:H7(e),scriptTags:hf("script",["src","innerHTML"],e),styleTags:hf("style",["cssText"],e),title:W7(e),titleAttributes:sw("titleAttributes",e),prioritizeSeoTags:K7(e,Td.PRIORITIZE_SEO_TAGS)}),XR=e=>Array.isArray(e)?e.join(""):e,Z7=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},aw=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(Z7(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},WP=(e,t)=>({...e,[t]:void 0}),Q7=["noscript","script","style"],D1=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),JR=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),X7=(e,t,r,n)=>{const a=JR(r),i=XR(t);return a?`<${e} ${si}="true" ${a}>${D1(i,n)}</${e}>`:`<${e} ${si}="true">${D1(i,n)}</${e}>`},J7=(e,t,r=!0)=>t.reduce((n,a)=>{const i=a,o=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,f)=>{const m=typeof i[f]>"u"?f:`${f}="${D1(i[f],r)}"`;return d?`${d} ${m}`:m},""),l=i.innerHTML||i.cssText||"",u=Q7.indexOf(e)===-1;return`${n}<${e} ${si}="true" ${o}${u?"/>":`>${l}</${e}>`}`},""),eL=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=R2[n];return r[a||n]=e[n],r},t),eU=(e,t,r)=>{const n={key:t,[si]:!0},a=eL(r,n);return[rr.createElement("title",a,t)]},cy=(e,t)=>t.map((r,n)=>{const a={key:n,[si]:!0};return Object.keys(r).forEach(i=>{const l=R2[i]||i;if(l==="innerHTML"||l==="cssText"){const u=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[l]=r[i]}),rr.createElement(e,a)}),Ca=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>eU(e,t.title,t.titleAttributes),toString:()=>X7(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>eL(t),toString:()=>JR(t)};default:return{toComponent:()=>cy(e,t),toString:()=>J7(e,t,r)}}},tU=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=aw(e,nw.meta),i=aw(t,nw.link),o=aw(r,nw.script);return{priorityMethods:{toComponent:()=>[...cy("meta",a.priority),...cy("link",i.priority),...cy("script",o.priority)],toString:()=>`${Ca("meta",a.priority,n)} ${Ca("link",i.priority,n)} ${Ca("script",o.priority,n)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},rU=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:l="",titleAttributes:u,prioritizeSeoTags:d}=e;let{linkTags:f,metaTags:m,scriptTags:p}=e,v={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:v,linkTags:f,metaTags:m,scriptTags:p}=tU(e)),{priority:v,base:Ca("base",t,n),bodyAttributes:Ca("bodyAttributes",r,n),htmlAttributes:Ca("htmlAttributes",a,n),link:Ca("link",f,n),meta:Ca("meta",m,n),noscript:Ca("noscript",i,n),script:Ca("script",p,n),style:Ca("style",o,n),title:Ca("title",{title:l,titleAttributes:u},n)}},O1=rU,Ig=[],tL=!!(typeof window<"u"&&window.document&&window.document.createElement),R1=class{instances=[];canUseDOM=tL;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Ig:this.instances,add:e=>{(this.canUseDOM?Ig:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Ig:this.instances).indexOf(e);(this.canUseDOM?Ig:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=O1({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},nU={},rL=rr.createContext(nU),nL=class sL extends g.Component{static canUseDOM=tL;helmetData;constructor(t){super(t),this.helmetData=new R1(this.props.context||{},sL.canUseDOM)}render(){return rr.createElement(rL.Provider,{value:this.helmetData.value},this.props.children)}},fd=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${si}]`),a=[].slice.call(n),i=[];let o;return t&&t.length&&t.forEach(l=>{const u=document.createElement(e);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d))if(d==="innerHTML")u.innerHTML=l.innerHTML;else if(d==="cssText")u.styleSheet?u.styleSheet.cssText=l.cssText:u.appendChild(document.createTextNode(l.cssText));else{const f=d,m=typeof l[f]>"u"?"":l[f];u.setAttribute(d,m)}u.setAttribute(si,"true"),a.some((d,f)=>(o=f,u.isEqualNode(d)))?a.splice(o,1):i.push(u)}),a.forEach(l=>l.parentNode?.removeChild(l)),i.forEach(l=>r.appendChild(l)),{oldTags:a,newTags:i}},L1=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(si),a=n?n.split(","):[],i=[...a],o=Object.keys(t);for(const l of o){const u=t[l]||"";r.getAttribute(l)!==u&&r.setAttribute(l,u),a.indexOf(l)===-1&&a.push(l);const d=i.indexOf(l);d!==-1&&i.splice(d,1)}for(let l=i.length-1;l>=0;l-=1)r.removeAttribute(i[l]);a.length===i.length?r.removeAttribute(si):r.getAttribute(si)!==o.join(",")&&r.setAttribute(si,o.join(","))},sU=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=XR(e)),L1("title",t)},HP=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:u,scriptTags:d,styleTags:f,title:m,titleAttributes:p}=e;L1("body",n),L1("html",a),sU(m,p);const v={baseTag:fd("base",r),linkTags:fd("link",i),metaTags:fd("meta",o),noscriptTags:fd("noscript",l),scriptTags:fd("script",d),styleTags:fd("style",f)},x={},j={};Object.keys(v).forEach(w=>{const{newTags:S,oldTags:P}=v[w];S.length&&(x[w]=S),P.length&&(j[w]=v[w].oldTags)}),t&&t(),u(e,x,j)},ff=null,aU=e=>{ff&&cancelAnimationFrame(ff),e.defer?ff=requestAnimationFrame(()=>{HP(e,()=>{ff=null})}):(HP(e),ff=null)},iU=aU,qP=class extends g.Component{rendered=!1;shouldComponentUpdate(e){return!z7(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const n=Y7(e.get().map(a=>{const i={...a.props};return delete i.context,i}));nL.canUseDOM?iU(n):O1&&(r=O1(n)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},oU=class extends g.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!L7(WP(this.props,"helmetData"),WP(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return VP(UP.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${UP.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),VP(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return rr.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...i}=n.props,o=Object.keys(i).reduce((u,d)=>(u[U7[d]||d]=i[d],u),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,a),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,a);break;default:t=this.mapObjectTypeChildren(n,t,o,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof R1)){const a=n;n=new R1(a.context,!0),delete r.helmetData}return n?rr.createElement(qP,{...r,context:n.value}):rr.createElement(rL.Consumer,null,a=>rr.createElement(qP,{...r,context:a}))}};var GP="popstate";function lU(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return F1("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Qf(a)}return uU(t,r,null,e)}function Tr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cU(){return Math.random().toString(36).substring(2,10)}function KP(e,t){return{usr:e.state,key:e.key,idx:t}}function F1(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?sh(t):t,state:r,key:t&&t.key||n||cU()}}function Qf({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function uU(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let w=f(),S=w==null?null:w-d;d=w,u&&u({action:l,location:j.location,delta:S})}function p(w,S){l="PUSH";let P=F1(j.location,w,S);d=f()+1;let k=KP(P,d),R=j.createHref(P);try{o.pushState(k,"",R)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;a.location.assign(R)}i&&u&&u({action:l,location:j.location,delta:1})}function v(w,S){l="REPLACE";let P=F1(j.location,w,S);d=f();let k=KP(P,d),R=j.createHref(P);o.replaceState(k,"",R),i&&u&&u({action:l,location:j.location,delta:0})}function x(w){return dU(w)}let j={get action(){return l},get location(){return e(a,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(GP,m),u=w,()=>{a.removeEventListener(GP,m),u=null}},createHref(w){return t(a,w)},createURL:x,encodeLocation(w){let S=x(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:v,go(w){return o.go(w)}};return j}function dU(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Tr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Qf(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function aL(e,t,r="/"){return hU(e,t,r,!1)}function hU(e,t,r,n){let a=typeof t=="string"?sh(t):t,i=Fo(a.pathname||"/",r);if(i==null)return null;let o=iL(e);fU(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=SU(i);l=jU(o[u],d,n)}return l}function iL(e,t=[],r=[],n="",a=!1){let i=(o,l,u=a,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&u)return;Tr(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let m=_o([n,f.relativePath]),p=r.concat(f);o.children&&o.children.length>0&&(Tr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),iL(o.children,t,p,m,u)),!(o.path==null&&!o.index)&&t.push({path:m,score:bU(m,o.index),routesMeta:p})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let u of oL(o.path))i(o,l,!0,u)}),t}function oL(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=oL(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),a&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function fU(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:wU(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var mU=/^:[\w-]+$/,pU=3,gU=2,yU=1,vU=10,xU=-2,YP=e=>e==="*";function bU(e,t){let r=e.split("/"),n=r.length;return r.some(YP)&&(n+=xU),t&&(n+=gU),r.filter(a=>!YP(a)).reduce((a,i)=>a+(mU.test(i)?pU:i===""?yU:vU),n)}function wU(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function jU(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",m=Ty({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),p=u.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=Ty({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:_o([i,m.pathname]),pathnameBase:PU(_o([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=_o([i,m.pathnameBase]))}return o}function Ty(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=NU(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:m},p)=>{if(f==="*"){let x=l[p]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[p];return m&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function NU(e,t=!1,r=!0){aa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function SU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return aa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var kU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CU=e=>kU.test(e);function AU(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?sh(e):e,i;if(r)if(CU(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),aa(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=ZP(r.substring(1),"/"):i=ZP(r,t)}else i=t;return{pathname:i,search:EU(n),hash:TU(a)}}function ZP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function iw(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IU(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function L2(e){let t=IU(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function F2(e,t,r,n=!1){let a;typeof e=="string"?a=sh(e):(a={...e},Tr(!a.pathname||!a.pathname.includes("?"),iw("?","pathname","search",a)),Tr(!a.pathname||!a.pathname.includes("#"),iw("#","pathname","hash",a)),Tr(!a.search||!a.search.includes("#"),iw("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}l=m>=0?t[m]:"/"}let u=AU(a,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var _o=e=>e.join("/").replace(/\/\/+/g,"/"),PU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function MU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function _U(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lL=["POST","PUT","PATCH","DELETE"];new Set(lL);var DU=["GET",...lL];new Set(DU);var ah=g.createContext(null);ah.displayName="DataRouter";var ox=g.createContext(null);ox.displayName="DataRouterState";g.createContext(!1);var cL=g.createContext({isTransitioning:!1});cL.displayName="ViewTransition";var OU=g.createContext(new Map);OU.displayName="Fetchers";var RU=g.createContext(null);RU.displayName="Await";var Oa=g.createContext(null);Oa.displayName="Navigation";var Em=g.createContext(null);Em.displayName="Location";var Ra=g.createContext({outlet:null,matches:[],isDataRoute:!1});Ra.displayName="Route";var $2=g.createContext(null);$2.displayName="RouteError";function LU(e,{relative:t}={}){Tr(ih(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=g.useContext(Oa),{hash:a,pathname:i,search:o}=Tm(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:_o([r,i])),n.createHref({pathname:l,search:o,hash:a})}function ih(){return g.useContext(Em)!=null}function Kn(){return Tr(ih(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Em).location}var uL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dL(e){g.useContext(Oa).static||g.useLayoutEffect(e)}function xr(){let{isDataRoute:e}=g.useContext(Ra);return e?JU():FU()}function FU(){Tr(ih(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(ah),{basename:t,navigator:r}=g.useContext(Oa),{matches:n}=g.useContext(Ra),{pathname:a}=Kn(),i=JSON.stringify(L2(n)),o=g.useRef(!1);return dL(()=>{o.current=!0}),g.useCallback((u,d={})=>{if(aa(o.current,uL),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=F2(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:_o([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,a,e])}var $U=g.createContext(null);function BU(e){let t=g.useContext(Ra).outlet;return g.useMemo(()=>t&&g.createElement($U.Provider,{value:e},t),[t,e])}function VU(){let{matches:e}=g.useContext(Ra),t=e[e.length-1];return t?t.params:{}}function Tm(e,{relative:t}={}){let{matches:r}=g.useContext(Ra),{pathname:n}=Kn(),a=JSON.stringify(L2(r));return g.useMemo(()=>F2(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function zU(e,t){return hL(e,t)}function hL(e,t,r,n,a){Tr(ih(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=g.useContext(Oa),{matches:o}=g.useContext(Ra),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let P=m&&m.path||"";fL(d,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let p=Kn(),v;if(t){let P=typeof t=="string"?sh(t):t;Tr(f==="/"||P.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${P.pathname}" was given in the \`location\` prop.`),v=P}else v=p;let x=v.pathname||"/",j=x;if(f!=="/"){let P=f.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(P.length).join("/")}let w=aL(e,{pathname:j});aa(m||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),aa(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=GU(w&&w.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:_o([f,i.encodeLocation?i.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:_o([f,i.encodeLocation?i.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),o,r,n,a);return t&&S?g.createElement(Em.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function UU(){let e=XU(),t=MU(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,o)}var WU=g.createElement(UU,null),HU=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?g.createElement(Ra.Provider,{value:this.props.routeContext},g.createElement($2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qU({routeContext:e,match:t,children:r}){let n=g.useContext(ah);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Ra.Provider,{value:e},r)}function GU(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r?.errors;if(o!=null){let f=i.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);Tr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,u=-1;if(r)for(let f=0;f<i.length;f++){let m=i[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:p,errors:v}=r,x=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||x){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let d=r&&n?(f,m)=>{n(f,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:_U(r.matches),errorInfo:m})}:void 0;return i.reduceRight((f,m,p)=>{let v,x=!1,j=null,w=null;r&&(v=o&&m.route.id?o[m.route.id]:void 0,j=m.route.errorElement||WU,l&&(u<0&&p===0?(fL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):u===p&&(x=!0,w=m.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,p+1)),P=()=>{let k;return v?k=j:x?k=w:m.route.Component?k=g.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=f,g.createElement(qU,{match:m,routeContext:{outlet:f,matches:S,isDataRoute:r!=null},children:k})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?g.createElement(HU,{location:r.location,revalidation:r.revalidation,component:j,error:v,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:d}):P()},null)}function B2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KU(e){let t=g.useContext(ah);return Tr(t,B2(e)),t}function YU(e){let t=g.useContext(ox);return Tr(t,B2(e)),t}function ZU(e){let t=g.useContext(Ra);return Tr(t,B2(e)),t}function V2(e){let t=ZU(e),r=t.matches[t.matches.length-1];return Tr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function QU(){return V2("useRouteId")}function XU(){let e=g.useContext($2),t=YU("useRouteError"),r=V2("useRouteError");return e!==void 0?e:t.errors?.[r]}function JU(){let{router:e}=KU("useNavigate"),t=V2("useNavigate"),r=g.useRef(!1);return dL(()=>{r.current=!0}),g.useCallback(async(a,i={})=>{aa(r.current,uL),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var QP={};function fL(e,t,r){!t&&!QP[e]&&(QP[e]=!0,aa(!1,r))}g.memo(eW);function eW({routes:e,future:t,state:r,unstable_onError:n}){return hL(e,void 0,r,n,t)}function Xf({to:e,replace:t,state:r,relative:n}){Tr(ih(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=g.useContext(Oa);aa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=g.useContext(Ra),{pathname:o}=Kn(),l=xr(),u=F2(e,L2(i),o,n==="path"),d=JSON.stringify(u);return g.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:n})},[l,d,n,t,r]),null}function tW(e){return BU(e.context)}function pt(e){Tr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rW({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){Tr(!ih(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[l,a,i,o]);typeof r=="string"&&(r=sh(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:v="default"}=r,x=g.useMemo(()=>{let j=Fo(d,l);return j==null?null:{location:{pathname:j,search:f,hash:m,state:p,key:v},navigationType:n}},[l,d,f,m,p,v,n]);return aa(x!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:g.createElement(Oa.Provider,{value:u},g.createElement(Em.Provider,{children:t,value:x}))}function lx({children:e,location:t}){return zU($1(e),t)}function $1(e,t=[]){let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let i=[...t,a];if(n.type===g.Fragment){r.push.apply(r,$1(n.props.children,i));return}Tr(n.type===pt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=$1(n.props.children,i)),r.push(o)}),r}var uy="get",dy="application/x-www-form-urlencoded";function cx(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function nW(e){return cx(e)&&e.tagName.toLowerCase()==="button"}function sW(e){return cx(e)&&e.tagName.toLowerCase()==="form"}function aW(e){return cx(e)&&e.tagName.toLowerCase()==="input"}function iW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oW(e,t){return e.button===0&&(!t||t==="_self")&&!iW(e)}function B1(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function lW(e,t){let r=B1(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var Pg=null;function cW(){if(Pg===null)try{new FormData(document.createElement("form"),0),Pg=!1}catch{Pg=!0}return Pg}var uW=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ow(e){return e!=null&&!uW.has(e)?(aa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dy}"`),null):e}function dW(e,t){let r,n,a,i,o;if(sW(e)){let l=e.getAttribute("action");n=l?Fo(l,t):null,r=e.getAttribute("method")||uy,a=ow(e.getAttribute("enctype"))||dy,i=new FormData(e)}else if(nW(e)||aW(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?Fo(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||uy,a=ow(e.getAttribute("formenctype"))||ow(l.getAttribute("enctype"))||dy,i=new FormData(l,e),!cW()){let{name:d,type:f,value:m}=e;if(f==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,m)}}else{if(cx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=uy,n=null,a=dy,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function z2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hW(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Fo(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function fW(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mW(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function pW(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await fW(i,r);return o.links?o.links():[]}return[]}));return xW(n.flat(1).filter(mW).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function XP(e,t,r,n,a,i){let o=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,l=(u,d)=>r[d].pathname!==u.pathname||r[d].route.path?.endsWith("*")&&r[d].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):i==="data"?t.filter((u,d)=>{let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function gW(e,t,{includeHydrateFallback:r}={}){return yW(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function yW(e){return[...new Set(e)]}function vW(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function xW(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(vW(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function mL(){let e=g.useContext(ah);return z2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function bW(){let e=g.useContext(ox);return z2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var U2=g.createContext(void 0);U2.displayName="FrameworkContext";function pL(){let e=g.useContext(U2);return z2(e,"You must render this element inside a <HydratedRouter> element"),e}function wW(e,t){let r=g.useContext(U2),[n,a]=g.useState(!1),[i,o]=g.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=t,p=g.useRef(null);g.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let j=S=>{S.forEach(P=>{o(P.isIntersecting)})},w=new IntersectionObserver(j,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),g.useEffect(()=>{if(n){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[n]);let v=()=>{a(!0)},x=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:mf(l,v),onBlur:mf(u,x),onMouseEnter:mf(d,v),onMouseLeave:mf(f,x),onTouchStart:mf(m,v)}]:[!1,p,{}]}function mf(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function jW({page:e,...t}){let{router:r}=mL(),n=g.useMemo(()=>aL(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?g.createElement(SW,{page:e,matches:n,...t}):null}function NW(e){let{manifest:t,routeModules:r}=pL(),[n,a]=g.useState([]);return g.useEffect(()=>{let i=!1;return pW(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function SW({page:e,matches:t,...r}){let n=Kn(),{manifest:a,routeModules:i}=pL(),{basename:o}=mL(),{loaderData:l,matches:u}=bW(),d=g.useMemo(()=>XP(e,t,u,a,n,"data"),[e,t,u,a,n]),f=g.useMemo(()=>XP(e,t,u,a,n,"assets"),[e,t,u,a,n]),m=g.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let x=new Set,j=!1;if(t.forEach(S=>{let P=a.routes[S.route.id];!P||!P.hasLoader||(!d.some(k=>k.route.id===S.route.id)&&S.route.id in l&&i[S.route.id]?.shouldRevalidate||P.hasClientLoader?j=!0:x.add(S.route.id))}),x.size===0)return[];let w=hW(e,o,"data");return j&&x.size>0&&w.searchParams.set("_routes",t.filter(S=>x.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[o,l,n,a,d,t,e,i]),p=g.useMemo(()=>gW(f,a),[f,a]),v=NW(f);return g.createElement(g.Fragment,null,m.map(x=>g.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),p.map(x=>g.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),v.map(({key:x,link:j})=>g.createElement("link",{key:x,nonce:r.nonce,...j})))}function kW(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var gL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gL&&(window.__reactRouterVersion="7.10.1")}catch{}function CW({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=g.useRef();a.current==null&&(a.current=lU({window:n,v5Compat:!0}));let i=a.current,[o,l]=g.useState({action:i.action,location:i.location}),u=g.useCallback(d=>{r===!1?l(d):g.startTransition(()=>l(d))},[r]);return g.useLayoutEffect(()=>i.listen(u),[i,u]),g.createElement(rW,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r===!0})}var yL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qs=g.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:f,viewTransition:m,...p},v){let{basename:x,unstable_useTransitions:j}=g.useContext(Oa),w=typeof d=="string"&&yL.test(d),S,P=!1;if(typeof d=="string"&&w&&(S=d,gL))try{let _=new URL(window.location.href),T=d.startsWith("//")?new URL(_.protocol+d):new URL(d),M=Fo(T.pathname,x);T.origin===_.origin&&M!=null?d=M+T.search+T.hash:P=!0}catch{aa(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=LU(d,{relative:a}),[R,I,L]=wW(n,p),E=PW(d,{replace:o,state:l,target:u,preventScrollReset:f,relative:a,viewTransition:m,unstable_useTransitions:j});function C(_){t&&t(_),_.defaultPrevented||E(_)}let F=g.createElement("a",{...p,...L,href:S||k,onClick:P||i?t:C,ref:kW(v,I),target:u,"data-discover":!w&&r==="render"?"true":void 0});return R&&!w?g.createElement(g.Fragment,null,F,g.createElement(jW,{page:k})):F});Qs.displayName="Link";var Lc=g.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:u,...d},f){let m=Tm(o,{relative:d.relative}),p=Kn(),v=g.useContext(ox),{navigator:x,basename:j}=g.useContext(Oa),w=v!=null&&DW(m)&&l===!0,S=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,P=p.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(P=P.toLowerCase(),k=k?k.toLowerCase():null,S=S.toLowerCase()),k&&j&&(k=Fo(k,j)||k);const R=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let I=P===S||!a&&P.startsWith(S)&&P.charAt(R)==="/",L=k!=null&&(k===S||!a&&k.startsWith(S)&&k.charAt(S.length)==="/"),E={isActive:I,isPending:L,isTransitioning:w},C=I?t:void 0,F;typeof n=="function"?F=n(E):F=[n,I?"active":null,L?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let _=typeof i=="function"?i(E):i;return g.createElement(Qs,{...d,"aria-current":C,className:F,ref:f,style:_,to:o,viewTransition:l},typeof u=="function"?u(E):u)});Lc.displayName="NavLink";var AW=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=uy,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:m,...p},v)=>{let{unstable_useTransitions:x}=g.useContext(Oa),j=MW(),w=_W(l,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",P=typeof l=="string"&&yL.test(l),k=R=>{if(u&&u(R),R.defaultPrevented)return;R.preventDefault();let I=R.nativeEvent.submitter,L=I?.getAttribute("formmethod")||o,E=()=>j(I||R.currentTarget,{fetcherKey:t,method:L,navigate:r,replace:a,state:i,relative:d,preventScrollReset:f,viewTransition:m});x&&r!==!1?g.startTransition(()=>E()):E()};return g.createElement("form",{ref:v,method:S,action:w,onSubmit:n?u:k,...p,"data-discover":!P&&e==="render"?"true":void 0})});AW.displayName="Form";function IW(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vL(e){let t=g.useContext(ah);return Tr(t,IW(e)),t}function PW(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_useTransitions:l}={}){let u=xr(),d=Kn(),f=Tm(e,{relative:i});return g.useCallback(m=>{if(oW(m,t)){m.preventDefault();let p=r!==void 0?r:Qf(d)===Qf(f),v=()=>u(e,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:o});l?g.startTransition(()=>v()):v()}},[d,u,f,r,n,t,e,a,i,o,l])}function xL(e){aa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(B1(e)),r=g.useRef(!1),n=Kn(),a=g.useMemo(()=>lW(n.search,r.current?null:t.current),[n.search]),i=xr(),o=g.useCallback((l,u)=>{const d=B1(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+d,u)},[i,a]);return[a,o]}var EW=0,TW=()=>`__${String(++EW)}__`;function MW(){let{router:e}=vL("useSubmit"),{basename:t}=g.useContext(Oa),r=QU(),n=e.fetch,a=e.navigate;return g.useCallback(async(i,o={})=>{let{action:l,method:u,encType:d,formData:f,body:m}=dW(i,t);if(o.navigate===!1){let p=o.fetcherKey||TW();await n(p,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await a(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,t,r])}function _W(e,{relative:t}={}){let{basename:r}=g.useContext(Oa),n=g.useContext(Ra);Tr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Tm(e||".",{relative:t})},o=Kn();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:_o([r,i.pathname])),Qf(i)}function DW(e,{relative:t}={}){let r=g.useContext(cL);Tr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=vL("useViewTransitionState"),a=Tm(e,{relative:t});if(!r.isTransitioning)return!1;let i=Fo(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Fo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ty(a.pathname,o)!=null||Ty(a.pathname,i)!=null}var W2=ZR();let OW={data:""},RW=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||OW},LW=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,FW=/\/\*[^]*?\*\/|  +/g,JP=/\n+/g,Ol=(e,t)=>{let r="",n="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Ol(o,i):i+"{"+Ol(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Ol(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ol.p?Ol.p(i,o):i+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},xo={},bL=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+bL(e[r]);return t}return e},$W=(e,t,r,n,a)=>{let i=bL(e),o=xo[i]||(xo[i]=(u=>{let d=0,f=11;for(;d<u.length;)f=101*f+u.charCodeAt(d++)>>>0;return"go"+f})(i));if(!xo[o]){let u=i!==e?e:(d=>{let f,m,p=[{}];for(;f=LW.exec(d.replace(FW,""));)f[4]?p.shift():f[3]?(m=f[3].replace(JP," ").trim(),p.unshift(p[0][m]=p[0][m]||{})):p[0][f[1]]=f[2].replace(JP," ").trim();return p[0]})(e);xo[o]=Ol(a?{["@keyframes "+o]:u}:u,r?"":"."+o)}let l=r&&xo.g?xo.g:null;return r&&(xo.g=xo[o]),((u,d,f,m)=>{m?d.data=d.data.replace(m,u):d.data.indexOf(u)===-1&&(d.data=f?u+d.data:d.data+u)})(xo[o],t,n,l),o},BW=(e,t,r)=>e.reduce((n,a,i)=>{let o=t[i];if(o&&o.call){let l=o(r),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Ol(l,""):l===!1?"":l}return n+a+(o??"")},"");function ux(e){let t=this||{},r=e.call?e(t.p):e;return $W(r.unshift?r.raw?BW(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,RW(t.target),t.g,t.o,t.k)}let wL,V1,z1;ux.bind({g:1});let $o=ux.bind({k:1});function VW(e,t,r,n){Ol.p=t,wL=e,V1=r,z1=n}function ic(e,t){let r=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),u=l.className||a.className;r.p=Object.assign({theme:V1&&V1()},l),r.o=/ *go\d+/.test(u),l.className=ux.apply(r,n)+(u?" "+u:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),z1&&d[0]&&z1(l),wL(d,l)}return a}}var zW=e=>typeof e=="function",My=(e,t)=>zW(e)?e(t):e,UW=(()=>{let e=0;return()=>(++e).toString()})(),jL=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),WW=20,H2="default",NL=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return NL(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},hy=[],SL={toasts:[],pausedAt:void 0,settings:{toastLimit:WW}},Li={},kL=(e,t=H2)=>{Li[t]=NL(Li[t]||SL,e),hy.forEach(([r,n])=>{r===t&&n(Li[t])})},CL=e=>Object.keys(Li).forEach(t=>kL(e,t)),HW=e=>Object.keys(Li).find(t=>Li[t].toasts.some(r=>r.id===e)),dx=(e=H2)=>t=>{kL(t,e)},qW={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},GW=(e={},t=H2)=>{let[r,n]=g.useState(Li[t]||SL),a=g.useRef(Li[t]);g.useEffect(()=>(a.current!==Li[t]&&n(Li[t]),hy.push([t,n]),()=>{let o=hy.findIndex(([l])=>l===t);o>-1&&hy.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var l,u,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||qW[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...r,toasts:i}},KW=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||UW()}),Mm=e=>(t,r)=>{let n=KW(t,e,r);return dx(n.toasterId||HW(n.id))({type:2,toast:n}),n.id},vn=(e,t)=>Mm("blank")(e,t);vn.error=Mm("error");vn.success=Mm("success");vn.loading=Mm("loading");vn.custom=Mm("custom");vn.dismiss=(e,t)=>{let r={type:3,toastId:e};t?dx(t)(r):CL(r)};vn.dismissAll=e=>vn.dismiss(void 0,e);vn.remove=(e,t)=>{let r={type:4,toastId:e};t?dx(t)(r):CL(r)};vn.removeAll=e=>vn.remove(void 0,e);vn.promise=(e,t,r)=>{let n=vn.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?My(t.success,a):void 0;return i?vn.success(i,{id:n,...r,...r?.success}):vn.dismiss(n),a}).catch(a=>{let i=t.error?My(t.error,a):void 0;i?vn.error(i,{id:n,...r,...r?.error}):vn.dismiss(n)}),e};var YW=1e3,ZW=(e,t="default")=>{let{toasts:r,pausedAt:n}=GW(e,t),a=g.useRef(new Map).current,i=g.useCallback((m,p=YW)=>{if(a.has(m))return;let v=setTimeout(()=>{a.delete(m),o({type:4,toastId:m})},p);a.set(m,v)},[]);g.useEffect(()=>{if(n)return;let m=Date.now(),p=r.map(v=>{if(v.duration===1/0)return;let x=(v.duration||0)+v.pauseDuration-(m-v.createdAt);if(x<0){v.visible&&vn.dismiss(v.id);return}return setTimeout(()=>vn.dismiss(v.id,t),x)});return()=>{p.forEach(v=>v&&clearTimeout(v))}},[r,n,t]);let o=g.useCallback(dx(t),[t]),l=g.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=g.useCallback((m,p)=>{o({type:1,toast:{id:m,height:p}})},[o]),d=g.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),f=g.useCallback((m,p)=>{let{reverseOrder:v=!1,gutter:x=8,defaultPosition:j}=p||{},w=r.filter(k=>(k.position||j)===(m.position||j)&&k.height),S=w.findIndex(k=>k.id===m.id),P=w.filter((k,R)=>R<S&&k.visible).length;return w.filter(k=>k.visible).slice(...v?[P+1]:[0,P]).reduce((k,R)=>k+(R.height||0)+x,0)},[r]);return g.useEffect(()=>{r.forEach(m=>{if(m.dismissed)i(m.id,m.removeDelay);else{let p=a.get(m.id);p&&(clearTimeout(p),a.delete(m.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:f}}},QW=$o`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,XW=$o`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JW=$o`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,eH=ic("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${XW} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${JW} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,tH=$o`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,rH=ic("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${tH} 1s linear infinite;
`,nH=$o`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sH=$o`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,aH=ic("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sH} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,iH=ic("div")`
  position: absolute;
`,oH=ic("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,lH=$o`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cH=ic("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${lH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,uH=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?g.createElement(cH,null,t):t:r==="blank"?null:g.createElement(oH,null,g.createElement(rH,{...n}),r!=="loading"&&g.createElement(iH,null,r==="error"?g.createElement(eH,{...n}):g.createElement(aH,{...n})))},dH=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hH=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,fH="0%{opacity:0;} 100%{opacity:1;}",mH="0%{opacity:1;} 100%{opacity:0;}",pH=ic("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,gH=ic("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,yH=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=jL()?[fH,mH]:[dH(r),hH(r)];return{animation:t?`${$o(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$o(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},vH=g.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?yH(e.position||t||"top-center",e.visible):{opacity:0},i=g.createElement(uH,{toast:e}),o=g.createElement(gH,{...e.ariaProps},My(e.message,e));return g.createElement(pH,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):g.createElement(g.Fragment,null,i,o))});VW(g.createElement);var xH=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=g.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;n(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return g.createElement("div",{ref:i,className:t,style:r},a)},bH=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jL()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},wH=ux`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Eg=16,jH=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=ZW(r,i);return g.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Eg,left:Eg,right:Eg,bottom:Eg,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(f=>{let m=f.position||t,p=d.calculateOffset(f,{reverseOrder:e,gutter:n,defaultPosition:t}),v=bH(m,p);return g.createElement(xH,{id:f.id,key:f.id,onHeightUpdate:d.updateHeight,className:f.visible?wH:"",style:v},f.type==="custom"?My(f.message,f):a?a(f):g.createElement(vH,{toast:f,position:m}))}))},G=vn;const q2=()=>typeof window<"u"&&localStorage.getItem("theme")||"light",G2=e=>{typeof window<"u"&&(localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark",e==="dark"))},NH=()=>{const e=q2();G2(e)},SH=()=>{};var eE={};const AL=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},kH=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],o=e[r++],l=e[r++],u=((a&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(u>>10)),t[n++]=String.fromCharCode(56320+(u&1023))}else{const i=e[r++],o=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|o&63)}}return t.join("")},IL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],o=a+1<e.length,l=o?e[a+1]:0,u=a+2<e.length,d=u?e[a+2]:0,f=i>>2,m=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,v=d&63;u||(v=64,o||(p=64)),n.push(r[f],r[m],r[p],r[v])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(AL(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):kH(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],l=a<e.length?r[e.charAt(a)]:0;++a;const d=a<e.length?r[e.charAt(a)]:64;++a;const m=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||l==null||d==null||m==null)throw new CH;const p=i<<2|l>>4;if(n.push(p),d!==64){const v=l<<4&240|d>>2;if(n.push(v),m!==64){const x=d<<6&192|m;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class CH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AH=function(e){const t=AL(e);return IL.encodeByteArray(t,!0)},_y=function(e){return AH(e).replace(/\./g,"")},PL=function(e){try{return IL.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function IH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PH=()=>IH().__FIREBASE_DEFAULTS__,EH=()=>{if(typeof process>"u"||typeof eE>"u")return;const e=eE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},TH=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&PL(e[1]);return t&&JSON.parse(t)},K2=()=>{try{return SH()||PH()||EH()||TH()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},EL=e=>K2()?.emulatorHosts?.[e],TL=e=>{const t=EL(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},ML=()=>K2()?.config,_L=e=>K2()?.[`_${e}`];class MH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}function oh(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y2(e){return(await fetch(e,{credentials:"include"})).ok}function DL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[_y(JSON.stringify(r)),_y(JSON.stringify(o)),""].join(".")}const Ff={};function _H(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ff))Ff[t]?e.emulator.push(t):e.prod.push(t);return e}function DH(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let tE=!1;function Z2(e,t){if(typeof window>"u"||typeof document>"u"||!oh(window.location.host)||Ff[e]===t||Ff[e]||tE)return;Ff[e]=t;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",i=_H().prod.length>0;function o(){const p=document.getElementById(n);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{tE=!0,o()},p}function f(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=DH(n),v=r("text"),x=document.getElementById(v)||document.createElement("span"),j=r("learnmore"),w=document.getElementById(j)||document.createElement("a"),S=r("preprendIcon"),P=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const k=p.element;l(k),f(w,j);const R=d();u(P,S),k.append(P,x,w,R),document.body.appendChild(k)}i?(x.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function xs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xs())}function RH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OL(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function LH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FH(){const e=xs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Q2(){try{return typeof indexedDB=="object"}catch{return!1}}function X2(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(r){t(r)}})}function RL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const $H="FirebaseError";class La extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=$H,Object.setPrototypeOf(this,La.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],o=i?BH(i,n):"Error",l=`${this.serviceName}: ${o} (${a}).`;return new La(a,l,n)}}function BH(e,t){return e.replace(VH,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const VH=/\{\$([^}]+)}/g;function zH(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Yl(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],o=t[a];if(rE(i)&&rE(o)){if(!Yl(i,o))return!1}else if(i!==o)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function rE(e){return e!==null&&typeof e=="object"}function _m(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function UH(e,t){const r=new WH(e,t);return r.subscribe.bind(r)}class WH{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let a;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");HH(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:n},a.next===void 0&&(a.next=lw),a.error===void 0&&(a.error=lw),a.complete===void 0&&(a.complete=lw);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HH(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function lw(){}const qH=1e3,GH=2,KH=14400*1e3,YH=.5;function nE(e,t=qH,r=GH){const n=t*Math.pow(r,e),a=Math.round(YH*n*(Math.random()-.5)*2);return Math.min(KH,n+a)}function da(e){return e&&e._delegate?e._delegate:e}class $s{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fc="[DEFAULT]";let ZH=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new MH;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),n=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(XH(t))try{this.getOrInitializeService({instanceIdentifier:Fc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=Fc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fc){return this.instances.has(t)}getOptions(t=Fc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&o.resolve(a)}return a}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(t),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&t(i,n),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:QH(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Fc){return this.component?this.component.multipleInstances?t:Fc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function QH(e){return e===Fc?void 0:e}function XH(e){return e.instantiationMode==="EAGER"}class JH{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new ZH(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var tr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tr||(tr={}));const eq={debug:tr.DEBUG,verbose:tr.VERBOSE,info:tr.INFO,warn:tr.WARN,error:tr.ERROR,silent:tr.SILENT},tq=tr.INFO,rq={[tr.DEBUG]:"log",[tr.VERBOSE]:"log",[tr.INFO]:"info",[tr.WARN]:"warn",[tr.ERROR]:"error"},nq=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=rq[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hx{constructor(t){this.name=t,this._logLevel=tq,this._logHandler=nq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in tr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eq[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,tr.DEBUG,...t),this._logHandler(this,tr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,tr.VERBOSE,...t),this._logHandler(this,tr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,tr.INFO,...t),this._logHandler(this,tr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,tr.WARN,...t),this._logHandler(this,tr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,tr.ERROR,...t),this._logHandler(this,tr.ERROR,...t)}}const sq=(e,t)=>t.some(r=>e instanceof r);let sE,aE;function aq(){return sE||(sE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iq(){return aE||(aE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LL=new WeakMap,U1=new WeakMap,FL=new WeakMap,cw=new WeakMap,J2=new WeakMap;function oq(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{r(Do(e.result)),a()},o=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&LL.set(r,e)}).catch(()=>{}),J2.set(t,e),t}function lq(e){if(U1.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{r(),a()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});U1.set(e,t)}let W1={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return U1.get(e);if(t==="objectStoreNames")return e.objectStoreNames||FL.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Do(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function cq(e){W1=e(W1)}function uq(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(uw(this),t,...r);return FL.set(n,t.sort?t.sort():[t]),Do(n)}:iq().includes(e)?function(...t){return e.apply(uw(this),t),Do(LL.get(this))}:function(...t){return Do(e.apply(uw(this),t))}}function dq(e){return typeof e=="function"?uq(e):(e instanceof IDBTransaction&&lq(e),sq(e,aq())?new Proxy(e,W1):e)}function Do(e){if(e instanceof IDBRequest)return oq(e);if(cw.has(e))return cw.get(e);const t=dq(e);return t!==e&&(cw.set(e,t),J2.set(t,e)),t}const uw=e=>J2.get(e);function fx(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const o=indexedDB.open(e,t),l=Do(o);return n&&o.addEventListener("upgradeneeded",u=>{n(Do(o.result),u.oldVersion,u.newVersion,Do(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),a&&u.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}function dw(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",n=>t(n.oldVersion,n)),Do(r).then(()=>{})}const hq=["get","getKey","getAll","getAllKeys","count"],fq=["put","add","delete","clear"],hw=new Map;function iE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hw.get(t))return hw.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=fq.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||hq.includes(r)))return;const i=async function(o,...l){const u=this.transaction(o,a?"readwrite":"readonly");let d=u.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),a&&u.done]))[0]};return hw.set(t,i),i}cq(e=>({...e,get:(t,r,n)=>iE(t,r)||e.get(t,r,n),has:(t,r)=>!!iE(t,r)||e.has(t,r)}));class mq{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(pq(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function pq(e){return e.getComponent()?.type==="VERSION"}const H1="@firebase/app",oE="0.14.6";const Bo=new hx("@firebase/app"),gq="@firebase/app-compat",yq="@firebase/analytics-compat",vq="@firebase/analytics",xq="@firebase/app-check-compat",bq="@firebase/app-check",wq="@firebase/auth",jq="@firebase/auth-compat",Nq="@firebase/database",Sq="@firebase/data-connect",kq="@firebase/database-compat",Cq="@firebase/functions",Aq="@firebase/functions-compat",Iq="@firebase/installations",Pq="@firebase/installations-compat",Eq="@firebase/messaging",Tq="@firebase/messaging-compat",Mq="@firebase/performance",_q="@firebase/performance-compat",Dq="@firebase/remote-config",Oq="@firebase/remote-config-compat",Rq="@firebase/storage",Lq="@firebase/storage-compat",Fq="@firebase/firestore",$q="@firebase/ai",Bq="@firebase/firestore-compat",Vq="firebase",zq="12.6.0";const q1="[DEFAULT]",Uq={[H1]:"fire-core",[gq]:"fire-core-compat",[vq]:"fire-analytics",[yq]:"fire-analytics-compat",[bq]:"fire-app-check",[xq]:"fire-app-check-compat",[wq]:"fire-auth",[jq]:"fire-auth-compat",[Nq]:"fire-rtdb",[Sq]:"fire-data-connect",[kq]:"fire-rtdb-compat",[Cq]:"fire-fn",[Aq]:"fire-fn-compat",[Iq]:"fire-iid",[Pq]:"fire-iid-compat",[Eq]:"fire-fcm",[Tq]:"fire-fcm-compat",[Mq]:"fire-perf",[_q]:"fire-perf-compat",[Dq]:"fire-rc",[Oq]:"fire-rc-compat",[Rq]:"fire-gcs",[Lq]:"fire-gcs-compat",[Fq]:"fire-fst",[Bq]:"fire-fst-compat",[$q]:"fire-vertex","fire-js":"fire-js",[Vq]:"fire-js-all"};const Dy=new Map,Wq=new Map,G1=new Map;function lE(e,t){try{e.container.addComponent(t)}catch(r){Bo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function ia(e){const t=e.name;if(G1.has(t))return Bo.debug(`There were multiple attempts to register component ${t}.`),!1;G1.set(t,e);for(const r of Dy.values())lE(r,e);for(const r of Wq.values())lE(r,e);return!0}function Xo(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function ea(e){return e==null?!1:e.settings!==void 0}const Hq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vl=new oc("app","Firebase",Hq);class qq{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vl.create("app-deleted",{appName:this._name})}}const Au=zq;function $L(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:q1,automaticDataCollectionEnabled:!0,...t},a=n.name;if(typeof a!="string"||!a)throw Vl.create("bad-app-name",{appName:String(a)});if(r||(r=ML()),!r)throw Vl.create("no-options");const i=Dy.get(a);if(i){if(Yl(r,i.options)&&Yl(n,i.config))return i;throw Vl.create("duplicate-app",{appName:a})}const o=new JH(a);for(const u of G1.values())o.addComponent(u);const l=new qq(r,n,o);return Dy.set(a,l),l}function Dm(e=q1){const t=Dy.get(e);if(!t&&e===q1&&ML())return $L();if(!t)throw Vl.create("no-app",{appName:e});return t}function as(e,t,r){let n=Uq[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const o=[`Unable to register library "${n}" with version "${t}":`];a&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bo.warn(o.join(" "));return}ia(new $s(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}const Gq="firebase-heartbeat-database",Kq=1,Jf="firebase-heartbeat-store";let fw=null;function BL(){return fw||(fw=fx(Gq,Kq,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Jf)}catch(r){console.warn(r)}}}}).catch(e=>{throw Vl.create("idb-open",{originalErrorMessage:e.message})})),fw}async function Yq(e){try{const r=(await BL()).transaction(Jf),n=await r.objectStore(Jf).get(VL(e));return await r.done,n}catch(t){if(t instanceof La)Bo.warn(t.message);else{const r=Vl.create("idb-get",{originalErrorMessage:t?.message});Bo.warn(r.message)}}}async function cE(e,t){try{const n=(await BL()).transaction(Jf,"readwrite");await n.objectStore(Jf).put(t,VL(e)),await n.done}catch(r){if(r instanceof La)Bo.warn(r.message);else{const n=Vl.create("idb-set",{originalErrorMessage:r?.message});Bo.warn(n.message)}}}function VL(e){return`${e.name}!${e.options.appId}`}const Zq=1024,Qq=30;class Xq{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new eG(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=uE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(a=>a.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>Qq){const a=tG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Bo.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uE(),{heartbeatsToSend:r,unsentEntries:n}=Jq(this._heartbeatsCache.heartbeats),a=_y(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Bo.warn(t),""}}}function uE(){return new Date().toISOString().substring(0,10)}function Jq(e,t=Zq){const r=[];let n=e.slice();for(const a of e){const i=r.find(o=>o.agent===a.agent);if(i){if(i.dates.push(a.date),dE(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),dE(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class eG{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q2()?X2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Yq(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return cE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return cE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function dE(e){return _y(JSON.stringify({version:2,heartbeats:e})).length}function tG(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}function rG(e){ia(new $s("platform-logger",t=>new mq(t),"PRIVATE")),ia(new $s("heartbeat",t=>new Xq(t),"PRIVATE")),as(H1,oE,e),as(H1,oE,"esm2020"),as("fire-js","")}rG("");var nG="firebase",sG="12.6.0";as(nG,sG,"app");const zL="@firebase/installations",eS="0.6.19";const UL=1e4,WL=`w:${eS}`,HL="FIS_v2",aG="https://firebaseinstallations.googleapis.com/v1",iG=3600*1e3,oG="installations",lG="Installations";const cG={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},hu=new oc(oG,lG,cG);function qL(e){return e instanceof La&&e.code.includes("request-failed")}function GL({projectId:e}){return`${aG}/projects/${e}/installations`}function KL(e){return{token:e.token,requestStatus:2,expiresIn:dG(e.expiresIn),creationTime:Date.now()}}async function YL(e,t){const n=(await t.json()).error;return hu.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ZL({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function uG(e,{refreshToken:t}){const r=ZL(e);return r.append("Authorization",hG(t)),r}async function QL(e){const t=await e();return t.status>=500&&t.status<600?e():t}function dG(e){return Number(e.replace("s","000"))}function hG(e){return`${HL} ${e}`}async function fG({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=GL(e),a=ZL(e),i=t.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const o={fid:r,authVersion:HL,appId:e.appId,sdkVersion:WL},l={method:"POST",headers:a,body:JSON.stringify(o)},u=await QL(()=>fetch(n,l));if(u.ok){const d=await u.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:KL(d.authToken)}}else throw await YL("Create Installation",u)}function XL(e){return new Promise(t=>{setTimeout(t,e)})}function mG(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const pG=/^[cdef][\w-]{21}$/,K1="";function gG(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=yG(e);return pG.test(r)?r:K1}catch{return K1}}function yG(e){return mG(e).substr(0,22)}function mx(e){return`${e.appName}!${e.appId}`}const JL=new Map;function e3(e,t){const r=mx(e);t3(r,t),vG(r,t)}function t3(e,t){const r=JL.get(e);if(r)for(const n of r)n(t)}function vG(e,t){const r=xG();r&&r.postMessage({key:e,fid:t}),bG()}let qc=null;function xG(){return!qc&&"BroadcastChannel"in self&&(qc=new BroadcastChannel("[Firebase] FID Change"),qc.onmessage=e=>{t3(e.data.key,e.data.fid)}),qc}function bG(){JL.size===0&&qc&&(qc.close(),qc=null)}const wG="firebase-installations-database",jG=1,fu="firebase-installations-store";let mw=null;function tS(){return mw||(mw=fx(wG,jG,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(fu)}}})),mw}async function Oy(e,t){const r=mx(e),a=(await tS()).transaction(fu,"readwrite"),i=a.objectStore(fu),o=await i.get(r);return await i.put(t,r),await a.done,(!o||o.fid!==t.fid)&&e3(e,t.fid),t}async function r3(e){const t=mx(e),n=(await tS()).transaction(fu,"readwrite");await n.objectStore(fu).delete(t),await n.done}async function px(e,t){const r=mx(e),a=(await tS()).transaction(fu,"readwrite"),i=a.objectStore(fu),o=await i.get(r),l=t(o);return l===void 0?await i.delete(r):await i.put(l,r),await a.done,l&&(!o||o.fid!==l.fid)&&e3(e,l.fid),l}async function rS(e){let t;const r=await px(e.appConfig,n=>{const a=NG(n),i=SG(e,a);return t=i.registrationPromise,i.installationEntry});return r.fid===K1?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function NG(e){const t=e||{fid:gG(),registrationStatus:0};return n3(t)}function SG(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(hu.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=kG(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:CG(e)}:{installationEntry:t}}async function kG(e,t){try{const r=await fG(e,t);return Oy(e.appConfig,r)}catch(r){throw qL(r)&&r.customData.serverCode===409?await r3(e.appConfig):await Oy(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function CG(e){let t=await hE(e.appConfig);for(;t.registrationStatus===1;)await XL(100),t=await hE(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await rS(e);return n||r}return t}function hE(e){return px(e,t=>{if(!t)throw hu.create("installation-not-found");return n3(t)})}function n3(e){return AG(e)?{fid:e.fid,registrationStatus:0}:e}function AG(e){return e.registrationStatus===1&&e.registrationTime+UL<Date.now()}async function IG({appConfig:e,heartbeatServiceProvider:t},r){const n=PG(e,r),a=uG(e,r),i=t.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const o={installation:{sdkVersion:WL,appId:e.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},u=await QL(()=>fetch(n,l));if(u.ok){const d=await u.json();return KL(d)}else throw await YL("Generate Auth Token",u)}function PG(e,{fid:t}){return`${GL(e)}/${t}/authTokens:generate`}async function nS(e,t=!1){let r;const n=await px(e.appConfig,i=>{if(!s3(i))throw hu.create("not-registered");const o=i.authToken;if(!t&&MG(o))return i;if(o.requestStatus===1)return r=EG(e,t),i;{if(!navigator.onLine)throw hu.create("app-offline");const l=DG(i);return r=TG(e,l),l}});return r?await r:n.authToken}async function EG(e,t){let r=await fE(e.appConfig);for(;r.authToken.requestStatus===1;)await XL(100),r=await fE(e.appConfig);const n=r.authToken;return n.requestStatus===0?nS(e,t):n}function fE(e){return px(e,t=>{if(!s3(t))throw hu.create("not-registered");const r=t.authToken;return OG(r)?{...t,authToken:{requestStatus:0}}:t})}async function TG(e,t){try{const r=await IG(e,t),n={...t,authToken:r};return await Oy(e.appConfig,n),r}catch(r){if(qL(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await r3(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await Oy(e.appConfig,n)}throw r}}function s3(e){return e!==void 0&&e.registrationStatus===2}function MG(e){return e.requestStatus===2&&!_G(e)}function _G(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+iG}function DG(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function OG(e){return e.requestStatus===1&&e.requestTime+UL<Date.now()}async function RG(e){const t=e,{installationEntry:r,registrationPromise:n}=await rS(t);return n?n.catch(console.error):nS(t).catch(console.error),r.fid}async function LG(e,t=!1){const r=e;return await FG(r),(await nS(r,t)).token}async function FG(e){const{registrationPromise:t}=await rS(e);t&&await t}function $G(e){if(!e||!e.options)throw pw("App Configuration");if(!e.name)throw pw("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw pw(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function pw(e){return hu.create("missing-app-config-values",{valueName:e})}const a3="installations",BG="installations-internal",VG=e=>{const t=e.getProvider("app").getImmediate(),r=$G(t),n=Xo(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},zG=e=>{const t=e.getProvider("app").getImmediate(),r=Xo(t,a3).getImmediate();return{getId:()=>RG(r),getToken:a=>LG(r,a)}};function UG(){ia(new $s(a3,VG,"PUBLIC")),ia(new $s(BG,zG,"PRIVATE"))}UG();as(zL,eS);as(zL,eS,"esm2020");const Ry="analytics",WG="firebase_id",HG="origin",qG=60*1e3,GG="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sS="https://www.googletagmanager.com/gtag/js";const vs=new hx("@firebase/analytics");const KG={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},na=new oc("analytics","Analytics",KG);function YG(e){if(!e.startsWith(sS)){const t=na.create("invalid-gtag-resource",{gtagURL:e});return vs.warn(t.message),""}return e}function i3(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function ZG(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function QG(e,t){const r=ZG("firebase-js-sdk-policy",{createScriptURL:YG}),n=document.createElement("script"),a=`${sS}?l=${e}&id=${t}`;n.src=r?r?.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function XG(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function JG(e,t,r,n,a,i){const o=n[a];try{if(o)await t[o];else{const u=(await i3(r)).find(d=>d.measurementId===a);u&&await t[u.appId]}}catch(l){vs.error(l)}e("config",a,i)}async function eK(e,t,r,n,a){try{let i=[];if(a&&a.send_to){let o=a.send_to;Array.isArray(o)||(o=[o]);const l=await i3(r);for(const u of o){const d=l.find(m=>m.measurementId===u),f=d&&t[d.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",n,a||{})}catch(i){vs.error(i)}}function tK(e,t,r,n){async function a(i,...o){try{if(i==="event"){const[l,u]=o;await eK(e,t,r,l,u)}else if(i==="config"){const[l,u]=o;await JG(e,t,r,n,l,u)}else if(i==="consent"){const[l,u]=o;e("consent",l,u)}else if(i==="get"){const[l,u,d]=o;e("get",l,u,d)}else if(i==="set"){const[l]=o;e("set",l)}else e(i,...o)}catch(l){vs.error(l)}}return a}function rK(e,t,r,n,a){let i=function(...o){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=tK(i,e,t,r),{gtagCore:i,wrappedGtag:window[a]}}function nK(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(sS)&&r.src.includes(e))return r;return null}const sK=30,aK=1e3;class iK{constructor(t={},r=aK){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const o3=new iK;function oK(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function lK(e){const{appId:t,apiKey:r}=e,n={method:"GET",headers:oK(r)},a=GG.replace("{app-id}",t),i=await fetch(a,n);if(i.status!==200&&i.status!==304){let o="";try{const l=await i.json();l.error?.message&&(o=l.error.message)}catch{}throw na.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function cK(e,t=o3,r){const{appId:n,apiKey:a,measurementId:i}=e.options;if(!n)throw na.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:n};throw na.create("no-api-key")}const o=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new hK;return setTimeout(async()=>{l.abort()},qG),l3({appId:n,apiKey:a,measurementId:i},o,l,t)}async function l3(e,{throttleEndTimeMillis:t,backoffCount:r},n,a=o3){const{appId:i,measurementId:o}=e;try{await uK(n,t)}catch(l){if(o)return vs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:i,measurementId:o};throw l}try{const l=await lK(e);return a.deleteThrottleMetadata(i),l}catch(l){const u=l;if(!dK(u)){if(a.deleteThrottleMetadata(i),o)return vs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:i,measurementId:o};throw l}const d=Number(u?.customData?.httpStatus)===503?nE(r,a.intervalMillis,sK):nE(r,a.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:r+1};return a.setThrottleMetadata(i,f),vs.debug(`Calling attemptFetch again in ${d} millis`),l3(e,f,n,a)}}function uK(e,t){return new Promise((r,n)=>{const a=Math.max(t-Date.now(),0),i=setTimeout(r,a);e.addEventListener(()=>{clearTimeout(i),n(na.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function dK(e){if(!(e instanceof La)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class hK{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function fK(e,t,r,n,a){if(a&&a.global){e("event",r,n);return}else{const i=await t,o={...n,send_to:i};e("event",r,o)}}async function mK(e,t,r,n){if(n&&n.global){const a={};for(const i of Object.keys(r))a[`user_properties.${i}`]=r[i];return e("set",a),Promise.resolve()}else{const a=await t;e("config",a,{update:!0,user_properties:r})}}async function pK(){if(Q2())try{await X2()}catch(e){return vs.warn(na.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return vs.warn(na.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gK(e,t,r,n,a,i,o){const l=cK(e);l.then(p=>{r[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&vs.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>vs.error(p)),t.push(l);const u=pK().then(p=>{if(p)return n.getId()}),[d,f]=await Promise.all([l,u]);nK(i)||QG(i,d.measurementId),a("js",new Date);const m=o?.config??{};return m[HG]="firebase",m.update=!0,f!=null&&(m[WG]=f),a("config",d.measurementId,m),d.measurementId}class yK{constructor(t){this.app=t}_delete(){return delete _d[this.app.options.appId],Promise.resolve()}}let _d={},mE=[];const pE={};let gw="dataLayer",vK="gtag",gE,aS,yE=!1;function xK(){const e=[];if(OL()&&e.push("This is a browser extension environment."),RL()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,a)=>`(${a+1}) ${n}`).join(" "),r=na.create("invalid-analytics-context",{errorInfo:t});vs.warn(r.message)}}function bK(e,t,r){xK();const n=e.options.appId;if(!n)throw na.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)vs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw na.create("no-api-key");if(_d[n]!=null)throw na.create("already-exists",{id:n});if(!yE){XG(gw);const{wrappedGtag:i,gtagCore:o}=rK(_d,mE,pE,gw,vK);aS=i,gE=o,yE=!0}return _d[n]=gK(e,mE,pE,t,gE,gw,r),new yK(e)}function wK(e=Dm()){e=da(e);const t=Xo(e,Ry);return t.isInitialized()?t.getImmediate():jK(e)}function jK(e,t={}){const r=Xo(e,Ry);if(r.isInitialized()){const a=r.getImmediate();if(Yl(t,r.getOptions()))return a;throw na.create("already-initialized")}return r.initialize({options:t})}function NK(e,t,r){e=da(e),mK(aS,_d[e.app.options.appId],t,r).catch(n=>vs.error(n))}function c3(e,t,r,n){e=da(e),fK(aS,_d[e.app.options.appId],t,r,n).catch(a=>vs.error(a))}const vE="@firebase/analytics",xE="0.10.19";function SK(){ia(new $s(Ry,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return bK(n,a,r)},"PUBLIC")),ia(new $s("analytics-internal",e,"PRIVATE")),as(vE,xE),as(vE,xE,"esm2020");function e(t){try{const r=t.getProvider(Ry).getImmediate();return{logEvent:(n,a,i)=>c3(r,n,a,i),setUserProperties:(n,a)=>NK(r,n,a)}}catch(r){throw na.create("interop-component-reg-failed",{reason:r})}}}SK();function u3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kK=u3,d3=new oc("auth","Firebase",u3());const Ly=new hx("@firebase/auth");function CK(e,...t){Ly.logLevel<=tr.WARN&&Ly.warn(`Auth (${Au}): ${e}`,...t)}function fy(e,...t){Ly.logLevel<=tr.ERROR&&Ly.error(`Auth (${Au}): ${e}`,...t)}function Yi(e,...t){throw oS(e,...t)}function li(e,...t){return oS(e,...t)}function iS(e,t,r){const n={...kK(),[t]:r};return new oc("auth","Firebase",n).create(t,{appName:e.name})}function zl(e){return iS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h3(e,t,r){const n=r;if(!(t instanceof n))throw n.name!==t.constructor.name&&Yi(e,"argument-error"),iS(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oS(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return d3.create(e,...t)}function St(e,t,...r){if(!e)throw oS(t,...r)}function Po(e){const t="INTERNAL ASSERTION FAILED: "+e;throw fy(t),new Error(t)}function Vo(e,t){e||Po(t)}function Y1(){return typeof self<"u"&&self.location?.href||""}function AK(){return bE()==="http:"||bE()==="https:"}function bE(){return typeof self<"u"&&self.location?.protocol||null}function IK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AK()||OL()||"connection"in navigator)?navigator.onLine:!0}function PK(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class Om{constructor(t,r){this.shortDelay=t,this.longDelay=r,Vo(r>t,"Short delay should be less than long delay!"),this.isMobile=OH()||LH()}get(){return IK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lS(e,t){Vo(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class f3{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Po("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Po("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Po("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const TK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MK=new Om(3e4,6e4);function cS(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function lh(e,t,r,n,a={}){return m3(e,a,async()=>{let i={},o={};n&&(t==="GET"?o=n:i={body:JSON.stringify(n)});const l=_m({key:e.config.apiKey,...o}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const d={method:t,headers:u,...i};return RH()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&oh(e.emulatorConfig.host)&&(d.credentials="include"),f3.fetch()(await p3(e,e.config.apiHost,r,l),d)})}async function m3(e,t,r){e._canInitEmulator=!1;const n={...EK,...t};try{const a=new DK(e),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Tg(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tg(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Tg(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw Tg(e,"user-disabled",o);const f=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw iS(e,f,d);Yi(e,f)}}catch(a){if(a instanceof La)throw a;Yi(e,"network-request-failed",{message:String(a)})}}async function _K(e,t,r,n,a={}){const i=await lh(e,t,r,n,a);return"mfaPendingCredential"in i&&Yi(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function p3(e,t,r,n){const a=`${t}${r}?${n}`,i=e,o=i.config.emulator?lS(e.config,a):`${e.config.apiScheme}://${a}`;return TK.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class DK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(li(this.auth,"network-request-failed")),MK.get())})}}function Tg(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=li(e,t,n);return a.customData._tokenResponse=r,a}async function OK(e,t){return lh(e,"POST","/v1/accounts:delete",t)}async function Fy(e,t){return lh(e,"POST","/v1/accounts:lookup",t)}function $f(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function RK(e,t=!1){const r=da(e),n=await r.getIdToken(t),a=uS(n);St(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,o=i?.sign_in_provider;return{claims:a,token:n,authTime:$f(yw(a.auth_time)),issuedAtTime:$f(yw(a.iat)),expirationTime:$f(yw(a.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function yw(e){return Number(e)*1e3}function uS(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return fy("JWT malformed, contained fewer than 3 sections"),null;try{const a=PL(r);return a?JSON.parse(a):(fy("Failed to decode base64 JWT payload"),null)}catch(a){return fy("Caught error parsing JWT payload as JSON",a?.toString()),null}}function wE(e){const t=uS(e);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function em(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof La&&LK(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function LK({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class FK{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Z1{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=$f(this.lastLoginAt),this.creationTime=$f(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $y(e){const t=e.auth,r=await e.getIdToken(),n=await em(e,Fy(t,{idToken:r}));St(n?.users.length,t,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const i=a.providerUserInfo?.length?g3(a.providerUserInfo):[],o=BK(e.providerData,i),l=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!o?.length,d=l?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Z1(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(e,f)}async function $K(e){const t=da(e);await $y(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function BK(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function g3(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function VK(e,t){const r=await m3(e,{},async()=>{const n=_m({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:i}=e.config,o=await p3(e,a,"/v1/token",`key=${i}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:n};return e.emulatorConfig&&oh(e.emulatorConfig.host)&&(u.credentials="include"),f3.fetch()(o,u)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function zK(e,t){return lh(e,"POST","/v2/accounts:revokeToken",cS(e,t))}class Dd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){St(t.length!==0,"internal-error");const r=wE(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await VK(t,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,o=new Dd;return n&&(St(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),a&&(St(typeof a=="string","internal-error",{appName:t}),o.accessToken=a),i&&(St(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Dd,this.toJSON())}_performRefresh(){return Po("not implemented")}}function kl(e,t){St(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new FK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Z1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await em(this,this.stsTokenManager.getToken(this.auth,t));return St(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return RK(this,t)}reload(){return $K(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await $y(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ea(this.auth.app))return Promise.reject(zl(this.auth));const t=await this.getIdToken();return await em(this,OK(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,a=r.email??void 0,i=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,u=r._redirectEventId??void 0,d=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:v,providerData:x,stsTokenManager:j}=r;St(m&&j,t,"internal-error");const w=Dd.fromJSON(this.name,j);St(typeof m=="string",t,"internal-error"),kl(n,t.name),kl(a,t.name),St(typeof p=="boolean",t,"internal-error"),St(typeof v=="boolean",t,"internal-error"),kl(i,t.name),kl(o,t.name),kl(l,t.name),kl(u,t.name),kl(d,t.name),kl(f,t.name);const S=new ai({uid:m,auth:t,email:a,emailVerified:p,displayName:n,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:w,createdAt:d,lastLoginAt:f});return x&&Array.isArray(x)&&(S.providerData=x.map(P=>({...P}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(t,r,n=!1){const a=new Dd;a.updateFromServerResponse(r);const i=new ai({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await $y(i),i}static async _fromGetAccountInfoResponse(t,r,n){const a=r.users[0];St(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?g3(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!i?.length,l=new Dd;l.updateFromIdToken(n);const u=new ai({uid:a.localId,auth:t,stsTokenManager:l,isAnonymous:o}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new Z1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!i?.length};return Object.assign(u,d),u}}const jE=new Map;function Eo(e){Vo(e instanceof Function,"Expected a class definition");let t=jE.get(e);return t?(Vo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,jE.set(e,t),t)}class y3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}y3.type="NONE";const NE=y3;function my(e,t,r){return`firebase:${e}:${t}:${r}`}class Od{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=my(this.userKey,a.apiKey,i),this.fullPersistenceKey=my("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await Fy(this.auth,{idToken:t}).catch(()=>{});return r?ai._fromGetAccountInfoResponse(this.auth,r,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Od(Eo(NE),t,n);const a=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=a[0]||Eo(NE);const o=my(n,t.config.apiKey,t.name);let l=null;for(const d of r)try{const f=await d._get(o);if(f){let m;if(typeof f=="string"){const p=await Fy(t,{idToken:f}).catch(()=>{});if(!p)break;m=await ai._fromGetAccountInfoResponse(t,p,f)}else m=ai._fromJSON(t,f);d!==i&&(l=m),i=d;break}}catch{}const u=a.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Od(i,t,n):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Od(i,t,n))}}function SE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(w3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(v3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(N3(t))return"Blackberry";if(S3(t))return"Webos";if(x3(t))return"Safari";if((t.includes("chrome/")||b3(t))&&!t.includes("edge/"))return"Chrome";if(j3(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if(n?.length===2)return n[1]}return"Other"}function v3(e=xs()){return/firefox\//i.test(e)}function x3(e=xs()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function b3(e=xs()){return/crios\//i.test(e)}function w3(e=xs()){return/iemobile/i.test(e)}function j3(e=xs()){return/android/i.test(e)}function N3(e=xs()){return/blackberry/i.test(e)}function S3(e=xs()){return/webos/i.test(e)}function dS(e=xs()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function UK(e=xs()){return dS(e)&&!!window.navigator?.standalone}function WK(){return FH()&&document.documentMode===10}function k3(e=xs()){return dS(e)||j3(e)||S3(e)||N3(e)||/windows phone/i.test(e)||w3(e)}function C3(e,t=[]){let r;switch(e){case"Browser":r=SE(xs());break;case"Worker":r=`${SE(xs())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Au}/${n}`}class HK{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=i=>new Promise((o,l)=>{try{const u=t(i);o(u)}catch(u){l(u)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function qK(e,t={}){return lh(e,"GET","/v2/passwordPolicy",cS(e,t))}const GK=6;class KK{constructor(t){const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??GK,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}class YK{constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kE(this),this.idTokenSubscription=new kE(this),this.beforeStateQueue=new HK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Eo(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Od.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Fy(this,{idToken:t}),n=await ai._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ea(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=n?._redirectEventId,l=await this.tryRedirectSignIn(t);(!i||i===o)&&l?.user&&(n=l.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(i){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await $y(t)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PK()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ea(this.app))return Promise.reject(zl(this));const r=t?da(t):null;return r&&St(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ea(this.app)?Promise.reject(zl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ea(this.app)?Promise.reject(zl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Eo(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qK(this),r=new KK(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new oc("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await zK(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Eo(t)||this._popupRedirectResolver;St(r,this,"argument-error"),this.redirectPersistenceManager=await Od.create(this,[Eo(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const u=t.addObserver(r,n,a);return()=>{o=!0,u()}}else{const u=t.addObserver(r);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=C3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){if(ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&CK(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Rm(e){return da(e)}class kE{constructor(t){this.auth=t,this.observer=null,this.addObserver=UH(r=>this.observer=r)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZK(e){hS=e}function QK(e){return hS.loadJS(e)}function XK(){return hS.gapiScript}function JK(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function eY(e,t){const r=Xo(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(Yl(i,t??{}))return a;Yi(a,"already-initialized")}return r.initialize({options:t})}function tY(e,t){const r=t?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Eo);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t?.popupRedirectResolver)}function rY(e,t,r){const n=Rm(e);St(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,i=A3(t),{host:o,port:l}=nY(t),u=l===null?"":`:${l}`,d={url:`${i}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){St(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),St(Yl(d,n.config.emulator)&&Yl(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,oh(o)?(Y2(`${i}//${o}${u}`),Z2("Auth",!0)):sY()}function A3(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nY(e){const t=A3(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:CE(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:CE(o)}}}function CE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function sY(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class I3{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Po("not implemented")}_getIdTokenResponse(t){return Po("not implemented")}_linkToIdToken(t,r){return Po("not implemented")}_getReauthenticationResolver(t){return Po("not implemented")}}async function Rd(e,t){return _K(e,"POST","/v1/accounts:signInWithIdp",cS(e,t))}const aY="http://localhost";class mu extends I3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new mu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Yi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a,...i}=r;if(!n||!a)return null;const o=new mu(n,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return Rd(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Rd(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Rd(t,r)}buildRequest(){const t={requestUri:aY,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=_m(r)}return t}}class gx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Lm extends gx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Rl extends Lm{constructor(){super("facebook.com")}static credential(t){return mu._fromParams({providerId:Rl.PROVIDER_ID,signInMethod:Rl.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rl.credentialFromTaggedObject(t)}static credentialFromError(t){return Rl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rl.credential(t.oauthAccessToken)}catch{return null}}}Rl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rl.PROVIDER_ID="facebook.com";class ei extends Lm{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return mu._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return ei.credentialFromTaggedObject(t)}static credentialFromError(t){return ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return ei.credential(r,n)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";class Ll extends Lm{constructor(){super("github.com")}static credential(t){return mu._fromParams({providerId:Ll.PROVIDER_ID,signInMethod:Ll.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ll.credentialFromTaggedObject(t)}static credentialFromError(t){return Ll.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ll.credential(t.oauthAccessToken)}catch{return null}}}Ll.GITHUB_SIGN_IN_METHOD="github.com";Ll.PROVIDER_ID="github.com";class Fl extends Lm{constructor(){super("twitter.com")}static credential(t,r){return mu._fromParams({providerId:Fl.PROVIDER_ID,signInMethod:Fl.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Fl.credentialFromTaggedObject(t)}static credentialFromError(t){return Fl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Fl.credential(r,n)}catch{return null}}}Fl.TWITTER_SIGN_IN_METHOD="twitter.com";Fl.PROVIDER_ID="twitter.com";class Ud{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const i=await ai._fromIdTokenResponse(t,n,a),o=AE(n);return new Ud({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=AE(n);return new Ud({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function AE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class By extends La{constructor(t,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,By.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new By(t,r,n,a)}}function P3(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?By._fromErrorAndOperation(e,i,t,n):i})}async function iY(e,t,r=!1){const n=await em(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Ud._forOperation(e,"link",n)}async function oY(e,t,r=!1){const{auth:n}=e;if(ea(n.app))return Promise.reject(zl(n));const a="reauthenticate";try{const i=await em(e,P3(n,a,t,e),r);St(i.idToken,n,"internal-error");const o=uS(i.idToken);St(o,n,"internal-error");const{sub:l}=o;return St(e.uid===l,n,"user-mismatch"),Ud._forOperation(e,a,i)}catch(i){throw i?.code==="auth/user-not-found"&&Yi(n,"user-mismatch"),i}}async function lY(e,t,r=!1){if(ea(e.app))return Promise.reject(zl(e));const n="signIn",a=await P3(e,n,t),i=await Ud._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(i.user),i}function cY(e,t,r,n){return da(e).onIdTokenChanged(t,r,n)}function uY(e,t,r){return da(e).beforeAuthStateChanged(t,r)}const Vy="__sak";class E3{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Vy,"1"),this.storage.removeItem(Vy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const dY=1e3,hY=10;class T3 extends E3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const n=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);WK()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,hY):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},dY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}T3.type="LOCAL";const fY=T3;class M3 extends E3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}M3.type="SESSION";const _3=M3;function mY(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}class yx{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new yx(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:i}=r.data,o=this.handlersMap[a];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const l=Array.from(o).map(async d=>d(r.origin,i)),u=await mY(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:u})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yx.receivers=[];function fS(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}class pY{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const d=fS("",20);a.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:a,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:r},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Wi(){return window}function gY(e){Wi().location.href=e}function D3(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function yY(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vY(){return navigator?.serviceWorker?.controller||null}function xY(){return D3()?self:null}const O3="firebaseLocalStorageDb",bY=1,zy="firebaseLocalStorage",R3="fbase_key";class Fm{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function vx(e,t){return e.transaction([zy],t?"readwrite":"readonly").objectStore(zy)}function wY(){const e=indexedDB.deleteDatabase(O3);return new Fm(e).toPromise()}function Q1(){const e=indexedDB.open(O3,bY);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(zy,{keyPath:R3})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(zy)?t(n):(n.close(),await wY(),t(await Q1()))})})}async function IE(e,t,r){const n=vx(e,!0).put({[R3]:t,value:r});return new Fm(n).toPromise()}async function jY(e,t){const r=vx(e,!1).get(t),n=await new Fm(r).toPromise();return n===void 0?null:n.value}function PE(e,t){const r=vx(e,!0).delete(t);return new Fm(r).toPromise()}const NY=800,SY=3;class L3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Q1(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>SY)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yx._getInstance(xY()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yY(),!this.activeServiceWorker)return;this.sender=new pY(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Q1();return await IE(t,Vy,"1"),await PE(t,Vy),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>IE(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>jY(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>PE(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const i=vx(a,!1).getAll();return new Fm(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:a,value:i}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L3.type="LOCAL";const kY=L3;new Om(3e4,6e4);function mS(e,t){return t?Eo(t):(St(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class pS extends I3{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Rd(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Rd(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Rd(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function CY(e){return lY(e.auth,new pS(e),e.bypassAuthState)}function AY(e){const{auth:t,user:r}=e;return St(r,t,"internal-error"),oY(r,new pS(e),e.bypassAuthState)}async function IY(e){const{auth:t,user:r}=e;return St(r,t,"internal-error"),iY(r,new pS(e),e.bypassAuthState)}class F3{constructor(t,r,n,a,i=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:o,type:l}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return CY;case"linkViaPopup":case"linkViaRedirect":return IY;case"reauthViaPopup":case"reauthViaRedirect":return AY;default:Yi(this.auth,"internal-error")}}resolve(t){Vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PY=new Om(2e3,1e4);async function $3(e,t,r){if(ea(e.app))return Promise.reject(li(e,"operation-not-supported-in-this-environment"));const n=Rm(e);h3(e,t,gx);const a=mS(n,r);return new Gc(n,"signInViaPopup",t,a).executeNotNull()}class Gc extends F3{constructor(t,r,n,a,i){super(t,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,Gc.currentPopupAction&&Gc.currentPopupAction.cancel(),Gc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Vo(this.filter.length===1,"Popup operations only handle one event");const t=fS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gc.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,PY.get())};t()}}Gc.currentPopupAction=null;const EY="pendingRedirect",py=new Map;class TY extends F3{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=py.get(this.auth._key());if(!t){try{const n=await MY(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}py.set(this.auth._key(),t)}return this.bypassAuthState||py.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MY(e,t){const r=V3(t),n=B3(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}async function _Y(e,t){return B3(e)._set(V3(t),"true")}function DY(e,t){py.set(e._key(),t)}function B3(e){return Eo(e._redirectPersistence)}function V3(e){return my(EY,e.config.apiKey,e.name)}function z3(e,t,r){return OY(e,t,r)}async function OY(e,t,r){if(ea(e.app))return Promise.reject(zl(e));const n=Rm(e);h3(e,t,gx),await n._initializationPromise;const a=mS(n,r);return await _Y(a,n),a._openRedirect(n,t,"signInViaRedirect")}async function RY(e,t,r=!1){if(ea(e.app))return Promise.reject(zl(e));const n=Rm(e),a=mS(n,t),o=await new TY(n,a,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}const LY=600*1e3;class FY{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$Y(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){if(t.error&&!U3(t)){const n=t.error.code?.split("auth/")[1]||"internal-error";r.onError(li(this.auth,n))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=LY&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(t))}saveEventToCache(t){this.cachedEventUids.add(EE(t)),this.lastProcessedEventTime=Date.now()}}function EE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function U3({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function $Y(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U3(e);default:return!1}}async function BY(e,t={}){return lh(e,"GET","/v1/projects",t)}const VY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zY=/^https?/;async function UY(e){if(e.config.emulator)return;const{authorizedDomains:t}=await BY(e);for(const r of t)try{if(WY(r))return}catch{}Yi(e,"unauthorized-domain")}function WY(e){const t=Y1(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!zY.test(r))return!1;if(VY.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}const HY=new Om(3e4,6e4);function TE(){const e=Wi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function qY(e){return new Promise((t,r)=>{function n(){TE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{TE(),r(li(e,"network-request-failed"))},timeout:HY.get()})}if(Wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Wi().gapi?.load)n();else{const a=JK("iframefcb");return Wi()[a]=()=>{gapi.load?n():r(li(e,"network-request-failed"))},QK(`${XK()}?onload=${a}`).catch(i=>r(i))}}).catch(t=>{throw gy=null,t})}let gy=null;function GY(e){return gy=gy||qY(e),gy}const KY=new Om(5e3,15e3),YY="__/auth/iframe",ZY="emulator/auth/iframe",QY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JY(e){const t=e.config;St(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?lS(t,ZY):`https://${e.config.authDomain}/${YY}`,n={apiKey:t.apiKey,appName:e.name,v:Au},a=XY.get(e.config.apiHost);a&&(n.eid=a);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${_m(n).slice(1)}`}async function eZ(e){const t=await GY(e),r=Wi().gapi;return St(r,e,"internal-error"),t.open({where:document.body,url:JY(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QY,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const o=li(e,"network-request-failed"),l=Wi().setTimeout(()=>{i(o)},KY.get());function u(){Wi().clearTimeout(l),a(n)}n.ping(u).then(u,()=>{i(o)})}))}const tZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rZ=500,nZ=600,sZ="_blank",aZ="http://localhost";class ME{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iZ(e,t,r,n=rZ,a=nZ){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const u={...tZ,width:n.toString(),height:a.toString(),top:i,left:o},d=xs().toLowerCase();r&&(l=b3(d)?sZ:r),v3(d)&&(t=t||aZ,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[v,x])=>`${p}${v}=${x},`,"");if(UK(d)&&l!=="_self")return oZ(t||"",l),new ME(null);const m=window.open(t||"",l,f);St(m,e,"popup-blocked");try{m.focus()}catch{}return new ME(m)}function oZ(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}const lZ="__/auth/handler",cZ="emulator/auth/handler",uZ=encodeURIComponent("fac");async function _E(e,t,r,n,a,i){St(e.config.authDomain,e,"auth-domain-config-required"),St(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Au,eventId:a};if(t instanceof gx){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",zH(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(t instanceof Lm){const f=t.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await e._getAppCheckToken(),d=u?`#${uZ}=${encodeURIComponent(u)}`:"";return`${dZ(e)}?${_m(l).slice(1)}${d}`}function dZ({config:e}){return e.emulator?lS(e,cZ):`https://${e.authDomain}/${lZ}`}const vw="webStorageSupport";class hZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_3,this._completeRedirectFn=RY,this._overrideRedirectResult=DY}async _openPopup(t,r,n,a){Vo(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const i=await _E(t,r,n,Y1(),a);return iZ(t,i,fS())}async _openRedirect(t,r,n,a){await this._originValidation(t);const i=await _E(t,r,n,Y1(),a);return gY(i),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(Vo(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await eZ(t),n=new FY(t);return r.register("authEvent",a=>(St(a?.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(vw,{type:vw},a=>{const i=a?.[0]?.[vw];i!==void 0&&r(!!i),Yi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=UY(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return k3()||x3()||dS()}}const fZ=hZ;var DE="@firebase/auth",OE="1.11.1";class mZ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pZ(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gZ(e){ia(new $s("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;St(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C3(e)},d=new YK(n,a,i,u);return tY(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),ia(new $s("auth-internal",t=>{const r=Rm(t.getProvider("auth").getImmediate());return(n=>new mZ(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(DE,OE,pZ(e)),as(DE,OE,"esm2020")}const yZ=300,vZ=_L("authIdTokenMaxAge")||yZ;let RE=null;const xZ=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>vZ)return;const a=r?.token;RE!==a&&(RE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function bZ(e=Dm()){const t=Xo(e,"auth");if(t.isInitialized())return t.getImmediate();const r=eY(e,{popupRedirectResolver:fZ,persistence:[kY,fY,_3]}),n=_L("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=xZ(i.toString());uY(r,o,()=>o(r.currentUser)),cY(r,l=>o(l))}}const a=EL("auth");return a&&rY(r,`http://${a}`),r}function wZ(){return document.getElementsByTagName("head")?.[0]??document}ZK({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const i=li("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",wZ().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gZ("Browser");var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gS;(function(){var e;function t(E,C){function F(){}F.prototype=C.prototype,E.F=C.prototype,E.prototype=new F,E.prototype.constructor=E,E.D=function(_,T,M){for(var $=Array(arguments.length-2),J=2;J<arguments.length;J++)$[J-2]=arguments[J];return C.prototype[T].apply(_,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(E,C,F){F||(F=0);const _=Array(16);if(typeof C=="string")for(var T=0;T<16;++T)_[T]=C.charCodeAt(F++)|C.charCodeAt(F++)<<8|C.charCodeAt(F++)<<16|C.charCodeAt(F++)<<24;else for(T=0;T<16;++T)_[T]=C[F++]|C[F++]<<8|C[F++]<<16|C[F++]<<24;C=E.g[0],F=E.g[1],T=E.g[2];let M=E.g[3],$;$=C+(M^F&(T^M))+_[0]+3614090360&4294967295,C=F+($<<7&4294967295|$>>>25),$=M+(T^C&(F^T))+_[1]+3905402710&4294967295,M=C+($<<12&4294967295|$>>>20),$=T+(F^M&(C^F))+_[2]+606105819&4294967295,T=M+($<<17&4294967295|$>>>15),$=F+(C^T&(M^C))+_[3]+3250441966&4294967295,F=T+($<<22&4294967295|$>>>10),$=C+(M^F&(T^M))+_[4]+4118548399&4294967295,C=F+($<<7&4294967295|$>>>25),$=M+(T^C&(F^T))+_[5]+1200080426&4294967295,M=C+($<<12&4294967295|$>>>20),$=T+(F^M&(C^F))+_[6]+2821735955&4294967295,T=M+($<<17&4294967295|$>>>15),$=F+(C^T&(M^C))+_[7]+4249261313&4294967295,F=T+($<<22&4294967295|$>>>10),$=C+(M^F&(T^M))+_[8]+1770035416&4294967295,C=F+($<<7&4294967295|$>>>25),$=M+(T^C&(F^T))+_[9]+2336552879&4294967295,M=C+($<<12&4294967295|$>>>20),$=T+(F^M&(C^F))+_[10]+4294925233&4294967295,T=M+($<<17&4294967295|$>>>15),$=F+(C^T&(M^C))+_[11]+2304563134&4294967295,F=T+($<<22&4294967295|$>>>10),$=C+(M^F&(T^M))+_[12]+1804603682&4294967295,C=F+($<<7&4294967295|$>>>25),$=M+(T^C&(F^T))+_[13]+4254626195&4294967295,M=C+($<<12&4294967295|$>>>20),$=T+(F^M&(C^F))+_[14]+2792965006&4294967295,T=M+($<<17&4294967295|$>>>15),$=F+(C^T&(M^C))+_[15]+1236535329&4294967295,F=T+($<<22&4294967295|$>>>10),$=C+(T^M&(F^T))+_[1]+4129170786&4294967295,C=F+($<<5&4294967295|$>>>27),$=M+(F^T&(C^F))+_[6]+3225465664&4294967295,M=C+($<<9&4294967295|$>>>23),$=T+(C^F&(M^C))+_[11]+643717713&4294967295,T=M+($<<14&4294967295|$>>>18),$=F+(M^C&(T^M))+_[0]+3921069994&4294967295,F=T+($<<20&4294967295|$>>>12),$=C+(T^M&(F^T))+_[5]+3593408605&4294967295,C=F+($<<5&4294967295|$>>>27),$=M+(F^T&(C^F))+_[10]+38016083&4294967295,M=C+($<<9&4294967295|$>>>23),$=T+(C^F&(M^C))+_[15]+3634488961&4294967295,T=M+($<<14&4294967295|$>>>18),$=F+(M^C&(T^M))+_[4]+3889429448&4294967295,F=T+($<<20&4294967295|$>>>12),$=C+(T^M&(F^T))+_[9]+568446438&4294967295,C=F+($<<5&4294967295|$>>>27),$=M+(F^T&(C^F))+_[14]+3275163606&4294967295,M=C+($<<9&4294967295|$>>>23),$=T+(C^F&(M^C))+_[3]+4107603335&4294967295,T=M+($<<14&4294967295|$>>>18),$=F+(M^C&(T^M))+_[8]+1163531501&4294967295,F=T+($<<20&4294967295|$>>>12),$=C+(T^M&(F^T))+_[13]+2850285829&4294967295,C=F+($<<5&4294967295|$>>>27),$=M+(F^T&(C^F))+_[2]+4243563512&4294967295,M=C+($<<9&4294967295|$>>>23),$=T+(C^F&(M^C))+_[7]+1735328473&4294967295,T=M+($<<14&4294967295|$>>>18),$=F+(M^C&(T^M))+_[12]+2368359562&4294967295,F=T+($<<20&4294967295|$>>>12),$=C+(F^T^M)+_[5]+4294588738&4294967295,C=F+($<<4&4294967295|$>>>28),$=M+(C^F^T)+_[8]+2272392833&4294967295,M=C+($<<11&4294967295|$>>>21),$=T+(M^C^F)+_[11]+1839030562&4294967295,T=M+($<<16&4294967295|$>>>16),$=F+(T^M^C)+_[14]+4259657740&4294967295,F=T+($<<23&4294967295|$>>>9),$=C+(F^T^M)+_[1]+2763975236&4294967295,C=F+($<<4&4294967295|$>>>28),$=M+(C^F^T)+_[4]+1272893353&4294967295,M=C+($<<11&4294967295|$>>>21),$=T+(M^C^F)+_[7]+4139469664&4294967295,T=M+($<<16&4294967295|$>>>16),$=F+(T^M^C)+_[10]+3200236656&4294967295,F=T+($<<23&4294967295|$>>>9),$=C+(F^T^M)+_[13]+681279174&4294967295,C=F+($<<4&4294967295|$>>>28),$=M+(C^F^T)+_[0]+3936430074&4294967295,M=C+($<<11&4294967295|$>>>21),$=T+(M^C^F)+_[3]+3572445317&4294967295,T=M+($<<16&4294967295|$>>>16),$=F+(T^M^C)+_[6]+76029189&4294967295,F=T+($<<23&4294967295|$>>>9),$=C+(F^T^M)+_[9]+3654602809&4294967295,C=F+($<<4&4294967295|$>>>28),$=M+(C^F^T)+_[12]+3873151461&4294967295,M=C+($<<11&4294967295|$>>>21),$=T+(M^C^F)+_[15]+530742520&4294967295,T=M+($<<16&4294967295|$>>>16),$=F+(T^M^C)+_[2]+3299628645&4294967295,F=T+($<<23&4294967295|$>>>9),$=C+(T^(F|~M))+_[0]+4096336452&4294967295,C=F+($<<6&4294967295|$>>>26),$=M+(F^(C|~T))+_[7]+1126891415&4294967295,M=C+($<<10&4294967295|$>>>22),$=T+(C^(M|~F))+_[14]+2878612391&4294967295,T=M+($<<15&4294967295|$>>>17),$=F+(M^(T|~C))+_[5]+4237533241&4294967295,F=T+($<<21&4294967295|$>>>11),$=C+(T^(F|~M))+_[12]+1700485571&4294967295,C=F+($<<6&4294967295|$>>>26),$=M+(F^(C|~T))+_[3]+2399980690&4294967295,M=C+($<<10&4294967295|$>>>22),$=T+(C^(M|~F))+_[10]+4293915773&4294967295,T=M+($<<15&4294967295|$>>>17),$=F+(M^(T|~C))+_[1]+2240044497&4294967295,F=T+($<<21&4294967295|$>>>11),$=C+(T^(F|~M))+_[8]+1873313359&4294967295,C=F+($<<6&4294967295|$>>>26),$=M+(F^(C|~T))+_[15]+4264355552&4294967295,M=C+($<<10&4294967295|$>>>22),$=T+(C^(M|~F))+_[6]+2734768916&4294967295,T=M+($<<15&4294967295|$>>>17),$=F+(M^(T|~C))+_[13]+1309151649&4294967295,F=T+($<<21&4294967295|$>>>11),$=C+(T^(F|~M))+_[4]+4149444226&4294967295,C=F+($<<6&4294967295|$>>>26),$=M+(F^(C|~T))+_[11]+3174756917&4294967295,M=C+($<<10&4294967295|$>>>22),$=T+(C^(M|~F))+_[2]+718787259&4294967295,T=M+($<<15&4294967295|$>>>17),$=F+(M^(T|~C))+_[9]+3951481745&4294967295,E.g[0]=E.g[0]+C&4294967295,E.g[1]=E.g[1]+(T+($<<21&4294967295|$>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+M&4294967295}n.prototype.v=function(E,C){C===void 0&&(C=E.length);const F=C-this.blockSize,_=this.C;let T=this.h,M=0;for(;M<C;){if(T==0)for(;M<=F;)a(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<C;)if(_[T++]=E.charCodeAt(M++),T==this.blockSize){a(this,_),T=0;break}}else for(;M<C;)if(_[T++]=E[M++],T==this.blockSize){a(this,_),T=0;break}}this.h=T,this.o+=C},n.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var C=1;C<E.length-8;++C)E[C]=0;C=this.o*8;for(var F=E.length-8;F<E.length;++F)E[F]=C&255,C/=256;for(this.v(E),E=Array(16),C=0,F=0;F<4;++F)for(let _=0;_<32;_+=8)E[C++]=this.g[F]>>>_&255;return E};function i(E,C){var F=l;return Object.prototype.hasOwnProperty.call(F,E)?F[E]:F[E]=C(E)}function o(E,C){this.h=C;const F=[];let _=!0;for(let T=E.length-1;T>=0;T--){const M=E[T]|0;_&&M==C||(F[T]=M,_=!1)}this.g=F}var l={};function u(E){return-128<=E&&E<128?i(E,function(C){return new o([C|0],C<0?-1:0)}):new o([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return m;if(E<0)return w(d(-E));const C=[];let F=1;for(let _=0;E>=F;_++)C[_]=E/F|0,F*=4294967296;return new o(C,0)}function f(E,C){if(E.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(E.charAt(0)=="-")return w(f(E.substring(1),C));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const F=d(Math.pow(C,8));let _=m;for(let M=0;M<E.length;M+=8){var T=Math.min(8,E.length-M);const $=parseInt(E.substring(M,M+T),C);T<8?(T=d(Math.pow(C,T)),_=_.j(T).add(d($))):(_=_.j(F),_=_.add(d($)))}return _}var m=u(0),p=u(1),v=u(16777216);e=o.prototype,e.m=function(){if(j(this))return-w(this).m();let E=0,C=1;for(let F=0;F<this.g.length;F++){const _=this.i(F);E+=(_>=0?_:4294967296+_)*C,C*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(j(this))return"-"+w(this).toString(E);const C=d(Math.pow(E,6));var F=this;let _="";for(;;){const T=R(F,C).g;F=S(F,T.j(C));let M=((F.g.length>0?F.g[0]:F.h)>>>0).toString(E);if(F=T,x(F))return M+_;for(;M.length<6;)M="0"+M;_=M+_}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(let C=0;C<E.g.length;C++)if(E.g[C]!=0)return!1;return!0}function j(E){return E.h==-1}e.l=function(E){return E=S(this,E),j(E)?-1:x(E)?0:1};function w(E){const C=E.g.length,F=[];for(let _=0;_<C;_++)F[_]=~E.g[_];return new o(F,~E.h).add(p)}e.abs=function(){return j(this)?w(this):this},e.add=function(E){const C=Math.max(this.g.length,E.g.length),F=[];let _=0;for(let T=0;T<=C;T++){let M=_+(this.i(T)&65535)+(E.i(T)&65535),$=(M>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);_=$>>>16,M&=65535,$&=65535,F[T]=$<<16|M}return new o(F,F[F.length-1]&-2147483648?-1:0)};function S(E,C){return E.add(w(C))}e.j=function(E){if(x(this)||x(E))return m;if(j(this))return j(E)?w(this).j(w(E)):w(w(this).j(E));if(j(E))return w(this.j(w(E)));if(this.l(v)<0&&E.l(v)<0)return d(this.m()*E.m());const C=this.g.length+E.g.length,F=[];for(var _=0;_<2*C;_++)F[_]=0;for(_=0;_<this.g.length;_++)for(let T=0;T<E.g.length;T++){const M=this.i(_)>>>16,$=this.i(_)&65535,J=E.i(T)>>>16,q=E.i(T)&65535;F[2*_+2*T]+=$*q,P(F,2*_+2*T),F[2*_+2*T+1]+=M*q,P(F,2*_+2*T+1),F[2*_+2*T+1]+=$*J,P(F,2*_+2*T+1),F[2*_+2*T+2]+=M*J,P(F,2*_+2*T+2)}for(E=0;E<C;E++)F[E]=F[2*E+1]<<16|F[2*E];for(E=C;E<2*C;E++)F[E]=0;return new o(F,0)};function P(E,C){for(;(E[C]&65535)!=E[C];)E[C+1]+=E[C]>>>16,E[C]&=65535,C++}function k(E,C){this.g=E,this.h=C}function R(E,C){if(x(C))throw Error("division by zero");if(x(E))return new k(m,m);if(j(E))return C=R(w(E),C),new k(w(C.g),w(C.h));if(j(C))return C=R(E,w(C)),new k(w(C.g),C.h);if(E.g.length>30){if(j(E)||j(C))throw Error("slowDivide_ only works with positive integers.");for(var F=p,_=C;_.l(E)<=0;)F=I(F),_=I(_);var T=L(F,1),M=L(_,1);for(_=L(_,2),F=L(F,2);!x(_);){var $=M.add(_);$.l(E)<=0&&(T=T.add(F),M=$),_=L(_,1),F=L(F,1)}return C=S(E,T.j(C)),new k(T,C)}for(T=m;E.l(C)>=0;){for(F=Math.max(1,Math.floor(E.m()/C.m())),_=Math.ceil(Math.log(F)/Math.LN2),_=_<=48?1:Math.pow(2,_-48),M=d(F),$=M.j(C);j($)||$.l(E)>0;)F-=_,M=d(F),$=M.j(C);x(M)&&(M=p),T=T.add(M),E=S(E,$)}return new k(T,E)}e.B=function(E){return R(this,E).h},e.and=function(E){const C=Math.max(this.g.length,E.g.length),F=[];for(let _=0;_<C;_++)F[_]=this.i(_)&E.i(_);return new o(F,this.h&E.h)},e.or=function(E){const C=Math.max(this.g.length,E.g.length),F=[];for(let _=0;_<C;_++)F[_]=this.i(_)|E.i(_);return new o(F,this.h|E.h)},e.xor=function(E){const C=Math.max(this.g.length,E.g.length),F=[];for(let _=0;_<C;_++)F[_]=this.i(_)^E.i(_);return new o(F,this.h^E.h)};function I(E){const C=E.g.length+1,F=[];for(let _=0;_<C;_++)F[_]=E.i(_)<<1|E.i(_-1)>>>31;return new o(F,E.h)}function L(E,C){const F=C>>5;C%=32;const _=E.g.length-F,T=[];for(let M=0;M<_;M++)T[M]=C>0?E.i(M+F)>>>C|E.i(M+F+1)<<32-C:E.i(M+F);return new o(T,E.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,gS=o}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var Mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function r(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mg=="object"&&Mg];for(var O=0;O<b.length;++O){var V=b[O];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=r(this);function a(b,O){if(O)e:{var V=n;b=b.split(".");for(var Q=0;Q<b.length-1;Q++){var Se=b[Q];if(!(Se in V))break e;V=V[Se]}b=b[b.length-1],Q=V[b],O=O(Q),O!=Q&&O!=null&&t(V,b,{configurable:!0,writable:!0,value:O})}}a("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(b){return b||function(O){var V=[],Q;for(Q in O)Object.prototype.hasOwnProperty.call(O,Q)&&V.push([Q,O[Q]]);return V}});var i=i||{},o=this||self;function l(b){var O=typeof b;return O=="object"&&b!=null||O=="function"}function u(b,O,V){return b.call.apply(b.bind,arguments)}function d(b,O,V){return d=u,d.apply(null,arguments)}function f(b,O){var V=Array.prototype.slice.call(arguments,1);return function(){var Q=V.slice();return Q.push.apply(Q,arguments),b.apply(this,Q)}}function m(b,O){function V(){}V.prototype=O.prototype,b.Z=O.prototype,b.prototype=new V,b.prototype.constructor=b,b.Ob=function(Q,Se,Te){for(var Ze=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Ze[Pt-2]=arguments[Pt];return O.prototype[Se].apply(Q,Ze)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function v(b){const O=b.length;if(O>0){const V=Array(O);for(let Q=0;Q<O;Q++)V[Q]=b[Q];return V}return[]}function x(b,O){for(let Q=1;Q<arguments.length;Q++){const Se=arguments[Q];var V=typeof Se;if(V=V!="object"?V:Se?Array.isArray(Se)?"array":V:"null",V=="array"||V=="object"&&typeof Se.length=="number"){V=b.length||0;const Te=Se.length||0;b.length=V+Te;for(let Ze=0;Ze<Te;Ze++)b[V+Ze]=Se[Ze]}else b.push(Se)}}class j{constructor(O,V){this.i=O,this.j=V,this.h=0,this.g=null}get(){let O;return this.h>0?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function w(b){o.setTimeout(()=>{throw b},0)}function S(){var b=E;let O=null;return b.g&&(O=b.g,b.g=b.g.next,b.g||(b.h=null),O.next=null),O}class P{constructor(){this.h=this.g=null}add(O,V){const Q=k.get();Q.set(O,V),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var k=new j(()=>new R,b=>b.reset());class R{constructor(){this.next=this.g=this.h=null}set(O,V){this.h=O,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let I,L=!1,E=new P,C=()=>{const b=Promise.resolve(void 0);I=()=>{b.then(F)}};function F(){for(var b;b=S();){try{b.h.call(b.g)}catch(V){w(V)}var O=k;O.j(b),O.h<100&&(O.h++,b.next=O.g,O.g=b)}L=!1}function _(){this.u=this.u,this.C=this.C}_.prototype.u=!1,_.prototype.dispose=function(){this.u||(this.u=!0,this.N())},_.prototype[Symbol.dispose]=function(){this.dispose()},_.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(b,O){this.type=b,this.g=this.target=O,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var b=!1,O=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const V=()=>{};o.addEventListener("test",V,O),o.removeEventListener("test",V,O)}catch{}return b})();function $(b){return/^[\s\xa0]*$/.test(b)}function J(b,O){T.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,O)}m(J,T),J.prototype.init=function(b,O){const V=this.type=b.type,Q=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=O,O=b.relatedTarget,O||(V=="mouseover"?O=b.fromElement:V=="mouseout"&&(O=b.toElement)),this.relatedTarget=O,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var q="closure_listenable_"+(Math.random()*1e6|0),U=0;function X(b,O,V,Q,Se){this.listener=b,this.proxy=null,this.src=O,this.type=V,this.capture=!!Q,this.ha=Se,this.key=++U,this.da=this.fa=!1}function B(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Z(b,O,V){for(const Q in b)O.call(V,b[Q],Q,b)}function ne(b,O){for(const V in b)O.call(void 0,b[V],V,b)}function W(b){const O={};for(const V in b)O[V]=b[V];return O}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(b,O){let V,Q;for(let Se=1;Se<arguments.length;Se++){Q=arguments[Se];for(V in Q)b[V]=Q[V];for(let Te=0;Te<z.length;Te++)V=z[Te],Object.prototype.hasOwnProperty.call(Q,V)&&(b[V]=Q[V])}}function oe(b){this.src=b,this.g={},this.h=0}oe.prototype.add=function(b,O,V,Q,Se){const Te=b.toString();b=this.g[Te],b||(b=this.g[Te]=[],this.h++);const Ze=ke(b,O,Q,Se);return Ze>-1?(O=b[Ze],V||(O.fa=!1)):(O=new X(O,this.src,Te,!!Q,Se),O.fa=V,b.push(O)),O};function Pe(b,O){const V=O.type;if(V in b.g){var Q=b.g[V],Se=Array.prototype.indexOf.call(Q,O,void 0),Te;(Te=Se>=0)&&Array.prototype.splice.call(Q,Se,1),Te&&(B(O),b.g[V].length==0&&(delete b.g[V],b.h--))}}function ke(b,O,V,Q){for(let Se=0;Se<b.length;++Se){const Te=b[Se];if(!Te.da&&Te.listener==O&&Te.capture==!!V&&Te.ha==Q)return Se}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),ue={};function re(b,O,V,Q,Se){if(Array.isArray(O)){for(let Te=0;Te<O.length;Te++)re(b,O[Te],V,Q,Se);return null}return V=xe(V),b&&b[q]?b.J(O,V,l(Q)?!!Q.capture:!1,Se):K(b,O,V,!1,Q,Se)}function K(b,O,V,Q,Se,Te){if(!O)throw Error("Invalid event type");const Ze=l(Se)?!!Se.capture:!!Se;let Pt=be(b);if(Pt||(b[fe]=Pt=new oe(b)),V=Pt.add(O,V,Q,Ze,Te),V.proxy)return V;if(Q=de(),V.proxy=Q,Q.src=b,Q.listener=V,b.addEventListener)M||(Se=Ze),Se===void 0&&(Se=!1),b.addEventListener(O.toString(),Q,Se);else if(b.attachEvent)b.attachEvent(ae(O.toString()),Q);else if(b.addListener&&b.removeListener)b.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return V}function de(){function b(V){return O.call(b.src,b.listener,V)}const O=ee;return b}function te(b,O,V,Q,Se){if(Array.isArray(O))for(var Te=0;Te<O.length;Te++)te(b,O[Te],V,Q,Se);else Q=l(Q)?!!Q.capture:!!Q,V=xe(V),b&&b[q]?(b=b.i,Te=String(O).toString(),Te in b.g&&(O=b.g[Te],V=ke(O,V,Q,Se),V>-1&&(B(O[V]),Array.prototype.splice.call(O,V,1),O.length==0&&(delete b.g[Te],b.h--)))):b&&(b=be(b))&&(O=b.g[O.toString()],b=-1,O&&(b=ke(O,V,Q,Se)),(V=b>-1?O[b]:null)&&ye(V))}function ye(b){if(typeof b!="number"&&b&&!b.da){var O=b.src;if(O&&O[q])Pe(O.i,b);else{var V=b.type,Q=b.proxy;O.removeEventListener?O.removeEventListener(V,Q,b.capture):O.detachEvent?O.detachEvent(ae(V),Q):O.addListener&&O.removeListener&&O.removeListener(Q),(V=be(O))?(Pe(V,b),V.h==0&&(V.src=null,O[fe]=null)):B(b)}}}function ae(b){return b in ue?ue[b]:ue[b]="on"+b}function ee(b,O){if(b.da)b=!0;else{O=new J(O,this);const V=b.listener,Q=b.ha||b.src;b.fa&&ye(b),b=V.call(Q,O)}return b}function be(b){return b=b[fe],b instanceof oe?b:null}var he="__closure_events_fn_"+(Math.random()*1e9>>>0);function xe(b){return typeof b=="function"?b:(b[he]||(b[he]=function(O){return b.handleEvent(O)}),b[he])}function Be(){_.call(this),this.i=new oe(this),this.M=this,this.G=null}m(Be,_),Be.prototype[q]=!0,Be.prototype.removeEventListener=function(b,O,V,Q){te(this,b,O,V,Q)};function ut(b,O){var V,Q=b.G;if(Q)for(V=[];Q;Q=Q.G)V.push(Q);if(b=b.M,Q=O.type||O,typeof O=="string")O=new T(O,b);else if(O instanceof T)O.target=O.target||b;else{var Se=O;O=new T(Q,b),pe(O,Se)}Se=!0;let Te,Ze;if(V)for(Ze=V.length-1;Ze>=0;Ze--)Te=O.g=V[Ze],Se=_t(Te,Q,!0,O)&&Se;if(Te=O.g=b,Se=_t(Te,Q,!0,O)&&Se,Se=_t(Te,Q,!1,O)&&Se,V)for(Ze=0;Ze<V.length;Ze++)Te=O.g=V[Ze],Se=_t(Te,Q,!1,O)&&Se}Be.prototype.N=function(){if(Be.Z.N.call(this),this.i){var b=this.i;for(const O in b.g){const V=b.g[O];for(let Q=0;Q<V.length;Q++)B(V[Q]);delete b.g[O],b.h--}}this.G=null},Be.prototype.J=function(b,O,V,Q){return this.i.add(String(b),O,!1,V,Q)},Be.prototype.K=function(b,O,V,Q){return this.i.add(String(b),O,!0,V,Q)};function _t(b,O,V,Q){if(O=b.i.g[String(O)],!O)return!0;O=O.concat();let Se=!0;for(let Te=0;Te<O.length;++Te){const Ze=O[Te];if(Ze&&!Ze.da&&Ze.capture==V){const Pt=Ze.listener,_r=Ze.ha||Ze.src;Ze.fa&&Pe(b.i,Ze),Se=Pt.call(_r,Q)!==!1&&Se}}return Se&&!Q.defaultPrevented}function je(b,O){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=d(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(O)>2147483647?-1:o.setTimeout(b,O||0)}function De(b){b.g=je(()=>{b.g=null,b.i&&(b.i=!1,De(b))},b.l);const O=b.h;b.h=null,b.m.apply(null,O)}class rt extends _{constructor(O,V){super(),this.m=O,this.l=V,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xt(b){_.call(this),this.h=b,this.g={}}m(xt,_);var Qe=[];function jt(b){Z(b.g,function(O,V){this.g.hasOwnProperty(V)&&ye(O)},b),b.g={}}xt.prototype.N=function(){xt.Z.N.call(this),jt(this)},xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=o.JSON.stringify,ce=o.JSON.parse,Fe=class{stringify(b){return o.JSON.stringify(b,void 0)}parse(b){return o.JSON.parse(b,void 0)}};function Ve(){}function It(){}var Le={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){T.call(this,"d")}m($e,T);function Bt(){T.call(this,"c")}m(Bt,T);var Ut={},mr=null;function Tt(){return mr=mr||new Be}Ut.Ia="serverreachability";function et(b){T.call(this,Ut.Ia,b)}m(et,T);function se(b){const O=Tt();ut(O,new et(O))}Ut.STAT_EVENT="statevent";function _e(b,O){T.call(this,Ut.STAT_EVENT,b),this.stat=O}m(_e,T);function Ye(b){const O=Tt();ut(O,new _e(O,b))}Ut.Ja="timingevent";function Rt(b,O){T.call(this,Ut.Ja,b),this.size=O}m(Rt,T);function Lt(b,O){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){b()},O)}function Gr(){this.g=!0}Gr.prototype.ua=function(){this.g=!1};function un(b,O,V,Q,Se,Te){b.info(function(){if(b.g)if(Te){var Ze="",Pt=Te.split("&");for(let ar=0;ar<Pt.length;ar++){var _r=Pt[ar].split("=");if(_r.length>1){const tn=_r[0];_r=_r[1];const ma=tn.split("_");Ze=ma.length>=2&&ma[1]=="type"?Ze+(tn+"="+_r+"&"):Ze+(tn+"=redacted&")}}}else Ze=null;else Ze=Te;return"XMLHTTP REQ ("+Q+") [attempt "+Se+"]: "+O+`
`+V+`
`+Ze})}function Vs(b,O,V,Q,Se,Te,Ze){b.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+Se+"]: "+O+`
`+V+`
`+Te+" "+Ze})}function Bn(b,O,V,Q){b.info(function(){return"XMLHTTP TEXT ("+O+"): "+Jr(b,V)+(Q?" "+Q:"")})}function $a(b,O){b.info(function(){return"TIMEOUT: "+O})}Gr.prototype.info=function(){};function Jr(b,O){if(!b.g)return O;if(!O)return null;try{const Te=JSON.parse(O);if(Te){for(b=0;b<Te.length;b++)if(Array.isArray(Te[b])){var V=Te[b];if(!(V.length<2)){var Q=V[1];if(Array.isArray(Q)&&!(Q.length<1)){var Se=Q[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(let Ze=1;Ze<Q.length;Ze++)Q[Ze]=""}}}}return Xe(Te)}catch{return O}}var pr={NO_ERROR:0,TIMEOUT:8},Dt={},Yt;function cr(){}m(cr,Ve),cr.prototype.g=function(){return new XMLHttpRequest},Yt=new cr;function Wt(b){return encodeURIComponent(String(b))}function Vn(b){var O=1;b=b.split(":");const V=[];for(;O>0&&b.length;)V.push(b.shift()),O--;return b.length&&V.push(b.join(":")),V}function dn(b,O,V,Q){this.j=b,this.i=O,this.l=V,this.S=Q||1,this.V=new xt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var Y={},ge={};function le(b,O,V){b.M=1,b.A=ao(fa(O)),b.u=V,b.R=!0,Ge(b,null)}function Ge(b,O){b.F=Date.now(),en(b),b.B=fa(b.A);var V=b.B,Q=b.S;Array.isArray(Q)||(Q=[String(Q)]),Dh(V.i,"t",Q),b.C=0,V=b.j.L,b.h=new zn,b.g=Mp(b.j,V?O:null,!b.u),b.P>0&&(b.O=new rt(d(b.Y,b,b.g),b.P)),O=b.V,V=b.g,Q=b.ba;var Se="readystatechange";Array.isArray(Se)||(Se&&(Qe[0]=Se.toString()),Se=Qe);for(let Te=0;Te<Se.length;Te++){const Ze=re(V,Se[Te],Q||O.handleEvent,!1,O.h||O);if(!Ze)break;O.g[Ze.key]=Ze}O=b.J?W(b.J):{},b.u?(b.v||(b.v="POST"),O["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,O)):(b.v="GET",b.g.ea(b.B,b.v,null,O)),se(),un(b.i,b.v,b.B,b.l,b.S,b.u)}dn.prototype.ba=function(b){b=b.target;const O=this.O;O&&wi(b)==3?O.j():this.Y(b)},dn.prototype.Y=function(b){try{if(b==this.g)e:{const Pt=wi(this.g),_r=this.g.ya(),ar=this.g.ca();if(!(Pt<3)&&(Pt!=3||this.g&&(this.h.h||this.g.la()||Ep(this.g)))){this.K||Pt!=4||_r==7||(_r==8||ar<=0?se(3):se(2)),mi(this);var O=this.g.ca();this.X=O;var V=ze(this);if(this.o=O==200,Vs(this.i,this.v,this.B,this.l,this.S,Pt,O),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,Se=this.g;if((Q=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Q)){var Te=Q;break t}}Te=null}if(b=Te)Bn(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hr(this,b);else{this.o=!1,this.m=3,Ye(12),zs(this),Ba(this);break e}}if(this.R){b=!0;let tn;for(;!this.K&&this.C<V.length;)if(tn=Ct(this,V),tn==ge){Pt==4&&(this.m=4,Ye(14),b=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Y){this.m=4,Ye(15),Bn(this.i,this.l,V,"[Invalid Chunk]"),b=!1;break}else Bn(this.i,this.l,tn,null),hr(this,tn);if(Je(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||V.length!=0||this.h.h||(this.m=1,Ye(16),b=!1),this.o=this.o&&b,!b)Bn(this.i,this.l,V,"[Invalid Chunked Response]"),zs(this),Ba(this);else if(V.length>0&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.aa&&!Ze.P&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),wc(Ze),Ze.P=!0,Ye(11))}}else Bn(this.i,this.l,V,null),hr(this,V);Pt==4&&zs(this),this.o&&!this.K&&(Pt==4?Uu(this.j,this):(this.o=!1,en(this)))}else Rh(this.g),O==400&&V.indexOf("Unknown SID")>0?(this.m=3,Ye(12)):(this.m=0,Ye(13)),zs(this),Ba(this)}}}catch{}finally{}};function ze(b){if(!Je(b))return b.g.la();const O=Ep(b.g);if(O==="")return"";let V="";const Q=O.length,Se=wi(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return zs(b),Ba(b),"";b.h.i=new o.TextDecoder}for(let Te=0;Te<Q;Te++)b.h.h=!0,V+=b.h.i.decode(O[Te],{stream:!(Se&&Te==Q-1)});return O.length=0,b.h.g+=V,b.C=0,b.h.g}function Je(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function Ct(b,O){var V=b.C,Q=O.indexOf(`
`,V);return Q==-1?ge:(V=Number(O.substring(V,Q)),isNaN(V)?Y:(Q+=1,Q+V>O.length?ge:(O=O.slice(Q,Q+V),b.C=Q+V,O)))}dn.prototype.cancel=function(){this.K=!0,zs(this)};function en(b){b.T=Date.now()+b.H,ks(b,b.H)}function ks(b,O){if(b.D!=null)throw Error("WatchDog timer not null");b.D=Lt(d(b.aa,b),O)}function mi(b){b.D&&(o.clearTimeout(b.D),b.D=null)}dn.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?($a(this.i,this.B),this.M!=2&&(se(),Ye(17)),zs(this),this.m=2,Ba(this)):ks(this,this.T-b)};function Ba(b){b.j.I==0||b.K||Uu(b.j,b)}function zs(b){mi(b);var O=b.O;O&&typeof O.dispose=="function"&&O.dispose(),b.O=null,jt(b.V),b.g&&(O=b.g,b.g=null,O.abort(),O.dispose())}function hr(b,O){try{var V=b.j;if(V.I!=0&&(V.g==b||za(V.h,b))){if(!b.L&&za(V.h,b)&&V.I==3){try{var Q=V.Ba.g.parse(O)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var Se=Q;if(Se[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<b.F)zu(V),qs(V);else break e;Si(V),Ye(18)}}else V.xa=Se[1],0<V.xa-V.K&&Se[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=Lt(d(V.Va,V),6e3));Cr(V.h)<=1&&V.ta&&(V.ta=void 0)}else Gs(V,11)}else if((b.L||V.g==b)&&zu(V),!$(O))for(Se=V.Ba.g.parse(O),O=0;O<Se.length;O++){let ar=Se[O];const tn=ar[0];if(!(tn<=V.K))if(V.K=tn,ar=ar[1],V.I==2)if(ar[0]=="c"){V.M=ar[1],V.ba=ar[2];const ma=ar[3];ma!=null&&(V.ka=ma,V.j.info("VER="+V.ka));const ki=ar[4];ki!=null&&(V.za=ki,V.j.info("SVER="+V.za));const Ci=ar[5];Ci!=null&&typeof Ci=="number"&&Ci>0&&(Q=1.5*Ci,V.O=Q,V.j.info("backChannelRequestTimeoutMs_="+Q)),Q=V;const Ai=b.g;if(Ai){const qu=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qu){var Te=Q.h;Te.g||qu.indexOf("spdy")==-1&&qu.indexOf("quic")==-1&&qu.indexOf("h2")==-1||(Te.j=Te.l,Te.g=new Set,Te.h&&(Ou(Te,Te.h),Te.h=null))}if(Q.G){const $h=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;$h&&(Q.wa=$h,er(Q.J,Q.G,$h))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-b.F,V.j.info("Handshake RTT: "+V.T+"ms")),Q=V;var Ze=b;if(Q.na=Fh(Q,Q.L?Q.ba:null,Q.W),Ze.L){mc(Q.h,Ze);var Pt=Ze,_r=Q.O;_r&&(Pt.H=_r),Pt.D&&(mi(Pt),en(Pt)),Q.g=Ze}else Yn(Q);V.i.length>0&&co(V)}else ar[0]!="stop"&&ar[0]!="close"||Gs(V,7);else V.I==3&&(ar[0]=="stop"||ar[0]=="close"?ar[0]=="stop"?Gs(V,7):Bu(V):ar[0]!="noop"&&V.l&&V.l.qa(ar),V.A=0)}}se(4)}catch{}}var Du=class{constructor(b,O){this.g=b,this.map=O}};function Cs(b){this.l=b||10,o.PerformanceNavigationTiming?(b=o.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Va(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function Cr(b){return b.h?1:b.g?b.g.size:0}function za(b,O){return b.h?b.h==O:b.g?b.g.has(O):!1}function Ou(b,O){b.g?b.g.add(O):b.h=O}function mc(b,O){b.h&&b.h==O?b.h=null:b.g&&b.g.has(O)&&b.g.delete(O)}Cs.prototype.cancel=function(){if(this.i=Us(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Us(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let O=b.i;for(const V of b.g.values())O=O.concat(V.G);return O}return v(b.i)}var Cp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(b,O){if(b){b=b.split("&");for(let V=0;V<b.length;V++){const Q=b[V].indexOf("=");let Se,Te=null;Q>=0?(Se=b[V].substring(0,Q),Te=b[V].substring(Q+1)):Se=b[V],O(Se,Te?decodeURIComponent(Te.replace(/\+/g," ")):"")}}}function pi(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let O;b instanceof pi?(this.l=b.l,pc(this,b.j),this.o=b.o,this.g=b.g,gi(this,b.u),this.h=b.h,al(this,Oh(b.i)),this.m=b.m):b&&(O=String(b).match(Cp))?(this.l=!1,pc(this,O[1]||"",!0),this.o=gc(O[2]||""),this.g=gc(O[3]||"",!0),gi(this,O[4]),this.h=gc(O[5]||"",!0),al(this,O[6]||"",!0),this.m=gc(O[7]||"")):(this.l=!1,this.i=new zt(null,this.l))}pi.prototype.toString=function(){const b=[];var O=this.j;O&&b.push(yc(O,Ph,!0),":");var V=this.g;return(V||O=="file")&&(b.push("//"),(O=this.o)&&b.push(yc(O,Ph,!0),"@"),b.push(Wt(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&b.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&b.push("/"),b.push(yc(V,V.charAt(0)=="/"?vc:Eh,!0))),(V=this.i.toString())&&b.push("?",V),(V=this.m)&&b.push("#",yc(V,Th)),b.join("")},pi.prototype.resolve=function(b){const O=fa(this);let V=!!b.j;V?pc(O,b.j):V=!!b.o,V?O.o=b.o:V=!!b.g,V?O.g=b.g:V=b.u!=null;var Q=b.h;if(V)gi(O,b.u);else if(V=!!b.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var Se=O.h.lastIndexOf("/");Se!=-1&&(Q=O.h.slice(0,Se+1)+Q)}if(Se=Q,Se==".."||Se==".")Q="";else if(Se.indexOf("./")!=-1||Se.indexOf("/.")!=-1){Q=Se.lastIndexOf("/",0)==0,Se=Se.split("/");const Te=[];for(let Ze=0;Ze<Se.length;){const Pt=Se[Ze++];Pt=="."?Q&&Ze==Se.length&&Te.push(""):Pt==".."?((Te.length>1||Te.length==1&&Te[0]!="")&&Te.pop(),Q&&Ze==Se.length&&Te.push("")):(Te.push(Pt),Q=!0)}Q=Te.join("/")}else Q=Se}return V?O.h=Q:V=b.i.toString()!=="",V?al(O,Oh(b.i)):V=!!b.m,V&&(O.m=b.m),O};function fa(b){return new pi(b)}function pc(b,O,V){b.j=V?gc(O,!0):O,b.j&&(b.j=b.j.replace(/:$/,""))}function gi(b,O){if(O){if(O=Number(O),isNaN(O)||O<0)throw Error("Bad port number "+O);b.u=O}else b.u=null}function al(b,O,V){O instanceof zt?(b.i=O,Lu(b.i,b.l)):(V||(O=yc(O,A0)),b.i=new zt(O,b.l))}function er(b,O,V){b.i.set(O,V)}function ao(b){return er(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function gc(b,O){return b?O?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function yc(b,O,V){return typeof b=="string"?(b=encodeURI(b).replace(O,Ih),V&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Ih(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Ph=/[#\/\?@]/g,Eh=/[#\?:]/g,vc=/[#\?]/g,A0=/[#\?@]/g,Th=/#/g;function zt(b,O){this.h=this.g=null,this.i=b||null,this.j=!!O}function yi(b){b.g||(b.g=new Map,b.h=0,b.i&&Ws(b.i,function(O,V){b.add(decodeURIComponent(O.replace(/\+/g," ")),V)}))}e=zt.prototype,e.add=function(b,O){yi(this),this.i=null,b=vi(this,b);let V=this.g.get(b);return V||this.g.set(b,V=[]),V.push(O),this.h+=1,this};function Mh(b,O){yi(b),O=vi(b,O),b.g.has(O)&&(b.i=null,b.h-=b.g.get(O).length,b.g.delete(O))}function Ru(b,O){return yi(b),O=vi(b,O),b.g.has(O)}e.forEach=function(b,O){yi(this),this.g.forEach(function(V,Q){V.forEach(function(Se){b.call(O,Se,Q,this)},this)},this)};function _h(b,O){yi(b);let V=[];if(typeof O=="string")Ru(b,O)&&(V=V.concat(b.g.get(vi(b,O))));else for(b=Array.from(b.g.values()),O=0;O<b.length;O++)V=V.concat(b[O]);return V}e.set=function(b,O){return yi(this),this.i=null,b=vi(this,b),Ru(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[O]),this.h+=1,this},e.get=function(b,O){return b?(b=_h(this,b),b.length>0?String(b[0]):O):O};function Dh(b,O,V){Mh(b,O),V.length>0&&(b.i=null,b.g.set(vi(b,O),v(V)),b.h+=V.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],O=Array.from(this.g.keys());for(let Q=0;Q<O.length;Q++){var V=O[Q];const Se=Wt(V);V=_h(this,V);for(let Te=0;Te<V.length;Te++){let Ze=Se;V[Te]!==""&&(Ze+="="+Wt(V[Te])),b.push(Ze)}}return this.i=b.join("&")};function Oh(b){const O=new zt;return O.i=b.i,b.g&&(O.g=new Map(b.g),O.h=b.h),O}function vi(b,O){return O=String(O),b.j&&(O=O.toLowerCase()),O}function Lu(b,O){O&&!b.j&&(yi(b),b.i=null,b.g.forEach(function(V,Q){const Se=Q.toLowerCase();Q!=Se&&(Mh(this,Q),Dh(this,Se,V))},b)),b.j=O}function xi(b,O){const V=new Gr;if(o.Image){const Q=new Image;Q.onload=f(Un,V,"TestLoadImage: loaded",!0,O,Q),Q.onerror=f(Un,V,"TestLoadImage: error",!1,O,Q),Q.onabort=f(Un,V,"TestLoadImage: abort",!1,O,Q),Q.ontimeout=f(Un,V,"TestLoadImage: timeout",!1,O,Q),o.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=b}else O(!1)}function bi(b,O){const V=new Gr,Q=new AbortController,Se=setTimeout(()=>{Q.abort(),Un(V,"TestPingServer: timeout",!1,O)},1e4);fetch(b,{signal:Q.signal}).then(Te=>{clearTimeout(Se),Te.ok?Un(V,"TestPingServer: ok",!0,O):Un(V,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(Se),Un(V,"TestPingServer: error",!1,O)})}function Un(b,O,V,Q,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),Q(V)}catch{}}function xc(){this.g=new Fe}function io(b){this.i=b.Sb||null,this.h=b.ab||!1}m(io,Ve),io.prototype.g=function(){return new Hs(this.i,this.h)};function Hs(b,O){Be.call(this),this.H=b,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Hs,Be),e=Hs.prototype,e.open=function(b,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=O,this.readyState=1,Ua(this)},e.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const O={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(O.body=b),(this.H||o).fetch(new Request(this.D,O)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,il(this)),this.readyState=0},e.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ap(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ap(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}e.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var O=b.value?b.value:new Uint8Array(0);(O=this.B.decode(O,{stream:!b.done}))&&(this.response=this.responseText+=O)}b.done?il(this):Ua(this),this.readyState==3&&Ap(this)}},e.Oa=function(b){this.g&&(this.response=this.responseText=b,il(this))},e.Na=function(b){this.g&&(this.response=b,il(this))},e.ga=function(){this.g&&il(this)};function il(b){b.readyState=4,b.l=null,b.j=null,b.B=null,Ua(b)}e.setRequestHeader=function(b,O){this.A.append(b,O)},e.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],O=this.h.entries();for(var V=O.next();!V.done;)V=V.value,b.push(V[0]+": "+V[1]),V=O.next();return b.join(`\r
`)};function Ua(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function Ip(b){let O="";return Z(b,function(V,Q){O+=Q,O+=":",O+=V,O+=`\r
`}),O}function Fu(b,O,V){e:{for(Q in V){var Q=!1;break e}Q=!0}Q||(V=Ip(V),typeof b=="string"?V!=null&&Wt(V):er(b,O,V))}function gr(b){Be.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(gr,Be);var Pp=/^https?$/i,I0=["POST","PUT"];e=gr.prototype,e.Fa=function(b){this.H=b},e.ea=function(b,O,V,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);O=O?O.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yt.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(O,String(b),!0),this.B=!1}catch(Te){ol(this,Te);return}if(b=V||"",V=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var Se in Q)V.set(Se,Q[Se]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Te of Q.keys())V.set(Te,Q.get(Te));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(V.keys()).find(Te=>Te.toLowerCase()=="content-type"),Se=o.FormData&&b instanceof o.FormData,!(Array.prototype.indexOf.call(I0,O,void 0)>=0)||Q||Se||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Te,Ze]of V)this.g.setRequestHeader(Te,Ze);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(Te){ol(this,Te)}};function ol(b,O){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=O,b.o=5,ll(b),lo(b)}function ll(b){b.A||(b.A=!0,ut(b,"complete"),ut(b,"error"))}e.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,ut(this,"complete"),ut(this,"abort"),lo(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lo(this,!0)),gr.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?oo(this):this.Xa())},e.Xa=function(){oo(this)};function oo(b){if(b.h&&typeof i<"u"){if(b.v&&wi(b)==4)setTimeout(b.Ca.bind(b),0);else if(ut(b,"readystatechange"),wi(b)==4){b.h=!1;try{const Te=b.ca();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var V;if(!(V=O)){var Q;if(Q=Te===0){let Ze=String(b.D).match(Cp)[1]||null;!Ze&&o.self&&o.self.location&&(Ze=o.self.location.protocol.slice(0,-1)),Q=!Pp.test(Ze?Ze.toLowerCase():"")}V=Q}if(V)ut(b,"complete"),ut(b,"success");else{b.o=6;try{var Se=wi(b)>2?b.g.statusText:""}catch{Se=""}b.l=Se+" ["+b.ca()+"]",ll(b)}}finally{lo(b)}}}}function lo(b,O){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const V=b.g;b.g=null,O||ut(b,"ready");try{V.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function wi(b){return b.g?b.g.readyState:0}e.ca=function(){try{return wi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(b){if(this.g){var O=this.g.responseText;return b&&O.indexOf(b)==0&&(O=O.substring(b.length)),ce(O)}};function Ep(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Rh(b){const O={};b=(b.g&&wi(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<b.length;Q++){if($(b[Q]))continue;var V=Vn(b[Q]);const Se=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Te=O[Se]||[];O[Se]=Te,Te.push(V)}ne(O,function(Q){return Q.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(b,O,V){return V&&V.internalChannelParams&&V.internalChannelParams[b]||O}function $u(b){this.za=0,this.i=[],this.j=new Gr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,b),this.Za=ji("retryDelaySeedMs",1e4,b),this.Ta=ji("forwardChannelMaxRetries",2,b),this.va=ji("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new Cs(b&&b.concurrentRequestLimit),this.Ba=new xc,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=$u.prototype,e.ka=8,e.I=1,e.connect=function(b,O,V,Q){Ye(0),this.W=b,this.H=O||{},V&&Q!==void 0&&(this.H.OSID=V,this.H.OAID=Q),this.F=this.X,this.J=Fh(this,null,this.W),co(this)};function Bu(b){if(Vu(b),b.I==3){var O=b.V++,V=fa(b.J);if(er(V,"SID",b.M),er(V,"RID",O),er(V,"TYPE","terminate"),Ni(b,V),O=new dn(b,b.j,O),O.M=2,O.A=ao(fa(V)),V=!1,o.navigator&&o.navigator.sendBeacon)try{V=o.navigator.sendBeacon(O.A.toString(),"")}catch{}!V&&o.Image&&(new Image().src=O.A,V=!0),V||(O.g=Mp(O.j,null),O.g.ea(O.A)),O.F=Date.now(),en(O)}jc(b)}function qs(b){b.g&&(wc(b),b.g.cancel(),b.g=null)}function Vu(b){qs(b),b.v&&(o.clearTimeout(b.v),b.v=null),zu(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&o.clearTimeout(b.m),b.m=null)}function co(b){if(!Va(b.h)&&!b.m){b.m=!0;var O=b.Ea;I||C(),L||(I(),L=!0),E.add(O,b),b.D=0}}function Tp(b,O){return Cr(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=O.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=Lt(d(b.Ea,b,O),Wu(b,b.D)),b.D++,!0)}e.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const Se=new dn(this,this.j,b);let Te=this.o;if(this.U&&(Te?(Te=W(Te),pe(Te,this.U)):Te=this.U),this.u!==null||this.R||(Se.J=Te,Te=null),this.S)e:{for(var O=0,V=0;V<this.i.length;V++){t:{var Q=this.i[V];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(O+=Q,O>4096){O=V;break e}if(O===4096||V===this.i.length-1){O=V+1;break e}}O=1e3}else O=1e3;O=Lh(this,Se,O),V=fa(this.J),er(V,"RID",b),er(V,"CVER",22),this.G&&er(V,"X-HTTP-Session-Id",this.G),Ni(this,V),Te&&(this.R?O="headers="+Wt(Ip(Te))+"&"+O:this.u&&Fu(V,this.u,Te)),Ou(this.h,Se),this.Ra&&er(V,"TYPE","init"),this.S?(er(V,"$req",O),er(V,"SID","null"),Se.U=!0,le(Se,V,null)):le(Se,V,O),this.I=2}}else this.I==3&&(b?bc(this,b):this.i.length==0||Va(this.h)||bc(this))};function bc(b,O){var V;O?V=O.l:V=b.V++;const Q=fa(b.J);er(Q,"SID",b.M),er(Q,"RID",V),er(Q,"AID",b.K),Ni(b,Q),b.u&&b.o&&Fu(Q,b.u,b.o),V=new dn(b,b.j,V,b.D+1),b.u===null&&(V.J=b.o),O&&(b.i=O.G.concat(b.i)),O=Lh(b,V,1e3),V.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),Ou(b.h,V),le(V,Q,O)}function Ni(b,O){b.H&&Z(b.H,function(V,Q){er(O,Q,V)}),b.l&&Z({},function(V,Q){er(O,Q,V)})}function Lh(b,O,V){V=Math.min(b.i.length,V);const Q=b.l?d(b.l.Ka,b.l,b):null;e:{var Se=b.i;let Pt=-1;for(;;){const _r=["count="+V];Pt==-1?V>0?(Pt=Se[0].g,_r.push("ofs="+Pt)):Pt=0:_r.push("ofs="+Pt);let ar=!0;for(let tn=0;tn<V;tn++){var Te=Se[tn].g;const ma=Se[tn].map;if(Te-=Pt,Te<0)Pt=Math.max(0,Se[tn].g-100),ar=!1;else try{Te="req"+Te+"_"||"";try{var Ze=ma instanceof Map?ma:Object.entries(ma);for(const[ki,Ci]of Ze){let Ai=Ci;l(Ci)&&(Ai=Xe(Ci)),_r.push(Te+ki+"="+encodeURIComponent(Ai))}}catch(ki){throw _r.push(Te+"type="+encodeURIComponent("_badmap")),ki}}catch{Q&&Q(ma)}}if(ar){Ze=_r.join("&");break e}}Ze=void 0}return b=b.i.splice(0,V),O.G=b,Ze}function Yn(b){if(!b.g&&!b.v){b.Y=1;var O=b.Da;I||C(),L||(I(),L=!0),E.add(O,b),b.A=0}}function Si(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=Lt(d(b.Da,b),Wu(b,b.A)),b.A++,!0)}e.Da=function(){if(this.v=null,cl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=Lt(d(this.Wa,this),b)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ye(10),qs(this),cl(this))};function wc(b){b.B!=null&&(o.clearTimeout(b.B),b.B=null)}function cl(b){b.g=new dn(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var O=fa(b.na);er(O,"RID","rpc"),er(O,"SID",b.M),er(O,"AID",b.K),er(O,"CI",b.F?"0":"1"),!b.F&&b.ia&&er(O,"TO",b.ia),er(O,"TYPE","xmlhttp"),Ni(b,O),b.u&&b.o&&Fu(O,b.u,b.o),b.O&&(b.g.H=b.O);var V=b.g;b=b.ba,V.M=1,V.A=ao(fa(O)),V.u=null,V.R=!0,Ge(V,b)}e.Va=function(){this.C!=null&&(this.C=null,qs(this),Si(this),Ye(19))};function zu(b){b.C!=null&&(o.clearTimeout(b.C),b.C=null)}function Uu(b,O){var V=null;if(b.g==O){zu(b),wc(b),b.g=null;var Q=2}else if(za(b.h,O))V=O.G,mc(b.h,O),Q=1;else return;if(b.I!=0){if(O.o)if(Q==1){V=O.u?O.u.length:0,O=Date.now()-O.F;var Se=b.D;Q=Tt(),ut(Q,new Rt(Q,V)),co(b)}else Yn(b);else if(Se=O.m,Se==3||Se==0&&O.X>0||!(Q==1&&Tp(b,O)||Q==2&&Si(b)))switch(V&&V.length>0&&(O=b.h,O.i=O.i.concat(V)),Se){case 1:Gs(b,5);break;case 4:Gs(b,10);break;case 3:Gs(b,6);break;default:Gs(b,2)}}}function Wu(b,O){let V=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(V*=2),V*O}function Gs(b,O){if(b.j.info("Error code "+O),O==2){var V=d(b.bb,b),Q=b.Ua;const Se=!Q;Q=new pi(Q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||pc(Q,"https"),ao(Q),Se?xi(Q.toString(),V):bi(Q.toString(),V)}else Ye(2);b.I=0,b.l&&b.l.pa(O),jc(b),Vu(b)}e.bb=function(b){b?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function jc(b){if(b.I=0,b.ja=[],b.l){const O=Us(b.h);(O.length!=0||b.i.length!=0)&&(x(b.ja,O),x(b.ja,b.i),b.h.i.length=0,v(b.i),b.i.length=0),b.l.oa()}}function Fh(b,O,V){var Q=V instanceof pi?fa(V):new pi(V);if(Q.g!="")O&&(Q.g=O+"."+Q.g),gi(Q,Q.u);else{var Se=o.location;Q=Se.protocol,O=O?O+"."+Se.hostname:Se.hostname,Se=+Se.port;const Te=new pi(null);Q&&pc(Te,Q),O&&(Te.g=O),Se&&gi(Te,Se),V&&(Te.h=V),Q=Te}return V=b.G,O=b.wa,V&&O&&er(Q,V,O),er(Q,"VER",b.ka),Ni(b,Q),Q}function Mp(b,O,V){if(O&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return O=b.Aa&&!b.ma?new gr(new io({ab:V})):new gr(b.ma),O.Fa(b.L),O}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function _p(){}e=_p.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function As(b,O){Be.call(this),this.g=new $u(O),this.l=b,this.h=O&&O.messageUrlParams||null,b=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(b?b["X-WebChannel-Content-Type"]=O.messageContentType:b={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.sa&&(b?b["X-WebChannel-Client-Profile"]=O.sa:b={"X-WebChannel-Client-Profile":O.sa}),this.g.U=b,(b=O&&O.Qb)&&!$(b)&&(this.g.u=b),this.A=O&&O.supportsCrossDomainXhr||!1,this.v=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!$(O)&&(this.g.G=O,b=this.h,b!==null&&O in b&&(b=this.h,O in b&&delete b[O])),this.j=new ul(this)}m(As,Be),As.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},As.prototype.close=function(){Bu(this.g)},As.prototype.o=function(b){var O=this.g;if(typeof b=="string"){var V={};V.__data__=b,b=V}else this.v&&(V={},V.__data__=Xe(b),b=V);O.i.push(new Du(O.Ya++,b)),O.I==3&&co(O)},As.prototype.N=function(){this.g.l=null,delete this.j,Bu(this.g),delete this.g,As.Z.N.call(this)};function Hu(b){$e.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var O=b.__sm__;if(O){e:{for(const V in O){b=V;break e}b=void 0}(this.i=b)&&(b=this.i,O=O!==null&&b in O?O[b]:void 0),this.data=O}else this.data=b}m(Hu,$e);function Dp(){Bt.call(this),this.status=1}m(Dp,Bt);function ul(b){this.g=b}m(ul,_p),ul.prototype.ra=function(){ut(this.g,"a")},ul.prototype.qa=function(b){ut(this.g,new Hu(b))},ul.prototype.pa=function(b){ut(this.g,new Dp)},ul.prototype.oa=function(){ut(this.g,"b")},As.prototype.send=As.prototype.o,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,Dt.COMPLETE="complete",It.EventType=Le,Le.OPEN="a",Le.CLOSE="b",Le.ERROR="c",Le.MESSAGE="d",Be.prototype.listen=Be.prototype.J,gr.prototype.listenOnce=gr.prototype.K,gr.prototype.getLastError=gr.prototype.Ha,gr.prototype.getLastErrorCode=gr.prototype.ya,gr.prototype.getStatus=gr.prototype.ca,gr.prototype.getResponseJson=gr.prototype.La,gr.prototype.getResponseText=gr.prototype.la,gr.prototype.send=gr.prototype.ea,gr.prototype.setWithCredentials=gr.prototype.Fa}).apply(typeof Mg<"u"?Mg:typeof self<"u"?self:typeof window<"u"?window:{});const FE="@firebase/firestore",$E="4.9.2";let hs=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};hs.UNAUTHENTICATED=new hs(null),hs.GOOGLE_CREDENTIALS=new hs("google-credentials-uid"),hs.FIRST_PARTY=new hs("first-party-uid"),hs.MOCK_USER=new hs("mock-user");let $m="12.3.0";const Wd=new hx("@firebase/firestore");function ii(e,...t){if(Wd.logLevel<=tr.DEBUG){const r=t.map(yS);Wd.debug(`Firestore (${$m}): ${e}`,...r)}}function W3(e,...t){if(Wd.logLevel<=tr.ERROR){const r=t.map(yS);Wd.error(`Firestore (${$m}): ${e}`,...r)}}function jZ(e,...t){if(Wd.logLevel<=tr.WARN){const r=t.map(yS);Wd.warn(`Firestore (${$m}): ${e}`,...r)}}function yS(e){if(typeof e=="string")return e;try{return(function(r){return JSON.stringify(r)})(e)}catch{return e}}function tm(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,H3(e,n,r)}function H3(e,t,r){let n=`FIRESTORE (${$m}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw W3(n),new Error(n)}function Bf(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||H3(t,a,n)}const qt={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Gt extends La{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vf{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class q3{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(hs.UNAUTHENTICATED)))}shutdown(){}}class SZ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class kZ{constructor(t){this.t=t,this.currentUser=hs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Bf(this.o===void 0,42304);let n=this.i;const a=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let i=new Vf;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vf,t.enqueueRetryable((()=>a(this.currentUser)))};const o=()=>{const u=i;t.enqueueRetryable((async()=>{await u.promise,await a(this.currentUser)}))},l=u=>{ii("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ii("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vf)}}),0),o()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==t?(ii("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Bf(typeof n.accessToken=="string",31837,{l:n}),new q3(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bf(t===null||typeof t=="string",2055,{h:t}),new hs(t)}}class CZ{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=hs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AZ{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new CZ(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(hs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class BE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IZ{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ea(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Bf(this.o===void 0,3512);const n=i=>{i.error!=null&&ii("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ii("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>n(i)))};const a=i=>{ii("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>a(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):ii("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new BE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(Bf(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new BE(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PZ(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}class EZ{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=PZ(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function Zl(e,t){return e<t?-1:e>t?1:0}function TZ(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const a=e.charAt(n),i=t.charAt(n);if(a!==i)return xw(a)===xw(i)?Zl(a,i):xw(a)?1:-1}return Zl(e.length,t.length)}const MZ=55296,_Z=57343;function xw(e){const t=e.charCodeAt(0);return t>=MZ&&t<=_Z}const VE="__name__";class _i{constructor(t,r,n){r===void 0?r=0:r>t.length&&tm(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&tm(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return _i.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof _i?t.forEach((n=>{r.push(n)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=_i.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Zl(t.length,r.length)}static compareSegments(t,r){const n=_i.isNumericId(t),a=_i.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?_i.extractNumericId(t).compare(_i.extractNumericId(r)):TZ(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return gS.fromString(t.substring(4,t.length-2))}}class Ja extends _i{construct(t,r,n){return new Ja(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Gt(qt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((a=>a.length>0)))}return new Ja(r)}static emptyPath(){return new Ja([])}}const DZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wc extends _i{construct(t,r,n){return new Wc(t,r,n)}static isValidIdentifier(t){return DZ.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wc.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VE}static keyField(){return new Wc([VE])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Gt(qt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;a<t.length;){const l=t[a];if(l==="\\"){if(a+1===t.length)throw new Gt(qt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Gt(qt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=u,a+=2}else l==="`"?(o=!o,a++):l!=="."||o?(n+=l,a++):(i(),a++)}if(i(),o)throw new Gt(qt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Wc(r)}static emptyPath(){return new Wc([])}}class Kc{constructor(t){this.path=t}static fromPath(t){return new Kc(Ja.fromString(t))}static fromName(t){return new Kc(Ja.fromString(t).popFirst(5))}static empty(){return new Kc(Ja.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ja.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ja.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Kc(new Ja(t.slice()))}}function OZ(e,t,r,n){if(t===!0&&n===!0)throw new Gt(qt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function RZ(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function LZ(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":tm(12329,{type:typeof e})}function FZ(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gt(qt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=LZ(e);throw new Gt(qt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function an(e,t){const r={typeString:e};return t&&(r.value=t),r}function Bm(e,t){if(!RZ(e))throw new Gt(qt.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const a=t[n].typeString,i="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const o=e[n];if(a&&typeof o!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(i!==void 0&&o!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new Gt(qt.INVALID_ARGUMENT,r);return!0}const zE=-62135596800,UE=1e6;class Di{static now(){return Di.fromMillis(Date.now())}static fromDate(t){return Di.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*UE);return new Di(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Gt(qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Gt(qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<zE)throw new Gt(qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gt(qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UE}_compareTo(t){return this.seconds===t.seconds?Zl(this.nanoseconds,t.nanoseconds):Zl(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Di._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bm(t,Di._jsonSchema))return new Di(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-zE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Di._jsonSchemaVersion="firestore/timestamp/1.0",Di._jsonSchema={type:an("string",Di._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};function $Z(e){return e.name==="IndexedDbTransactionError"}class BZ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pu{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new BZ("Invalid base64 string: "+i):i}})(t);return new pu(r)}static fromUint8Array(t){const r=(function(a){let i="";for(let o=0;o<a.length;++o)i+=String.fromCharCode(a[o]);return i})(t);return new pu(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zl(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pu.EMPTY_BYTE_STRING=new pu("");const X1="(default)";class Uy{constructor(t,r){this.projectId=t,this.database=r||X1}static empty(){return new Uy("","")}get isDefaultDatabase(){return this.database===X1}isEqual(t){return t instanceof Uy&&t.projectId===this.projectId&&t.database===this.database}}class VZ{constructor(t,r=null,n=[],a=[],i=null,o="F",l=null,u=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zZ(e){return new VZ(e)}var WE,Ht;(Ht=WE||(WE={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";new gS([4294967295,4294967295],0);const UZ=41943040;const WZ=1048576;function bw(){return typeof document<"u"?document:null}class HZ{constructor(t,r,n=1e3,a=1.5,i=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&ii("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}class vS{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Vf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const o=Date.now()+n,l=new vS(t,r,o,a,i);return l.start(n),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Gt(qt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var HE,qE;(qE=HE||(HE={})).Ma="default",qE.Cache="cache";function qZ(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const GE=new Map;const G3="firestore.googleapis.com",KE=!0;class YE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Gt(qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G3,this.ssl=KE}else this.host=t.host,this.ssl=t.ssl??KE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UZ;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WZ)throw new Gt(qt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OZ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qZ(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Gt(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Gt(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Gt(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class K3{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Gt(qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Gt(qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new NZ;switch(n.type){case"firstParty":return new AZ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Gt(qt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=GE.get(r);n&&(ii("ComponentProvider","Removing Datastore"),GE.delete(r),n.terminate())})(this),Promise.resolve()}}function GZ(e,t,r,n={}){e=FZ(e,K3);const a=oh(t),i=e._getSettings(),o={...i,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${r}`;a&&(Y2(`https://${l}`),Z2("Firestore",!0)),i.host!==G3&&i.host!==l&&jZ("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:a,emulatorOptions:n};if(!Yl(u,o)&&(e._setSettings(u),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=hs.MOCK_USER;else{d=DL(n.mockUserToken,e._app?.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new Gt(qt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new hs(m)}e._authCredentials=new SZ(new q3(d,f))}}class xS{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new xS(this.firestore,t,this._query)}}class Fi{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bS(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fi(this.firestore,t,this._key)}toJSON(){return{type:Fi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Bm(r,Fi._jsonSchema))return new Fi(t,n||null,new Kc(Ja.fromString(r.referencePath)))}}Fi._jsonSchemaVersion="firestore/documentReference/1.0",Fi._jsonSchema={type:an("string",Fi._jsonSchemaVersion),referencePath:an("string")};class bS extends xS{constructor(t,r,n){super(t,r,zZ(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fi(this.firestore,null,new Kc(t))}withConverter(t){return new bS(this.firestore,t,this._path)}}const ZE="AsyncQueue";class QE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HZ(this,"async_queue_retry"),this._c=()=>{const n=bw();n&&ii(ZE,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=bw();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=bw();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Vf;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!$Z(t))throw t;ii(ZE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,W3("INTERNAL UNHANDLED ERROR: ",XE(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const a=vS.createAndSchedule(this,t,r,n,(i=>this.hc(i)));return this.tc.push(a),a}uc(){this.nc&&tm(47125,{Pc:XE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function XE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class KZ extends K3{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new QE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new QE(t),this._firestoreClient=void 0,await t}}}function YZ(e,t){const r=typeof e=="object"?e:Dm(),n=typeof e=="string"?e:X1,a=Xo(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=TL("firestore");i&&GZ(a,...i)}return a}class Co{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Co(pu.fromBase64String(t))}catch(r){throw new Gt(qt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Co(pu.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Co._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bm(t,Co._jsonSchema))return Co.fromBase64String(t.bytes)}}Co._jsonSchemaVersion="firestore/bytes/1.0",Co._jsonSchema={type:an("string",Co._jsonSchemaVersion),bytes:an("string")};class Y3{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Gt(qt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wc(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nu{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Gt(qt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Gt(qt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Zl(this._lat,t._lat)||Zl(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nu._jsonSchemaVersion}}static fromJSON(t){if(Bm(t,nu._jsonSchema))return new nu(t.latitude,t.longitude)}}nu._jsonSchemaVersion="firestore/geoPoint/1.0",nu._jsonSchema={type:an("string",nu._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};class su{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:su._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bm(t,su._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new su(t.vectorValues);throw new Gt(qt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}su._jsonSchemaVersion="firestore/vectorValue/1.0",su._jsonSchema={type:an("string",su._jsonSchemaVersion),vectorValues:an("object")};const ZZ=new RegExp("[~\\*/\\[\\]]");function QZ(e,t,r){if(t.search(ZZ)>=0)throw JE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new Y3(...t.split("."))._internalPath}catch{throw JE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function JE(e,t,r,n,a){let i=`Function ${t}() called with invalid data`;i+=". ";let o="";return new Gt(qt.INVALID_ARGUMENT,i+e+o)}class Z3{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Fi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Q3("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class XZ extends Z3{data(){return super.data()}}function Q3(e,t){return typeof t=="string"?QZ(e,t):t instanceof Y3?t._internalPath:t._delegate._internalPath}class _g{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ld extends Z3{constructor(t,r,n,a,i,o){super(t,r,n,a,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new yy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(Q3("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Gt(qt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Ld._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ld._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ld._jsonSchema={type:an("string",Ld._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class yy extends Ld{data(t={}){return super.data(t)}}class zf{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new _g(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((n=>{t.call(r,new yy(this._firestore,this._userDataWriter,n.key,n,new _g(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Gt(qt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,i){if(a._snapshot.oldDocs.isEmpty()){let o=0;return a._snapshot.docChanges.map((l=>{const u=new yy(a._firestore,a._userDataWriter,l.doc.key,l.doc,new _g(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const u=new yy(a._firestore,a._userDataWriter,l.doc.key,l.doc,new _g(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:JZ(l.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Gt(qt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zf._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=EZ.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach((i=>{i._document!==null&&(r.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function JZ(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tm(61501,{type:e})}}zf._jsonSchemaVersion="firestore/querySnapshot/1.0",zf._jsonSchema={type:an("string",zf._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};(function(t,r=!0){(function(a){$m=a})(Au),ia(new $s("firestore",((n,{instanceIdentifier:a,options:i})=>{const o=n.getProvider("app").getImmediate(),l=new KZ(new kZ(n.getProvider("auth-internal")),new IZ(o,n.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Gt(qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uy(d.options.projectId,f)})(o,a),o);return i={useFetchStreams:r,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),as(FE,$E,t),as(FE,$E,"esm2020")})();const X3="firebasestorage.googleapis.com",eQ="storageBucket",tQ=120*1e3,rQ=600*1e3;class no extends La{constructor(t,r,n=0){super(ww(t),`Firebase Storage: ${r} (${ww(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,no.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ww(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zi;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zi||(Zi={}));function ww(e){return"storage/"+e}function nQ(){const e="An unknown error occurred, please check the error payload for server response.";return new no(Zi.UNKNOWN,e)}function sQ(){return new no(Zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aQ(){return new no(Zi.CANCELED,"User canceled the upload/download.")}function iQ(e){return new no(Zi.INVALID_URL,"Invalid URL '"+e+"'.")}function oQ(e){return new no(Zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function eT(e){return new no(Zi.INVALID_ARGUMENT,e)}function J3(){return new no(Zi.APP_DELETED,"The Firebase app was deleted.")}function lQ(e){return new no(Zi.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class oi{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=oi.makeFromUrl(t,r)}catch{return new oi(t,"")}if(n.path==="")return n;throw oQ(t)}static makeFromUrl(t,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+a+o,"i"),u={bucket:1,path:3};function d(R){R.path_=decodeURIComponent(R.path)}const f="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${f}/b/${a}/o${p}`,"i"),x={bucket:1,path:3},j=r===X3?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",S=new RegExp(`^https?://${j}/${a}/${w}`,"i"),k=[{regex:l,indices:u,postModify:i},{regex:v,indices:x,postModify:d},{regex:S,indices:{bucket:1,path:2},postModify:d}];for(let R=0;R<k.length;R++){const I=k[R],L=I.regex.exec(t);if(L){const E=L[I.indices.bucket];let C=L[I.indices.path];C||(C=""),n=new oi(E,C),I.postModify(n);break}}if(n==null)throw iQ(t);return n}}class cQ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function uQ(e,t,r){let n=1,a=null,i=null,o=!1,l=0;function u(){return l===2}let d=!1;function f(...w){d||(d=!0,t.apply(null,w))}function m(w){a=setTimeout(()=>{a=null,e(v,u())},w)}function p(){i&&clearTimeout(i)}function v(w,...S){if(d){p();return}if(w){p(),f.call(null,w,...S);return}if(u()||o){p(),f.call(null,w,...S);return}n<64&&(n*=2);let k;l===1?(l=2,k=0):k=(n+Math.random())*1e3,m(k)}let x=!1;function j(w){x||(x=!0,p(),!d&&(a!==null?(w||(l=2),clearTimeout(a),m(0)):w||(l=1)))}return m(0),i=setTimeout(()=>{o=!0,j(!0)},r),j}function dQ(e){e(!1)}function hQ(e){return e!==void 0}function tT(e,t,r,n){if(n<t)throw eT(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw eT(`Invalid value for '${e}'. Expected ${r} or less.`)}function fQ(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const a=t(n)+"="+t(e[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var Wy;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Wy||(Wy={}));function mQ(e,t){const r=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return r||a||i}class pQ{constructor(t,r,n,a,i,o,l,u,d,f,m,p=!0,v=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,j)=>{this.resolve_=x,this.reject_=j,this.start_()})}start_(){const t=(n,a)=>{if(a){n(!1,new Dg(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Wy.NO_ERROR,u=i.getStatus();if(!l||mQ(u,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===Wy.ABORT;n(!1,new Dg(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;n(!0,new Dg(d,i))})},r=(n,a)=>{const i=this.resolve_,o=this.reject_,l=a.connection;if(a.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());hQ(u)?i(u):i()}catch(u){o(u)}else if(l!==null){const u=nQ();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(a.canceled){const u=this.appDelete_?J3():aQ();o(u)}else{const u=sQ();o(u)}};this.canceled_?r(!1,new Dg(!1,null,!0)):this.backoffId_=uQ(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&dQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dg{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function gQ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function yQ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function vQ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function xQ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function bQ(e,t,r,n,a,i,o=!0,l=!1){const u=fQ(e.urlParams),d=e.url+u,f=Object.assign({},e.headers);return vQ(f,t),gQ(f,r),yQ(f,i),xQ(f,n),new pQ(d,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,o,l)}function wQ(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function jQ(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}class Hy{constructor(t,r){this._service=t,r instanceof oi?this._location=r:this._location=oi.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Hy(t,r)}get root(){const t=new oi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jQ(this._location.path)}get storage(){return this._service}get parent(){const t=wQ(this._location.path);if(t===null)return null;const r=new oi(this._location.bucket,t);return new Hy(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw lQ(t)}}function rT(e,t){const r=t?.[eQ];return r==null?null:oi.makeFromBucketSpec(r,e)}function NQ(e,t,r,n={}){e.host=`${t}:${r}`;const a=oh(t);a&&(Y2(`https://${e.host}/b`),Z2("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:i}=n;i&&(e._overrideAuthToken=typeof i=="string"?i:DL(i,e.app.options.projectId))}class SQ{constructor(t,r,n,a,i,o=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=X3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tQ,this._maxUploadRetryTime=rQ,this._requests=new Set,a!=null?this._bucket=oi.makeFromBucketSpec(a,this._host):this._bucket=rT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=oi.makeFromBucketSpec(this._url,t):this._bucket=rT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){tT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){tT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Hy(this,t)}_makeRequest(t,r,n,a,i=!0){if(this._deleted)return new cQ(J3());{const o=bQ(t,this._appId,n,a,r,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,a).getPromise()}}const nT="@firebase/storage",sT="0.14.0";const e5="storage";function kQ(e=Dm(),t){e=da(e);const n=Xo(e,e5).getImmediate({identifier:t}),a=TL("storage");return a&&CQ(n,...a),n}function CQ(e,t,r,n={}){NQ(e,t,r,n)}function AQ(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new SQ(r,n,a,t,Au)}function IQ(){ia(new $s(e5,AQ,"PUBLIC").setMultipleInstances(!0)),as(nT,sT,""),as(nT,sT,"esm2020")}IQ();const PQ="/firebase-messaging-sw.js",EQ="/firebase-cloud-messaging-push-scope",t5="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",TQ="https://fcmregistrations.googleapis.com/v1",r5="google.c.a.c_id",MQ="google.c.a.c_l",_Q="google.c.a.ts",DQ="google.c.a.e",aT=1e4;var iT;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(iT||(iT={}));var rm;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(rm||(rm={}));function So(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function OQ(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),a=new Uint8Array(n.length);for(let i=0;i<n.length;++i)a[i]=n.charCodeAt(i);return a}const jw="fcm_token_details_db",RQ=5,oT="fcm_token_object_Store";async function LQ(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(jw))return null;let t=null;return(await fx(jw,RQ,{upgrade:async(n,a,i,o)=>{if(a<2||!n.objectStoreNames.contains(oT))return;const l=o.objectStore(oT),u=await l.index("fcmSenderId").get(e);if(await l.clear(),!!u){if(a===2){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:d.createTime??Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:So(d.vapidKey)}}}else if(a===3){const d=u;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:So(d.auth),p256dh:So(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:So(d.vapidKey)}}}else if(a===4){const d=u;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:So(d.auth),p256dh:So(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:So(d.vapidKey)}}}}}})).close(),await dw(jw),await dw("fcm_vapid_details_db"),await dw("undefined"),FQ(t)?t:null}function FQ(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const $Q="firebase-messaging-database",BQ=1,nm="firebase-messaging-store";let Nw=null;function n5(){return Nw||(Nw=fx($Q,BQ,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(nm)}}})),Nw}async function VQ(e){const t=s5(e),n=await(await n5()).transaction(nm).objectStore(nm).get(t);if(n)return n;{const a=await LQ(e.appConfig.senderId);if(a)return await wS(e,a),a}}async function wS(e,t){const r=s5(e),a=(await n5()).transaction(nm,"readwrite");return await a.objectStore(nm).put(t,r),await a.done,t}function s5({appConfig:e}){return e.appId}const zQ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},is=new oc("messaging","Messaging",zQ);async function UQ(e,t){const r=await NS(e),n=a5(t),a={method:"POST",headers:r,body:JSON.stringify(n)};let i;try{i=await(await fetch(jS(e.appConfig),a)).json()}catch(o){throw is.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(i.error){const o=i.error.message;throw is.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw is.create("token-subscribe-no-token");return i.token}async function WQ(e,t){const r=await NS(e),n=a5(t.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(n)};let i;try{i=await(await fetch(`${jS(e.appConfig)}/${t.token}`,a)).json()}catch(o){throw is.create("token-update-failed",{errorInfo:o?.toString()})}if(i.error){const o=i.error.message;throw is.create("token-update-failed",{errorInfo:o})}if(!i.token)throw is.create("token-update-no-token");return i.token}async function HQ(e,t){const n={method:"DELETE",headers:await NS(e)};try{const i=await(await fetch(`${jS(e.appConfig)}/${t}`,n)).json();if(i.error){const o=i.error.message;throw is.create("token-unsubscribe-failed",{errorInfo:o})}}catch(a){throw is.create("token-unsubscribe-failed",{errorInfo:a?.toString()})}}function jS({projectId:e}){return`${TQ}/projects/${e}/registrations`}async function NS({appConfig:e,installations:t}){const r=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function a5({p256dh:e,auth:t,endpoint:r,vapidKey:n}){const a={web:{endpoint:r,auth:t,p256dh:e}};return n!==t5&&(a.web.applicationPubKey=n),a}const qQ=10080*60*1e3;async function GQ(e){const t=await YQ(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:So(t.getKey("auth")),p256dh:So(t.getKey("p256dh"))},n=await VQ(e.firebaseDependencies);if(n){if(ZQ(n.subscriptionOptions,r))return Date.now()>=n.createTime+qQ?KQ(e,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await HQ(e.firebaseDependencies,n.token)}catch(a){console.warn(a)}return lT(e.firebaseDependencies,r)}else return lT(e.firebaseDependencies,r)}async function KQ(e,t){try{const r=await WQ(e.firebaseDependencies,t),n={...t,token:r,createTime:Date.now()};return await wS(e.firebaseDependencies,n),r}catch(r){throw r}}async function lT(e,t){const n={token:await UQ(e,t),createTime:Date.now(),subscriptionOptions:t};return await wS(e,n),n.token}async function YQ(e,t){const r=await e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:OQ(t)})}function ZQ(e,t){const r=t.vapidKey===e.vapidKey,n=t.endpoint===e.endpoint,a=t.auth===e.auth,i=t.p256dh===e.p256dh;return r&&n&&a&&i}function cT(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return QQ(t,e),XQ(t,e),JQ(t,e),t}function QQ(e,t){if(!t.notification)return;e.notification={};const r=t.notification.title;r&&(e.notification.title=r);const n=t.notification.body;n&&(e.notification.body=n);const a=t.notification.image;a&&(e.notification.image=a);const i=t.notification.icon;i&&(e.notification.icon=i)}function XQ(e,t){t.data&&(e.data=t.data)}function JQ(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const r=t.fcmOptions?.link??t.notification?.click_action;r&&(e.fcmOptions.link=r);const n=t.fcmOptions?.analytics_label;n&&(e.fcmOptions.analyticsLabel=n)}function eX(e){return typeof e=="object"&&!!e&&r5 in e}function tX(e){if(!e||!e.options)throw Sw("App Configuration Object");if(!e.name)throw Sw("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const n of t)if(!r[n])throw Sw(n);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function Sw(e){return is.create("missing-app-config-values",{valueName:e})}class rX{constructor(t,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=tX(t);this.firebaseDependencies={app:t,appConfig:a,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function nX(e){try{e.swRegistration=await navigator.serviceWorker.register(PQ,{scope:EQ}),e.swRegistration.update().catch(()=>{}),await sX(e.swRegistration)}catch(t){throw is.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function sX(e){return new Promise((t,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${aT} ms`)),aT),a=e.installing||e.waiting;e.active?(clearTimeout(n),t()):a?a.onstatechange=i=>{i.target?.state==="activated"&&(a.onstatechange=null,clearTimeout(n),t())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}async function aX(e,t){if(!t&&!e.swRegistration&&await nX(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw is.create("invalid-sw-registration");e.swRegistration=t}}async function iX(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=t5)}async function i5(e,t){if(!navigator)throw is.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw is.create("permission-blocked");return await iX(e,t?.vapidKey),await aX(e,t?.serviceWorkerRegistration),GQ(e)}async function oX(e,t,r){const n=lX(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[r5],message_name:r[MQ],message_time:r[_Q],message_device_time:Math.floor(Date.now()/1e3)})}function lX(e){switch(e){case rm.NOTIFICATION_CLICKED:return"notification_open";case rm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function cX(e,t){const r=t.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===rm.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(cT(r)):e.onMessageHandler.next(cT(r)));const n=r.data;eX(n)&&n[DQ]==="1"&&await oX(e,r.messageType,n)}const uT="@firebase/messaging",dT="0.12.23";const uX=e=>{const t=new rX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>cX(t,r)),t},dX=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:n=>i5(t,n)}};function hX(){ia(new $s("messaging",uX,"PUBLIC")),ia(new $s("messaging-internal",dX,"PRIVATE")),as(uT,dT),as(uT,dT,"esm2020")}async function fX(){try{await X2()}catch{return!1}return typeof window<"u"&&Q2()&&RL()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function mX(e,t){if(!navigator)throw is.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}function pX(e=Dm()){return fX().then(t=>{if(!t)throw is.create("unsupported-browser")},t=>{throw is.create("indexed-db-unsupported")}),Xo(da(e),"messaging").getImmediate()}async function gX(e,t){return e=da(e),i5(e,t)}function yX(e,t){return e=da(e),mX(e,t)}hX();const vX={apiKey:"AIzaSyCUEfJCSWFJNz7tUZMR7G77avJoSnq-dRA",authDomain:"syni-wedding.firebaseapp.com",projectId:"syni-wedding",storageBucket:"syni-wedding.firebasestorage.app",messagingSenderId:"283656730657",appId:"1:283656730657:web:650a25624659825f18cb60",measurementId:"G-JMPPZS6TS4"},Vm=$L(vX);let J1=null;if(typeof window<"u")try{J1=wK(Vm)}catch(e){console.warn("Firebase Analytics initialization failed:",e)}const qy=bZ(Vm);YZ(Vm);kQ(Vm);const Gy=new ei;let sm=null;if(typeof window<"u"&&"serviceWorker"in navigator)try{sm=pX(Vm)}catch(e){console.warn("Firebase Messaging initialization failed:",e)}const xX=async()=>{if(!sm)return console.warn("Firebase Messaging is not available"),null;try{if("serviceWorker"in navigator)try{let r=(await navigator.serviceWorker.getRegistrations()).find(n=>n.active?.scriptURL?.includes("firebase-messaging-sw.js"));r||(r=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),console.log("Service Worker registered:",r))}catch(t){return console.warn("Service Worker registration failed:",t.message),null}if(await Notification.requestPermission()==="granted")try{const t=await navigator.serviceWorker.ready;return await gX(sm,{vapidKey:"",serviceWorkerRegistration:t})}catch(t){return console.warn("Failed to get FCM token:",t.message),null}else return console.warn("Notification permission denied"),null}catch(e){return console.warn("Error getting FCM token:",e.message),null}},bX=()=>sm?new Promise(e=>{yX(sm,t=>{e(t)})}):Promise.reject(new Error("Firebase Messaging is not available")),wX="https://shubhvenue.com/api",At=async(e,t={})=>{const r=localStorage.getItem("token"),n={"Content-Type":"application/json",...t.headers};r&&(n.Authorization=`Bearer ${r}`);try{const a=await fetch(`${wX}${e}`,{...t,headers:n});if(a.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user")),!a.ok){const i=await a.json().catch(()=>({message:"Request failed"}));throw new Error(i.message||i.error||"Request failed")}return{data:await a.json(),status:a.status}}catch(a){throw a}},jX={getAll:()=>At("/videos"),getById:e=>At(`/videos/${e}`)},NX={getAll:()=>At("/testimonials"),getById:e=>At(`/testimonials/${e}`)},SX={getAll:()=>At("/faqs"),getById:e=>At(`/faqs/${e}`)},o5={get:()=>At("/company")},xx={getByType:e=>At(`/legal-pages/${e}`)},hT={submit:e=>At("/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),getById:e=>At(`/contact/${e}`),getByEmail:e=>At(`/contact/by-email?email=${encodeURIComponent(e)}`)},l5={getAll:e=>{const t=e?new URLSearchParams(e).toString():"";return At(`/categories${t?`?${t}`:""}`)},getById:e=>At(`/categories/${e}`)},kX={getAll:()=>At("/admin/vendor-categories/public")},ns={getAll:e=>{const t=e?new URLSearchParams(e).toString():"";return At(`/vendor/venues${t?`?${t}`:""}`)},getById:e=>At(`/vendor/venues/${e}`),search:e=>{const t=e?new URLSearchParams(e).toString():"";return At(`/vendor/venues/search${t?`?${t}`:""}`)},getStates:()=>At("/vendor/venues/states"),getCities:e=>{const t=e?`?state=${encodeURIComponent(e)}`:"";return At(`/vendor/venues/cities${t}`)},getSearchSuggestions:(e,t=10)=>{const r=e?`?q=${encodeURIComponent(e)}&limit=${t}`:"";return At(`/vendor/venues/search/suggestions${r}`)}},Ky={login:(e,t)=>At("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})}),register:e=>At("/auth/register",{method:"POST",body:JSON.stringify({...e,role:"customer"})}),googleLogin:(e,t="customer",r=null)=>At("/auth/google-login",{method:"POST",body:JSON.stringify({idToken:e,role:t,fcmToken:r})}),getProfile:()=>At("/auth/profile"),updateProfile:e=>At("/auth/profile",{method:"PUT",body:JSON.stringify(e)})},CX={create:(e,t,r)=>At("/reviews",{method:"POST",body:JSON.stringify({venueId:e,rating:t,comment:r})}),getByVenue:e=>At(`/reviews/venue/${e}`),getById:e=>At(`/reviews/${e}`),update:(e,t,r)=>At(`/reviews/${e}`,{method:"PUT",body:JSON.stringify({rating:t,comment:r})}),delete:e=>At(`/reviews/${e}`,{method:"DELETE"})},am={create:e=>At("/bookings",{method:"POST",body:JSON.stringify(e)}),getBookings:e=>{const t=e?new URLSearchParams(e).toString():"";return At(`/bookings${t?`?${t}`:""}`)},getById:e=>At(`/bookings/${e}`),updateStatus:(e,t)=>At(`/bookings/${e}/status`,{method:"PUT",body:JSON.stringify({status:t})}),checkAvailability:(e,t,r)=>Promise.resolve({data:{available:!0,message:"Dates available"},status:200})},c5={getConfig:()=>At("/payment/config"),createOrder:e=>At("/payment/create-order",{method:"POST",body:JSON.stringify(e)}),verify:e=>At("/payment/verify",{method:"POST",body:JSON.stringify(e)}),verifyForLead:e=>At("/payment/verify-lead",{method:"POST",body:JSON.stringify(e)})},fT={getMenus:e=>{const t=e?new URLSearchParams(e).toString():"";return At(`/menus${t?`?${t}`:""}`)},getSubmenus:e=>At(`/menus?parentMenuId=${e}`)},Yy={toggleLike:(e,t)=>At(`/shotlist/venue/${e}/like`,{method:"POST",body:JSON.stringify({deviceId:t})}),getAll:e=>{const t=e?`?deviceId=${encodeURIComponent(e)}`:"";return At(`/shotlist${t}`)},checkStatus:(e,t)=>{const r=t?`?deviceId=${encodeURIComponent(t)}`:"";return At(`/shotlist/venue/${e}/status${r}`)}};function AX({isSidebarOpen:e,toggleSidebar:t}){const r=xr(),[n,a]=g.useState(null),[i,o]=g.useState(!1),[l,u]=g.useState(!1),[d,f]=g.useState(""),[m,p]=g.useState(""),[v,x]=g.useState([]),[j,w]=g.useState([]),[S,P]=g.useState(""),[k,R]=g.useState(!1),[I,L]=g.useState(!1),[E,C]=g.useState([]),[F,_]=g.useState(!1),[T,M]=g.useState(!1),[$,J]=g.useState(null),q=g.useRef(null),[U,X]=g.useState(null),[B,Z]=g.useState(!1),[ne,W]=g.useState(!1),z=g.useRef(null),pe=g.useRef(null);g.useEffect(()=>()=>{q.current&&clearTimeout(q.current)},[]),g.useEffect(()=>{const K=()=>{const ae=localStorage.getItem("token"),ee=localStorage.getItem("user");if(ae&&ee)try{a(JSON.parse(ee))}catch(be){console.error("Error parsing user:",be)}else a(null)};K();const de=ae=>{ae.detail?.user?a(ae.detail.user):K()},te=()=>{a(null)},ye=ae=>{(ae.key==="user"||ae.key==="token")&&K()};return window.addEventListener("userLogin",de),window.addEventListener("userLogout",te),window.addEventListener("storage",ye),()=>{window.removeEventListener("userLogin",de),window.removeEventListener("userLogout",te),window.removeEventListener("storage",ye)}},[]);const oe=async()=>{try{o(!0);try{const K=await $3(qy,Gy),te=ei.credentialFromResult(K)?.idToken;if(te){const ye=await Ky.googleLogin(te,"customer");ye.data?.token&&ye.data?.user?(localStorage.setItem("token",ye.data.token),localStorage.setItem("user",JSON.stringify(ye.data.user)),a(ye.data.user),ye.data?.message?.includes("registered")||ye.data?.isNewUser?G.success("Registration successful! Welcome!"):G.success("Login successful!"),setTimeout(()=>{window.location.reload()},500)):G.error("Login failed. Please try again.")}o(!1)}catch(K){if(K.code==="auth/popup-closed-by-user"){o(!1);return}await z3(qy,Gy)}}catch(K){console.error("Google login error:",K),G.error(K.message||"Google login failed"),o(!1)}},Pe=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),u(!1),window.dispatchEvent(new CustomEvent("userLogout")),G.success("Logged out successfully"),setTimeout(()=>{window.location.reload()},500)};g.useEffect(()=>{const K=de=>{l&&!de.target.closest(".user-info-container")&&u(!1),$&&!de.target.closest(".nav-link-wrapper")&&J(null)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[l,$]),g.useEffect(()=>{(async()=>{try{R(!0);const de=await ns.getStates();if(de.data?.success&&de.data?.states){x(de.data.states);const te=de.data.states.find(ye=>ye.toLowerCase()==="rajasthan");te&&P(te)}}catch(de){console.error("Error loading states:",de)}finally{R(!1)}})()},[]),g.useEffect(()=>{(async()=>{if(!S||!S.trim()){w([]),p(""),L(!1);return}try{L(!0);const de=await ns.getCities(S);if(de.data?.success&&de.data?.cities)if(w(de.data.cities),S.toLowerCase()==="rajasthan"){const te=de.data.cities.find(ye=>ye.toLowerCase()==="kota");p(te||"")}else p("");else w([]),p("")}catch(de){console.error("Error loading cities:",de),w([]),p("")}finally{L(!1)}})()},[S]),g.useEffect(()=>{const K=(ye,ae=1e4)=>Promise.race([ye,new Promise((ee,be)=>setTimeout(()=>be(new Error("Request timeout")),ae))]),de=async()=>{try{_(!0);const ye=localStorage.getItem("menus_data"),ae=localStorage.getItem("menus_timestamp"),ee=1800*1e3;if(ye&&ae&&Date.now()-parseInt(ae,10)<ee)try{const he=JSON.parse(ye);if(Array.isArray(he)&&he.length>0){C(he),_(!1),te();return}}catch(he){console.error("Error parsing cached menus:",he)}await te()}catch(ye){console.error("Error loading menus:",ye);const ae=localStorage.getItem("menus_data");if(ae)try{const ee=JSON.parse(ae);if(Array.isArray(ee)&&ee.length>0){C(ee),_(!1);return}}catch(ee){console.error("Error parsing fallback cached menus:",ee)}G.error("Could not load categories. Please try again."),C([]),_(!1)}},te=async()=>{try{const ye=await K(fT.getMenus({active:"true",parentMenuId:null}));let ae=[];ye.data&&(ye.data.menus&&Array.isArray(ye.data.menus)?ae=ye.data.menus:Array.isArray(ye.data)?ae=ye.data:ye.data.success&&ye.data.menus&&(ae=ye.data.menus));const ee=await Promise.all(ae.map(async be=>{try{const he=await K(fT.getSubmenus(be._id||be.id));let xe=[];return he.data&&(he.data.menus&&Array.isArray(he.data.menus)?xe=he.data.menus:Array.isArray(he.data)?xe=he.data:he.data.success&&he.data.menus&&(xe=he.data.menus)),{...be,submenus:xe}}catch(he){return console.error(`Error loading submenus for menu ${be._id||be.id}:`,he),{...be,submenus:[]}}}));localStorage.setItem("menus_data",JSON.stringify(ee)),localStorage.setItem("menus_timestamp",Date.now().toString()),C(ee),_(!1)}catch(ye){throw console.error("Error fetching menus from API:",ye),ye}};de()},[]),g.useEffect(()=>{if(z.current&&clearTimeout(z.current),!d||d.trim().length<2){X(null),Z(!1);return}return z.current=setTimeout(async()=>{try{W(!0);const K=await ns.getSearchSuggestions(d.trim(),8);K.data?.success&&K.data?.suggestions?(X(K.data.suggestions),Z(!0)):(X(null),Z(!1))}catch{X(null),Z(!1)}finally{W(!1)}},300),()=>{z.current&&clearTimeout(z.current)}},[d]),g.useEffect(()=>{const K=de=>{pe.current&&!pe.current.contains(de.target)&&Z(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]);const ke=K=>{K.preventDefault(),Z(!1);const de={};d.trim()&&(de.q=d.trim()),m&&m.trim()&&(de.city=m.trim()),S&&S.trim()&&(de.state=S.trim()),r("/venues",{state:{searchParams:de}})},fe=(K,de)=>{if(K==="venue")f(de);else if(K==="city"){f(de);const te=j.find(ye=>ye.toLowerCase()===de.toLowerCase());te&&p(te)}else if(K==="state"){f(de);const te=v.find(ye=>ye.toLowerCase()===de.toLowerCase());te&&P(te)}else K==="tag"&&f(de);Z(!1),setTimeout(()=>{const te={q:de};m&&m.trim()&&(te.city=m.trim()),S&&S.trim()&&(te.state=S.trim()),r("/venues",{state:{searchParams:te}})},100)},ue=(K,de)=>{K.preventDefault(),K.stopPropagation(),console.log("Submenu clicked:",de);const te=de._id||de.id,ye=de.name;return console.log("Navigating with submenuId:",te,"submenuName:",ye),r(`/venues?submenuId=${te}&submenuName=${encodeURIComponent(ye)}`,{state:{submenuId:te,submenuName:ye}}),J(null),!1},re=(K,de)=>{K.preventDefault(),K.stopPropagation(),console.log("Menu clicked:",de);const te=de._id||de.id,ye=de.name;return console.log("Navigating with menuId:",te,"menuName:",ye),r(`/venues?menuId=${te}&menuName=${encodeURIComponent(ye)}`,{state:{menuId:te,menuName:ye}}),J(null),!1};return s.jsxs(s.Fragment,{children:[s.jsxs("nav",{className:"navbar",children:[s.jsxs("div",{className:"navbar-top",children:[s.jsx("div",{className:"navbar-left",children:s.jsxs("div",{className:"logo",onClick:()=>r("/"),style:{cursor:"pointer"},children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"logo-icon",loading:"eager",decoding:"async",onError:K=>{K.target.onerror=null,K.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("span",{className:"logo-text",children:"ShubhVenue"})]})}),s.jsx("div",{className:"navbar-center",children:s.jsxs("form",{className:"global-search",onSubmit:ke,children:[s.jsxs("select",{className:"state-dropdown",value:S||"",onChange:K=>{P(K.target.value),p("")},children:[s.jsx("option",{value:"",children:"Select State"}),k?s.jsx("option",{children:"Loading..."}):v.map(K=>s.jsx("option",{value:K,children:K},K))]}),s.jsxs("select",{className:"city-dropdown",value:m||"",onChange:K=>p(K.target.value),disabled:!S||!S.trim()||I,children:[s.jsx("option",{value:"",children:"Select City"}),I?s.jsx("option",{children:"Loading..."}):j.map(K=>s.jsx("option",{value:K,children:K},K))]}),s.jsxs("div",{className:"search-input-wrapper",ref:pe,children:[s.jsx("input",{type:"text",placeholder:"Search Venues by Name, Sub Area, City",className:"search-input",value:d,onChange:K=>{f(K.target.value),Z(!0)},onFocus:()=>{U&&(U.venues?.length>0||U.cities?.length>0||U.states?.length>0||U.tags?.length>0)&&Z(!0)}}),B&&U&&s.jsx("div",{className:"search-suggestions",children:ne?s.jsx("div",{className:"suggestion-item loading",children:"Loading suggestions..."}):s.jsxs(s.Fragment,{children:[U.venues&&U.venues.length>0&&s.jsxs("div",{className:"suggestion-group",children:[s.jsx("div",{className:"suggestion-group-title",children:"Venues"}),U.venues.map((K,de)=>s.jsxs("div",{className:"suggestion-item",onClick:()=>fe("venue",K),children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),s.jsx("span",{children:K})]},`venue-${de}`))]}),U.cities&&U.cities.length>0&&s.jsxs("div",{className:"suggestion-group",children:[s.jsx("div",{className:"suggestion-group-title",children:"Cities"}),U.cities.map((K,de)=>s.jsxs("div",{className:"suggestion-item",onClick:()=>fe("city",K),children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),s.jsx("span",{children:K})]},`city-${de}`))]}),U.states&&U.states.length>0&&s.jsxs("div",{className:"suggestion-group",children:[s.jsx("div",{className:"suggestion-group-title",children:"States"}),U.states.map((K,de)=>s.jsxs("div",{className:"suggestion-item",onClick:()=>fe("state",K),children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),s.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),s.jsx("span",{children:K})]},`state-${de}`))]}),U.tags&&U.tags.length>0&&s.jsxs("div",{className:"suggestion-group",children:[s.jsx("div",{className:"suggestion-group-title",children:"Tags"}),U.tags.map((K,de)=>s.jsxs("div",{className:"suggestion-item",onClick:()=>fe("tag",K),children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),s.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),s.jsx("span",{children:K})]},`tag-${de}`))]}),(!U.venues||U.venues.length===0)&&(!U.cities||U.cities.length===0)&&(!U.states||U.states.length===0)&&(!U.tags||U.tags.length===0)&&s.jsx("div",{className:"suggestion-item no-results",children:"No suggestions found"})]})})]}),s.jsx("button",{type:"submit",className:"search-btn",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.35-4.35"})]})})]})}),s.jsxs("div",{className:"navbar-right",children:[s.jsx("button",{type:"button",className:`mobile-search-btn ${T?"active":""}`,onClick:()=>M(K=>!K),"aria-label":"Search venues",children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"11",cy:"11",r:"7"}),s.jsx("path",{d:"m21 21-4.35-4.35"})]})}),n?s.jsxs("div",{className:"user-info-container",onClick:()=>r("/profile"),style:{cursor:"pointer"},children:[s.jsx("div",{className:"user-avatar",children:n.name?n.name.charAt(0).toUpperCase():n.email?.charAt(0).toUpperCase()||"U"}),s.jsx("span",{className:"user-name",children:n.name||n.email?.split("@")[0]}),s.jsx("button",{className:"btn-dropdown",onClick:K=>{K.stopPropagation(),u(!l)},title:"Menu",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})}),l&&s.jsxs("div",{className:"user-dropdown",onClick:K=>K.stopPropagation(),children:[s.jsxs("button",{className:"dropdown-item",onClick:K=>{K.stopPropagation(),u(!1),r("/profile")},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Profile"]}),s.jsxs("button",{className:"dropdown-item",onClick:K=>{K.stopPropagation(),u(!1),r("/shotlist")},children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),"Shotlist"]}),s.jsxs("button",{className:"dropdown-item",onClick:K=>{K.stopPropagation(),Pe()},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),s.jsx("polyline",{points:"16 17 21 12 16 7"}),s.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]}):s.jsxs("button",{className:"btn-login",onClick:oe,disabled:i,children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),i?"Logging in...":"Login with Google"]})]})]}),s.jsx("div",{className:"navbar-bottom",children:s.jsxs("div",{className:"nav-links",children:[s.jsx(Lc,{to:"/",className:"nav-link",children:"Home"}),F?s.jsx("span",{className:"nav-link nav-link-muted",children:"Loading categories..."}):E.map((K,de)=>{const te=K._id||K.id||de,ye=K.submenus&&K.submenus.length>0;return s.jsxs("div",{className:"nav-link-wrapper",onMouseEnter:()=>{q.current&&clearTimeout(q.current),J(te)},onMouseLeave:()=>{q.current&&clearTimeout(q.current),q.current=setTimeout(()=>J(null),150)},children:[s.jsxs("button",{type:"button",className:"nav-link nav-menu-trigger",onClick:ae=>{ye&&(ae.preventDefault(),J(te)),re(ae,K)},children:[K.name,ye&&s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),ye&&$===te&&s.jsx("div",{className:"submenu-dropdown",children:s.jsxs("ul",{className:"submenu-list",children:[s.jsx("li",{children:s.jsxs("button",{className:"submenu-item",onClick:ae=>re(ae,K),style:{fontWeight:"600",color:"var(--primary-purple)"},children:["All ",K.name]})}),K.submenus.map(ae=>s.jsx("li",{children:s.jsx("button",{className:"submenu-item",onClick:ee=>ue(ee,ae),children:ae.name})},ae._id||ae.id))]})})]},te)}),s.jsx(Lc,{to:"/booking-history",className:"nav-link",children:"Bookings"})]})})]}),T&&s.jsx("div",{className:"mobile-search-panel",children:s.jsxs("form",{className:"mobile-search-form",onSubmit:K=>{K.preventDefault(),ke(K),M(!1)},children:[s.jsxs("div",{className:"mobile-search-row",children:[s.jsxs("select",{className:"state-dropdown",value:S||"",onChange:K=>{P(K.target.value),p("")},children:[s.jsx("option",{value:"",children:"Select State"}),k?s.jsx("option",{children:"Loading..."}):v.map(K=>s.jsx("option",{value:K,children:K},K))]}),s.jsxs("select",{className:"city-dropdown",value:m||"",onChange:K=>p(K.target.value),disabled:!S||!S.trim()||I,children:[s.jsx("option",{value:"",children:"Select City"}),I?s.jsx("option",{children:"Loading..."}):j.map(K=>s.jsx("option",{value:K,children:K},K))]})]}),s.jsxs("div",{className:"mobile-search-row",children:[s.jsxs("div",{className:"search-input-wrapper",children:[s.jsx("input",{type:"text",placeholder:"Search Venues by Name, Sub Area, City",className:"search-input",value:d,onChange:K=>{f(K.target.value),Z(!0)},onFocus:()=>{U&&(U.venues?.length>0||U.cities?.length>0||U.states?.length>0||U.tags?.length>0)&&Z(!0)}}),B&&U&&s.jsx("div",{className:"search-suggestions mobile-suggestions",children:ne?s.jsx("div",{className:"suggestion-item loading",children:"Loading suggestions..."}):s.jsxs(s.Fragment,{children:[U.venues&&U.venues.length>0&&s.jsxs("div",{className:"suggestion-group",children:[s.jsx("div",{className:"suggestion-group-title",children:"Venues"}),U.venues.map((K,de)=>s.jsxs("div",{className:"suggestion-item",onClick:()=>{fe("venue",K),M(!1)},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),s.jsx("span",{children:K})]},`venue-${de}`))]}),U.cities&&U.cities.length>0&&s.jsxs("div",{className:"suggestion-group",children:[s.jsx("div",{className:"suggestion-group-title",children:"Cities"}),U.cities.map((K,de)=>s.jsxs("div",{className:"suggestion-item",onClick:()=>{fe("city",K),M(!1)},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),s.jsx("span",{children:K})]},`city-${de}`))]}),U.states&&U.states.length>0&&s.jsxs("div",{className:"suggestion-group",children:[s.jsx("div",{className:"suggestion-group-title",children:"States"}),U.states.map((K,de)=>s.jsxs("div",{className:"suggestion-item",onClick:()=>{fe("state",K),M(!1)},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),s.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),s.jsx("span",{children:K})]},`state-${de}`))]}),U.tags&&U.tags.length>0&&s.jsxs("div",{className:"suggestion-group",children:[s.jsx("div",{className:"suggestion-group-title",children:"Tags"}),U.tags.map((K,de)=>s.jsxs("div",{className:"suggestion-item",onClick:()=>{fe("tag",K),M(!1)},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),s.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),s.jsx("span",{children:K})]},`tag-${de}`))]}),(!U.venues||U.venues.length===0)&&(!U.cities||U.cities.length===0)&&(!U.states||U.states.length===0)&&(!U.tags||U.tags.length===0)&&s.jsx("div",{className:"suggestion-item no-results",children:"No suggestions found"})]})})]}),s.jsx("button",{type:"submit",className:"search-btn",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.35-4.35"})]})}),s.jsx("button",{type:"button",className:"mobile-search-close",onClick:()=>{M(!1),Z(!1)},"aria-label":"Close search",children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})}),s.jsxs("div",{className:"mobile-bottom-nav",children:[s.jsxs(Lc,{to:"/",className:({isActive:K})=>`mobile-nav-item ${K?"active":""}`,children:[s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M3 11.5L12 4l9 7.5"}),s.jsx("path",{d:"M5 10.5V20h14v-9.5"})]}),s.jsx("span",{children:"Home"})]}),s.jsxs(Lc,{to:"/booking-history",className:({isActive:K})=>`mobile-nav-item ${K?"active":""}`,children:[s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),s.jsx("path",{d:"M16 2v4"}),s.jsx("path",{d:"M8 2v4"}),s.jsx("path",{d:"M3 10h18"})]}),s.jsx("span",{children:"Bookings"})]})]}),s.jsx("div",{className:`sidebar-overlay ${e?"active":""}`,onClick:t}),s.jsxs("div",{className:`sidebar ${e?"active":""}`,children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsxs("div",{className:"logo",onClick:()=>{r("/"),t()},style:{cursor:"pointer"},children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"logo-icon",loading:"eager",decoding:"async",onError:K=>{K.target.onerror=null,K.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("span",{className:"logo-text",children:"ShubhVenue"})]}),s.jsx("button",{className:"close-btn",onClick:t,children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsxs("div",{className:"sidebar-content",children:[s.jsxs("div",{className:"sidebar-search",children:[s.jsxs("select",{className:"state-dropdown",value:S||"",onChange:K=>{P(K.target.value),p("")},children:[s.jsx("option",{value:"",children:"Select State"}),k?s.jsx("option",{children:"Loading..."}):v.map(K=>s.jsx("option",{value:K,children:K},K))]}),s.jsxs("select",{className:"city-dropdown",value:m||"",onChange:K=>p(K.target.value),disabled:!S||!S.trim()||I,children:[s.jsx("option",{value:"",children:"Select City"}),I?s.jsx("option",{children:"Loading..."}):j.map(K=>s.jsx("option",{value:K,children:K},K))]}),s.jsx("input",{type:"text",placeholder:"Search Venues by Name, Sub Area, City",className:"search-input",value:d,onChange:K=>f(K.target.value)}),s.jsx("button",{type:"button",className:"search-btn",onClick:K=>{K.preventDefault(),ke(K),t()},children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.35-4.35"})]})})]}),s.jsx("div",{className:"sidebar-buttons",children:n?s.jsxs("div",{className:"sidebar-user-info",children:[s.jsx("div",{className:"user-avatar",children:n.name?n.name.charAt(0).toUpperCase():n.email?.charAt(0).toUpperCase()||"U"}),s.jsx("span",{className:"user-name",children:n.name||n.email?.split("@")[0]}),s.jsxs("button",{className:"btn-logout",onClick:Pe,title:"Logout",children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),s.jsx("polyline",{points:"16 17 21 12 16 7"}),s.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]}):s.jsxs("button",{className:"btn-login",onClick:oe,disabled:i,children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),i?"Logging in...":"Login with Google"]})}),s.jsxs("div",{className:"sidebar-links",children:[s.jsx(Lc,{to:"/",className:"sidebar-link",onClick:t,children:"Home"}),s.jsx(Lc,{to:"/booking-history",className:"sidebar-link",onClick:t,children:"Bookings"})]})]})]})]})}function IX(){const{pathname:e}=Kn();return g.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e]),null}function PX({onLoadComplete:e}){const t=xr(),[r,n]=g.useState([]),[a,i]=g.useState(0),[o,l]=g.useState(null),u=g.useRef(null),[d,f]=g.useState(""),[m,p]=g.useState(""),[v,x]=g.useState([]),[j,w]=g.useState([]),[S,P]=g.useState(!1),k=g.useRef(!1),R=g.useRef(!1),I=g.useRef({videos:!0,cities:!0,categories:!0}),L=g.useRef(e);g.useEffect(()=>{L.current=e},[e]);const E=async()=>{try{P(!0);const J=await ns.getCities("Rajasthan");if(J.data?.success&&J.data?.cities){x(J.data.cities);const q=J.data.cities.find(U=>U.toLowerCase()==="kota");q&&f(q)}}catch(J){console.error("Error loading cities:",J)}finally{P(!1),I.current.cities=!1,F()}},C=async()=>{try{const J=await l5.getAll({active:"true"});J.data?.success&&J.data?.categories&&w(J.data.categories)}catch(J){console.error("Error loading categories:",J)}finally{I.current.categories=!1,F()}},F=()=>{Object.values(I.current).every(q=>!q)&&L.current&&!R.current&&(R.current=!0,L.current(!0))};g.useEffect(()=>{k.current||(k.current=!0,T(),E(),C())},[]);const _=()=>{const J={},q=new URLSearchParams;if(d&&d.trim()&&(J.city=d.trim(),J.state="Rajasthan",q.set("city",d.trim()),q.set("state","Rajasthan")),m){const X=j.find(B=>B.name===m);X&&(J.categoryId=X._id,q.set("categoryId",X._id),q.set("categoryName",encodeURIComponent(m)))}const U=q.toString();t(`/venues${U?`?${U}`:""}`,{state:{searchParams:J,categoryName:m||void 0,categoryId:J.categoryId||void 0}})},T=async()=>{try{const q=(await jX.getAll()).data?.videos||[];if(n(q),q.length>0){const U=q[0],X=M(U.video);l(X)}else l("https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4")}catch(J){console.error("Error fetching videos:",J),l("https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4")}finally{I.current.videos=!1,F()}},M=J=>J?J.startsWith("/uploads/")?`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${J}`:J.startsWith("http://")||J.startsWith("https://")?J:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}/uploads/videos/${J}`:null,$=()=>{if(r.length>1){const J=(a+1)%r.length;i(J);const q=r[J],U=M(q.video);l(U)}};return g.useEffect(()=>{if(u.current&&o){u.current.preload="auto",u.current.load();const J=()=>{u.current&&u.current.play().catch(q=>{console.error("Video play error:",q)})};return u.current.addEventListener("loadeddata",J),u.current.addEventListener("canplay",J),()=>{u.current&&(u.current.removeEventListener("loadeddata",J),u.current.removeEventListener("canplay",J))}}},[o]),s.jsxs("section",{className:"hero-section",children:[o?s.jsxs("video",{ref:u,className:"hero-video",autoPlay:!0,loop:r.length<=1,muted:!0,playsInline:!0,preload:"auto",disablePictureInPicture:!0,disableRemotePlayback:!0,onEnded:$,onError:J=>{console.error("Video load error:",J),l("https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4")},onLoadedMetadata:J=>{J.target&&J.target.play().catch(()=>{})},children:[s.jsx("source",{src:o,type:"video/mp4"}),"Your browser does not support the video tag."]}):s.jsxs("video",{className:"hero-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",disablePictureInPicture:!0,disableRemotePlayback:!0,children:[s.jsx("source",{src:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),s.jsx("div",{className:"hero-overlay"}),s.jsxs("div",{className:"hero-content",children:[s.jsx("h1",{className:"hero-title",children:"Find Your Perfect Event Venue"}),s.jsxs("div",{className:"hero-search",children:[s.jsxs("select",{className:"hero-select",value:d,onChange:J=>f(J.target.value),disabled:S,children:[s.jsx("option",{value:"",children:"Select City"}),S?s.jsx("option",{children:"Loading cities..."}):v.map(J=>s.jsx("option",{value:J,children:J},J))]}),s.jsxs("select",{className:"hero-select",value:m,onChange:J=>p(J.target.value),children:[s.jsx("option",{value:"",children:"Select Occasion"}),j.map(J=>s.jsx("option",{value:J.name,children:J.name},J._id))]}),s.jsx("button",{className:"hero-search-btn",onClick:_,children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.35-4.35"})]})})]})]})]})}function mT(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function SS(e={},t={}){const r=["__proto__","constructor","prototype"];Object.keys(t).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:mT(t[n])&&mT(e[n])&&Object.keys(t[n]).length>0&&SS(e[n],t[n])})}const u5={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Hi(){const e=typeof document<"u"?document:{};return SS(e,u5),e}const EX={document:u5,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Ns(){const e=typeof window<"u"?window:{};return SS(e,EX),e}function TX(e=""){return e.trim().split(" ").filter(t=>!!t.trim())}function MX(e){const t=e;Object.keys(t).forEach(r=>{try{t[r]=null}catch{}try{delete t[r]}catch{}})}function d5(e,t=0){return setTimeout(e,t)}function Zy(){return Date.now()}function _X(e){const t=Ns();let r;return t.getComputedStyle&&(r=t.getComputedStyle(e,null)),!r&&e.currentStyle&&(r=e.currentStyle),r||(r=e.style),r}function DX(e,t="x"){const r=Ns();let n,a,i;const o=_X(e);return r.WebKitCSSMatrix?(a=o.transform||o.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new r.WebKitCSSMatrix(a==="none"?"":a)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=i.toString().split(",")),t==="x"&&(r.WebKitCSSMatrix?a=i.m41:n.length===16?a=parseFloat(n[12]):a=parseFloat(n[4])),t==="y"&&(r.WebKitCSSMatrix?a=i.m42:n.length===16?a=parseFloat(n[13]):a=parseFloat(n[5])),a||0}function Og(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function OX(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function Xs(...e){const t=Object(e[0]),r=["__proto__","constructor","prototype"];for(let n=1;n<e.length;n+=1){const a=e[n];if(a!=null&&!OX(a)){const i=Object.keys(Object(a)).filter(o=>r.indexOf(o)<0);for(let o=0,l=i.length;o<l;o+=1){const u=i[o],d=Object.getOwnPropertyDescriptor(a,u);d!==void 0&&d.enumerable&&(Og(t[u])&&Og(a[u])?a[u].__swiper__?t[u]=a[u]:Xs(t[u],a[u]):!Og(t[u])&&Og(a[u])?(t[u]={},a[u].__swiper__?t[u]=a[u]:Xs(t[u],a[u])):t[u]=a[u])}}}return t}function Rg(e,t,r){e.style.setProperty(t,r)}function h5({swiper:e,targetPosition:t,side:r}){const n=Ns(),a=-e.translate;let i=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const u=t>a?"next":"prev",d=(m,p)=>u==="next"&&m>=p||u==="prev"&&m<=p,f=()=>{o=new Date().getTime(),i===null&&(i=o);const m=Math.max(Math.min((o-i)/l,1),0),p=.5-Math.cos(m*Math.PI)/2;let v=a+p*(t-a);if(d(v,t)&&(v=t),e.wrapperEl.scrollTo({[r]:v}),d(v,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:v})}),n.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=n.requestAnimationFrame(f)};f()}function $i(e,t=""){const r=Ns(),n=[...e.children];return r.HTMLSlotElement&&e instanceof HTMLSlotElement&&n.push(...e.assignedElements()),t?n.filter(a=>a.matches(t)):n}function RX(e,t){const r=[t];for(;r.length>0;){const n=r.shift();if(e===n)return!0;r.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function LX(e,t){const r=Ns();let n=t.contains(e);return!n&&r.HTMLSlotElement&&t instanceof HTMLSlotElement&&(n=[...t.assignedElements()].includes(e),n||(n=RX(e,t))),n}function Qy(e){try{console.warn(e);return}catch{}}function Xy(e,t=[]){const r=document.createElement(e);return r.classList.add(...Array.isArray(t)?t:TX(t)),r}function FX(e,t){const r=[];for(;e.previousElementSibling;){const n=e.previousElementSibling;t?n.matches(t)&&r.push(n):r.push(n),e=n}return r}function $X(e,t){const r=[];for(;e.nextElementSibling;){const n=e.nextElementSibling;t?n.matches(t)&&r.push(n):r.push(n),e=n}return r}function Bl(e,t){return Ns().getComputedStyle(e,null).getPropertyValue(t)}function pT(e){let t=e,r;if(t){for(r=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(r+=1);return r}}function BX(e,t){const r=[];let n=e.parentElement;for(;n;)r.push(n),n=n.parentElement;return r}function gT(e,t,r){const n=Ns();return e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function bo(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}function eN(e,t=""){typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:r=>r}).createHTML(t):e.innerHTML=t}let kw;function VX(){const e=Ns(),t=Hi();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function f5(){return kw||(kw=VX()),kw}let Cw;function zX({userAgent:e}={}){const t=f5(),r=Ns(),n=r.navigator.platform,a=e||r.navigator.userAgent,i={ios:!1,android:!1},o=r.screen.width,l=r.screen.height,u=a.match(/(Android);?[\s\/]+([\d.]+)?/);let d=a.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const f=a.match(/(iPod)(.*OS\s([\d_]+))?/),m=!d&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=n==="Win32";let v=n==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&v&&t.touch&&x.indexOf(`${o}x${l}`)>=0&&(d=a.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),v=!1),u&&!p&&(i.os="android",i.android=!0),(d||m||f)&&(i.os="ios",i.ios=!0),i}function m5(e={}){return Cw||(Cw=zX(e)),Cw}let Aw;function UX(){const e=Ns(),t=m5();let r=!1;function n(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(n()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[u,d]=l.split("Version/")[1].split(" ")[0].split(".").map(f=>Number(f));r=u<16||u===16&&d<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),i=n(),o=i||a&&t.ios;return{isSafari:r||i,needPerspectiveFix:r,need3dFix:o,isWebView:a}}function p5(){return Aw||(Aw=UX()),Aw}function WX({swiper:e,on:t,emit:r}){const n=Ns();let a=null,i=null;const o=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(f=>{i=n.requestAnimationFrame(()=>{const{width:m,height:p}=e;let v=m,x=p;f.forEach(({contentBoxSize:j,contentRect:w,target:S})=>{S&&S!==e.el||(v=w?w.width:(j[0]||j).inlineSize,x=w?w.height:(j[0]||j).blockSize)}),(v!==m||x!==p)&&o()})}),a.observe(e.el))},u=()=>{i&&n.cancelAnimationFrame(i),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof n.ResizeObserver<"u"){l();return}n.addEventListener("resize",o),n.addEventListener("orientationchange",d)}),t("destroy",()=>{u(),n.removeEventListener("resize",o),n.removeEventListener("orientationchange",d)})}function HX({swiper:e,extendParams:t,on:r,emit:n}){const a=[],i=Ns(),o=(d,f={})=>{const m=i.MutationObserver||i.WebkitMutationObserver,p=new m(v=>{if(e.__preventObserver__)return;if(v.length===1){n("observerUpdate",v[0]);return}const x=function(){n("observerUpdate",v[0])};i.requestAnimationFrame?i.requestAnimationFrame(x):i.setTimeout(x,0)});p.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),a.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=BX(e.hostEl);for(let f=0;f<d.length;f+=1)o(d[f])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},u=()=>{a.forEach(d=>{d.disconnect()}),a.splice(0,a.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",u)}var qX={on(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const a=r?"unshift":"push";return e.split(" ").forEach(i=>{n.eventsListeners[i]||(n.eventsListeners[i]=[]),n.eventsListeners[i][a](t)}),n},once(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;function a(...i){n.off(e,a),a.__emitterProxy&&delete a.__emitterProxy,t.apply(n,i)}return a.__emitterProxy=t,n.on(e,a,r)},onAny(e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const n=t?"unshift":"push";return r.eventsAnyListeners.indexOf(e)<0&&r.eventsAnyListeners[n](e),r},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const r=t.eventsAnyListeners.indexOf(e);return r>=0&&t.eventsAnyListeners.splice(r,1),t},off(e,t){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||e.split(" ").forEach(n=>{typeof t>"u"?r.eventsListeners[n]=[]:r.eventsListeners[n]&&r.eventsListeners[n].forEach((a,i)=>{(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&r.eventsListeners[n].splice(i,1)})}),r},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let r,n,a;return typeof e[0]=="string"||Array.isArray(e[0])?(r=e[0],n=e.slice(1,e.length),a=t):(r=e[0].events,n=e[0].data,a=e[0].context||t),n.unshift(a),(Array.isArray(r)?r:r.split(" ")).forEach(o=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(l=>{l.apply(a,[o,...n])}),t.eventsListeners&&t.eventsListeners[o]&&t.eventsListeners[o].forEach(l=>{l.apply(a,n)})}),t}};function GX(){const e=this;let t,r;const n=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=n.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?r=e.params.height:r=n.clientHeight,!(t===0&&e.isHorizontal()||r===0&&e.isVertical())&&(t=t-parseInt(Bl(n,"padding-left")||0,10)-parseInt(Bl(n,"padding-right")||0,10),r=r-parseInt(Bl(n,"padding-top")||0,10)-parseInt(Bl(n,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(r)&&(r=0),Object.assign(e,{width:t,height:r,size:e.isHorizontal()?t:r}))}function KX(){const e=this;function t(_,T){return parseFloat(_.getPropertyValue(e.getDirectionLabel(T))||0)}const r=e.params,{wrapperEl:n,slidesEl:a,rtlTranslate:i,wrongRTL:o}=e,l=e.virtual&&r.virtual.enabled,u=l?e.virtual.slides.length:e.slides.length,d=$i(a,`.${e.params.slideClass}, swiper-slide`),f=l?e.virtual.slides.length:d.length;let m=[];const p=[],v=[];let x=r.slidesOffsetBefore;typeof x=="function"&&(x=r.slidesOffsetBefore.call(e));let j=r.slidesOffsetAfter;typeof j=="function"&&(j=r.slidesOffsetAfter.call(e));const w=e.snapGrid.length,S=e.slidesGrid.length,P=e.size-x-j;let k=r.spaceBetween,R=-x,I=0,L=0;if(typeof P>"u")return;typeof k=="string"&&k.indexOf("%")>=0?k=parseFloat(k.replace("%",""))/100*P:typeof k=="string"&&(k=parseFloat(k)),e.virtualSize=-k-x-j,d.forEach(_=>{i?_.style.marginLeft="":_.style.marginRight="",_.style.marginBottom="",_.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(Rg(n,"--swiper-centered-offset-before",""),Rg(n,"--swiper-centered-offset-after",""));const E=r.grid&&r.grid.rows>1&&e.grid;E?e.grid.initSlides(d):e.grid&&e.grid.unsetSlides();let C;const F=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(_=>typeof r.breakpoints[_].slidesPerView<"u").length>0;for(let _=0;_<f;_+=1){C=0;const T=d[_];if(!(T&&(E&&e.grid.updateSlide(_,T,d),Bl(T,"display")==="none"))){if(l&&r.slidesPerView==="auto")r.virtual.slidesPerViewAutoSlideSize&&(C=r.virtual.slidesPerViewAutoSlideSize),C&&T&&(r.roundLengths&&(C=Math.floor(C)),T.style[e.getDirectionLabel("width")]=`${C}px`);else if(r.slidesPerView==="auto"){F&&(T.style[e.getDirectionLabel("width")]="");const M=getComputedStyle(T),$=T.style.transform,J=T.style.webkitTransform;if($&&(T.style.transform="none"),J&&(T.style.webkitTransform="none"),r.roundLengths)C=e.isHorizontal()?gT(T,"width"):gT(T,"height");else{const q=t(M,"width"),U=t(M,"padding-left"),X=t(M,"padding-right"),B=t(M,"margin-left"),Z=t(M,"margin-right"),ne=M.getPropertyValue("box-sizing");if(ne&&ne==="border-box")C=q+B+Z;else{const{clientWidth:W,offsetWidth:z}=T;C=q+U+X+B+Z+(z-W)}}$&&(T.style.transform=$),J&&(T.style.webkitTransform=J),r.roundLengths&&(C=Math.floor(C))}else C=(P-(r.slidesPerView-1)*k)/r.slidesPerView,r.roundLengths&&(C=Math.floor(C)),T&&(T.style[e.getDirectionLabel("width")]=`${C}px`);T&&(T.swiperSlideSize=C),v.push(C),r.centeredSlides?(R=R+C/2+I/2+k,I===0&&_!==0&&(R=R-P/2-k),_===0&&(R=R-P/2-k),Math.abs(R)<1/1e3&&(R=0),r.roundLengths&&(R=Math.floor(R)),L%r.slidesPerGroup===0&&m.push(R),p.push(R)):(r.roundLengths&&(R=Math.floor(R)),(L-Math.min(e.params.slidesPerGroupSkip,L))%e.params.slidesPerGroup===0&&m.push(R),p.push(R),R=R+C+k),e.virtualSize+=C+k,I=C,L+=1}}if(e.virtualSize=Math.max(e.virtualSize,P)+j,i&&o&&(r.effect==="slide"||r.effect==="coverflow")&&(n.style.width=`${e.virtualSize+k}px`),r.setWrapperSize&&(n.style[e.getDirectionLabel("width")]=`${e.virtualSize+k}px`),E&&e.grid.updateWrapperSize(C,m),!r.centeredSlides){const _=[];for(let T=0;T<m.length;T+=1){let M=m[T];r.roundLengths&&(M=Math.floor(M)),m[T]<=e.virtualSize-P&&_.push(M)}m=_,Math.floor(e.virtualSize-P)-Math.floor(m[m.length-1])>1&&m.push(e.virtualSize-P)}if(l&&r.loop){const _=v[0]+k;if(r.slidesPerGroup>1){const T=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),M=_*r.slidesPerGroup;for(let $=0;$<T;$+=1)m.push(m[m.length-1]+M)}for(let T=0;T<e.virtual.slidesBefore+e.virtual.slidesAfter;T+=1)r.slidesPerGroup===1&&m.push(m[m.length-1]+_),p.push(p[p.length-1]+_),e.virtualSize+=_}if(m.length===0&&(m=[0]),k!==0){const _=e.isHorizontal()&&i?"marginLeft":e.getDirectionLabel("marginRight");d.filter((T,M)=>!r.cssMode||r.loop?!0:M!==d.length-1).forEach(T=>{T.style[_]=`${k}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let _=0;v.forEach(M=>{_+=M+(k||0)}),_-=k;const T=_>P?_-P:0;m=m.map(M=>M<=0?-x:M>T?T+j:M)}if(r.centerInsufficientSlides){let _=0;v.forEach(M=>{_+=M+(k||0)}),_-=k;const T=(x||0)+(j||0);if(_+T<P){const M=(P-_-T)/2;m.forEach(($,J)=>{m[J]=$-M}),p.forEach(($,J)=>{p[J]=$+M})}}if(Object.assign(e,{slides:d,snapGrid:m,slidesGrid:p,slidesSizesGrid:v}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Rg(n,"--swiper-centered-offset-before",`${-m[0]}px`),Rg(n,"--swiper-centered-offset-after",`${e.size/2-v[v.length-1]/2}px`);const _=-e.snapGrid[0],T=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(M=>M+_),e.slidesGrid=e.slidesGrid.map(M=>M+T)}if(f!==u&&e.emit("slidesLengthChange"),m.length!==w&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==S&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const _=`${r.containerModifierClass}backface-hidden`,T=e.el.classList.contains(_);f<=r.maxBackfaceHiddenSlides?T||e.el.classList.add(_):T&&e.el.classList.remove(_)}}function YX(e){const t=this,r=[],n=t.virtual&&t.params.virtual.enabled;let a=0,i;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const o=l=>n?t.slides[t.getSlideIndexByData(l)]:t.slides[l];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(l=>{r.push(l)});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const l=t.activeIndex+i;if(l>t.slides.length&&!n)break;r.push(o(l))}else r.push(o(t.activeIndex));for(i=0;i<r.length;i+=1)if(typeof r[i]<"u"){const l=r[i].offsetHeight;a=l>a?l:a}(a||a===0)&&(t.wrapperEl.style.height=`${a}px`)}function ZX(){const e=this,t=e.slides,r=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=(e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop)-r-e.cssOverflowAdjustment()}const yT=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};function QX(e=this&&this.translate||0){const t=this,r=t.params,{slides:n,rtlTranslate:a,snapGrid:i}=t;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-e;a&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=r.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:typeof l=="string"&&(l=parseFloat(l));for(let u=0;u<n.length;u+=1){const d=n[u];let f=d.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(f-=n[0].swiperSlideOffset);const m=(o+(r.centeredSlides?t.minTranslate():0)-f)/(d.swiperSlideSize+l),p=(o-i[0]+(r.centeredSlides?t.minTranslate():0)-f)/(d.swiperSlideSize+l),v=-(o-f),x=v+t.slidesSizesGrid[u],j=v>=0&&v<=t.size-t.slidesSizesGrid[u],w=v>=0&&v<t.size-1||x>1&&x<=t.size||v<=0&&x>=t.size;w&&(t.visibleSlides.push(d),t.visibleSlidesIndexes.push(u)),yT(d,w,r.slideVisibleClass),yT(d,j,r.slideFullyVisibleClass),d.progress=a?-m:m,d.originalProgress=a?-p:p}}function XX(e){const t=this;if(typeof e>"u"){const f=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*f||0}const r=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:a,isBeginning:i,isEnd:o,progressLoop:l}=t;const u=i,d=o;if(n===0)a=0,i=!0,o=!0;else{a=(e-t.minTranslate())/n;const f=Math.abs(e-t.minTranslate())<1,m=Math.abs(e-t.maxTranslate())<1;i=f||a<=0,o=m||a>=1,f&&(a=0),m&&(a=1)}if(r.loop){const f=t.getSlideIndexByData(0),m=t.getSlideIndexByData(t.slides.length-1),p=t.slidesGrid[f],v=t.slidesGrid[m],x=t.slidesGrid[t.slidesGrid.length-1],j=Math.abs(e);j>=p?l=(j-p)/x:l=(j+x-v)/x,l>1&&(l-=1)}Object.assign(t,{progress:a,progressLoop:l,isBeginning:i,isEnd:o}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),i&&!u&&t.emit("reachBeginning toEdge"),o&&!d&&t.emit("reachEnd toEdge"),(u&&!i||d&&!o)&&t.emit("fromEdge"),t.emit("progress",a)}const Iw=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};function JX(){const e=this,{slides:t,params:r,slidesEl:n,activeIndex:a}=e,i=e.virtual&&r.virtual.enabled,o=e.grid&&r.grid&&r.grid.rows>1,l=m=>$i(n,`.${r.slideClass}${m}, swiper-slide${m}`)[0];let u,d,f;if(i)if(r.loop){let m=a-e.virtual.slidesBefore;m<0&&(m=e.virtual.slides.length+m),m>=e.virtual.slides.length&&(m-=e.virtual.slides.length),u=l(`[data-swiper-slide-index="${m}"]`)}else u=l(`[data-swiper-slide-index="${a}"]`);else o?(u=t.find(m=>m.column===a),f=t.find(m=>m.column===a+1),d=t.find(m=>m.column===a-1)):u=t[a];u&&(o||(f=$X(u,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!f&&(f=t[0]),d=FX(u,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!d===0&&(d=t[t.length-1]))),t.forEach(m=>{Iw(m,m===u,r.slideActiveClass),Iw(m,m===f,r.slideNextClass),Iw(m,m===d,r.slidePrevClass)}),e.emitSlidesClasses()}const vy=(e,t)=>{if(!e||e.destroyed||!e.params)return;const r=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,n=t.closest(r());if(n){let a=n.querySelector(`.${e.params.lazyPreloaderClass}`);!a&&e.isElement&&(n.shadowRoot?a=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(a=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},Pw=(e,t)=>{if(!e.slides[t])return;const r=e.slides[t].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},tN=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const r=e.slides.length;if(!r||!t||t<0)return;t=Math.min(t,r);const n=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),a=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const o=a,l=[o-t];l.push(...Array.from({length:t}).map((u,d)=>o+n+d)),e.slides.forEach((u,d)=>{l.includes(u.column)&&Pw(e,d)});return}const i=a+n-1;if(e.params.rewind||e.params.loop)for(let o=a-t;o<=i+t;o+=1){const l=(o%r+r)%r;(l<a||l>i)&&Pw(e,l)}else for(let o=Math.max(a-t,0);o<=Math.min(i+t,r-1);o+=1)o!==a&&(o>i||o<a)&&Pw(e,o)};function eJ(e){const{slidesGrid:t,params:r}=e,n=e.rtlTranslate?e.translate:-e.translate;let a;for(let i=0;i<t.length;i+=1)typeof t[i+1]<"u"?n>=t[i]&&n<t[i+1]-(t[i+1]-t[i])/2?a=i:n>=t[i]&&n<t[i+1]&&(a=i+1):n>=t[i]&&(a=i);return r.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function tJ(e){const t=this,r=t.rtlTranslate?t.translate:-t.translate,{snapGrid:n,params:a,activeIndex:i,realIndex:o,snapIndex:l}=t;let u=e,d;const f=v=>{let x=v-t.virtual.slidesBefore;return x<0&&(x=t.virtual.slides.length+x),x>=t.virtual.slides.length&&(x-=t.virtual.slides.length),x};if(typeof u>"u"&&(u=eJ(t)),n.indexOf(r)>=0)d=n.indexOf(r);else{const v=Math.min(a.slidesPerGroupSkip,u);d=v+Math.floor((u-v)/a.slidesPerGroup)}if(d>=n.length&&(d=n.length-1),u===i&&!t.params.loop){d!==l&&(t.snapIndex=d,t.emit("snapIndexChange"));return}if(u===i&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=f(u);return}const m=t.grid&&a.grid&&a.grid.rows>1;let p;if(t.virtual&&a.virtual.enabled&&a.loop)p=f(u);else if(m){const v=t.slides.find(j=>j.column===u);let x=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(t.slides.indexOf(v),0)),p=Math.floor(x/a.grid.rows)}else if(t.slides[u]){const v=t.slides[u].getAttribute("data-swiper-slide-index");v?p=parseInt(v,10):p=u}else p=u;Object.assign(t,{previousSnapIndex:l,snapIndex:d,previousRealIndex:o,realIndex:p,previousIndex:i,activeIndex:u}),t.initialized&&tN(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==p&&t.emit("realIndexChange"),t.emit("slideChange"))}function rJ(e,t){const r=this,n=r.params;let a=e.closest(`.${n.slideClass}, swiper-slide`);!a&&r.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(l=>{!a&&l.matches&&l.matches(`.${n.slideClass}, swiper-slide`)&&(a=l)});let i=!1,o;if(a){for(let l=0;l<r.slides.length;l+=1)if(r.slides[l]===a){i=!0,o=l;break}}if(a&&i)r.clickedSlide=a,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=o;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}n.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var nJ={updateSize:GX,updateSlides:KX,updateAutoHeight:YX,updateSlidesOffset:ZX,updateSlidesProgress:QX,updateProgress:XX,updateSlidesClasses:JX,updateActiveIndex:tJ,updateClickedSlide:rJ};function sJ(e=this.isHorizontal()?"x":"y"){const t=this,{params:r,rtlTranslate:n,translate:a,wrapperEl:i}=t;if(r.virtualTranslate)return n?-a:a;if(r.cssMode)return a;let o=DX(i,e);return o+=t.cssOverflowAdjustment(),n&&(o=-o),o||0}function aJ(e,t){const r=this,{rtlTranslate:n,params:a,wrapperEl:i,progress:o}=r;let l=0,u=0;const d=0;r.isHorizontal()?l=n?-e:e:u=e,a.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?l:u,a.cssMode?i[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-l:-u:a.virtualTranslate||(r.isHorizontal()?l-=r.cssOverflowAdjustment():u-=r.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${u}px, ${d}px)`);let f;const m=r.maxTranslate()-r.minTranslate();m===0?f=0:f=(e-r.minTranslate())/m,f!==o&&r.updateProgress(e),r.emit("setTranslate",r.translate,t)}function iJ(){return-this.snapGrid[0]}function oJ(){return-this.snapGrid[this.snapGrid.length-1]}function lJ(e=0,t=this.params.speed,r=!0,n=!0,a){const i=this,{params:o,wrapperEl:l}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const u=i.minTranslate(),d=i.maxTranslate();let f;if(n&&e>u?f=u:n&&e<d?f=d:f=e,i.updateProgress(f),o.cssMode){const m=i.isHorizontal();if(t===0)l[m?"scrollLeft":"scrollTop"]=-f;else{if(!i.support.smoothScroll)return h5({swiper:i,targetPosition:-f,side:m?"left":"top"}),!0;l.scrollTo({[m?"left":"top"]:-f,behavior:"smooth"})}return!0}return t===0?(i.setTransition(0),i.setTranslate(f),r&&(i.emit("beforeTransitionStart",t,a),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(f),r&&(i.emit("beforeTransitionStart",t,a),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(p){!i||i.destroyed||p.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,r&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var cJ={getTranslate:sJ,setTranslate:aJ,minTranslate:iJ,maxTranslate:oJ,translateTo:lJ};function uJ(e,t){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${e}ms`,r.wrapperEl.style.transitionDelay=e===0?"0ms":""),r.emit("setTransition",e,t)}function g5({swiper:e,runCallbacks:t,direction:r,step:n}){const{activeIndex:a,previousIndex:i}=e;let o=r;o||(a>i?o="next":a<i?o="prev":o="reset"),e.emit(`transition${n}`),t&&o==="reset"?e.emit(`slideResetTransition${n}`):t&&a!==i&&(e.emit(`slideChangeTransition${n}`),o==="next"?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`))}function dJ(e=!0,t){const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),g5({swiper:r,runCallbacks:e,direction:t,step:"Start"}))}function hJ(e=!0,t){const r=this,{params:n}=r;r.animating=!1,!n.cssMode&&(r.setTransition(0),g5({swiper:r,runCallbacks:e,direction:t,step:"End"}))}var fJ={setTransition:uJ,transitionStart:dJ,transitionEnd:hJ};function mJ(e=0,t,r=!0,n,a){typeof e=="string"&&(e=parseInt(e,10));const i=this;let o=e;o<0&&(o=0);const{params:l,snapGrid:u,slidesGrid:d,previousIndex:f,activeIndex:m,rtlTranslate:p,wrapperEl:v,enabled:x}=i;if(!x&&!n&&!a||i.destroyed||i.animating&&l.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=i.params.speed);const j=Math.min(i.params.slidesPerGroupSkip,o);let w=j+Math.floor((o-j)/i.params.slidesPerGroup);w>=u.length&&(w=u.length-1);const S=-u[w];if(l.normalizeSlideIndex)for(let E=0;E<d.length;E+=1){const C=-Math.floor(S*100),F=Math.floor(d[E]*100),_=Math.floor(d[E+1]*100);typeof d[E+1]<"u"?C>=F&&C<_-(_-F)/2?o=E:C>=F&&C<_&&(o=E+1):C>=F&&(o=E)}if(i.initialized&&o!==m&&(!i.allowSlideNext&&(p?S>i.translate&&S>i.minTranslate():S<i.translate&&S<i.minTranslate())||!i.allowSlidePrev&&S>i.translate&&S>i.maxTranslate()&&(m||0)!==o))return!1;o!==(f||0)&&r&&i.emit("beforeSlideChangeStart"),i.updateProgress(S);let P;o>m?P="next":o<m?P="prev":P="reset";const k=i.virtual&&i.params.virtual.enabled;if(!(k&&a)&&(p&&-S===i.translate||!p&&S===i.translate))return i.updateActiveIndex(o),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(S),P!=="reset"&&(i.transitionStart(r,P),i.transitionEnd(r,P)),!1;if(l.cssMode){const E=i.isHorizontal(),C=p?S:-S;if(t===0)k&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),k&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[E?"scrollLeft":"scrollTop"]=C})):v[E?"scrollLeft":"scrollTop"]=C,k&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return h5({swiper:i,targetPosition:C,side:E?"left":"top"}),!0;v.scrollTo({[E?"left":"top"]:C,behavior:"smooth"})}return!0}const L=p5().isSafari;return k&&!a&&L&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(t),i.setTranslate(S),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,n),i.transitionStart(r,P),t===0?i.transitionEnd(r,P):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(C){!i||i.destroyed||C.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(r,P))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function pJ(e=0,t,r=!0,n){typeof e=="string"&&(e=parseInt(e,10));const a=this;if(a.destroyed)return;typeof t>"u"&&(t=a.params.speed);const i=a.grid&&a.params.grid&&a.params.grid.rows>1;let o=e;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)o=o+a.virtual.slidesBefore;else{let l;if(i){const j=o*a.params.grid.rows;l=a.slides.find(w=>w.getAttribute("data-swiper-slide-index")*1===j).column}else l=a.getSlideIndexByData(o);const u=i?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:d,slidesOffsetBefore:f,slidesOffsetAfter:m}=a.params,p=d||!!f||!!m;let v=a.params.slidesPerView;v==="auto"?v=a.slidesPerViewDynamic():(v=Math.ceil(parseFloat(a.params.slidesPerView,10)),p&&v%2===0&&(v=v+1));let x=u-l<v;if(p&&(x=x||l<Math.ceil(v/2)),n&&p&&a.params.slidesPerView!=="auto"&&!i&&(x=!1),x){const j=p?l<a.activeIndex?"prev":"next":l-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:j,slideTo:!0,activeSlideIndex:j==="next"?l+1:l-u+1,slideRealIndex:j==="next"?a.realIndex:void 0})}if(i){const j=o*a.params.grid.rows;o=a.slides.find(w=>w.getAttribute("data-swiper-slide-index")*1===j).column}else o=a.getSlideIndexByData(o)}return requestAnimationFrame(()=>{a.slideTo(o,t,r,n)}),a}function gJ(e,t=!0,r){const n=this,{enabled:a,params:i,animating:o}=n;if(!a||n.destroyed)return n;typeof e>"u"&&(e=n.params.speed);let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(n.slidesPerViewDynamic("current",!0),1));const u=n.activeIndex<i.slidesPerGroupSkip?1:l,d=n.virtual&&i.virtual.enabled;if(i.loop){if(o&&!d&&i.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+u,e,t,r)}),!0}return i.rewind&&n.isEnd?n.slideTo(0,e,t,r):n.slideTo(n.activeIndex+u,e,t,r)}function yJ(e,t=!0,r){const n=this,{params:a,snapGrid:i,slidesGrid:o,rtlTranslate:l,enabled:u,animating:d}=n;if(!u||n.destroyed)return n;typeof e>"u"&&(e=n.params.speed);const f=n.virtual&&a.virtual.enabled;if(a.loop){if(d&&!f&&a.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const m=l?n.translate:-n.translate;function p(P){return P<0?-Math.floor(Math.abs(P)):Math.floor(P)}const v=p(m),x=i.map(P=>p(P)),j=a.freeMode&&a.freeMode.enabled;let w=i[x.indexOf(v)-1];if(typeof w>"u"&&(a.cssMode||j)){let P;i.forEach((k,R)=>{v>=k&&(P=R)}),typeof P<"u"&&(w=j?i[P]:i[P>0?P-1:P])}let S=0;if(typeof w<"u"&&(S=o.indexOf(w),S<0&&(S=n.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(S=S-n.slidesPerViewDynamic("previous",!0)+1,S=Math.max(S,0))),a.rewind&&n.isBeginning){const P=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(P,e,t,r)}else if(a.loop&&n.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{n.slideTo(S,e,t,r)}),!0;return n.slideTo(S,e,t,r)}function vJ(e,t=!0,r){const n=this;if(!n.destroyed)return typeof e>"u"&&(e=n.params.speed),n.slideTo(n.activeIndex,e,t,r)}function xJ(e,t=!0,r,n=.5){const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);let i=a.activeIndex;const o=Math.min(a.params.slidesPerGroupSkip,i),l=o+Math.floor((i-o)/a.params.slidesPerGroup),u=a.rtlTranslate?a.translate:-a.translate;if(u>=a.snapGrid[l]){const d=a.snapGrid[l],f=a.snapGrid[l+1];u-d>(f-d)*n&&(i+=a.params.slidesPerGroup)}else{const d=a.snapGrid[l-1],f=a.snapGrid[l];u-d<=(f-d)*n&&(i-=a.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,a.slidesGrid.length-1),a.slideTo(i,e,t,r)}function bJ(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:r}=e,n=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let a=e.getSlideIndexWhenGrid(e.clickedIndex),i;const o=e.isElement?"swiper-slide":`.${t.slideClass}`,l=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(i):a>(l?(e.slides.length-n)/2-(e.params.grid.rows-1):e.slides.length-n)?(e.loopFix(),a=e.getSlideIndex($i(r,`${o}[data-swiper-slide-index="${i}"]`)[0]),d5(()=>{e.slideTo(a)})):e.slideTo(a)}else e.slideTo(a)}var wJ={slideTo:mJ,slideToLoop:pJ,slideNext:gJ,slidePrev:yJ,slideReset:vJ,slideToClosest:xJ,slideToClickedSlide:bJ};function jJ(e,t){const r=this,{params:n,slidesEl:a}=r;if(!n.loop||r.virtual&&r.params.virtual.enabled)return;const i=()=>{$i(a,`.${n.slideClass}, swiper-slide`).forEach((x,j)=>{x.setAttribute("data-swiper-slide-index",j)})},o=()=>{const v=$i(a,`.${n.slideBlankClass}`);v.forEach(x=>{x.remove()}),v.length>0&&(r.recalcSlides(),r.updateSlides())},l=r.grid&&n.grid&&n.grid.rows>1;n.loopAddBlankSlides&&(n.slidesPerGroup>1||l)&&o();const u=n.slidesPerGroup*(l?n.grid.rows:1),d=r.slides.length%u!==0,f=l&&r.slides.length%n.grid.rows!==0,m=v=>{for(let x=0;x<v;x+=1){const j=r.isElement?Xy("swiper-slide",[n.slideBlankClass]):Xy("div",[n.slideClass,n.slideBlankClass]);r.slidesEl.append(j)}};if(d){if(n.loopAddBlankSlides){const v=u-r.slides.length%u;m(v),r.recalcSlides(),r.updateSlides()}else Qy("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(f){if(n.loopAddBlankSlides){const v=n.grid.rows-r.slides.length%n.grid.rows;m(v),r.recalcSlides(),r.updateSlides()}else Qy("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();const p=n.centeredSlides||!!n.slidesOffsetBefore||!!n.slidesOffsetAfter;r.loopFix({slideRealIndex:e,direction:p?void 0:"next",initial:t})}function NJ({slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:n,activeSlideIndex:a,initial:i,byController:o,byMousewheel:l}={}){const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:m,slidesEl:p,params:v}=u,{centeredSlides:x,slidesOffsetBefore:j,slidesOffsetAfter:w,initialSlide:S}=v,P=x||!!j||!!w;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&v.virtual.enabled){t&&(!P&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):P&&u.snapIndex<v.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=f,u.allowSlideNext=m,u.emit("loopFix");return}let k=v.slidesPerView;k==="auto"?k=u.slidesPerViewDynamic():(k=Math.ceil(parseFloat(v.slidesPerView,10)),P&&k%2===0&&(k=k+1));const R=v.slidesPerGroupAuto?k:v.slidesPerGroup;let I=P?Math.max(R,Math.ceil(k/2)):R;I%R!==0&&(I+=R-I%R),I+=v.loopAdditionalSlides,u.loopedSlides=I;const L=u.grid&&v.grid&&v.grid.rows>1;d.length<k+I||u.params.effect==="cards"&&d.length<k+I*2?Qy("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):L&&v.grid.fill==="row"&&Qy("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const E=[],C=[],F=L?Math.ceil(d.length/v.grid.rows):d.length,_=i&&F-S<k&&!P;let T=_?S:u.activeIndex;typeof a>"u"?a=u.getSlideIndex(d.find(B=>B.classList.contains(v.slideActiveClass))):T=a;const M=r==="next"||!r,$=r==="prev"||!r;let J=0,q=0;const X=(L?d[a].column:a)+(P&&typeof n>"u"?-k/2+.5:0);if(X<I){J=Math.max(I-X,R);for(let B=0;B<I-X;B+=1){const Z=B-Math.floor(B/F)*F;if(L){const ne=F-Z-1;for(let W=d.length-1;W>=0;W-=1)d[W].column===ne&&E.push(W)}else E.push(F-Z-1)}}else if(X+k>F-I){q=Math.max(X-(F-I*2),R),_&&(q=Math.max(q,k-F+S+1));for(let B=0;B<q;B+=1){const Z=B-Math.floor(B/F)*F;L?d.forEach((ne,W)=>{ne.column===Z&&C.push(W)}):C.push(Z)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&d.length<k+I*2&&(C.includes(a)&&C.splice(C.indexOf(a),1),E.includes(a)&&E.splice(E.indexOf(a),1)),$&&E.forEach(B=>{d[B].swiperLoopMoveDOM=!0,p.prepend(d[B]),d[B].swiperLoopMoveDOM=!1}),M&&C.forEach(B=>{d[B].swiperLoopMoveDOM=!0,p.append(d[B]),d[B].swiperLoopMoveDOM=!1}),u.recalcSlides(),v.slidesPerView==="auto"?u.updateSlides():L&&(E.length>0&&$||C.length>0&&M)&&u.slides.forEach((B,Z)=>{u.grid.updateSlide(Z,B,u.slides)}),v.watchSlidesProgress&&u.updateSlidesOffset(),t){if(E.length>0&&$){if(typeof e>"u"){const B=u.slidesGrid[T],ne=u.slidesGrid[T+J]-B;l?u.setTranslate(u.translate-ne):(u.slideTo(T+Math.ceil(J),0,!1,!0),n&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-ne,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-ne))}else if(n){const B=L?E.length/v.grid.rows:E.length;u.slideTo(u.activeIndex+B,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(C.length>0&&M)if(typeof e>"u"){const B=u.slidesGrid[T],ne=u.slidesGrid[T-q]-B;l?u.setTranslate(u.translate-ne):(u.slideTo(T-q,0,!1,!0),n&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-ne,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-ne))}else{const B=L?C.length/v.grid.rows:C.length;u.slideTo(u.activeIndex-B,0,!1,!0)}}if(u.allowSlidePrev=f,u.allowSlideNext=m,u.controller&&u.controller.control&&!o){const B={slideRealIndex:e,direction:r,setTranslate:n,activeSlideIndex:a,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(Z=>{!Z.destroyed&&Z.params.loop&&Z.loopFix({...B,slideTo:Z.params.slidesPerView===v.slidesPerView?t:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...B,slideTo:u.controller.control.params.slidesPerView===v.slidesPerView?t:!1})}u.emit("loopFix")}function SJ(){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||!r||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const n=[];e.slides.forEach(a=>{const i=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;n[i]=a}),e.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),n.forEach(a=>{r.append(a)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var kJ={loopCreate:jJ,loopFix:NJ,loopDestroy:SJ};function CJ(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const r=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function AJ(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var IJ={setGrabCursor:CJ,unsetGrabCursor:AJ};function PJ(e,t=this){function r(n){if(!n||n===Hi()||n===Ns())return null;n.assignedSlot&&(n=n.assignedSlot);const a=n.closest(e);return!a&&!n.getRootNode?null:a||r(n.getRootNode().host)}return r(t)}function vT(e,t,r){const n=Ns(),{params:a}=e,i=a.edgeSwipeDetection,o=a.edgeSwipeThreshold;return i&&(r<=o||r>=n.innerWidth-o)?i==="prevent"?(t.preventDefault(),!0):!1:!0}function EJ(e){const t=this,r=Hi();let n=e;n.originalEvent&&(n=n.originalEvent);const a=t.touchEventsData;if(n.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==n.pointerId)return;a.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(a.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){vT(t,n,n.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:l}=t;if(!l||!i.simulateTouch&&n.pointerType==="mouse"||t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let u=n.target;if(i.touchEventsTarget==="wrapper"&&!LX(u,t.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||a.isTouched&&a.isMoved)return;const d=!!i.noSwipingClass&&i.noSwipingClass!=="",f=n.composedPath?n.composedPath():n.path;d&&n.target&&n.target.shadowRoot&&f&&(u=f[0]);const m=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(n.target&&n.target.shadowRoot);if(i.noSwiping&&(p?PJ(m,u):u.closest(m))){t.allowClick=!0;return}if(i.swipeHandler&&!u.closest(i.swipeHandler))return;o.currentX=n.pageX,o.currentY=n.pageY;const v=o.currentX,x=o.currentY;if(!vT(t,n,v))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=v,o.startY=x,a.touchStartTime=Zy(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(a.allowThresholdMove=!1);let j=!0;u.matches(a.focusableElements)&&(j=!1,u.nodeName==="SELECT"&&(a.isTouched=!1)),r.activeElement&&r.activeElement.matches(a.focusableElements)&&r.activeElement!==u&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!u.matches(a.focusableElements))&&r.activeElement.blur();const w=j&&t.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||w)&&!u.isContentEditable&&n.preventDefault(),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",n)}function TJ(e){const t=Hi(),r=this,n=r.touchEventsData,{params:a,touches:i,rtlTranslate:o,enabled:l}=r;if(!l||!a.simulateTouch&&e.pointerType==="mouse")return;let u=e;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(n.touchId!==null||u.pointerId!==n.pointerId))return;let d;if(u.type==="touchmove"){if(d=[...u.changedTouches].find(I=>I.identifier===n.touchId),!d||d.identifier!==n.touchId)return}else d=u;if(!n.isTouched){n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",u);return}const f=d.pageX,m=d.pageY;if(u.preventedByNestedSwiper){i.startX=f,i.startY=m;return}if(!r.allowTouchMove){u.target.matches(n.focusableElements)||(r.allowClick=!1),n.isTouched&&(Object.assign(i,{startX:f,startY:m,currentX:f,currentY:m}),n.touchStartTime=Zy());return}if(a.touchReleaseOnEdges&&!a.loop)if(r.isVertical()){if(m<i.startY&&r.translate<=r.maxTranslate()||m>i.startY&&r.translate>=r.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else{if(o&&(f>i.startX&&-r.translate<=r.maxTranslate()||f<i.startX&&-r.translate>=r.minTranslate()))return;if(!o&&(f<i.startX&&r.translate<=r.maxTranslate()||f>i.startX&&r.translate>=r.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==u.target&&u.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&u.target===t.activeElement&&u.target.matches(n.focusableElements)){n.isMoved=!0,r.allowClick=!1;return}n.allowTouchCallbacks&&r.emit("touchMove",u),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=f,i.currentY=m;const p=i.currentX-i.startX,v=i.currentY-i.startY;if(r.params.threshold&&Math.sqrt(p**2+v**2)<r.params.threshold)return;if(typeof n.isScrolling>"u"){let I;r.isHorizontal()&&i.currentY===i.startY||r.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:p*p+v*v>=25&&(I=Math.atan2(Math.abs(v),Math.abs(p))*180/Math.PI,n.isScrolling=r.isHorizontal()?I>a.touchAngle:90-I>a.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",u),typeof n.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(n.startMoving=!0),n.isScrolling||u.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;r.allowClick=!1,!a.cssMode&&u.cancelable&&u.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&u.stopPropagation();let x=r.isHorizontal()?p:v,j=r.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;a.oneWayMovement&&(x=Math.abs(x)*(o?1:-1),j=Math.abs(j)*(o?1:-1)),i.diff=x,x*=a.touchRatio,o&&(x=-x,j=-j);const w=r.touchesDirection;r.swipeDirection=x>0?"prev":"next",r.touchesDirection=j>0?"prev":"next";const S=r.params.loop&&!a.cssMode,P=r.touchesDirection==="next"&&r.allowSlideNext||r.touchesDirection==="prev"&&r.allowSlidePrev;if(!n.isMoved){if(S&&P&&r.loopFix({direction:r.swipeDirection}),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const I=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(I)}n.allowMomentumBounce=!1,a.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",u)}if(new Date().getTime(),a._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&w!==r.touchesDirection&&S&&P&&Math.abs(x)>=1){Object.assign(i,{startX:f,startY:m,currentX:f,currentY:m,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}r.emit("sliderMove",u),n.isMoved=!0,n.currentTranslate=x+n.startTranslate;let k=!0,R=a.resistanceRatio;if(a.touchReleaseOnEdges&&(R=0),x>0?(S&&P&&n.allowThresholdMove&&n.currentTranslate>(a.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-(a.slidesPerView!=="auto"&&r.slides.length-a.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>r.minTranslate()&&(k=!1,a.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+x)**R))):x<0&&(S&&P&&n.allowThresholdMove&&n.currentTranslate<(a.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+(a.slidesPerView!=="auto"&&r.slides.length-a.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(a.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),n.currentTranslate<r.maxTranslate()&&(k=!1,a.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-x)**R))),k&&(u.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(n.currentTranslate=n.startTranslate),a.threshold>0)if(Math.abs(x)>a.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,i.diff=r.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{n.currentTranslate=n.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&r.freeMode||a.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function MJ(e){const t=this,r=t.touchEventsData;let n=e;n.originalEvent&&(n=n.originalEvent);let a;if(n.type==="touchend"||n.type==="touchcancel"){if(a=[...n.changedTouches].find(I=>I.identifier===r.touchId),!a||a.identifier!==r.touchId)return}else{if(r.touchId!==null||n.pointerId!==r.pointerId)return;a=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(t.browser.isSafari||t.browser.isWebView)))return;r.pointerId=null,r.touchId=null;const{params:o,touches:l,rtlTranslate:u,slidesGrid:d,enabled:f}=t;if(!f||!o.simulateTouch&&n.pointerType==="mouse")return;if(r.allowTouchCallbacks&&t.emit("touchEnd",n),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&o.grabCursor&&t.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}o.grabCursor&&r.isMoved&&r.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const m=Zy(),p=m-r.touchStartTime;if(t.allowClick){const I=n.path||n.composedPath&&n.composedPath();t.updateClickedSlide(I&&I[0]||n.target,I),t.emit("tap click",n),p<300&&m-r.lastClickTime<300&&t.emit("doubleTap doubleClick",n)}if(r.lastClickTime=Zy(),d5(()=>{t.destroyed||(t.allowClick=!0)}),!r.isTouched||!r.isMoved||!t.swipeDirection||l.diff===0&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let v;if(o.followFinger?v=u?t.translate:-t.translate:v=-r.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:v});return}const x=v>=-t.maxTranslate()&&!t.params.loop;let j=0,w=t.slidesSizesGrid[0];for(let I=0;I<d.length;I+=I<o.slidesPerGroupSkip?1:o.slidesPerGroup){const L=I<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[I+L]<"u"?(x||v>=d[I]&&v<d[I+L])&&(j=I,w=d[I+L]-d[I]):(x||v>=d[I])&&(j=I,w=d[d.length-1]-d[d.length-2])}let S=null,P=null;o.rewind&&(t.isBeginning?P=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(S=0));const k=(v-d[j])/w,R=j<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(k>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?S:j+R):t.slideTo(j)),t.swipeDirection==="prev"&&(k>1-o.longSwipesRatio?t.slideTo(j+R):P!==null&&k<0&&Math.abs(k)>o.longSwipesRatio?t.slideTo(P):t.slideTo(j))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(n.target===t.navigation.nextEl||n.target===t.navigation.prevEl)?n.target===t.navigation.nextEl?t.slideTo(j+R):t.slideTo(j):(t.swipeDirection==="next"&&t.slideTo(S!==null?S:j+R),t.swipeDirection==="prev"&&t.slideTo(P!==null?P:j))}}function xT(){const e=this,{params:t,el:r}=e;if(r&&r.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:a,snapGrid:i}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const l=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!l?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=a,e.allowSlideNext=n,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function _J(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function DJ(){const e=this,{wrapperEl:t,rtlTranslate:r,enabled:n}=e;if(!n)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let a;const i=e.maxTranslate()-e.minTranslate();i===0?a=0:a=(e.translate-e.minTranslate())/i,a!==e.progress&&e.updateProgress(r?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function OJ(e){const t=this;vy(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function RJ(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const y5=(e,t)=>{const r=Hi(),{params:n,el:a,wrapperEl:i,device:o}=e,l=!!n.nested,u=t==="on"?"addEventListener":"removeEventListener",d=t;!a||typeof a=="string"||(r[u]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:l}),a[u]("touchstart",e.onTouchStart,{passive:!1}),a[u]("pointerdown",e.onTouchStart,{passive:!1}),r[u]("touchmove",e.onTouchMove,{passive:!1,capture:l}),r[u]("pointermove",e.onTouchMove,{passive:!1,capture:l}),r[u]("touchend",e.onTouchEnd,{passive:!0}),r[u]("pointerup",e.onTouchEnd,{passive:!0}),r[u]("pointercancel",e.onTouchEnd,{passive:!0}),r[u]("touchcancel",e.onTouchEnd,{passive:!0}),r[u]("pointerout",e.onTouchEnd,{passive:!0}),r[u]("pointerleave",e.onTouchEnd,{passive:!0}),r[u]("contextmenu",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&a[u]("click",e.onClick,!0),n.cssMode&&i[u]("scroll",e.onScroll),n.updateOnWindowResize?e[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",xT,!0):e[d]("observerUpdate",xT,!0),a[u]("load",e.onLoad,{capture:!0}))};function LJ(){const e=this,{params:t}=e;e.onTouchStart=EJ.bind(e),e.onTouchMove=TJ.bind(e),e.onTouchEnd=MJ.bind(e),e.onDocumentTouchStart=RJ.bind(e),t.cssMode&&(e.onScroll=DJ.bind(e)),e.onClick=_J.bind(e),e.onLoad=OJ.bind(e),y5(e,"on")}function FJ(){y5(this,"off")}var $J={attachEvents:LJ,detachEvents:FJ};const bT=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function BJ(){const e=this,{realIndex:t,initialized:r,params:n,el:a}=e,i=n.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=Hi(),l=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",u=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?e.el:o.querySelector(n.breakpointsBase),d=e.getBreakpoint(i,l,u);if(!d||e.currentBreakpoint===d)return;const m=(d in i?i[d]:void 0)||e.originalParams,p=bT(e,n),v=bT(e,m),x=e.params.grabCursor,j=m.grabCursor,w=n.enabled;p&&!v?(a.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!p&&v&&(a.classList.add(`${n.containerModifierClass}grid`),(m.grid.fill&&m.grid.fill==="column"||!m.grid.fill&&n.grid.fill==="column")&&a.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),x&&!j?e.unsetGrabCursor():!x&&j&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(L=>{if(typeof m[L]>"u")return;const E=n[L]&&n[L].enabled,C=m[L]&&m[L].enabled;E&&!C&&e[L].disable(),!E&&C&&e[L].enable()});const S=m.direction&&m.direction!==n.direction,P=n.loop&&(m.slidesPerView!==n.slidesPerView||S),k=n.loop;S&&r&&e.changeDirection(),Xs(e.params,m);const R=e.params.enabled,I=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),w&&!R?e.disable():!w&&R&&e.enable(),e.currentBreakpoint=d,e.emit("_beforeBreakpoint",m),r&&(P?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!k&&I?(e.loopCreate(t),e.updateSlides()):k&&!I&&e.loopDestroy()),e.emit("breakpoint",m)}function VJ(e,t="window",r){if(!e||t==="container"&&!r)return;let n=!1;const a=Ns(),i=t==="window"?a.innerHeight:r.clientHeight,o=Object.keys(e).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const u=parseFloat(l.substr(1));return{value:i*u,point:l}}return{value:l,point:l}});o.sort((l,u)=>parseInt(l.value,10)-parseInt(u.value,10));for(let l=0;l<o.length;l+=1){const{point:u,value:d}=o[l];t==="window"?a.matchMedia(`(min-width: ${d}px)`).matches&&(n=u):d<=r.clientWidth&&(n=u)}return n||"max"}var zJ={setBreakpoint:BJ,getBreakpoint:VJ};function UJ(e,t){const r=[];return e.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(a=>{n[a]&&r.push(t+a)}):typeof n=="string"&&r.push(t+n)}),r}function WJ(){const e=this,{classNames:t,params:r,rtl:n,el:a,device:i}=e,o=UJ(["initialized",r.direction,{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);t.push(...o),a.classList.add(...t),e.emitContainerClasses()}function HJ(){const e=this,{el:t,classNames:r}=e;!t||typeof t=="string"||(t.classList.remove(...r),e.emitContainerClasses())}var qJ={addClasses:WJ,removeClasses:HJ};function GJ(){const e=this,{isLocked:t,params:r}=e,{slidesOffsetBefore:n}=r;if(n){const a=e.slides.length-1,i=e.slidesGrid[a]+e.slidesSizesGrid[a]+n*2;e.isLocked=e.size>i}else e.isLocked=e.snapGrid.length===1;r.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),r.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var KJ={checkOverflow:GJ},rN={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function YJ(e,t){return function(n={}){const a=Object.keys(n)[0],i=n[a];if(typeof i!="object"||i===null){Xs(t,n);return}if(e[a]===!0&&(e[a]={enabled:!0}),a==="navigation"&&e[a]&&e[a].enabled&&!e[a].prevEl&&!e[a].nextEl&&(e[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&e[a]&&e[a].enabled&&!e[a].el&&(e[a].auto=!0),!(a in e&&"enabled"in i)){Xs(t,n);return}typeof e[a]=="object"&&!("enabled"in e[a])&&(e[a].enabled=!0),e[a]||(e[a]={enabled:!1}),Xs(t,n)}}const Ew={eventsEmitter:qX,update:nJ,translate:cJ,transition:fJ,slide:wJ,loop:kJ,grabCursor:IJ,events:$J,breakpoints:zJ,checkOverflow:KJ,classes:qJ},Tw={};let kS=class jo{constructor(...t){let r,n;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?n=t[0]:[r,n]=t,n||(n={}),n=Xs({},n),r&&!n.el&&(n.el=r);const a=Hi();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const u=[];return a.querySelectorAll(n.el).forEach(d=>{const f=Xs({},n,{el:d});u.push(new jo(f))}),u}const i=this;i.__swiper__=!0,i.support=f5(),i.device=m5({userAgent:n.userAgent}),i.browser=p5(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],n.modules&&Array.isArray(n.modules)&&i.modules.push(...n.modules);const o={};i.modules.forEach(u=>{u({params:n,swiper:i,extendParams:YJ(n,o),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=Xs({},rN,o);return i.params=Xs({},l,Tw,n),i.originalParams=Xs({},i.params),i.passedParams=Xs({},n),i.params&&i.params.on&&Object.keys(i.params.on).forEach(u=>{i.on(u,i.params.on[u])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:r,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:r,params:n}=this,a=$i(r,`.${n.slideClass}, swiper-slide`),i=pT(a[0]);return pT(t)-i}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(r=>r.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:r,params:n}=t;t.slides=$i(r,`.${n.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,r){const n=this;t=Math.min(Math.max(t,0),1);const a=n.minTranslate(),o=(n.maxTranslate()-a)*t+a;n.translateTo(o,typeof r>"u"?0:r),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const r=t.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",r.join(" "))}getSlideClasses(t){const r=this;return r.destroyed?"":t.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const r=[];t.slides.forEach(n=>{const a=t.getSlideClasses(n);r.push({slideEl:n,classNames:a}),t.emit("_slideClass",n,a)}),t.emit("_slideClasses",r)}slidesPerViewDynamic(t="current",r=!1){const n=this,{params:a,slides:i,slidesGrid:o,slidesSizesGrid:l,size:u,activeIndex:d}=n;let f=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let m=i[d]?Math.ceil(i[d].swiperSlideSize):0,p;for(let v=d+1;v<i.length;v+=1)i[v]&&!p&&(m+=Math.ceil(i[v].swiperSlideSize),f+=1,m>u&&(p=!0));for(let v=d-1;v>=0;v-=1)i[v]&&!p&&(m+=i[v].swiperSlideSize,f+=1,m>u&&(p=!0))}else if(t==="current")for(let m=d+1;m<i.length;m+=1)(r?o[m]+l[m]-o[d]<u:o[m]-o[d]<u)&&(f+=1);else for(let m=d-1;m>=0;m-=1)o[d]-o[m]<u&&(f+=1);return f}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:r,params:n}=t;n.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&vy(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function a(){const o=t.rtlTranslate?t.translate*-1:t.translate,l=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(l),t.updateActiveIndex(),t.updateSlidesClasses()}let i;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)a(),n.autoHeight&&t.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&t.isEnd&&!n.centeredSlides){const o=t.virtual&&n.virtual.enabled?t.virtual.slides:t.slides;i=t.slideTo(o.length-1,0,!1,!0)}else i=t.slideTo(t.activeIndex,0,!1,!0);i||a()}n.watchOverflow&&r!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,r=!0){const n=this,a=n.params.direction;return t||(t=a==="horizontal"?"vertical":"horizontal"),t===a||t!=="horizontal"&&t!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${a}`),n.el.classList.add(`${n.params.containerModifierClass}${t}`),n.emitContainerClasses(),n.params.direction=t,n.slides.forEach(i=>{t==="vertical"?i.style.width="":i.style.height=""}),n.emit("changeDirection"),r&&n.update()),n}changeLanguageDirection(t){const r=this;r.rtl&&t==="rtl"||!r.rtl&&t==="ltr"||(r.rtl=t==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(t){const r=this;if(r.mounted)return!0;let n=t||r.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=r,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===r.params.swiperElementNodeName.toUpperCase()&&(r.isElement=!0);const a=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(a()):$i(n,a())[0];return!o&&r.params.createElements&&(o=Xy("div",r.params.wrapperClass),n.append(o),$i(n,`.${r.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(r,{el:n,wrapperEl:o,slidesEl:r.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:o,hostEl:r.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||Bl(n,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||Bl(n,"direction")==="rtl"),wrongRTL:Bl(o,"display")==="-webkit-box"}),!0}init(t){const r=this;if(r.initialized||r.mount(t)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(void 0,!0),r.attachEvents();const a=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&a.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(i=>{i.complete?vy(r,i):i.addEventListener("load",o=>{vy(r,o.target)})}),tN(r),r.initialized=!0,tN(r),r.emit("init"),r.emit("afterInit"),r}destroy(t=!0,r=!0){const n=this,{params:a,el:i,wrapperEl:o,slides:l}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),a.loop&&n.loopDestroy(),r&&(n.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),l&&l.length&&l.forEach(u=>{u.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(u=>{n.off(u)}),t!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),MX(n)),n.destroyed=!0),null}static extendDefaults(t){Xs(Tw,t)}static get extendedDefaults(){return Tw}static get defaults(){return rN}static installModule(t){jo.prototype.__modules__||(jo.prototype.__modules__=[]);const r=jo.prototype.__modules__;typeof t=="function"&&r.indexOf(t)<0&&r.push(t)}static use(t){return Array.isArray(t)?(t.forEach(r=>jo.installModule(r)),jo):(jo.installModule(t),jo)}};Object.keys(Ew).forEach(e=>{Object.keys(Ew[e]).forEach(t=>{kS.prototype[t]=Ew[e][t]})});kS.use([WX,HX]);const v5=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function gu(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Fd(e,t){const r=["__proto__","constructor","prototype"];Object.keys(t).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:gu(t[n])&&gu(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:Fd(e[n],t[n]):e[n]=t[n]})}function x5(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function b5(e={}){return e.pagination&&typeof e.pagination.el>"u"}function w5(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function j5(e=""){const t=e.split(" ").map(n=>n.trim()).filter(n=>!!n),r=[];return t.forEach(n=>{r.indexOf(n)<0&&r.push(n)}),r.join(" ")}function ZJ(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function QJ({swiper:e,slides:t,passedParams:r,changedParams:n,nextEl:a,prevEl:i,scrollbarEl:o,paginationEl:l}){const u=n.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:d,pagination:f,navigation:m,scrollbar:p,virtual:v,thumbs:x}=e;let j,w,S,P,k,R,I,L;n.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(j=!0),n.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(w=!0),n.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(S=!0),n.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||o)&&(d.scrollbar||d.scrollbar===!1)&&p&&!p.el&&(P=!0),n.includes("navigation")&&r.navigation&&(r.navigation.prevEl||i)&&(r.navigation.nextEl||a)&&(d.navigation||d.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(k=!0);const E=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),d[C].prevEl=void 0,d[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),d[C].el=void 0,e[C].el=void 0))};n.includes("loop")&&e.isElement&&(d.loop&&!r.loop?R=!0:!d.loop&&r.loop?I=!0:L=!0),u.forEach(C=>{if(gu(d[C])&&gu(r[C]))Object.assign(d[C],r[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in r[C]&&!r[C].enabled&&E(C);else{const F=r[C];(F===!0||F===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?F===!1&&E(C):d[C]=r[C]}}),u.includes("controller")&&!w&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),n.includes("children")&&t&&v&&d.virtual.enabled?(v.slides=t,v.update(!0)):n.includes("virtual")&&v&&d.virtual.enabled&&(t&&(v.slides=t),v.update(!0)),n.includes("children")&&t&&d.loop&&(L=!0),j&&x.init()&&x.update(!0),w&&(e.controller.control=d.controller.control),S&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),f.init(),f.render(),f.update()),P&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(d.scrollbar.el=o),p.init(),p.updateSize(),p.setTranslate()),k&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),eN(a,e.navigation.arrowSvg),a.part.add("button-next"),e.el.appendChild(a)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),eN(i,e.navigation.arrowSvg),i.part.add("button-prev"),e.el.appendChild(i))),a&&(d.navigation.nextEl=a),i&&(d.navigation.prevEl=i),m.init(),m.update()),n.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),n.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),n.includes("direction")&&e.changeDirection(r.direction,!1),(R||L)&&e.loopDestroy(),(I||L)&&e.loopCreate(),e.update()}function XJ(e={},t=!0){const r={on:{}},n={},a={};Fd(r,rN),r._emitClasses=!0,r.init=!1;const i={},o=v5.map(u=>u.replace(/_/,"")),l=Object.assign({},e);return Object.keys(l).forEach(u=>{typeof e[u]>"u"||(o.indexOf(u)>=0?gu(e[u])?(r[u]={},a[u]={},Fd(r[u],e[u]),Fd(a[u],e[u])):(r[u]=e[u],a[u]=e[u]):u.search(/on[A-Z]/)===0&&typeof e[u]=="function"?t?n[`${u[2].toLowerCase()}${u.substr(3)}`]=e[u]:r.on[`${u[2].toLowerCase()}${u.substr(3)}`]=e[u]:i[u]=e[u])}),["navigation","pagination","scrollbar"].forEach(u=>{r[u]===!0&&(r[u]={}),r[u]===!1&&delete r[u]}),{params:r,passedParams:a,rest:i,events:n}}function JJ({el:e,nextEl:t,prevEl:r,paginationEl:n,scrollbarEl:a,swiper:i},o){x5(o)&&t&&r&&(i.params.navigation.nextEl=t,i.originalParams.navigation.nextEl=t,i.params.navigation.prevEl=r,i.originalParams.navigation.prevEl=r),b5(o)&&n&&(i.params.pagination.el=n,i.originalParams.pagination.el=n),w5(o)&&a&&(i.params.scrollbar.el=a,i.originalParams.scrollbar.el=a),i.init(e)}function eee(e,t,r,n,a){const i=[];if(!t)return i;const o=u=>{i.indexOf(u)<0&&i.push(u)};if(r&&n){const u=n.map(a),d=r.map(a);u.join("")!==d.join("")&&o("children"),n.length!==r.length&&o("children")}return v5.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in e&&u in t)if(gu(e[u])&&gu(t[u])){const d=Object.keys(e[u]),f=Object.keys(t[u]);d.length!==f.length?o(u):(d.forEach(m=>{e[u][m]!==t[u][m]&&o(u)}),f.forEach(m=>{e[u][m]!==t[u][m]&&o(u)}))}else e[u]!==t[u]&&o(u)}),i}const tee=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(this,arguments)}function N5(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function S5(e){const t=[];return rr.Children.toArray(e).forEach(r=>{N5(r)?t.push(r):r.props&&r.props.children&&S5(r.props.children).forEach(n=>t.push(n))}),t}function ree(e){const t=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return rr.Children.toArray(e).forEach(n=>{if(N5(n))t.push(n);else if(n.props&&n.props.slot&&r[n.props.slot])r[n.props.slot].push(n);else if(n.props&&n.props.children){const a=S5(n.props.children);a.length>0?a.forEach(i=>t.push(i)):r["container-end"].push(n)}else r["container-end"].push(n)}),{slides:t,slots:r}}function nee(e,t,r){if(!r)return null;const n=f=>{let m=f;return f<0?m=t.length+f:m>=t.length&&(m=m-t.length),m},a=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:i,to:o}=r,l=e.params.loop?-t.length:0,u=e.params.loop?t.length*2:t.length,d=[];for(let f=l;f<u;f+=1)f>=i&&f<=o&&d.push(t[n(f)]);return d.map((f,m)=>rr.cloneElement(f,{swiper:e,style:a,key:f.props.virtualIndex||f.key||`slide-${m}`}))}function Uf(e,t){return typeof window>"u"?g.useEffect(e,t):g.useLayoutEffect(e,t)}const wT=g.createContext(null),see=g.createContext(null),CS=g.forwardRef(({className:e,tag:t="div",wrapperTag:r="div",children:n,onSwiper:a,...i}={},o)=>{let l=!1;const[u,d]=g.useState("swiper"),[f,m]=g.useState(null),[p,v]=g.useState(!1),x=g.useRef(!1),j=g.useRef(null),w=g.useRef(null),S=g.useRef(null),P=g.useRef(null),k=g.useRef(null),R=g.useRef(null),I=g.useRef(null),L=g.useRef(null),{params:E,passedParams:C,rest:F,events:_}=XJ(i),{slides:T,slots:M}=ree(n),$=()=>{v(!p)};Object.assign(E.on,{_containerClasses(B,Z){d(Z)}});const J=()=>{Object.assign(E.on,_),l=!0;const B={...E};if(delete B.wrapperClass,w.current=new kS(B),w.current.virtual&&w.current.params.virtual.enabled){w.current.virtual.slides=T;const Z={cache:!1,slides:T,renderExternal:m,renderExternalUpdate:!1};Fd(w.current.params.virtual,Z),Fd(w.current.originalParams.virtual,Z)}};j.current||J(),w.current&&w.current.on("_beforeBreakpoint",$);const q=()=>{l||!_||!w.current||Object.keys(_).forEach(B=>{w.current.on(B,_[B])})},U=()=>{!_||!w.current||Object.keys(_).forEach(B=>{w.current.off(B,_[B])})};g.useEffect(()=>()=>{w.current&&w.current.off("_beforeBreakpoint",$)}),g.useEffect(()=>{!x.current&&w.current&&(w.current.emitSlidesClasses(),x.current=!0)}),Uf(()=>{if(o&&(o.current=j.current),!!j.current)return w.current.destroyed&&J(),JJ({el:j.current,nextEl:k.current,prevEl:R.current,paginationEl:I.current,scrollbarEl:L.current,swiper:w.current},E),a&&!w.current.destroyed&&a(w.current),()=>{w.current&&!w.current.destroyed&&w.current.destroy(!0,!1)}},[]),Uf(()=>{q();const B=eee(C,S.current,T,P.current,Z=>Z.key);return S.current=C,P.current=T,B.length&&w.current&&!w.current.destroyed&&QJ({swiper:w.current,slides:T,passedParams:C,changedParams:B,nextEl:k.current,prevEl:R.current,scrollbarEl:L.current,paginationEl:I.current}),()=>{U()}}),Uf(()=>{tee(w.current)},[f]);function X(){return E.virtual?nee(w.current,T,f):T.map((B,Z)=>rr.cloneElement(B,{swiper:w.current,swiperSlideIndex:Z}))}return rr.createElement(t,Jy({ref:j,className:j5(`${u}${e?` ${e}`:""}`)},F),rr.createElement(see.Provider,{value:w.current},M["container-start"],rr.createElement(r,{className:ZJ(E.wrapperClass)},M["wrapper-start"],X(),M["wrapper-end"]),x5(E)&&rr.createElement(rr.Fragment,null,rr.createElement("div",{ref:R,className:"swiper-button-prev"}),rr.createElement("div",{ref:k,className:"swiper-button-next"})),w5(E)&&rr.createElement("div",{ref:L,className:"swiper-scrollbar"}),b5(E)&&rr.createElement("div",{ref:I,className:"swiper-pagination"}),M["container-end"]))});CS.displayName="Swiper";const AS=g.forwardRef(({tag:e="div",children:t,className:r="",swiper:n,zoom:a,lazy:i,virtualIndex:o,swiperSlideIndex:l,...u}={},d)=>{const f=g.useRef(null),[m,p]=g.useState("swiper-slide"),[v,x]=g.useState(!1);function j(k,R,I){R===f.current&&p(I)}Uf(()=>{if(typeof l<"u"&&(f.current.swiperSlideIndex=l),d&&(d.current=f.current),!(!f.current||!n)){if(n.destroyed){m!=="swiper-slide"&&p("swiper-slide");return}return n.on("_slideClass",j),()=>{n&&n.off("_slideClass",j)}}}),Uf(()=>{n&&f.current&&!n.destroyed&&p(n.getSlideClasses(f.current))},[n]);const w={isActive:m.indexOf("swiper-slide-active")>=0,isVisible:m.indexOf("swiper-slide-visible")>=0,isPrev:m.indexOf("swiper-slide-prev")>=0,isNext:m.indexOf("swiper-slide-next")>=0},S=()=>typeof t=="function"?t(w):t,P=()=>{x(!0)};return rr.createElement(e,Jy({ref:f,className:j5(`${m}${r?` ${r}`:""}`),"data-swiper-slide-index":o,onLoad:P},u),a&&rr.createElement(wT.Provider,{value:w},rr.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},S(),i&&!v&&rr.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&rr.createElement(wT.Provider,{value:w},S(),i&&!v&&rr.createElement("div",{className:"swiper-lazy-preloader"})))});AS.displayName="SwiperSlide";function aee(e,t,r,n){return e.params.createElements&&Object.keys(n).forEach(a=>{if(!r[a]&&r.auto===!0){let i=$i(e.el,`.${n[a]}`)[0];i||(i=Xy("div",n[a]),i.className=n[a],e.el.append(i)),r[a]=i,t[a]=i}}),r}const jT='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function k5({swiper:e,extendParams:t,on:r,emit:n}){t({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null,arrowSvg:jT};function a(v){let x;return v&&typeof v=="string"&&e.isElement&&(x=e.el.querySelector(v)||e.hostEl.querySelector(v),x)?x:(v&&(typeof v=="string"&&(x=[...document.querySelectorAll(v)]),e.params.uniqueNavElements&&typeof v=="string"&&x&&x.length>1&&e.el.querySelectorAll(v).length===1?x=e.el.querySelector(v):x&&x.length===1&&(x=x[0])),v&&!x?v:x)}function i(v,x){const j=e.params.navigation;v=bo(v),v.forEach(w=>{w&&(w.classList[x?"add":"remove"](...j.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=x),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](j.lockClass))})}function o(){const{nextEl:v,prevEl:x}=e.navigation;if(e.params.loop){i(x,!1),i(v,!1);return}i(x,e.isBeginning&&!e.params.rewind),i(v,e.isEnd&&!e.params.rewind)}function l(v){v.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function u(v){v.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function d(){const v=e.params.navigation;if(e.params.navigation=aee(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(v.nextEl||v.prevEl))return;let x=a(v.nextEl),j=a(v.prevEl);Object.assign(e.navigation,{nextEl:x,prevEl:j}),x=bo(x),j=bo(j);const w=(S,P)=>{if(S){if(v.addIcons&&S.matches(".swiper-button-next,.swiper-button-prev")&&!S.querySelector("svg")){const k=document.createElement("div");eN(k,jT),S.appendChild(k.querySelector("svg")),k.remove()}S.addEventListener("click",P==="next"?u:l)}!e.enabled&&S&&S.classList.add(...v.lockClass.split(" "))};x.forEach(S=>w(S,"next")),j.forEach(S=>w(S,"prev"))}function f(){let{nextEl:v,prevEl:x}=e.navigation;v=bo(v),x=bo(x);const j=(w,S)=>{w.removeEventListener("click",S==="next"?u:l),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};v.forEach(w=>j(w,"next")),x.forEach(w=>j(w,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(d(),o())}),r("toEdge fromEdge lock unlock",()=>{o()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:v,prevEl:x}=e.navigation;if(v=bo(v),x=bo(x),e.enabled){o();return}[...v,...x].filter(j=>!!j).forEach(j=>j.classList.add(e.params.navigation.lockClass))}),r("click",(v,x)=>{let{nextEl:j,prevEl:w}=e.navigation;j=bo(j),w=bo(w);const S=x.target;let P=w.includes(S)||j.includes(S);if(e.isElement&&!P){const k=x.path||x.composedPath&&x.composedPath();k&&(P=k.find(R=>j.includes(R)||w.includes(R)))}if(e.params.navigation.hideOnClick&&!P){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===S||e.pagination.el.contains(S)))return;let k;j.length?k=j[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(k=w[0].classList.contains(e.params.navigation.hiddenClass)),n(k===!0?"navigationShow":"navigationHide"),[...j,...w].filter(R=>!!R).forEach(R=>R.classList.toggle(e.params.navigation.hiddenClass))}});const m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),o()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:m,disable:p,update:o,init:d,destroy:f})}function C5({swiper:e,extendParams:t,on:r,emit:n,params:a}){e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,o,l=a&&a.autoplay?a.autoplay.delay:3e3,u=a&&a.autoplay?a.autoplay.delay:3e3,d,f=new Date().getTime(),m,p,v,x,j,w,S;function P(X){!e||e.destroyed||!e.wrapperEl||X.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",P),!(S||X.detail&&X.detail.bySwiperTouchMove)&&F())}const k=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?m=!0:m&&(u=d,m=!1);const X=e.autoplay.paused?d:f+u-new Date().getTime();e.autoplay.timeLeft=X,n("autoplayTimeLeft",X,X/l),o=requestAnimationFrame(()=>{k()})},R=()=>{let X;return e.virtual&&e.params.virtual.enabled?X=e.slides.find(Z=>Z.classList.contains("swiper-slide-active")):X=e.slides[e.activeIndex],X?parseInt(X.getAttribute("data-swiper-autoplay"),10):void 0},I=X=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),k();let B=typeof X>"u"?e.params.autoplay.delay:X;l=e.params.autoplay.delay,u=e.params.autoplay.delay;const Z=R();!Number.isNaN(Z)&&Z>0&&typeof X>"u"&&(B=Z,l=Z,u=Z),d=B;const ne=e.params.speed,W=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ne,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ne,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ne,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ne,!0,!0),n("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{I()})))};return B>0?(clearTimeout(i),i=setTimeout(()=>{W()},B)):requestAnimationFrame(()=>{W()}),B},L=()=>{f=new Date().getTime(),e.autoplay.running=!0,I(),n("autoplayStart")},E=()=>{e.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(o),n("autoplayStop")},C=(X,B)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(i),X||(w=!0);const Z=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",P):F()};if(e.autoplay.paused=!0,B){j&&(d=e.params.autoplay.delay),j=!1,Z();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),Z())},F=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),w?(w=!1,I(d)):I(),e.autoplay.paused=!1,n("autoplayResume"))},_=()=>{if(e.destroyed||!e.autoplay.running)return;const X=Hi();X.visibilityState==="hidden"&&(w=!0,C(!0)),X.visibilityState==="visible"&&F()},T=X=>{X.pointerType==="mouse"&&(w=!0,S=!0,!(e.animating||e.autoplay.paused)&&C(!0))},M=X=>{X.pointerType==="mouse"&&(S=!1,e.autoplay.paused&&F())},$=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",T),e.el.addEventListener("pointerleave",M))},J=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",T),e.el.removeEventListener("pointerleave",M))},q=()=>{Hi().addEventListener("visibilitychange",_)},U=()=>{Hi().removeEventListener("visibilitychange",_)};r("init",()=>{e.params.autoplay.enabled&&($(),q(),L())}),r("destroy",()=>{J(),U(),e.autoplay.running&&E()}),r("_freeModeStaticRelease",()=>{(v||w)&&F()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?E():C(!0,!0)}),r("beforeTransitionStart",(X,B,Z)=>{e.destroyed||!e.autoplay.running||(Z||!e.params.autoplay.disableOnInteraction?C(!0,!0):E())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){E();return}p=!0,v=!1,w=!1,x=setTimeout(()=>{w=!0,v=!0,C(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(x),clearTimeout(i),e.params.autoplay.disableOnInteraction){v=!1,p=!1;return}v&&e.params.cssMode&&F(),v=!1,p=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(j=!0)}),Object.assign(e.autoplay,{start:L,stop:E,pause:C,resume:F})}function iee(){const e=xr(),[t,r]=g.useState([]),[n,a]=g.useState(!0),i=l=>l?l.startsWith("/uploads/")?`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${l}`:l.startsWith("http://")||l.startsWith("https://")?l:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}/uploads/categories/${l}`:"https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=200&h=200&fit=crop";g.useEffect(()=>{(async()=>{try{a(!0);const u=await l5.getAll({active:"true"});if(u.data?.success&&u.data?.categories){const d=u.data.categories.map(f=>({...f,image:i(f.image)}));r(d)}}catch(u){console.error("Error loading categories:",u)}finally{a(!1)}})()},[]);const o=l=>{e(`/venues?categoryId=${l._id}&categoryName=${encodeURIComponent(l.name)}`,{state:{categoryId:l._id,categoryName:l.name}})};return s.jsxs("section",{className:"categories",children:[s.jsx("img",{src:"/image/Flowers.webp",alt:"Decorative flowers",className:"categories-flower"}),s.jsx("div",{className:"categories-container",children:s.jsxs("div",{className:"categories-wrapper",children:[s.jsx("button",{className:"category-arrow category-arrow-prev","aria-label":"Previous",children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"15 18 9 12 15 6"})})}),n?s.jsx("div",{style:{padding:"20px",textAlign:"center",width:"100%"},children:"Loading categories..."}):t.length>0?s.jsx(CS,{modules:[k5,C5],spaceBetween:24,slidesPerView:"auto",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},navigation:{nextEl:".category-arrow-next",prevEl:".category-arrow-prev"},breakpoints:{320:{slidesPerView:3,spaceBetween:16},480:{slidesPerView:4,spaceBetween:18},768:{slidesPerView:5,spaceBetween:20},1024:{slidesPerView:6,spaceBetween:24},1200:{slidesPerView:7,spaceBetween:24}},className:"categories-swiper",children:t.map(l=>s.jsx(AS,{children:s.jsxs("div",{className:"category-item",onClick:()=>o(l),children:[s.jsx("div",{className:"category-icon",children:s.jsx("img",{src:l.image,alt:l.name,onError:u=>{u.target.src="https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=200&h=200&fit=crop"}})}),s.jsx("p",{className:"category-label",children:l.name})]})},l._id))}):s.jsx("div",{style:{padding:"20px",textAlign:"center",width:"100%"},children:"No categories available"}),s.jsx("button",{className:"category-arrow category-arrow-next","aria-label":"Next",children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})})]})}function oee(){return s.jsx("section",{className:"how-it-works",children:s.jsxs("div",{className:"how-it-works-container",children:[s.jsx("h2",{className:"how-it-works-title",children:"How it Works?"}),s.jsxs("div",{className:"steps-container",children:[s.jsxs("div",{className:"step",children:[s.jsx("div",{className:"step-icon-wrapper",children:s.jsx("div",{className:"step-icon browse-icon",children:s.jsx("img",{src:"/image/find.png",alt:"Browse Venues"})})}),s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{className:"step-title",children:"Browse Venues"}),s.jsx("p",{className:"step-description",children:"Check out the best suited Venues, compare photos, special offers and function packages."})]})]}),s.jsxs("div",{className:"step",children:[s.jsx("div",{className:"step-icon-wrapper",children:s.jsx("div",{className:"step-icon quote-icon",children:s.jsx("img",{src:"/image/request.png",alt:"Request Quotes"})})}),s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{className:"step-title",children:"Request Quotes"}),s.jsx("p",{className:"step-description",children:"Get custom quotes of your short-listed Venues at the click of GET FREE QUOTES button."})]})]}),s.jsxs("div",{className:"step",children:[s.jsx("div",{className:"step-icon-wrapper",children:s.jsx("div",{className:"step-icon book-icon",children:s.jsx("img",{src:"/image/booking.png",alt:"Book a Venue"})})}),s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{className:"step-title",children:"Book a Venue"}),s.jsx("p",{className:"step-description",children:"Select and Book the perfect venue in no time at all. Time is money, save both."})]})]}),s.jsxs("div",{className:"step",children:[s.jsx("div",{className:"step-icon-wrapper",children:s.jsx("div",{className:"step-icon planning-icon",children:s.jsx("img",{src:"/image/banner.png",alt:"Event Planning"})})}),s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{className:"step-title",children:"Event Planning"}),s.jsx("p",{className:"step-description",children:"Plan your event effortlessly with expert guidance. Save time, stay stress-free."})]})]})]})]})})}function lee(){return s.jsx("section",{className:"why-venuemonk",children:s.jsxs("div",{className:"why-venuemonk-container",children:[s.jsx("h2",{className:"why-venuemonk-title",children:"Why ShubhVenue?"}),s.jsxs("div",{className:"features-container",children:[s.jsxs("div",{className:"feature",children:[s.jsx("div",{className:"feature-icon-wrapper",children:s.jsx("div",{className:"feature-icon",children:s.jsx("img",{src:"/image/saving.png",alt:"Save Money"})})}),s.jsxs("div",{className:"feature-content",children:[s.jsx("h3",{className:"feature-title",children:"Save Money"}),s.jsx("p",{className:"feature-subtitle",children:"Lowest Price Guaranteed"})]})]}),s.jsxs("div",{className:"feature",children:[s.jsx("div",{className:"feature-icon-wrapper",children:s.jsx("div",{className:"feature-icon",children:s.jsx("img",{src:"/image/checklist.png",alt:"Verified Listing"})})}),s.jsxs("div",{className:"feature-content",children:[s.jsx("h3",{className:"feature-title",children:"Verified Listing"}),s.jsx("p",{className:"feature-subtitle",children:"Dependable & Accurate"})]})]}),s.jsxs("div",{className:"feature",children:[s.jsx("div",{className:"feature-icon-wrapper",children:s.jsx("div",{className:"feature-icon",children:s.jsx("img",{src:"/image/hassle-free.png",alt:"Hassle Free Booking"})})}),s.jsxs("div",{className:"feature-content",children:[s.jsx("h3",{className:"feature-title",children:"Hassle Free Booking"}),s.jsx("p",{className:"feature-subtitle",children:"Convenience"})]})]})]})]})})}const cee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uee=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),NT=e=>{const t=uee(e);return t.charAt(0).toUpperCase()+t.slice(1)},A5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),dee=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var hee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fee=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},u)=>g.createElement("svg",{ref:u,...hee,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:A5("lucide",a),...!i&&!dee(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,f])=>g.createElement(d,f)),...Array.isArray(i)?i:[i]]));const dt=(e,t)=>{const r=g.forwardRef(({className:n,...a},i)=>g.createElement(fee,{ref:i,iconNode:t,className:A5(`lucide-${cee(NT(e))}`,`lucide-${e}`,n),...a}));return r.displayName=NT(e),r};const mee=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],pee=dt("arrow-down-right",mee);const gee=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],I5=dt("arrow-left",gee);const yee=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],vee=dt("arrow-up-right",yee);const xee=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ST=dt("ban",xee);const bee=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wee=dt("bell",bee);const jee=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Nee=dt("book-open",jee);const See=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],P5=dt("building-2",See);const kee=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Cee=dt("calendar-days",kee);const Aee=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tn=dt("calendar",Aee);const Iee=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Pee=dt("chart-column",Iee);const Eee=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ql=dt("check",Eee);const Tee=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zm=dt("chevron-down",Tee);const Mee=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bx=dt("chevron-left",Mee);const _ee=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Iu=dt("chevron-right",_ee);const Dee=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Oee=dt("chevron-up",Dee);const Ree=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pa=dt("circle-check-big",Ree);const Lee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],E5=dt("circle-question-mark",Lee);const Fee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Xl=dt("circle-x",Fee);const $ee=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ea=dt("clock",$ee);const Bee=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],im=dt("credit-card",Bee);const Vee=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wx=dt("dollar-sign",Vee);const zee=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Oo=dt("eye-off",zee);const Uee=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qr=dt("eye",Uee);const Wee=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hee=dt("file-text",Wee);const qee=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],T5=dt("funnel",qee);const Gee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Wf=dt("image",Gee);const Kee=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],nN=dt("layout-dashboard",Kee);const Yee=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],sN=dt("loader-circle",Yee);const Zee=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yu=dt("lock",Zee);const Qee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],IS=dt("log-out",Qee);const Xee=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],di=dt("mail",Xee);const Jee=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bs=dt("map-pin",Jee);const ete=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jx=dt("menu",ete);const tte=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Qi=dt("message-square",tte);const rte=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],M5=dt("moon",rte);const nte=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],lc=dt("phone",nte);const ste=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],kT=dt("play",ste);const ate=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ur=dt("plus",ate);const ite=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ote=dt("power-off",ite);const lte=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],CT=dt("power",lte);const cte=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Pu=dt("refresh-cw",cte);const ute=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],dte=dt("reply",ute);const hte=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_5=dt("save",hte);const fte=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ha=dt("search",fte);const mte=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pte=dt("send",mte);const gte=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aN=dt("settings",gte);const yte=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oa=dt("shield",yte);const vte=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ls=dt("square-pen",vte);const xte=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ri=dt("star",xte);const bte=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],D5=dt("store",bte);const wte=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],O5=dt("sun",wte);const jte=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],iN=dt("tag",jte);const Nte=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xr=dt("trash-2",Nte);const Ste=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],kte=dt("trending-down",Ste);const Cte=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],R5=dt("trending-up",Cte);const Ate=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ev=dt("upload",Ate);const Ite=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tv=dt("user-cog",Ite);const Pte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ete=dt("user-plus",Pte);const Tte=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],la=dt("user",Tte);const Mte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Um=dt("users",Mte);const _te=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],om=dt("video",_te);const Dte=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],lm=dt("wallet",Dte);const Ote=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dr=dt("x",Ote),Rte=()=>"https://shubhvenue.com/api".replace("/api","");function Lte(){const e=xr(),[t,r]=g.useState([]),[n,a]=g.useState(!0);g.useEffect(()=>{i()},[]);const i=async()=>{try{const o=await kX.getAll();console.log("Vendor Categories API Response:",o);let l=[];o.data&&(Array.isArray(o.data)?l=o.data:o.data.categories&&Array.isArray(o.data.categories)?l=o.data.categories:o.data.data&&Array.isArray(o.data.data)&&(l=o.data.data)),console.log("Parsed Categories:",l);const u=l.filter(d=>d.isActive!==!1);console.log("Active Categories:",u),r(u),a(!1)}catch(o){console.error("Failed to fetch vendor categories:",o),console.error("Error details:",o.response||o.message),a(!1)}};return n?s.jsx("section",{className:"vendor-categories",children:s.jsxs("div",{className:"vendor-categories-container",children:[s.jsx("h2",{className:"vendor-categories-title",children:"Vendors By Category"}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})]})}):t.length===0?(console.log("No categories to display - returning null"),null):(console.log("Rendering",t.length,"categories"),s.jsx("section",{className:"vendor-categories",children:s.jsxs("div",{className:"vendor-categories-container",children:[s.jsx("h2",{className:"vendor-categories-title",children:"Vendors By Category"}),s.jsxs("div",{className:"vendor-categories-wrapper",children:[s.jsx(CS,{modules:[k5,C5],spaceBetween:20,slidesPerView:"auto",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},navigation:{nextEl:".vendor-categories-nav-next",prevEl:".vendor-categories-nav-prev"},breakpoints:{320:{slidesPerView:1.2,spaceBetween:15},480:{slidesPerView:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20},1200:{slidesPerView:4,spaceBetween:20}},className:"vendor-categories-swiper",children:t.map(o=>s.jsx(AS,{children:s.jsxs("div",{className:"vendor-category-card",onClick:()=>{e(`/venues?vendorCategoryId=${o._id}&vendorCategoryName=${encodeURIComponent(o.name)}`,{state:{vendorCategoryId:o._id,vendorCategoryName:o.name}})},children:[s.jsx("div",{className:"vendor-category-image-wrapper",children:o.image?s.jsx("img",{src:o.image.startsWith("http")?o.image:`${Rte()}${o.image}`,alt:o.name,className:"vendor-category-image",onError:l=>{l.target.src="/image/placeholder-category.jpg"}}):s.jsx("div",{className:"vendor-category-placeholder",children:s.jsx("span",{className:"vendor-category-placeholder-text",children:o.name.charAt(0).toUpperCase()})})}),s.jsx("div",{className:"vendor-category-name",children:o.name})]})},o._id))}),s.jsx("button",{className:"vendor-categories-nav-btn vendor-categories-nav-prev","aria-label":"Previous",children:s.jsx(bx,{className:"w-6 h-6"})}),s.jsx("button",{className:"vendor-categories-nav-btn vendor-categories-nav-next","aria-label":"Next",children:s.jsx(Iu,{className:"w-6 h-6"})})]})]})}))}const Jl=e=>e?e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"";function Fte({onLoadComplete:e}){const t=xr(),[r,n]=g.useState([]),[a,i]=g.useState(!0),o=g.useRef(!1),l=g.useRef(!1),u=g.useRef(e);g.useEffect(()=>{u.current=e},[e]);const d=p=>{if(!p||p.length===0)return"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop";const v=Array.isArray(p)?p[0]:p;return v.startsWith("/uploads/")?`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${v}`:v.startsWith("http://")||v.startsWith("https://")?v:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}/uploads/venues/${v}`},f=p=>p?typeof p=="number"?`${p.toFixed(2)} Lakh`:p:"Price on request",m=p=>p?typeof p=="object"&&p.city?`${p.city}${p.state?`, ${p.state}`:""}`:typeof p=="string"?p.length>20?`${p.substring(0,20)}...`:p:"Location not specified":"Location not specified";return g.useEffect(()=>{if(o.current)return;o.current=!0,(async()=>{const v=x=>{const j=x?.data;let w=[];return j?.success&&j?.data?w=Array.isArray(j.data)?j.data:[]:j?.venues?w=Array.isArray(j.venues)?j.venues:[]:j?.data?w=Array.isArray(j.data)?j.data:[]:Array.isArray(j)?w=j:j?.results&&Array.isArray(j.results)&&(w=j.results),Array.isArray(w)?w:[]};try{i(!0);const x=await ns.getAll({isFeatured:"true",limit:"6",status:"active"});if(console.log("Featured Venues API Response:",x),console.log("Response Data:",x.data),x.data){let j=v(x);if(j.length===0){console.log("No active featured venues, trying approved featured venues...");const S=await ns.getAll({isFeatured:"true",limit:"6",status:"approved"});j=v(S)}if(console.log("Extracted Featured Venues Data:",j),console.log("Featured Venues Count:",j.length),j.length===0){console.log("No featured venues found, fetching approved venues as fallback...");const S=await ns.getAll({status:"active",limit:"6"});if(j=v(S),j.length===0){console.log("No active venues found, trying admin-approved venues...");const P=await ns.getAll({status:"approved",limit:"6"});j=v(P)}console.log("Fallback Venues Count:",j.length)}const w=j.slice(0,6).map(S=>{let P=0;S.rating&&(typeof S.rating=="object"&&S.rating.average!==void 0?P=Number(S.rating.average)||0:typeof S.rating=="number"?P=S.rating:S.averageRating&&(P=Number(S.averageRating)||0));let k=0;return S.reviewCount!==void 0?k=Number(S.reviewCount)||0:S.rating&&typeof S.rating=="object"&&S.rating.totalReviews!==void 0?k=Number(S.rating.totalReviews)||0:S.reviews!==void 0&&(k=Number(S.reviews)||0),{id:S._id||S.id,name:S.name||"Unnamed Venue",image:d(S.images||S.image||S.coverImage),rating:P,reviews:k,location:m(S.location),type:S.categoryId?.name||S.category?.name||S.venueType||"Venue",price:f(S.price||S.pricingInfo?.rentalPrice),rooms:S.rooms||S.roomCount||0,capacity:S.capacity?typeof S.capacity=="object"?`${S.capacity.minGuests||S.capacity.min||0}-${S.capacity.maxGuests||S.capacity.max||0}`:`${S.capacity}`:null,highlights:S.highlights||[],moreTags:S.tags?.length||0,categoryId:S.categoryId,category:S.category}});console.log("Formatted Featured Venues:",w),n(w)}else console.error("Invalid API response:",x.data),G.error("Failed to load featured venues"),n([])}catch(x){console.error("Error fetching featured venues:",x),G.error("Failed to load featured venues"),n([])}finally{i(!1),u.current&&!l.current&&(l.current=!0,u.current(!0))}})()},[]),s.jsx("section",{className:"featured-venues",children:s.jsxs("div",{className:"featured-venues-container",children:[s.jsx("h2",{className:"featured-venues-title",children:"Featured Venues"}),a?s.jsxs("div",{className:"featured-venues-loading",children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"featured-venues-loading-logo",onError:p=>{p.target.onerror=null,p.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("div",{className:"featured-venues-loading-text",children:"Loading featured venues..."})]}):r.length>0?s.jsx("div",{className:"venues-grid",children:r.map(p=>s.jsxs("div",{className:"venue-card",onClick:()=>{const v=Jl(p.name),x=p.categoryId?.name||p.category?.name||p.type,j=x?Jl(x):null,w=j?`/venue/${j}/${v}`:`/venue/${v}`;t(w)},children:[s.jsx("div",{className:"venue-image-wrapper",children:s.jsx("img",{src:p.image,alt:p.name,className:"venue-image",onError:v=>{v.target.src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop"}})}),s.jsxs("div",{className:"venue-content",children:[s.jsx("h3",{className:"venue-name",children:p.name}),s.jsxs("div",{className:"venue-rating",children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),s.jsx("span",{className:"rating-value",children:typeof p.rating=="number"&&p.rating>0?p.rating.toFixed(1):"N/A"}),s.jsxs("span",{className:"rating-reviews",children:["(",p.reviews," reviews)"]})]}),s.jsxs("div",{className:"venue-location",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),s.jsx("span",{children:p.location}),s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]}),s.jsx("span",{children:p.type})]}),s.jsxs("div",{className:"venue-tags",children:[p.capacity&&p.capacity!=="Capacity not specified"&&s.jsxs("span",{className:"venue-tag",children:[p.capacity," Guests"]}),p.rooms>0&&s.jsxs("span",{className:"venue-tag",children:[p.rooms," Rooms"]}),p.highlights&&p.highlights.length>0&&s.jsxs("span",{className:"venue-tag",children:[p.highlights.length," Highlights"]}),p.moreTags>0&&s.jsxs("span",{className:"venue-tag",children:["+",p.moreTags," more"]})]})]})]},p.id))}):s.jsx("div",{style:{padding:"60px 20px",textAlign:"center"},children:s.jsx("div",{style:{fontSize:"18px",color:"var(--gray-medium)"},children:"No featured venues available"})}),s.jsx("div",{className:"view-all-container",children:s.jsxs("button",{className:"view-all-btn",onClick:()=>t("/venues"),children:["View All",s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})})]})})]})})}function $te(){const e=xr();return s.jsxs("section",{className:"cta-section",children:[s.jsx("img",{src:"/image/Flowers-bottom.png",alt:"Decorative flowers",className:"cta-flower cta-flower--top-left"}),s.jsx("img",{src:"/image/Flowers-bottom.png",alt:"Decorative flowers",className:"cta-flower cta-flower--bottom-right"}),s.jsxs("div",{className:"cta-container",children:[s.jsxs("div",{className:"cta-content",children:[s.jsx("h2",{className:"cta-title",children:"Ready to Book Your Perfect Venue?"}),s.jsx("p",{className:"cta-description",children:"Join thousands of satisfied customers who found their dream venue with us. Start your journey today and make your event unforgettable."}),s.jsxs("div",{className:"cta-buttons",children:[s.jsxs("button",{className:"cta-btn-primary",onClick:()=>e("/venues"),children:["Browse All Venues",s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),s.jsx("button",{className:"cta-btn-secondary",onClick:()=>e("/contact-us"),children:"Contact Us"})]})]}),s.jsxs("div",{className:"cta-stats",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-number",children:"500+"}),s.jsx("div",{className:"stat-label",children:"Venues"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-number",children:"10K+"}),s.jsx("div",{className:"stat-label",children:"Happy Customers"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-number",children:"50+"}),s.jsx("div",{className:"stat-label",children:"Cities"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-number",children:"98%"}),s.jsx("div",{className:"stat-label",children:"Satisfaction Rate"})]})]})]})]})}function Bte({onLoadComplete:e}){const[t,r]=g.useState([]),[n,a]=g.useState(!0),[i,o]=g.useState(0),[l,u]=g.useState(2),d=g.useRef(!1),f=g.useRef(!1),m=g.useRef(e);g.useEffect(()=>{m.current=e},[e]),g.useEffect(()=>{if(d.current)return;d.current=!0,(async()=>{try{a(!0);const P=await NX.getAll();P.data?.success&&P.data?.testimonials?r(P.data.testimonials):r([])}catch(P){console.error("Error fetching testimonials:",P),G.error("Failed to load testimonials"),r([])}finally{a(!1),m.current&&!f.current&&(f.current=!0,m.current(!0))}})()},[]),g.useEffect(()=>{const S=()=>{const P=window.innerWidth<=768?1:2;u(P)};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const p=Math.ceil(t.length/l);g.useEffect(()=>{o(0)},[l]);const v=()=>{o(S=>S===0?p-1:S-1)},x=()=>{o(S=>S===p-1?0:S+1)},j=S=>{o(S)},w=()=>{const S=i*l;return t.slice(S,S+l)};return n?s.jsx("section",{className:"testimonials",children:s.jsxs("div",{className:"testimonials-container",children:[s.jsx("h2",{className:"testimonials-title",children:"Testimonials"}),s.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite"},onError:S=>{S.target.onerror=null,S.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("div",{className:"loading-spinner",style:{margin:"0 auto"}}),s.jsx("p",{style:{marginTop:"20px",color:"var(--gray-medium)"},children:"Loading testimonials..."})]})]})}):t.length===0?null:s.jsx("section",{id:"testimonials",className:"testimonials",children:s.jsxs("div",{className:"testimonials-container",children:[s.jsx("h2",{className:"testimonials-title",children:"Testimonials"}),s.jsxs("div",{className:"testimonials-slider",children:[s.jsx("button",{className:"testimonials-arrow testimonials-arrow-left",onClick:v,"aria-label":"Previous testimonials",children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"15 18 9 12 15 6"})})}),s.jsx("div",{className:"testimonials-content",children:w().map(S=>s.jsxs("div",{className:"testimonial-card",children:[s.jsx("div",{className:"testimonial-quote-open",children:s.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.996 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.984zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"})})}),s.jsx("p",{className:"testimonial-text",children:S.text}),s.jsx("div",{className:"testimonial-quote-close",children:s.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.996 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.984zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"})})}),s.jsxs("div",{className:"testimonial-author",children:[s.jsx("div",{className:"testimonial-name",children:S.name}),S.event&&s.jsx("div",{className:"testimonial-event",children:S.event})]})]},S._id||S.id))}),s.jsx("button",{className:"testimonials-arrow testimonials-arrow-right",onClick:x,"aria-label":"Next testimonials",children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),s.jsx("div",{className:"testimonials-dots",children:Array.from({length:p}).map((S,P)=>s.jsx("button",{className:`testimonial-dot ${P===i?"active":""}`,onClick:()=>j(P),"aria-label":`Go to page ${P+1}`},P))})]})})}function Vte({onLoadComplete:e}){const[t,r]=g.useState(0),[n,a]=g.useState([]),[i,o]=g.useState(!0),l=g.useRef(!1),u=g.useRef(!1),d=g.useRef(e);g.useEffect(()=>{d.current=e},[e]),g.useEffect(()=>{if(l.current)return;l.current=!0,(async()=>{try{o(!0);const p=await SX.getAll();p.data?.success&&p.data?.faqs?a(p.data.faqs):a([])}catch(p){console.error("Error fetching FAQs:",p),G.error("Failed to load FAQs"),a([])}finally{o(!1),d.current&&!u.current&&(u.current=!0,d.current(!0))}})()},[]);const f=m=>{r(t===m?null:m)};return i?s.jsx("section",{className:"faq-section",children:s.jsxs("div",{className:"faq-container",children:[s.jsx("h2",{className:"faq-title",children:"Frequently Asked Questions"}),s.jsx("p",{className:"faq-subtitle",children:"Got questions? We've got answers!"}),s.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite"},onError:m=>{m.target.onerror=null,m.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("div",{className:"loading-spinner",style:{margin:"0 auto"}}),s.jsx("p",{style:{marginTop:"20px",color:"var(--gray-medium)"},children:"Loading FAQs..."})]})]})}):n.length===0?null:s.jsx("section",{className:"faq-section",children:s.jsxs("div",{className:"faq-container",children:[s.jsx("h2",{className:"faq-title",children:"Frequently Asked Questions"}),s.jsx("p",{className:"faq-subtitle",children:"Got questions? We've got answers!"}),s.jsx("div",{className:"faq-list",children:n.map((m,p)=>s.jsxs("div",{className:`faq-item ${t===p?"open":""}`,children:[s.jsxs("button",{className:"faq-question",onClick:()=>f(p),"aria-expanded":t===p,children:[s.jsxs("div",{className:"faq-question-content",children:[s.jsx("span",{className:"faq-number",children:String(p+1).padStart(2,"0")}),s.jsx("span",{className:"faq-question-text",children:m.question})]}),s.jsx("div",{className:"faq-icon-wrapper",children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"faq-icon",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),s.jsx("div",{className:"faq-answer",children:s.jsx("p",{children:m.answer})})]},m._id||m.id))})]})})}function xn(){const e=xr(),[t,r]=g.useState({companyName:"ShubhVenue",description:"Your trusted partner in finding the perfect venue for every occasion. Making event planning simple and stress-free.",address:"",phone:"",email:"",facebook:"",twitter:"",instagram:"",linkedin:"",copyright:" 2024 ShubhVenue. All rights reserved."}),[n,a]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{a(!0);const o=await o5.get();o.data?.success&&o.data?.company&&r(o.data.company)}catch(o){console.error("Error fetching company data:",o)}finally{a(!1)}})()},[]),n?s.jsx("footer",{className:"footer",children:s.jsx("div",{className:"footer-container",children:s.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"rgba(255, 255, 255, 0.7)"},children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"70px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite",filter:"brightness(0) invert(1)"},onError:i=>{i.target.onerror=null,i.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTAiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTMiIHk9IjEzIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),"Loading..."]})})}):s.jsx("footer",{className:"footer",children:s.jsxs("div",{className:"footer-container",children:[s.jsxs("div",{className:"footer-content",children:[s.jsxs("div",{className:"footer-column",children:[s.jsxs("div",{className:"footer-logo-container",children:[s.jsx("div",{className:"footer-logo-wrapper",children:s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"footer-logo-img",onError:i=>{i.target.onerror=null,i.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHZpZXdCb3g9IjAgMCA0NSA0NSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ1IiBoZWlnaHQ9IjQ1IiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSIxMC41IiB5PSIxMC41IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}})}),s.jsx("h3",{className:"footer-logo",children:t.companyName||"ShubhVenue"})]}),s.jsx("p",{className:"footer-description",children:t.description||"Your trusted partner in finding the perfect venue for every occasion. Making event planning simple and stress-free."}),s.jsxs("div",{className:"footer-social",children:[t.facebook&&s.jsx("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"Facebook",children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),t.twitter&&s.jsx("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"Twitter",children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})}),t.instagram&&s.jsx("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"Instagram",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[s.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),s.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),s.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),t.linkedin&&s.jsx("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"LinkedIn",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[s.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),s.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),s.jsx("circle",{cx:"4",cy:"4",r:"2"})]})})]})]}),s.jsxs("div",{className:"footer-column",children:[s.jsx("h4",{className:"footer-heading",children:"Quick Links"}),s.jsxs("ul",{className:"footer-links",children:[s.jsx("li",{children:s.jsx(Qs,{to:"/about-us",children:"About Us"})}),s.jsx("li",{children:s.jsx(Qs,{to:"/how-it-works",children:"How It Works"})}),s.jsx("li",{children:s.jsx(Qs,{to:"/venues",children:"Featured Venues"})}),s.jsx("li",{children:s.jsx("a",{href:"/#testimonials",onClick:i=>{i.preventDefault(),window.location.pathname==="/"?window.scrollTo({top:document.getElementById("testimonials")?.offsetTop||0,behavior:"smooth"}):(e("/#testimonials"),setTimeout(()=>{window.scrollTo({top:document.getElementById("testimonials")?.offsetTop||0,behavior:"smooth"})},100))},children:"Testimonials"})}),s.jsx("li",{children:s.jsx(Qs,{to:"/blog",children:"Blog"})})]})]}),s.jsxs("div",{className:"footer-column",children:[s.jsx("h4",{className:"footer-heading",children:"Services"}),s.jsxs("ul",{className:"footer-links",children:[s.jsx("li",{children:s.jsx("a",{href:"/venues",onClick:i=>{i.preventDefault(),e("/venues",{state:{categoryName:"Wedding"}})},children:"Wedding Venues"})}),s.jsx("li",{children:s.jsx("a",{href:"/venues",onClick:i=>{i.preventDefault(),e("/venues",{state:{categoryName:"Corporate Event"}})},children:"Corporate Events"})}),s.jsx("li",{children:s.jsx("a",{href:"/venues",onClick:i=>{i.preventDefault(),e("/venues",{state:{categoryName:"Birthday"}})},children:"Birthday Parties"})}),s.jsx("li",{children:s.jsx("a",{href:"/venues",onClick:i=>{i.preventDefault(),e("/venues",{state:{categoryName:"Conference"}})},children:"Conferences"})}),s.jsx("li",{children:s.jsx("a",{href:"/venues",onClick:i=>{i.preventDefault(),e("/venues",{state:{categoryName:"Anniversary"}})},children:"Anniversaries"})})]})]}),s.jsxs("div",{className:"footer-column",children:[s.jsx("h4",{className:"footer-heading",children:"Contact"}),s.jsxs("ul",{className:"footer-contact",children:[t.address&&s.jsxs("li",{children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),s.jsx("span",{children:t.address})]}),t.phone&&s.jsxs("li",{children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),s.jsx("span",{children:t.phone})]}),t.email&&s.jsxs("li",{children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),s.jsx("polyline",{points:"22,6 12,13 2,6"})]}),s.jsx("span",{children:t.email})]})]})]})]}),s.jsxs("div",{className:"footer-bottom",children:[s.jsxs("div",{className:"footer-copyright",children:[s.jsx("p",{children:t.copyright||" 2024 ShubhVenue. All rights reserved."}),s.jsx("p",{className:"footer-version",children:"Version 1.0.0"})]}),s.jsxs("div",{className:"footer-bottom-right",children:[s.jsxs("div",{className:"footer-vendor-buttons",children:[s.jsxs("a",{href:"/vendor/login",target:"_blank",rel:"noopener noreferrer",className:"footer-vendor-btn footer-vendor-btn-login",children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),s.jsx("polyline",{points:"10 17 15 12 10 7"}),s.jsx("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]}),"Vendor Login"]}),s.jsxs("a",{href:"/vendor/register",target:"_blank",rel:"noopener noreferrer",className:"footer-vendor-btn footer-vendor-btn-register",children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),s.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),s.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),"Vendor Register"]})]}),s.jsxs("div",{className:"footer-legal",children:[s.jsx(Qs,{to:"/privacy-policy",children:"Privacy Policy"}),s.jsx(Qs,{to:"/terms-of-service",children:"Terms of Service"}),s.jsx(Qs,{to:"/cookie-policy",children:"Cookie Policy"})]})]})]})]})})}const zte=["Jaipur","Kota","Delhi","Mumbai","Bangalore","Chennai","Kolkata","Hyderabad","Pune","Ahmedabad","Surat","Lucknow","Kanpur","Nagpur","Indore","Thane","Bhopal","Visakhapatnam","Patna","Vadodara","Ghaziabad","Ludhiana","Agra","Nashik","Faridabad","Meerut","Rajkot","Varanasi","Srinagar","Amritsar","Jodhpur","Udaipur","Bikaner","Ajmer","Jalandhar","Patiala","Chandigarh","Gurgaon","Noida","Greater Noida","Gwalior","Jabalpur","Raipur","Bhubaneswar","Coimbatore","Madurai","Mysore","Vijayawada","Kochi","Thiruvananthapuram"],Nx=({title:e,description:t,keywords:r,image:n="/image/venuebook.png",location:a=null,type:i="website",url:o=null})=>{const l=Kn(),u="https://shubhvenue.com",d=o||`${u}${l.pathname}`,f=a?`Best Wedding Venues in ${a} | ${a} Venues | ShubhVenue`:"Best Wedding Venues in India | Jaipur, Kota, Delhi, Mumbai | ShubhVenue",m=a?`Find the perfect wedding venue in ${a}. Book banquet halls, hotels, palaces, resorts, and convention centers in ${a}. Best ${a.toLowerCase()} venues for weddings, parties, and events.`:"Find the perfect wedding venue in Jaipur, Kota, Delhi, Mumbai, and all major cities in India. Book banquet halls, hotels, palaces, resorts, and convention centers for your special day. Best venues for weddings, parties, and events.",p=a?`${a.toLowerCase()} venues, wedding venues in ${a.toLowerCase()}, ${a.toLowerCase()} wedding halls, ${a.toLowerCase()} banquet halls, ${a.toLowerCase()} marriage venues, ${a.toLowerCase()} event venues, ${a.toLowerCase()} party venues, best venues in ${a.toLowerCase()}, affordable venues ${a.toLowerCase()}, luxury venues ${a.toLowerCase()}, venues near ${a.toLowerCase()}, wedding booking ${a.toLowerCase()}, venue booking ${a.toLowerCase()}, wedding venues, venues, banquet halls, wedding halls, marriage venues, event venues, party venues`:"wedding venues, venues, jaipur venues, kota venues, delhi venues, mumbai venues, banquet halls, wedding halls, marriage venues, event venues, party venues, hotel venues, palace venues, resort venues, convention centers, wedding booking, venue booking, best wedding venues, affordable wedding venues, luxury wedding venues, wedding venues near me, venues in jaipur, venues in kota, venues in delhi, venues in mumbai, venues in rajasthan, venues in india",v=e||f,x=t||m,j=r||p,w=()=>{const k={"@context":"https://schema.org","@type":"LocalBusiness",name:"ShubhVenue",description:x,url:u,logo:`${u}${n}`,image:`${u}${n}`,address:{"@type":"PostalAddress",addressCountry:"IN",addressRegion:a||"India"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",reviewCount:"500"},priceRange:"$$",servesCuisine:"Indian",areaServed:zte.map(R=>({"@type":"City",name:R})),hasOfferCatalog:{"@type":"OfferCatalog",name:"Wedding Venues",itemListElement:[{"@type":"Offer",itemOffered:{"@type":"Service",name:"Wedding Venue Booking",description:"Book wedding venues in multiple cities across India"}}]}};return a&&(k.address.addressLocality=a,k.areaServed=[{"@type":"City",name:a}]),k},S=()=>{const k=l.pathname.split("/").filter(Boolean),R=[{"@type":"ListItem",position:1,name:"Home",item:u}];let I="";return k.forEach((L,E)=>{I+=`/${L}`,R.push({"@type":"ListItem",position:E+2,name:L.charAt(0).toUpperCase()+L.slice(1).replace(/-/g," "),item:`${u}${I}`})}),{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:R}},P=()=>({"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:`What are the best wedding venues in ${a||"India"}?`,acceptedAnswer:{"@type":"Answer",text:`ShubhVenue offers the best wedding venues in ${a||"major cities across India"} including Jaipur, Kota, Delhi, Mumbai, and more. We provide banquet halls, hotels, palaces, resorts, and convention centers for all types of events.`}},{"@type":"Question",name:`How do I book a venue in ${a||"my city"}?`,acceptedAnswer:{"@type":"Answer",text:`You can easily book a venue through ShubhVenue by browsing our extensive collection of venues, checking availability, and making a reservation online. We offer venues in ${a||"all major cities"} including Jaipur, Kota, Delhi, Mumbai, and more.`}},{"@type":"Question",name:"What types of venues are available?",acceptedAnswer:{"@type":"Answer",text:"We offer various types of venues including banquet halls, hotels, palaces, resorts, convention centers, marriage gardens, rooftop venues, and clubs. All venues are available in major cities like Jaipur, Kota, Delhi, Mumbai, and across India."}}]});return s.jsxs(oU,{children:[s.jsx("title",{children:v}),s.jsx("meta",{name:"title",content:v}),s.jsx("meta",{name:"description",content:x}),s.jsx("meta",{name:"keywords",content:j}),s.jsx("meta",{property:"og:type",content:i}),s.jsx("meta",{property:"og:url",content:d}),s.jsx("meta",{property:"og:title",content:v}),s.jsx("meta",{property:"og:description",content:x}),s.jsx("meta",{property:"og:image",content:`${u}${n}`}),s.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{property:"twitter:url",content:d}),s.jsx("meta",{property:"twitter:title",content:v}),s.jsx("meta",{property:"twitter:description",content:x}),s.jsx("meta",{property:"twitter:image",content:`${u}${n}`}),s.jsx("link",{rel:"canonical",href:d}),a&&s.jsxs(s.Fragment,{children:[s.jsx("meta",{name:"geo.region",content:"IN"}),s.jsx("meta",{name:"geo.placename",content:a})]}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(w())}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(S())}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(P())})]})};function Ute(){const[e,t]=g.useState({heroSection:!0,featuredVenues:!0,testimonials:!0,faq:!0}),[r,n]=g.useState(!0),a=g.useCallback((d,f)=>{t(m=>m[d]===!f?m:{...m,[d]:!f})},[]);g.useEffect(()=>{if(Object.values(e).every(f=>!f)){const f=setTimeout(()=>{n(!1)},300);return()=>clearTimeout(f)}},[e]);const i=g.useCallback(d=>{a("heroSection",d)},[a]),o=g.useCallback(d=>{a("featuredVenues",d)},[a]),l=g.useCallback(d=>{a("testimonials",d)},[a]),u=g.useCallback(d=>{a("faq",d)},[a]);return s.jsxs(s.Fragment,{children:[s.jsx(Nx,{}),r&&s.jsx("div",{className:"home-page-loader",children:s.jsx("div",{className:"home-loader-content",children:s.jsx("div",{className:"home-loading-spinner"})})}),s.jsxs("div",{className:`home-content ${r?"home-content-hidden":""}`,children:[s.jsx(PX,{onLoadComplete:i}),s.jsx(iee,{}),s.jsx(oee,{}),s.jsx(lee,{}),s.jsx(Lte,{}),s.jsx(Fte,{onLoadComplete:o}),s.jsx($te,{}),s.jsx(Bte,{onLoadComplete:l}),s.jsx(Vte,{onLoadComplete:u}),s.jsx(xn,{})]})]})}function PS({isOpen:e,onClose:t,onLoginSuccess:r}){const[n,a]=g.useState(!1);if(!e)return null;const i=async()=>{try{a(!0);try{const o=await $3(qy,Gy),u=ei.credentialFromResult(o)?.idToken;if(u){const d=await Ky.googleLogin(u,"customer");d.data?.token&&d.data?.user?(localStorage.setItem("token",d.data.token),localStorage.setItem("user",JSON.stringify(d.data.user)),d.data?.message?.includes("registered")||d.data?.isNewUser?G.success("Registration successful! Welcome!"):G.success("Login successful!"),window.dispatchEvent(new CustomEvent("userLogin",{detail:{user:d.data.user}})),r&&r(d.data.user),t()):G.error("Login failed. Please try again.")}a(!1)}catch(o){if(o.code==="auth/popup-closed-by-user"){a(!1);return}await z3(qy,Gy)}}catch(o){console.error("Google login error:",o),G.error(o.message||"Google login failed"),a(!1)}};return s.jsx("div",{className:"login-modal-overlay",onClick:t,children:s.jsxs("div",{className:"login-modal",onClick:o=>o.stopPropagation(),children:[s.jsx("button",{className:"login-modal-close",onClick:t,children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),s.jsxs("div",{className:"login-modal-content",children:[s.jsx("div",{className:"login-modal-icon",children:s.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),s.jsx("h2",{className:"login-modal-title",children:"Login Required"}),s.jsx("p",{className:"login-modal-message",children:"Please login to continue with your booking and access all features."}),s.jsx("button",{className:"login-modal-button",onClick:i,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"spinner",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Logging in..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Login with Google"]})})]})]})})}function AT(){const{slug:e,categorySlug:t}=VU(),r=xr(),[n,a]=g.useState(null),[i,o]=g.useState(!0),[l,u]=g.useState(!1),[d,f]=g.useState(!1),[m,p]=g.useState(!1),[v,x]=g.useState(!1),[j,w]=g.useState(null),[S,P]=g.useState(null),[k,R]=g.useState(null),[I,L]=g.useState(!1),[E,C]=g.useState(!1),[F,_]=g.useState(!1),[T,M]=g.useState(null),[$,J]=g.useState(0),[q,U]=g.useState(!1),[X,B]=g.useState(typeof window<"u"?window.innerWidth<=768:!1),[Z,ne]=g.useState(null),[W,z]=g.useState({}),[pe,oe]=g.useState(!1),[Pe,ke]=g.useState(!1),[fe,ue]=g.useState(!1),[re,K]=g.useState({rating:5,comment:""}),[de,te]=g.useState({checkIn:"",checkOut:"",guests:"",rooms:"",fullName:"",email:"",phone:"",eventType:"",foodPreference:"both",specialRequests:""}),ye=ce=>{R(ce)},ae=ce=>{if(!ce||isNaN(ce))return"0:00";const Fe=Math.floor(ce/60),Ve=Math.floor(ce%60);return`${Fe}:${Ve.toString().padStart(2,"0")}`},ee=(ce,Fe)=>{const Ve=Fe.duration;Ve&&!isNaN(Ve)&&z(It=>({...It,[ce]:ae(Ve)}))},be=ce=>{if(!ce||ce==="Not specified")return"Not specified";const Fe=ce.match(/(\d{1,2}):(\d{2})/);if(!Fe)return ce;let Ve=parseInt(Fe[1]);const It=Fe[2],Le=Ve>=12?"PM":"AM";return Ve=Ve%12,Ve=Ve||12,`${Ve}:${It} ${Le}`};g.useEffect(()=>{(async()=>{try{const Fe=document.createElement("script");Fe.src="https://checkout.razorpay.com/v1/checkout.js",Fe.async=!0,document.body.appendChild(Fe);const Ve=await c5.getConfig();Ve.data?.success&&Ve.data?.razorpayKeyId&&M(Ve.data.razorpayKeyId)}catch(Fe){console.error("Error loading Razorpay:",Fe)}})()},[]);const he=()=>{let ce=localStorage.getItem("deviceId");return ce||(ce=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",ce)),ce},xe=async()=>{if(!de.checkIn||!de.checkOut||!de.guests||!de.fullName||!de.email||!de.phone||!de.eventType){G.error("Please fill all required fields");return}try{C(!0);const ce=new Date(de.checkIn),Fe=new Date(de.checkOut),Le=1e4*(Math.ceil((Fe-ce)/(1e3*60*60*24))||1),$e={venueId:n.id,date:de.checkIn,dateFrom:de.checkIn,dateTo:de.checkOut,guests:parseInt(de.guests),rooms:de.rooms&&de.rooms!==""&&parseInt(de.rooms)||0,eventType:de.eventType,marriageFor:"boy",name:de.fullName,email:de.email,phone:de.phone,foodPreference:de.foodPreference,totalAmount:Le,deviceId:he(),specialRequests:de.specialRequests},Bt=await am.create($e);Bt.data?.success?(G.success(Bt.data.message||"Inquiry submitted successfully! Venue will contact you soon."),x(!1),te({checkIn:"",checkOut:"",guests:"",rooms:"",fullName:"",email:"",phone:"",eventType:"",foodPreference:"both",specialRequests:""})):G.error(Bt.data?.error||"Failed to submit inquiry")}catch(ce){console.error("Contact venue error:",ce),G.error(ce.message||"Failed to submit inquiry")}finally{C(!1)}},Be=ce=>ce?ce.startsWith("http://")||ce.startsWith("https://")?ce:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${ce.startsWith("/")?ce:`/${ce}`}`:"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=1200&h=600&fit=crop",ut=ce=>ce?typeof ce=="object"&&ce.city?`${ce.city}${ce.state?`, ${ce.state}`:""}`:typeof ce=="string"?ce:"Location not specified":"Location not specified";g.useEffect(()=>{(async()=>{const Fe=t?e:e||"";if(!Fe){G.error("Venue not found"),r("/venues");return}try{o(!0);const Ve=await ns.getAll();let It=null;if(Ve.data){let $e=[];Ve.data.success&&Ve.data.data?$e=Array.isArray(Ve.data.data)?Ve.data.data:[]:Ve.data.venues?$e=Array.isArray(Ve.data.venues)?Ve.data.venues:[]:Ve.data.data?$e=Array.isArray(Ve.data.data)?Ve.data.data:[]:Array.isArray(Ve.data)?$e=Ve.data:Ve.data.results&&Array.isArray(Ve.data.results)&&($e=Ve.data.results);const Bt=$e.find(Ut=>Jl(Ut.name||"")===Fe);Bt&&(It=Bt._id||Bt.id)}if(!It){G.error("Venue not found"),r("/venues");return}const Le=await ns.getById(It);if(Le.data?.success&&Le.data?.data){const $e=Le.data.data,Bt=$e.rating?.reviews||[];console.log("Venue Data from API:",$e),console.log("Booking Button Enabled:",$e.bookingButtonEnabled),console.log("Leads Button Enabled:",$e.leadsButtonEnabled),console.log("Highlights from API:",$e.highlights),console.log("Reviews with Replies from Venue API:",Bt),Bt.forEach((et,se)=>{et.reply&&et.reply.message?console.log(` Review ${se} HAS reply:`,{message:et.reply.message,repliedBy:et.reply.repliedBy,repliedAt:et.reply.repliedAt}):console.log(` Review ${se} has NO reply`,et)});let Ut=0;$e.rating&&(typeof $e.rating=="object"&&$e.rating.average!==void 0?Ut=Number($e.rating.average)||0:typeof $e.rating=="number"&&(Ut=$e.rating));let mr=0;$e.reviewCount!==void 0?mr=Number($e.reviewCount)||0:$e.rating&&typeof $e.rating=="object"&&$e.rating.totalReviews!==void 0&&(mr=Number($e.rating.totalReviews)||0);const Tt={id:$e._id||$e.id,name:$e.name||"Unnamed Venue",previousName:$e.previousName||$e.formerName||null,images:($e.gallery?.photos||$e.images||($e.coverImage?[$e.coverImage]:[])).map(et=>Be(et)),rating:Ut,reviews:mr,location:$e.location&&typeof $e.location=="object"&&`${$e.location.city||""}${$e.location.state?`, ${$e.location.state}`:""}`.trim()||ut($e.location),fullLocation:$e.location&&typeof $e.location=="object"&&`${$e.location.address||""} ${$e.location.city||""} ${$e.location.state||""}`.trim()||ut($e.location),locationCity:$e.location&&typeof $e.location=="object"?$e.location.city:null,locationState:$e.location&&typeof $e.location=="object"?$e.location.state:null,type:$e.category?.name||$e.categoryId?.name||$e.venueType||"Venue",price:$e.price||$e.pricingInfo?.rentalPrice||0,pricingInfo:$e.pricingInfo||null,rooms:$e.rooms||0,capacity:$e.capacity?typeof $e.capacity=="object"?`${$e.capacity.minGuests||$e.capacity.min||0}-${$e.capacity.maxGuests||$e.capacity.max||0}`:`${$e.capacity}`:"Not specified",description:$e.about||$e.description||"No description available",amenities:Array.isArray($e.amenities)?$e.amenities:[],highlights:Array.isArray($e.highlights)?$e.highlights:[],policies:{checkIn:be($e.availability?.openTime)||"Not specified",checkOut:be($e.availability?.closeTime)||"Not specified",cancellation:$e.bookingInfo?.cancellationPolicy||"Contact venue for details",pets:"Contact venue",smoking:"Contact venue"},ratingBreakdown:(()=>{const et={5:0,4:0,3:0,2:0,1:0};return($e.rating?.reviews||[]).forEach(_e=>{const Ye=_e.rating||_e.ratingValue||0;Ye>=1&&Ye<=5&&(et[Ye]=(et[Ye]||0)+1)}),et})(),reviewsList:Bt.map((se,_e)=>{const Ye=se.user||se.userId?.name||se.userName||"Anonymous",Rt=Ye?Ye.charAt(0).toUpperCase():"A",Lt=se.rating||se.ratingValue||0,Gr=se.comment||se.text||se.review||"",un=se.date||se.createdAt||se.updatedAt||new Date().toISOString();let Vs=un;un instanceof Date?Vs=un.toISOString().split("T")[0]:typeof un=="string"&&(Vs=un.split("T")[0]);const Bn=new Date(un),$a=new Date,Jr=Math.abs($a-Bn),pr=Math.floor(Jr/(1e3*60*60*24));let Dt=Vs;if(pr===0)Dt="Today";else if(pr===1)Dt="1 day ago";else if(pr<7)Dt=`${pr} days ago`;else if(pr<30){const Wt=Math.floor(pr/7);Dt=`${Wt} ${Wt===1?"week":"weeks"} ago`}else if(pr<365){const Wt=Math.floor(pr/30);Dt=`${Wt} ${Wt===1?"month":"months"} ago`}else Dt=Vs;const Yt=se.reply||null;let cr=null;if(Yt&&typeof Yt=="object"&&Yt.message&&typeof Yt.message=="string"&&Yt.message.trim()){const Wt=Yt.repliedAt||Yt.date||new Date;let Vn=Wt;Wt instanceof Date?Vn=Wt.toISOString().split("T")[0]:typeof Wt=="string"?Vn=Wt.split("T")[0]:Vn=new Date().toISOString().split("T")[0];const dn=new Date(Wt);if(isNaN(dn.getTime()))cr={message:Yt.message.trim(),repliedBy:Yt.repliedBy&&typeof Yt.repliedBy=="object"&&Yt.repliedBy.name?Yt.repliedBy.name:typeof Yt.repliedBy=="string"?Yt.repliedBy:"Venue Owner",repliedAt:"Recently"};else{const zn=Math.abs($a-dn),Y=Math.floor(zn/(1e3*60*60*24));let ge=Vn;if(Y===0)ge="Today";else if(Y===1)ge="1 day ago";else if(Y<7)ge=`${Y} days ago`;else if(Y<30){const le=Math.floor(Y/7);ge=`${le} ${le===1?"week":"weeks"} ago`}else if(Y<365){const le=Math.floor(Y/30);ge=`${le} ${le===1?"month":"months"} ago`}else ge=Vn;cr={message:Yt.message.trim(),repliedBy:Yt.repliedBy&&typeof Yt.repliedBy=="object"&&Yt.repliedBy.name?Yt.repliedBy.name:typeof Yt.repliedBy=="string"?Yt.repliedBy:"Venue Owner",repliedAt:ge}}}return{id:se._id||se.id||_e,userName:Ye,userAvatar:Rt,rating:Lt,date:Dt,comment:Gr,verified:se.verified||!1,reply:cr}}),albums:(()=>{const et=[];$e.gallery?.photos&&Array.isArray($e.gallery.photos)&&et.push(...$e.gallery.photos),$e.images&&Array.isArray($e.images)&&et.push(...$e.images),$e.coverImage&&!et.includes($e.coverImage)&&et.push($e.coverImage);const se=[...new Set(et)];return se.length>0?[{id:1,title:"Gallery",coverImage:Be(se[0]),imageCount:se.length,images:se.map(_e=>Be(_e))}]:[]})(),videos:(()=>{const et=$e.galleryInfo?.videos||$e.gallery?.videos||$e.videos||[];return Array.isArray(et)&&et.length>0?et.map((se,_e)=>{const Ye=Be(se);return{id:_e+1,title:`Video ${_e+1}`,thumbnail:Ye,videoUrl:Ye,duration:"0:00"}}):[]})(),bookingButtonEnabled:$e.bookingButtonEnabled!==void 0?$e.bookingButtonEnabled:!0,leadsButtonEnabled:$e.leadsButtonEnabled!==void 0?$e.leadsButtonEnabled:!0};Tt.images.length===0&&(Tt.images=["https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=1200&h=600&fit=crop"]),console.log("Formatted Venue:",Tt),console.log("Formatted Highlights:",Tt.highlights),console.log("Highlights Array Check:",Array.isArray(Tt.highlights),Tt.highlights.length),a(Tt)}else G.error("Venue not found"),r("/venues")}catch(Ve){console.error("Error fetching venue:",Ve),G.error("Failed to load venue details"),r("/venues")}finally{o(!1)}})()},[e,t,r]),g.useEffect(()=>{(async()=>{if(n?.id)try{const Fe=he(),Ve=await Yy.checkStatus(n.id,Fe);Ve.data?.success&&ke(Ve.data.isLiked||!1)}catch(Fe){console.error("Error checking shotlist status:",Fe)}})()},[n?.id]);const _t=async()=>{try{const ce=window.location.href;navigator.share?(await navigator.share({title:n?.name||"Venue",text:n?.description||`Check out this venue: ${n?.name||""}`,url:ce}),G.success("Shared successfully!")):(await navigator.clipboard.writeText(ce),G.success("URL copied to clipboard!"))}catch(ce){if(ce.name!=="AbortError")try{await navigator.clipboard.writeText(window.location.href),G.success("URL copied to clipboard!")}catch{const Ve=window.location.href,It=document.createElement("textarea");It.value=Ve,It.style.position="fixed",It.style.opacity="0",document.body.appendChild(It),It.select();try{document.execCommand("copy"),G.success("URL copied to clipboard!")}catch{G.error("Failed to copy URL. Please copy manually: "+Ve)}document.body.removeChild(It)}}},je=async()=>{if(n?.id)try{ue(!0);const ce=he(),Fe=await Yy.toggleLike(n.id,ce);Fe.data?.success?(ke(Fe.data.isLiked),Fe.data.isLiked?G.success("Venue added to shotlist"):G.success("Venue removed from shotlist")):G.error(Fe.data?.error||"Failed to update shotlist")}catch(ce){console.error("Error toggling like:",ce),G.error(ce.message||"Failed to update shotlist")}finally{ue(!1)}};g.useEffect(()=>{J(0)},[n?.id]),g.useEffect(()=>{const ce=()=>{B(window.innerWidth<=768)};return ce(),window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce)},[]),g.useEffect(()=>{if(!n||!n.images||n.images.length<=1||q)return;const ce=setInterval(()=>{J(Fe=>Fe===n.images.length-1?0:Fe+1)},4e3);return()=>clearInterval(ce)},[n?.images,n?.images?.length,q]);const De=async()=>{const ce=t?e:e||"";if(ce)try{const Fe=await ns.getAll();let Ve=null;if(Fe.data){let Le=[];Fe.data.success&&Fe.data.data?Le=Array.isArray(Fe.data.data)?Fe.data.data:[]:Fe.data.venues?Le=Array.isArray(Fe.data.venues)?Fe.data.venues:[]:Fe.data.data?Le=Array.isArray(Fe.data.data)?Fe.data.data:[]:Array.isArray(Fe.data)?Le=Fe.data:Fe.data.results&&Array.isArray(Fe.data.results)&&(Le=Fe.data.results);const $e=Le.find(Bt=>Jl(Bt.name||"")===ce);$e&&(Ve=$e._id||$e.id)}if(!Ve)return;const It=await ns.getById(Ve);if(It.data?.success&&It.data?.data){const Le=It.data.data,$e=Le.rating?.reviews||[];let Bt=0;Le.rating&&(typeof Le.rating=="object"&&Le.rating.average!==void 0?Bt=Number(Le.rating.average)||0:typeof Le.rating=="number"&&(Bt=Le.rating));let Ut=0;Le.reviewCount!==void 0?Ut=Number(Le.reviewCount)||0:Le.rating&&typeof Le.rating=="object"&&Le.rating.totalReviews!==void 0&&(Ut=Number(Le.rating.totalReviews)||0);const mr={id:Le._id||Le.id,name:Le.name||"Unnamed Venue",previousName:Le.previousName||Le.formerName||null,images:(Le.gallery?.photos||Le.images||(Le.coverImage?[Le.coverImage]:[])).map(Tt=>Be(Tt)),rating:Bt,reviews:Ut,location:Le.location&&typeof Le.location=="object"&&`${Le.location.city||""}${Le.location.state?`, ${Le.location.state}`:""}`.trim()||ut(Le.location),fullLocation:Le.location&&typeof Le.location=="object"&&`${Le.location.address||""} ${Le.location.city||""} ${Le.location.state||""}`.trim()||ut(Le.location),locationCity:Le.location&&typeof Le.location=="object"?Le.location.city:null,locationState:Le.location&&typeof Le.location=="object"?Le.location.state:null,type:Le.category?.name||Le.categoryId?.name||Le.venueType||"Venue",price:Le.price||Le.pricingInfo?.rentalPrice||0,pricingInfo:Le.pricingInfo||null,rooms:Le.rooms||0,capacity:Le.capacity?typeof Le.capacity=="object"?`${Le.capacity.minGuests||Le.capacity.min||0}-${Le.capacity.maxGuests||Le.capacity.max||0}`:`${Le.capacity}`:"Not specified",description:Le.about||Le.description||"No description available",amenities:Array.isArray(Le.amenities)?Le.amenities:[],highlights:Array.isArray(Le.highlights)?Le.highlights:[],policies:{checkIn:be(Le.availability?.openTime)||"Not specified",checkOut:be(Le.availability?.closeTime)||"Not specified",cancellation:Le.bookingInfo?.cancellationPolicy||"Contact venue for details",pets:"Contact venue",smoking:"Contact venue"},ratingBreakdown:(()=>{const Tt={5:0,4:0,3:0,2:0,1:0};return $e.forEach(se=>{const _e=se.rating||se.ratingValue||0;_e>=1&&_e<=5&&(Tt[_e]=(Tt[_e]||0)+1)}),Tt})(),reviewsList:$e.map((et,se)=>{const _e=et.user||et.userId?.name||et.userName||"Anonymous",Ye=_e?_e.charAt(0).toUpperCase():"A",Rt=et.rating||et.ratingValue||0,Lt=et.comment||et.text||et.review||"",Gr=et.date||et.createdAt||et.updatedAt||new Date().toISOString();let un=Gr;Gr instanceof Date?un=Gr.toISOString().split("T")[0]:typeof Gr=="string"&&(un=Gr.split("T")[0]);const Vs=new Date(Gr),Bn=new Date,$a=Math.abs(Bn-Vs),Jr=Math.floor($a/(1e3*60*60*24));let pr=un;if(Jr===0)pr="Today";else if(Jr===1)pr="1 day ago";else if(Jr<7)pr=`${Jr} days ago`;else if(Jr<30){const cr=Math.floor(Jr/7);pr=`${cr} ${cr===1?"week":"weeks"} ago`}else if(Jr<365){const cr=Math.floor(Jr/30);pr=`${cr} ${cr===1?"month":"months"} ago`}else pr=un;const Dt=et.reply||null;let Yt=null;if(Dt&&typeof Dt=="object"&&Dt.message&&typeof Dt.message=="string"&&Dt.message.trim()){const cr=Dt.repliedAt||Dt.date||new Date;let Wt=cr;cr instanceof Date?Wt=cr.toISOString().split("T")[0]:typeof cr=="string"?Wt=cr.split("T")[0]:Wt=new Date().toISOString().split("T")[0];const Vn=new Date(cr);if(isNaN(Vn.getTime()))Yt={message:Dt.message.trim(),repliedBy:Dt.repliedBy&&typeof Dt.repliedBy=="object"&&Dt.repliedBy.name?Dt.repliedBy.name:typeof Dt.repliedBy=="string"?Dt.repliedBy:"Venue Owner",repliedAt:"Recently"};else{const dn=Math.abs(Bn-Vn),zn=Math.floor(dn/(1e3*60*60*24));let Y=Wt;if(zn===0)Y="Today";else if(zn===1)Y="1 day ago";else if(zn<7)Y=`${zn} days ago`;else if(zn<30){const ge=Math.floor(zn/7);Y=`${ge} ${ge===1?"week":"weeks"} ago`}else if(zn<365){const ge=Math.floor(zn/30);Y=`${ge} ${ge===1?"month":"months"} ago`}else Y=Wt;Yt={message:Dt.message.trim(),repliedBy:Dt.repliedBy&&typeof Dt.repliedBy=="object"&&Dt.repliedBy.name?Dt.repliedBy.name:typeof Dt.repliedBy=="string"?Dt.repliedBy:"Venue Owner",repliedAt:Y}}}return{id:et._id||et.id||se,userName:_e,userAvatar:Ye,rating:Rt,date:pr,comment:Lt,verified:et.verified||!1,reply:Yt}}),albums:(()=>{const Tt=[];Le.gallery?.photos&&Array.isArray(Le.gallery.photos)&&Tt.push(...Le.gallery.photos),Le.images&&Array.isArray(Le.images)&&Tt.push(...Le.images),Le.coverImage&&!Tt.includes(Le.coverImage)&&Tt.push(Le.coverImage);const et=[...new Set(Tt)];return et.length>0?[{id:1,title:"Gallery",coverImage:Be(et[0]),imageCount:et.length,images:et.map(se=>Be(se))}]:[]})(),videos:Le.gallery?.videos?Le.gallery.videos.map((Tt,et)=>({id:et+1,title:`Video ${et+1}`,thumbnail:Be(Le.coverImage),videoUrl:Be(Tt),duration:"0:00"})):[],bookingButtonEnabled:Le.bookingButtonEnabled!==void 0?Le.bookingButtonEnabled:!0,leadsButtonEnabled:Le.leadsButtonEnabled!==void 0?Le.leadsButtonEnabled:!0};mr.images.length===0&&(mr.images=["https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=1200&h=600&fit=crop"]),a(mr)}}catch(Fe){console.error("Error refreshing venue:",Fe)}},rt=async ce=>{if(ce.preventDefault(),!localStorage.getItem("token")){G.error("Please login to submit a review");return}if(!n||!n.id){G.error("Venue information not available");return}try{u(!0);const Ve=await CX.create(n.id,re.rating,re.comment);Ve.data?.success?(G.success("Review submitted successfully!"),f(!1),K({rating:5,comment:""}),await De()):G.error(Ve.data?.error||"Failed to submit review")}catch(Ve){console.error("Error submitting review:",Ve),G.error(Ve.message||"Failed to submit review. Please try again.")}finally{u(!1)}};if(i)return s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",flexDirection:"column",gap:"20px"},children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"80px",width:"auto",objectFit:"contain",animation:"pulse 2s ease-in-out infinite"},onError:ce=>{ce.target.onerror=null,ce.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTYiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMjgiIHk9IjI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("p",{style:{color:"var(--gray-medium)",fontSize:"16px"},children:"Loading venue details..."})]});if(!n)return s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",flexDirection:"column",gap:"20px"},children:[s.jsx("h2",{children:"Venue not found"}),s.jsx("button",{onClick:()=>r("/venues"),style:{padding:"12px 24px",backgroundColor:"#8B5CF6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Back to Venues"})]});const xt=n?.location?.city||n?.location?.state||null,Qe=n?.name||"",jt=n?.description||n?.highlights?.join(", ")||"",Xe=n?.images?.[0]?Be(n.images[0]):"https://shubhvenue.com/image/venuebook.png";return s.jsxs("div",{className:"venue-detail",children:[s.jsx(Nx,{title:n?`${Qe} - Best Wedding Venue in ${xt||"India"} | ShubhVenue`:"Venue Details | ShubhVenue",description:n?`Book ${Qe} in ${xt||"India"} for your wedding. ${jt.substring(0,150)}... Best wedding venue with excellent facilities.`:"Find the perfect wedding venue for your special day.",keywords:n?`${Qe}, ${xt} venues, wedding venue ${xt}, ${xt} wedding halls, ${xt} banquet halls, wedding booking ${xt}, venue booking`:"wedding venues, venues, venue booking",location:xt,image:Xe,type:"website"}),n&&s.jsx("div",{className:"breadcrumb-nav",children:s.jsxs("div",{className:"breadcrumb-container",children:[s.jsx("a",{href:"/",className:"breadcrumb-item",children:"Home"}),s.jsx("span",{className:"breadcrumb-separator",children:" > "}),s.jsx("a",{href:"/venues",className:"breadcrumb-item",children:"Venues"}),n.type&&n.type!=="Venue"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"breadcrumb-separator",children:" > "}),s.jsx("span",{className:"breadcrumb-item",children:n.type})]}),n.location&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"breadcrumb-separator",children:" > "}),s.jsxs("span",{className:"breadcrumb-item",children:["Wedding Venues ",n.location]})]}),s.jsx("span",{className:"breadcrumb-separator",children:" > "}),s.jsx("span",{className:"breadcrumb-item active",children:n.name})]})}),s.jsxs("div",{className:"venue-gallery-slider-wrapper",children:[s.jsx("div",{className:"venue-gallery-slider",children:s.jsxs("div",{className:"slider-container",onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),onTouchStart:ce=>{!X||!n?.images?.length||ne(ce.touches[0].clientX)},onTouchMove:ce=>{if(!X||Z===null)return;const Fe=ce.touches[0].clientX-Z;Math.abs(Fe)>10&&ce.preventDefault()},onTouchEnd:ce=>{if(!X||Z===null||!n?.images?.length)return;const Ve=ce.changedTouches[0].clientX-Z;Math.abs(Ve)>40&&(Ve<0?J(Le=>Le===n.images.length-1?0:Le+1):J(Le=>Le===0?n.images.length-1:Le-1)),ne(null)},children:[n.images.length>1&&s.jsx("button",{className:"slider-nav-btn slider-prev",onClick:()=>J(ce=>ce===0?n.images.length-1:ce-1),"aria-label":"Previous image",children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"15 18 9 12 15 6"})})}),s.jsx("div",{className:"slider-wrapper",children:s.jsx("div",{className:"slider-track-single",children:s.jsx("div",{className:"slider-slide-single",children:s.jsx("img",{src:Be(n.images[$]),alt:`${n.name} ${$+1}`,onClick:()=>P(Be(n.images[$])),onError:ce=>{ce.target.src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=1200&h=600&fit=crop"}})})})}),n.images.length>1&&s.jsx("button",{className:"slider-nav-btn slider-next",onClick:()=>J(ce=>ce===n.images.length-1?0:ce+1),"aria-label":"Next image",children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})}),s.jsxs("div",{className:"slider-right-buttons",children:[(n.bookingButtonEnabled===!0||n.bookingButtonEnabled===void 0)&&s.jsxs("button",{className:"slider-action-btn book-btn",onClick:()=>{if(!localStorage.getItem("token")){G.error("Please login to continue with booking"),_(!0);return}r("/booking",{state:{venue:n}})},children:["Book Now",s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),(n.leadsButtonEnabled===!0||n.leadsButtonEnabled===void 0)&&s.jsx("button",{className:"slider-action-btn contact-btn",onClick:()=>r("/contact-venue",{state:{venue:n}}),children:"Contact Venue"}),s.jsxs("div",{className:"slider-info-note",children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),s.jsx("span",{children:"Best price guaranteed. Free cancellation."})]})]})]}),s.jsx("div",{className:"venue-detail-container",children:s.jsx("div",{className:"venue-detail-content",children:s.jsxs("div",{className:"venue-info-main",children:[s.jsx("div",{className:"venue-header",children:s.jsxs("div",{className:"venue-title-section",children:[s.jsx("div",{className:"venue-title-row",children:s.jsxs("div",{className:"venue-title-left",children:[s.jsx("h1",{className:"venue-title",children:n.name}),n.previousName&&s.jsxs("p",{className:"venue-previous-name",children:["(Formerly known as ",n.previousName,")"]})]})}),s.jsxs("div",{className:"venue-meta",children:[s.jsxs("div",{className:"venue-location",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),s.jsx("span",{children:n.location}),s.jsx("span",{className:"view-map-link",onClick:()=>oe(!0),style:{cursor:"pointer"},children:"(View on Map)"})]}),n.fullLocation&&s.jsx("div",{className:"venue-address",children:n.fullLocation})]}),s.jsxs("div",{className:"venue-action-buttons",children:[s.jsxs("button",{className:"venue-action-btn",onClick:()=>P(n.images[0]),children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),s.jsx("polyline",{points:"21 15 16 10 5 21"})]}),s.jsxs("span",{children:[n.images?.length||0," Photos"]})]}),s.jsxs("button",{className:`venue-action-btn ${Pe?"liked":""}`,onClick:je,disabled:fe,title:Pe?"Remove from shotlist":"Add to shotlist",children:[s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:Pe?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),s.jsx("span",{children:fe?"...":"Shortlist"})]}),s.jsxs("button",{className:"venue-action-btn",onClick:()=>f(!0),children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]}),s.jsx("span",{children:"Write a Review"})]}),s.jsxs("button",{className:"venue-action-btn",onClick:_t,children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"18",cy:"5",r:"3"}),s.jsx("circle",{cx:"6",cy:"12",r:"3"}),s.jsx("circle",{cx:"18",cy:"19",r:"3"}),s.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),s.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),s.jsx("span",{children:"Share"})]})]})]})}),s.jsxs("div",{className:"venue-section",children:[s.jsx("h2",{className:"section-title",children:"About This Venue"}),s.jsx("p",{className:"venue-description",children:n.description})]}),n.highlights&&n.highlights.length>0&&s.jsxs("div",{className:"venue-section",children:[s.jsx("h2",{className:"section-title",children:"Highlights"}),s.jsx("ul",{className:"highlights-list",children:n.highlights.map((ce,Fe)=>s.jsxs("li",{children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"20 6 9 17 4 12"})}),ce]},Fe))})]}),s.jsxs("div",{className:"venue-section",children:[s.jsx("h2",{className:"section-title",children:"Amenities"}),s.jsx("div",{className:"amenities-grid",children:n.amenities.map((ce,Fe)=>s.jsxs("div",{className:"amenity-item",children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"20 6 9 17 4 12"})}),s.jsx("span",{children:ce})]},Fe))})]}),s.jsxs("div",{className:"venue-section",children:[s.jsx("h2",{className:"section-title",children:"Policies & Guidelines"}),s.jsxs("div",{className:"policies-grid",children:[s.jsxs("div",{className:"policy-item",children:[s.jsx("span",{className:"policy-label",children:"Check-in"}),s.jsx("span",{className:"policy-value",children:n.policies.checkIn})]}),s.jsxs("div",{className:"policy-item",children:[s.jsx("span",{className:"policy-label",children:"Check-out"}),s.jsx("span",{className:"policy-value",children:n.policies.checkOut})]}),s.jsxs("div",{className:"policy-item",children:[s.jsx("span",{className:"policy-label",children:"Cancellation"}),s.jsx("span",{className:"policy-value",children:n.policies.cancellation})]}),s.jsxs("div",{className:"policy-item",children:[s.jsx("span",{className:"policy-label",children:"Pets"}),s.jsx("span",{className:"policy-value",children:n.policies.pets})]}),s.jsxs("div",{className:"policy-item",children:[s.jsx("span",{className:"policy-label",children:"Smoking"}),s.jsx("span",{className:"policy-value",children:n.policies.smoking})]})]})]}),s.jsxs("div",{className:"venue-section",children:[s.jsx("h2",{className:"section-title",children:"Portfolio & Albums"}),s.jsx("div",{className:"album-images-grid",style:{marginTop:"24px"},children:(()=>{const ce=[];n.albums&&Array.isArray(n.albums)&&n.albums.forEach(Ve=>{Ve.images&&Array.isArray(Ve.images)&&ce.push(...Ve.images)}),n.images&&Array.isArray(n.images)&&n.images.forEach(Ve=>{ce.includes(Ve)||ce.push(Ve)});const Fe=[...new Set(ce)];return Fe.length>0?Fe.map((Ve,It)=>s.jsx("div",{className:"album-image-item",onClick:()=>P(Ve),style:{cursor:"pointer"},children:s.jsx("img",{src:Ve,alt:`Gallery ${It+1}`})},It)):s.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px",color:"#666"},children:"No photos available"})})()})]}),n.videos&&Array.isArray(n.videos)&&n.videos.length>0&&s.jsxs("div",{className:"venue-section",children:[s.jsx("h2",{className:"section-title",children:"Videos"}),s.jsx("div",{className:"videos-grid",children:n.videos.map(ce=>s.jsxs("div",{className:"video-card",onClick:()=>ye(ce),children:[s.jsxs("div",{className:"video-thumbnail-wrapper",children:[s.jsx("video",{src:ce.videoUrl,preload:"metadata",muted:!0,playsInline:!0,className:"video-thumbnail",onLoadedMetadata:Fe=>{ee(ce.id,Fe.target)},onError:Fe=>{Fe.target.style.display="none";const Ve=document.createElement("div");Ve.className="video-thumbnail-placeholder",Ve.innerHTML='<svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>',Fe.target.parentNode.appendChild(Ve)}}),s.jsx("div",{className:"video-play-overlay",children:s.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"rgba(0,0,0,0.5)"}),s.jsx("polygon",{points:"10 8 16 12 10 16",fill:"white"})]})}),s.jsx("div",{className:"video-duration",children:W[ce.id]||ce.duration||"0:00"})]}),s.jsx("h3",{className:"video-title",children:ce.title})]},ce.id))})]}),s.jsxs("div",{className:"venue-section",children:[s.jsx("div",{className:"reviews-header",children:s.jsxs("div",{children:[s.jsx("h2",{className:"section-title",children:"Ratings & Reviews"}),s.jsx("div",{className:"reviews-summary",children:s.jsxs("div",{className:"overall-rating",children:[s.jsx("span",{className:"overall-rating-value",children:typeof n.rating=="number"?n.rating.toFixed(1):"0.0"}),s.jsx("div",{className:"overall-rating-stars",children:[...Array(5)].map((ce,Fe)=>{const Ve=Fe+1,It=typeof n.rating=="number"?n.rating:0,Le=Ve<=Math.floor(It);return s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:Le?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:Le?"star-filled":"star-empty",children:s.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})},Fe)})}),s.jsxs("span",{className:"overall-rating-count",children:["Based on ",n.reviews," reviews"]})]})})]})}),s.jsxs("div",{className:"rating-breakdown",children:[s.jsx("h3",{className:"breakdown-title",children:"Rating Breakdown"}),s.jsx("div",{className:"breakdown-bars",children:[5,4,3,2,1].map(ce=>{const Fe=n.ratingBreakdown[ce]||0,Ve=n.reviews>0?Fe/n.reviews*100:0;return s.jsxs("div",{className:"breakdown-item",children:[s.jsx("span",{className:"breakdown-star",children:ce}),s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),s.jsx("div",{className:"breakdown-bar",children:s.jsx("div",{className:"breakdown-bar-fill",style:{width:`${Ve}%`}})}),s.jsx("span",{className:"breakdown-count",children:Fe})]},ce)})})]}),s.jsxs("div",{className:"reviews-list",children:[s.jsx("h3",{className:"reviews-list-title",children:"Guest Reviews"}),n.reviewsList&&n.reviewsList.length>0?n.reviewsList.map(ce=>s.jsxs("div",{className:"review-card",children:[s.jsxs("div",{className:"review-header",children:[s.jsxs("div",{className:"review-user",children:[s.jsx("div",{className:"review-avatar",children:ce.userAvatar}),s.jsxs("div",{className:"review-user-info",children:[s.jsxs("div",{className:"review-user-name",children:[ce.userName,ce.verified&&s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",className:"verified-badge",children:[s.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),s.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})]}),s.jsx("div",{className:"review-date",children:ce.date})]})]}),s.jsx("div",{className:"review-rating",children:[...Array(5)].map((Fe,Ve)=>s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:Ve<ce.rating?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:Ve<ce.rating?"star-filled":"star-empty",children:s.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})},Ve))})]}),s.jsx("p",{className:"review-comment",children:ce.comment}),ce.reply&&ce.reply.message&&typeof ce.reply.message=="string"&&ce.reply.message.trim()&&s.jsxs("div",{className:"vendor-reply",children:[s.jsxs("div",{className:"vendor-reply-header",children:[s.jsxs("div",{className:"vendor-reply-badge",children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),s.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),s.jsx("span",{children:ce.reply.repliedBy||"Venue Owner"})]}),s.jsx("span",{className:"vendor-reply-date",children:ce.reply.repliedAt||"Recently"})]}),s.jsx("p",{className:"vendor-reply-message",children:ce.reply.message})]})]},ce.id)):s.jsx("div",{className:"no-reviews",children:s.jsx("p",{children:"No reviews yet. Be the first to review this venue!"})}),s.jsxs("button",{className:"write-review-btn",onClick:()=>f(!0),children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),s.jsx("line",{x1:"9",y1:"10",x2:"15",y2:"10"}),s.jsx("line",{x1:"12",y1:"7",x2:"12",y2:"13"})]}),"Write a Review"]})]})]})]})})}),j&&s.jsx("div",{className:"modal-overlay",onClick:()=>w(null),children:s.jsxs("div",{className:"album-modal",onClick:ce=>ce.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:j.title}),s.jsx("button",{className:"modal-close",onClick:()=>w(null),children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsx("div",{className:"album-images-grid",children:j.images.map((ce,Fe)=>s.jsx("div",{className:"album-image-item",onClick:()=>P(ce),children:s.jsx("img",{src:ce,alt:`${j.title} ${Fe+1}`})},Fe))})]})}),S&&s.jsx("div",{className:"modal-overlay",onClick:()=>P(null),children:s.jsxs("div",{className:"image-modal",onClick:ce=>ce.stopPropagation(),children:[s.jsx("button",{className:"modal-close",onClick:()=>P(null),children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),s.jsx("img",{src:S,alt:"Full size"})]})}),k&&s.jsx("div",{className:"modal-overlay",onClick:()=>R(null),children:s.jsxs("div",{className:"video-modal",onClick:ce=>ce.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:k.title}),s.jsx("button",{className:"modal-close",onClick:()=>R(null),children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsxs("video",{className:"video-player-full",controls:!0,autoPlay:!0,children:[s.jsx("source",{src:k.videoUrl,type:"video/mp4"}),"Your browser does not support the video tag."]})]})}),pe&&n&&s.jsx("div",{className:"modal-overlay",onClick:()=>oe(!1),children:s.jsxs("div",{className:"map-modal",onClick:ce=>ce.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("div",{children:[s.jsx("h2",{children:n.name}),s.jsx("p",{className:"map-location-text",children:n.fullLocation||n.location})]}),s.jsx("button",{className:"modal-close",onClick:()=>oe(!1),children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsx("div",{className:"map-container",children:s.jsx("iframe",{width:"100%",height:"100%",style:{border:0,borderRadius:"8px"},loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade",src:`https://www.google.com/maps?q=${encodeURIComponent(`${n.name}, ${n.fullLocation||n.location||""}`)}&output=embed`})}),s.jsx("div",{className:"map-actions",children:s.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${n.name}, ${n.fullLocation||n.location||""}`)}`,target:"_blank",rel:"noopener noreferrer",className:"map-open-btn",children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),s.jsx("polyline",{points:"15 3 21 3 21 9"}),s.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),"Open in Google Maps"]})})]})}),v&&s.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:s.jsxs("div",{className:"booking-modal",onClick:ce=>ce.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("div",{children:[s.jsxs("h2",{children:["Contact ",n?.name]}),s.jsxs("p",{className:"booking-venue-info",children:[n?.type,"  ",n?.location]})]}),s.jsx("button",{className:"modal-close",onClick:()=>x(!1),children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsx("div",{className:"booking-modal-content",children:s.jsxs("form",{className:"booking-form",onSubmit:ce=>{ce.preventDefault(),xe()},children:[s.jsxs("div",{className:"booking-form-section",children:[s.jsxs("h3",{className:"form-section-title",children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),s.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Dates & Guests"]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Check-in Date *"}),s.jsx("input",{type:"date",value:de.checkIn,onChange:ce=>te({...de,checkIn:ce.target.value}),required:!0,min:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Check-out Date *"}),s.jsx("input",{type:"date",value:de.checkOut,onChange:ce=>te({...de,checkOut:ce.target.value}),required:!0,min:de.checkIn||new Date().toISOString().split("T")[0]})]})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Number of Guests *"}),s.jsx("input",{type:"number",value:de.guests,onChange:ce=>te({...de,guests:ce.target.value}),placeholder:"e.g., 100",min:"1",max:"1000",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Number of Rooms"}),s.jsx("input",{type:"number",value:de.rooms,onChange:ce=>te({...de,rooms:ce.target.value}),placeholder:"Number of rooms",min:"1"})]})]})]}),s.jsxs("div",{className:"booking-form-section",children:[s.jsxs("h3",{className:"form-section-title",children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Contact Information"]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Full Name *"}),s.jsx("input",{type:"text",value:de.fullName,onChange:ce=>te({...de,fullName:ce.target.value}),placeholder:"Enter your full name",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Email Address *"}),s.jsx("input",{type:"email",value:de.email,onChange:ce=>te({...de,email:ce.target.value}),placeholder:"your.email@example.com",required:!0})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Phone Number *"}),s.jsx("input",{type:"tel",value:de.phone,onChange:ce=>te({...de,phone:ce.target.value}),placeholder:"+91 98765 43210",required:!0})]})]}),s.jsxs("div",{className:"booking-form-section",children:[s.jsxs("h3",{className:"form-section-title",children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),s.jsx("polyline",{points:"14 2 14 8 20 8"}),s.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),s.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),s.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Event Details"]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Event Type *"}),s.jsxs("select",{value:de.eventType,onChange:ce=>te({...de,eventType:ce.target.value}),required:!0,children:[s.jsx("option",{value:"",children:"Select event type"}),s.jsx("option",{value:"wedding",children:"Wedding"}),s.jsx("option",{value:"party",children:"Party"}),s.jsx("option",{value:"birthday party",children:"Birthday Party"}),s.jsx("option",{value:"anniversary",children:"Anniversary"}),s.jsx("option",{value:"engagement",children:"Engagement"}),s.jsx("option",{value:"reception",children:"Reception"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Food Preference *"}),s.jsxs("select",{value:de.foodPreference,onChange:ce=>te({...de,foodPreference:ce.target.value}),required:!0,children:[s.jsx("option",{value:"both",children:"Both (Veg & Non-Veg)"}),s.jsx("option",{value:"veg",children:"Vegetarian"}),s.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Special Requests"}),s.jsx("textarea",{value:de.specialRequests,onChange:ce=>te({...de,specialRequests:ce.target.value}),placeholder:"Any special requirements or requests...",rows:"4"})]})]}),s.jsxs("div",{className:"booking-form-actions",children:[s.jsx("button",{type:"button",className:"cancel-booking-btn",onClick:()=>x(!1),disabled:E,children:"Cancel"}),s.jsx("button",{type:"submit",className:"confirm-booking-btn",disabled:E,children:E?"Submitting...":"Submit Inquiry"})]})]})})]})}),d&&s.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:s.jsxs("div",{className:"review-modal",onClick:ce=>ce.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Write a Review"}),s.jsx("button",{className:"modal-close",onClick:()=>f(!1),children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsxs("form",{className:"review-form",onSubmit:rt,children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Rating"}),s.jsx("div",{className:"rating-input",children:[1,2,3,4,5].map(ce=>s.jsx("button",{type:"button",className:`star-btn ${ce<=re.rating?"active":""}`,onClick:()=>K({...re,rating:ce}),children:s.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})},ce))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Your Review"}),s.jsx("textarea",{value:re.comment,onChange:ce=>K({...re,comment:ce.target.value}),placeholder:"Share your experience...",rows:"6",required:!0})]}),s.jsxs("div",{className:"form-actions",children:[s.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>f(!1),disabled:l,children:"Cancel"}),s.jsx("button",{type:"submit",className:"submit-btn",disabled:l,children:l?"Submitting...":"Submit Review"})]})]})]})}),s.jsx(PS,{isOpen:F,onClose:()=>_(!1),onLoginSuccess:()=>{_(!1)}})]})}const Wte=()=>{const e=xr(),t=Kn(),[r,n]=g.useState(""),[a,i]=g.useState("all"),[o,l]=g.useState("all"),[u,d]=g.useState("all"),[f,m]=g.useState("all"),[p,v]=g.useState("default"),[x,j]=g.useState(!1),[w,S]=g.useState(!1),[P,k]=g.useState([]),[R,I]=g.useState(!0),[L,E]=g.useState(1),[C]=g.useState(9),F=te=>{if(!te||te.length===0)return"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop";const ye=Array.isArray(te)?te[0]:te;return ye.startsWith("/uploads/")?`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${ye}`:ye.startsWith("http://")||ye.startsWith("https://")?ye:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}/uploads/venues/${ye}`},_=te=>te?typeof te=="number"?te:parseFloat(te)||0:0,T=te=>te?typeof te=="object"&&te.city?`${te.city}${te.state?`, ${te.state}`:""}`:typeof te=="string"?te:"Location not specified":"Location not specified",M=t.state?.searchParams||{},$=new URLSearchParams(t.search),J=t.state?.categoryId||M.categoryId||$.get("categoryId"),q=t.state?.categoryName||M.categoryName||$.get("categoryName"),U=t.state?.vendorCategoryId||$.get("vendorCategoryId"),X=t.state?.vendorCategoryName||$.get("vendorCategoryName"),B=t.state?.submenuId||$.get("submenuId"),Z=t.state?.submenuName||$.get("submenuName"),ne=t.state?.menuId||$.get("menuId"),W=t.state?.menuName||$.get("menuName");g.useEffect(()=>{B&&console.log("Venue page - submenuId:",B,"submenuName:",Z),ne&&console.log("Venue page - menuId:",ne,"menuName:",W)},[B,Z,ne,W]),g.useEffect(()=>{if(!(t.state&&(t.state.vendorCategoryId||t.state.categoryId||t.state.menuId||t.state.submenuId)))return;const ye=new URLSearchParams;U&&(ye.set("vendorCategoryId",U),X&&ye.set("vendorCategoryName",X)),J&&(ye.set("categoryId",J),q&&ye.set("categoryName",q)),ne&&(ye.set("menuId",ne),W&&ye.set("menuName",W)),B&&(ye.set("submenuId",B),Z&&ye.set("submenuName",Z));const ae=ye.toString(),ee=t.search.replace("?","");ae!==ee&&e(`/venues${ae?`?${ae}`:""}`,{replace:!0})},[U,X,J,q,ne,W,B,Z,e,t.search,t.state]),g.useEffect(()=>{(async()=>{try{I(!0);const ye={status:"active"};if(console.log("Fetching venues with filters - submenuId:",B,"menuId:",ne,"categoryId:",J,"vendorCategoryId:",U),console.log("Location state:",t.state),J&&(ye.categoryId=J),U&&(ye.vendorCategory=U),M.q&&(ye.search=M.q),M.city&&(ye.city=M.city),M.state&&(ye.state=M.state),B){const ee=String(B).trim();ye.subMenuId=ee,console.log("Adding subMenuId filter:",ee,"(original:",B,")")}ne&&(ye.menuId=ne,console.log("Adding menuId filter:",ne)),console.log("API Params:",ye);let ae;if(M.q||M.city||M.state){const ee={};M.q&&(ee.q=M.q),M.city&&(ee.city=M.city),M.state&&(ee.state=M.state),J&&(ee.categoryId=J),U&&(ee.vendorCategory=U),B&&(ee.subMenuId=B),ne&&(ee.menuId=ne),ee.status="active",ee.limit=50,ae=await Promise.race([ns.search(ee),new Promise((be,he)=>setTimeout(()=>he(new Error("Request timeout")),3e4))])}else ae=await Promise.race([ns.getAll(ye),new Promise((ee,be)=>setTimeout(()=>be(new Error("Request timeout")),3e4))]);if(console.log("Full API Response:",ae),console.log("Response Data:",ae.data),ae.data){let ee=[];if(ae.data.success&&ae.data.data?ee=Array.isArray(ae.data.data)?ae.data.data:[]:ae.data.venues?ee=Array.isArray(ae.data.venues)?ae.data.venues:[]:ae.data.data?ee=Array.isArray(ae.data.data)?ae.data.data:[]:Array.isArray(ae.data)?ee=ae.data:ae.data.results&&Array.isArray(ae.data.results)&&(ee=ae.data.results),console.log("Extracted Venues Data:",ee),console.log("Venues Count:",ee.length),ee.length===0){console.warn("No active venues found. Trying approved venues as fallback...");try{let xe;if(M.q||M.city||M.state){const Be={};M.q&&(Be.q=M.q),M.city&&(Be.city=M.city),M.state&&(Be.state=M.state),J&&(Be.categoryId=J),B&&(Be.subMenuId=String(B).trim()),ne&&(Be.menuId=String(ne).trim()),Be.status="approved",Be.limit=50,xe=await Promise.race([ns.search(Be),new Promise((ut,_t)=>setTimeout(()=>_t(new Error("Request timeout")),3e4))])}else{const Be={...ye,status:"approved"};xe=await Promise.race([ns.getAll(Be),new Promise((ut,_t)=>setTimeout(()=>_t(new Error("Request timeout")),3e4))])}xe.data&&(xe.data.success&&xe.data.data?ee=Array.isArray(xe.data.data)?xe.data.data:[]:xe.data.venues?ee=Array.isArray(xe.data.venues)?xe.data.venues:[]:xe.data.data?ee=Array.isArray(xe.data.data)?xe.data.data:[]:Array.isArray(xe.data)&&(ee=xe.data),console.log("Fallback approved venues count:",ee.length))}catch(xe){console.error("Error fetching fallback venues:",xe)}}ee.length===0&&console.warn("No venues found after fallback. Full response:",JSON.stringify(ae.data,null,2));const he=ee.filter(xe=>xe.vendorActive!==!1).map(xe=>{const Be=xe.capacity?typeof xe.capacity=="object"?`${xe.capacity.minGuests||xe.capacity.min||0}-${xe.capacity.maxGuests||xe.capacity.max||0}`:`${xe.capacity}`:null;(xe.name==="test"||xe._id)&&console.log("Venue capacity debug:",{name:xe.name,capacity:xe.capacity,capacityValue:Be,rooms:xe.rooms});let ut=0;xe.rating&&(typeof xe.rating=="object"&&xe.rating.average!==void 0?ut=Number(xe.rating.average)||0:typeof xe.rating=="number"?ut=xe.rating:xe.averageRating&&(ut=Number(xe.averageRating)||0));let _t=0;return xe.reviewCount!==void 0?_t=Number(xe.reviewCount)||0:xe.rating&&typeof xe.rating=="object"&&xe.rating.totalReviews!==void 0?_t=Number(xe.rating.totalReviews)||0:xe.reviews!==void 0&&(_t=Number(xe.reviews)||0),{id:xe._id||xe.id,name:xe.name||"Unnamed Venue",image:F(xe.images||xe.image),rating:ut,reviews:_t,location:T(xe.location),type:xe.categoryId?.name||xe.category?.name||xe.venueType||"Venue",price:_(xe.price),priceDisplay:_(xe.price)>0?`${_(xe.price).toFixed(2)} Lakh`:"Price on request",rooms:xe.rooms||xe.roomCount||0,capacity:Be,highlights:xe.highlights||[],moreTags:xe.tags?.length||0,categoryId:xe.categoryId,category:xe.category,locationObj:xe.location}});console.log("Formatted Venues:",he),console.log("Formatted Venues Count:",he.length),he.length>0?k(he):(console.warn("No venues found in response"),k([]))}else console.error("Invalid API response:",ae.data),G.error("Failed to load venues"),k([])}catch(ye){console.error("Error fetching venues:",ye),ye.message==="Request timeout"?G.error("Request took too long. Please try again."):G.error("Failed to load venues"),k([])}finally{I(!1)}})()},[J,B,ne,M.q,M.city,M.state]);const z=g.useMemo(()=>{const te=new Set;return P.forEach(ye=>{if(ye.locationObj&&typeof ye.locationObj=="object")ye.locationObj.city&&te.add(ye.locationObj.city),ye.locationObj.state&&te.add(ye.locationObj.state);else if(ye.location&&typeof ye.location=="string"){const ae=ye.location.split(",")[0].trim();ae&&te.add(ae)}}),["all",...Array.from(te).sort()]},[P]),pe=g.useMemo(()=>["all",...Array.from(new Set(P.map(ye=>ye.type).filter(Boolean))).sort()],[P]);g.useEffect(()=>{l(q||"all")},[q]);const oe=g.useMemo(()=>{console.log("=== FILTERING VENUES ==="),console.log("Total venues in allVenues:",P.length),console.log("All venues:",P),console.log("Filters - Search:",r,"Location:",a,"Type:",o,"Rating:",u,"Price:",f);let te=P.filter(ye=>{const ae=r===""||ye.name.toLowerCase().includes(r.toLowerCase())||ye.location.toLowerCase().includes(r.toLowerCase())||ye.type.toLowerCase().includes(r.toLowerCase()),ee=a==="all"||ye.locationObj&&typeof ye.locationObj=="object"&&(ye.locationObj.city===a||ye.locationObj.state===a)||ye.location.toLowerCase().includes(a.toLowerCase()),be=o==="all"||ye.type===o,he=u==="all"||u==="4+"&&ye.rating>=4||u==="4.5+"&&ye.rating>=4.5||u==="5"&&ye.rating===5,xe=f==="all"||f==="low"&&ye.price<10||f==="medium"&&ye.price>=10&&ye.price<20||f==="high"&&ye.price>=20,Be=ae&&ee&&be&&he&&xe;return!Be&&P.length<=5&&console.log(`Venue "${ye.name}" filtered out:`,{matchesSearch:ae,matchesLocation:ee,matchesType:be,matchesRating:he,matchesPrice:xe,venueLocation:ye.location,venueType:ye.type,venueRating:ye.rating,venuePrice:ye.price}),Be});return p==="price-low"?te.sort((ye,ae)=>ye.price-ae.price):p==="price-high"?te.sort((ye,ae)=>ae.price-ye.price):p==="rating"?te.sort((ye,ae)=>ae.rating-ye.rating):p==="reviews"&&te.sort((ye,ae)=>ae.reviews-ye.reviews),console.log("Filtered venues count:",te.length),console.log("Filtered venues:",te),console.log("=== END FILTERING ==="),te},[P,r,a,o,u,f,p]),Pe=Math.ceil(oe.length/C),ke=(L-1)*C,fe=ke+C,ue=oe.slice(ke,fe);g.useEffect(()=>{E(1)},[r,a,o,u,f,p]),g.useEffect(()=>{const te=ye=>{w&&!ye.target.closest(".sort-dropdown-wrapper")&&S(!1)};return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[w]);const re=()=>{n(""),i("all"),l("all"),d("all"),m("all"),v("default")},K=[r,a!=="all",o!=="all",u!=="all",f!=="all",p!=="default"].filter(Boolean).length,de=M.city||M.state||(a!=="all"?a:null);return s.jsxs("div",{className:"venues-page",children:[s.jsx(Nx,{location:de}),(q||Z||W||X)&&s.jsx("div",{style:{background:"linear-gradient(135deg, #92487a 0%, #b85a8f 100%)",color:"white",padding:"16px 20px",textAlign:"center",marginBottom:"20px"},children:s.jsxs("p",{style:{margin:0,fontSize:"16px",fontWeight:"600"},children:["Showing venues for: ",s.jsx("strong",{children:X||Z||W||q}),s.jsx("button",{onClick:()=>{e("/venues",{replace:!0}),window.location.reload()},style:{marginLeft:"12px",padding:"6px 12px",background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"6px",color:"white",cursor:"pointer",fontSize:"14px"},children:"Clear Filter"})]})}),s.jsxs("div",{className:"venues-hero",children:[s.jsxs("div",{className:"venues-hero-content",children:[s.jsxs("h1",{className:"venues-page-title",children:["Discover Your Perfect",s.jsx("span",{className:"gradient-text",children:" Venue"})]}),s.jsx("p",{className:"venues-page-subtitle",children:"Explore our curated collection of premium venues for your special occasions"}),s.jsxs("div",{className:"venues-toolbar",children:[s.jsx("div",{className:"search-bar-wrapper",children:s.jsxs("div",{className:"search-bar",children:[s.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.35-4.35"})]}),s.jsx("input",{type:"text",placeholder:"Search venues by name, location, or type...",value:r,onChange:te=>n(te.target.value),className:"search-input"}),r&&s.jsx("button",{className:"clear-search-btn",onClick:()=>n(""),children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),s.jsxs("div",{className:"toolbar-actions",children:[s.jsxs("button",{className:`filter-toggle-btn ${x?"active":""}`,onClick:()=>j(!x),children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filters",K>0&&s.jsx("span",{className:"filter-badge",children:K})]}),s.jsxs("div",{className:`sort-dropdown-wrapper ${w?"show":""}`,children:[s.jsxs("button",{className:"sort-select",onClick:()=>S(!w),children:[s.jsxs("span",{children:[p==="default"&&"Sort by: Default",p==="rating"&&"Sort by: Rating",p==="reviews"&&"Sort by: Reviews",p==="price-low"&&"Sort by: Price (Low to High)",p==="price-high"&&"Sort by: Price (High to Low)"]}),s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),w&&s.jsxs("div",{className:"sort-dropdown-menu",children:[s.jsx("button",{className:`sort-dropdown-item ${p==="default"?"active":""}`,onClick:()=>{v("default"),S(!1)},children:"Sort by: Default"}),s.jsx("button",{className:`sort-dropdown-item ${p==="rating"?"active":""}`,onClick:()=>{v("rating"),S(!1)},children:"Sort by: Rating"}),s.jsx("button",{className:`sort-dropdown-item ${p==="reviews"?"active":""}`,onClick:()=>{v("reviews"),S(!1)},children:"Sort by: Reviews"}),s.jsx("button",{className:`sort-dropdown-item ${p==="price-low"?"active":""}`,onClick:()=>{v("price-low"),S(!1)},children:"Sort by: Price (Low to High)"}),s.jsx("button",{className:`sort-dropdown-item ${p==="price-high"?"active":""}`,onClick:()=>{v("price-high"),S(!1)},children:"Sort by: Price (High to Low)"})]})]})]})]})]}),s.jsxs("div",{className:"hero-decoration",children:[s.jsx("div",{className:"decoration-circle circle-1"}),s.jsx("div",{className:"decoration-circle circle-2"}),s.jsx("div",{className:"decoration-circle circle-3"})]})]}),s.jsxs("div",{className:"venues-page-container",children:[K>0&&s.jsxs("div",{className:"active-filters",children:[s.jsx("span",{className:"active-filters-label",children:"Active Filters:"}),s.jsxs("div",{className:"filter-tags",children:[r&&s.jsxs("span",{className:"filter-tag",children:['Search: "',r,'"',s.jsx("button",{onClick:()=>n(""),children:""})]}),a!=="all"&&s.jsxs("span",{className:"filter-tag",children:[a,s.jsx("button",{onClick:()=>i("all"),children:""})]}),o!=="all"&&s.jsxs("span",{className:"filter-tag",children:[o,s.jsx("button",{onClick:()=>l("all"),children:""})]}),u!=="all"&&s.jsxs("span",{className:"filter-tag",children:[u==="4+"?"4+ Stars":u==="4.5+"?"4.5+ Stars":"5 Stars",s.jsx("button",{onClick:()=>d("all"),children:""})]}),f!=="all"&&s.jsxs("span",{className:"filter-tag",children:[f==="low"?"Under 10L":f==="medium"?"10-20L":"Above 20L",s.jsx("button",{onClick:()=>m("all"),children:""})]}),s.jsx("button",{className:"clear-all-btn",onClick:re,children:"Clear All"})]})]}),x&&s.jsxs("div",{className:"filters-panel",children:[s.jsxs("div",{className:"filters-header",children:[s.jsx("h3",{children:"Filter Venues"}),s.jsx("button",{className:"close-filters-btn",onClick:()=>j(!1),children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsxs("div",{className:"filters-content",children:[s.jsxs("div",{className:"filter-group",children:[s.jsxs("label",{children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Location"]}),s.jsx("div",{className:"filter-options",children:z.map(te=>s.jsx("button",{className:`filter-chip ${a===te?"active":""}`,onClick:()=>i(te),children:te==="all"?"All Locations":te},te))})]}),s.jsxs("div",{className:"filter-group",children:[s.jsxs("label",{children:[s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),"Venue Type"]}),s.jsx("div",{className:"filter-options",children:pe.map(te=>s.jsx("button",{className:`filter-chip ${o===te?"active":""}`,onClick:()=>l(te),children:te==="all"?"All Types":te},te))})]}),s.jsxs("div",{className:"filter-group",children:[s.jsxs("label",{children:[s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),"Rating"]}),s.jsx("div",{className:"filter-options",children:["all","4+","4.5+","5"].map(te=>s.jsx("button",{className:`filter-chip ${u===te?"active":""}`,onClick:()=>d(te),children:te==="all"?"All Ratings":te==="4+"?"4+ Stars":te==="4.5+"?"4.5+ Stars":"5 Stars Only"},te))})]}),s.jsxs("div",{className:"filter-group",children:[s.jsxs("label",{children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),s.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),"Price Range"]}),s.jsx("div",{className:"filter-options",children:[{value:"all",label:"All Prices"},{value:"low",label:"Under 10 Lakh"},{value:"medium",label:"10-20 Lakh"},{value:"high",label:"Above 20 Lakh"}].map(te=>s.jsx("button",{className:`filter-chip ${f===te.value?"active":""}`,onClick:()=>m(te.value),children:te.label},te.value))})]})]})]}),R?s.jsxs("div",{className:"venues-loading",children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"venues-loading-logo",onError:te=>{te.target.onerror=null,te.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("div",{className:"venues-loading-text",children:"Loading venues..."})]}):null,R?s.jsx("div",{className:"venues-grid",children:[...Array(6)].map((te,ye)=>s.jsxs("div",{className:"venue-card",style:{opacity:.7},children:[s.jsx("div",{className:"venue-image-wrapper",style:{background:"linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite"},children:s.jsx("div",{style:{width:"100%",height:"100%"}})}),s.jsxs("div",{className:"venue-content",children:[s.jsx("div",{style:{height:"24px",background:"#e0e0e0",borderRadius:"4px",marginBottom:"12px",width:"70%"}}),s.jsx("div",{style:{height:"16px",background:"#e0e0e0",borderRadius:"4px",marginBottom:"8px",width:"50%"}}),s.jsx("div",{style:{height:"16px",background:"#e0e0e0",borderRadius:"4px",width:"60%"}})]})]},ye))}):oe.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"venues-grid",children:ue.map(te=>s.jsxs("div",{className:"venue-card",onClick:()=>{const ye=Jl(te.name),ae=te.categoryId?.name||te.category?.name||te.type,ee=ae?Jl(ae):null;console.log("Navigation - Venue:",te.name),console.log("Navigation - Category Name:",ae),console.log("Navigation - Category Slug:",ee);const be=ee?`/venue/${ee}/${ye}`:`/venue/${ye}`;console.log("Navigation - Final URL:",be),e(be)},children:[s.jsx("div",{className:"venue-image-wrapper",children:s.jsx("img",{src:te.image,alt:te.name,className:"venue-image",onError:ye=>{ye.target.src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop"}})}),s.jsxs("div",{className:"venue-content",children:[s.jsx("h3",{className:"venue-name",children:te.name}),s.jsxs("div",{className:"venue-rating",children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),s.jsx("span",{className:"rating-value",children:typeof te.rating=="number"&&te.rating>0?te.rating.toFixed(1):"N/A"}),s.jsxs("span",{className:"rating-reviews",children:["(",te.reviews," reviews)"]})]}),s.jsxs("div",{className:"venue-location",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),s.jsx("span",{children:te.location}),s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]}),s.jsx("span",{children:te.type})]}),s.jsxs("div",{className:"venue-tags",children:[te.capacity&&te.capacity!=="Capacity not specified"&&s.jsxs("span",{className:"venue-tag",children:[te.capacity," Guests"]}),te.rooms>0&&s.jsxs("span",{className:"venue-tag",children:[te.rooms," Rooms"]}),te.highlights&&te.highlights.length>0&&s.jsxs("span",{className:"venue-tag",children:[te.highlights.length," Highlights"]}),te.moreTags>0&&s.jsxs("span",{className:"venue-tag",children:["+",te.moreTags," more"]})]})]})]},te.id))}),Pe>1&&s.jsxs("div",{className:"pagination",children:[s.jsx("div",{className:"pagination-info",children:s.jsxs("span",{className:"pagination-text",children:["Page ",s.jsx("strong",{children:L})," of ",s.jsx("strong",{children:Pe})]})}),s.jsxs("button",{className:"pagination-btn",onClick:()=>E(te=>Math.max(1,te-1)),disabled:L===1,children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Previous"]}),s.jsx("div",{className:"pagination-numbers",children:Array.from({length:Pe},(te,ye)=>ye+1).map(te=>te===1||te===Pe||te>=L-1&&te<=L+1?s.jsx("button",{className:`pagination-number ${L===te?"active":""}`,onClick:()=>E(te),children:te},te):te===L-2||te===L+2?s.jsx("span",{className:"pagination-ellipsis",children:"..."},te):null)}),s.jsxs("button",{className:"pagination-btn",onClick:()=>E(te=>Math.min(Pe,te+1)),disabled:L===Pe,children:["Next",s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]})]}):P.length===0?s.jsx("div",{className:"no-results",children:s.jsxs("div",{className:"no-results-content",children:[s.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.35-4.35"})]}),s.jsx("h3",{children:"No venues available"}),s.jsx("p",{children:"Please check back later or contact support"})]})}):s.jsx("div",{className:"no-results",children:s.jsxs("div",{className:"no-results-content",children:[s.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.35-4.35"})]}),s.jsx("h3",{children:"No venues found"}),s.jsx("p",{children:"Try adjusting your filters or search query"}),s.jsx("button",{className:"clear-filters-btn",onClick:re,children:"Clear All Filters"})]})})]}),s.jsx(xn,{})]})};function Hte(){const e=xr(),[t,r]=g.useState({fullName:"",email:"",phone:""}),[n,a]=g.useState(!0),[i,o]=g.useState(!1);g.useEffect(()=>{(async()=>{try{if(a(!0),!localStorage.getItem("token")){G.error("Please login to view profile"),e("/");return}const p=await Ky.getProfile();if(p.data?.user){const v=p.data.user;r({fullName:v.name||"",email:v.email||"",phone:v.phone||""})}}catch(m){console.error("Error fetching profile:",m),G.error(m.message||"Failed to load profile"),(m.message?.includes("Unauthorized")||m.message?.includes("401"))&&(localStorage.removeItem("token"),localStorage.removeItem("user"),e("/"))}finally{a(!1)}})()},[e]);const l=f=>{r({...t,[f.target.name]:f.target.value})},u=async f=>{f.preventDefault();try{o(!0);const m={};t.fullName&&(m.name=t.fullName.trim()),t.email&&(m.email=t.email.trim()),t.phone&&(m.phone=t.phone.trim());const p=await Ky.updateProfile(m);if(p.data?.user){const v={...JSON.parse(localStorage.getItem("user")||"{}"),name:p.data.user.name,email:p.data.user.email,phone:p.data.user.phone};localStorage.setItem("user",JSON.stringify(v)),G.success("Profile updated successfully!")}}catch(m){console.error("Error updating profile:",m),G.error(m.message||"Failed to update profile")}finally{o(!1)}},d=()=>{window.confirm("Are you sure you want to logout?")&&(localStorage.removeItem("token"),localStorage.removeItem("user"),G.success("Logged out successfully"),e("/"))};return n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"profile-container",children:[s.jsx("div",{className:"profile-background-decoration"}),s.jsx("div",{className:"profile-wrapper",children:s.jsxs("div",{className:"profile-loading",children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px"},onError:f=>{f.target.onerror=null,f.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading profile..."})]})})]}),s.jsx(xn,{})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"profile-container",children:[s.jsx("div",{className:"profile-background-decoration"}),s.jsxs("div",{className:"profile-wrapper",children:[s.jsxs("div",{className:"profile-header",children:[s.jsxs("div",{className:"profile-title-wrapper",children:[s.jsx("h1",{className:"profile-title",children:"Profile"}),s.jsx("div",{className:"profile-title-underline"})]}),s.jsxs("div",{className:"profile-user-info",children:[s.jsxs("div",{className:"profile-avatar-wrapper",children:[s.jsx("div",{className:"profile-avatar",children:t.fullName?s.jsx("span",{children:t.fullName.charAt(0).toUpperCase()}):s.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),s.jsx("div",{className:"profile-avatar-ring"})]}),s.jsxs("div",{className:"profile-user-details",children:[s.jsx("p",{className:"profile-user-label",children:t.fullName||"User"}),s.jsx("p",{className:"profile-user-email",children:t.email||"No email"})]})]})]}),s.jsxs("form",{className:"profile-form",onSubmit:u,children:[s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"fullName",className:"form-label",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Full Name"]}),s.jsxs("div",{className:"input-wrapper",children:[s.jsx("input",{type:"text",id:"fullName",name:"fullName",value:t.fullName,onChange:l,className:"form-input",placeholder:"Enter your full name"}),s.jsx("div",{className:"input-focus-indicator"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"email",className:"form-label",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),s.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Email"]}),s.jsxs("div",{className:"input-wrapper",children:[s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:l,className:"form-input",placeholder:"Enter your email"}),s.jsx("div",{className:"input-focus-indicator"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"phone",className:"form-label",children:[s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Phone"]}),s.jsxs("div",{className:"input-wrapper",children:[s.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:l,className:"form-input",placeholder:"Enter your phone number"}),s.jsx("div",{className:"input-focus-indicator"})]})]}),s.jsxs("div",{className:"form-actions",children:[s.jsxs("button",{type:"submit",className:"btn-save",disabled:i,children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),s.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),s.jsx("polyline",{points:"7 3 7 8 15 8"})]}),s.jsx("span",{children:i?"Saving...":"Save Changes"})]}),s.jsxs("button",{type:"button",className:"btn-logout",onClick:d,children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),s.jsx("polyline",{points:"16 17 21 12 16 7"}),s.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),s.jsx("span",{children:"Logout"})]})]})]})]})]}),s.jsx(xn,{})]})}function qte(){const e=xr(),t=Kn(),[r,n]=g.useState(!1),a=t.state?.venue||{id:1,name:"Riva Beach Resort",image:"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop",location:"Mandrem, Goa",price:16,priceDisplay:"16.00 Lakh",rooms:140,capacity:"100-500 pax"},o={...a,image:(E=>E?E.startsWith("http://")||E.startsWith("https://")?E:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${E.startsWith("/")?E:`/${E}`}`:"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop")(a.images?.[0]||a.image||a.coverImage),price:typeof a.price=="string"?parseFloat(a.price.replace(/[^0-9.]/g,"")):a.price||16,priceDisplay:a.priceDisplay||a.price||"16.00 Lakh",pricingInfo:a.pricingInfo||null,rooms:a.rooms||0,capacity:a.capacity||"100-500 pax"},[l,u]=g.useState({checkIn:"",checkOut:"",guests:"",rooms:"",fullName:"",email:"",phone:"",eventType:"",foodPreference:"both",specialRequests:""}),[d,f]=g.useState({}),[m,p]=g.useState(!1),[v,x]=g.useState(!1);g.useEffect(()=>{localStorage.getItem("token")||(G.error("Please login to continue with booking"),n(!0))},[]);const j=()=>{let E=localStorage.getItem("deviceId");return E||(E=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",E)),E},w=E=>{const{name:C,value:F}=E.target;u({...l,[C]:F}),d[C]&&f({...d,[C]:""})},S=()=>{if(l.checkIn&&l.checkOut){const E=new Date(l.checkIn),C=new Date(l.checkOut),F=Math.abs(C-E),_=Math.ceil(F/(1e3*60*60*24));return _>0?_:0}return 0},P=()=>{const E=S();return E>0&&o.price?(typeof o.price=="number"?o.price:parseFloat(o.priceDisplay.toString().replace(" Lakh","").replace(/[^0-9.]/g,""))*1e5||0)*E:typeof o.price=="number"?o.price:parseFloat(o.priceDisplay.toString().replace(" Lakh","").replace(/[^0-9.]/g,""))*1e5||0},k=()=>{const E={};if(l.checkIn||(E.checkIn="Check-in date is required"),l.checkOut||(E.checkOut="Check-out date is required"),l.checkIn&&l.checkOut){const C=new Date(l.checkIn);new Date(l.checkOut)<=C&&(E.checkOut="Check-out must be after check-in")}return l.guests||(E.guests="Number of guests is required"),l.fullName||(E.fullName="Full name is required"),l.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(E.email="Please enter a valid email"):E.email="Email is required",l.phone?/^[0-9]{10}$/.test(l.phone.replace(/\D/g,""))||(E.phone="Please enter a valid 10-digit phone number"):E.phone="Phone number is required",l.eventType||(E.eventType="Event type is required"),f(E),Object.keys(E).length===0},R=async E=>{if(E.preventDefault(),!localStorage.getItem("token")){G.error("Please login to continue with booking"),n(!0);return}if(k()){if(!o.id){G.error("Venue information is missing"),e("/venues");return}console.log(" Checking availability for venue:",o.id,"dates:",l.checkIn,"to",l.checkOut);try{x(!0);const F=await am.checkAvailability(o.id,l.checkIn,l.checkOut);if(console.log(" Availability check result:",F),!F.data?.available){const _=F.data?.message||"Selected dates are already booked. Please choose different dates.";console.error(" Date not available:",_),G.error(_,{duration:6e3,style:{background:"#ef4444",color:"#fff",fontSize:"16px",padding:"16px"}}),x(!1);return}console.log(" Dates are available, proceeding with payment")}catch(F){console.error(" Availability check error:",F);const _=F.message||"Unable to verify date availability. Please try again.";G.error(_,{duration:6e3,style:{background:"#ef4444",color:"#fff",fontSize:"16px",padding:"16px"}}),x(!1);return}try{const F=new Date(l.checkIn),_=new Date(l.checkOut),T=Math.ceil((_-F)/(1e3*60*60*24))||1;console.log(" Venue Object for Price:",{venue:o,venuePrice:o.price,venuePriceType:typeof o.price,venuePriceDisplay:o.priceDisplay,venuePricingInfo:o.pricingInfo});let M=0;if(o.pricingInfo&&o.pricingInfo.rentalPrice&&(M=typeof o.pricingInfo.rentalPrice=="number"?o.pricingInfo.rentalPrice:parseFloat(o.pricingInfo.rentalPrice)||0,console.log(" Using pricingInfo.rentalPrice:",M)),M<=0&&o.price){if(typeof o.price=="number")M=o.price,console.log(" Using venue.price (number):",M);else if(typeof o.price=="string"){const X=o.price.toString().replace(" Lakh","").replace(/[^0-9.]/g,"");M=parseFloat(X)||0,console.log(" Using venue.price (string):",M)}}if(M<=0&&o.priceDisplay){const X=o.priceDisplay.toString().replace(/[^0-9.]/g,"");M=parseFloat(X)||0,console.log(" Using venue.priceDisplay (treated as rupees):",M)}M<=0&&(console.warn(" Venue price not found, using default 10,000"),M=1e4);let $=Math.round(M*T*100);$<100&&(console.warn(" Amount too low, setting minimum 1"),$=100),console.log(" Final Payment Calculation:",{venuePrice:M,nights:T,totalAmountRupees:$/100,totalAmountPaise:$});const J=l.rooms&&l.rooms.toString().trim()!==""?parseInt(l.rooms):0;console.log(" Booking Data - Rooms:",{formDataRooms:l.rooms,roomsValue:J,type:typeof l.rooms});const q={venueId:o.id,date:l.checkIn,dateFrom:l.checkIn,dateTo:l.checkOut,guests:parseInt(l.guests),rooms:J,eventType:l.eventType,marriageFor:"boy",name:l.fullName,email:l.email,phone:l.phone,foodPreference:l.foodPreference,totalAmount:$/100,deviceId:j(),specialRequests:l.specialRequests};console.log(" Sending Booking Data:",q);let U;try{U=await c5.createOrder({amount:$,currency:"INR",bookingData:q})}catch(X){console.error(" Payment order creation error:",X);const B=X.data?.error||X.data?.message||X.message||"Failed to create payment order";B.includes("already booked")||B.includes("not available")||B.includes("blocked")||X.status===409?G.error(B,{duration:5e3}):G.error(B,{duration:5e3}),x(!1);return}if(!U.data?.success){const X=U.data?.error||U.data?.message||"Failed to create payment order";console.error(" Payment order creation failed:",X),G.error(X,{duration:5e3}),x(!1);return}if(U.data?.success&&U.data?.order){const X=U.data.order,B=`${window.location.origin}/booking-history`,Z=`https://payments.synilogic.in/pay/${X.id}?return_url=${encodeURIComponent(B)}`;console.log(" Redirecting to hosted checkout:",Z),window.location.href=Z;return}else{const X=U.data?.error||U.data?.message||"Failed to create payment order";X.includes("already booked")||X.includes("not available")||X.includes("blocked"),G.error(X),x(!1)}}catch(F){console.error("Booking error:",F),G.error(F.message||"Failed to process booking"),x(!1)}}},I=S(),L=P();return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"booking-page",children:[s.jsxs("button",{className:"back-button",onClick:()=>e(-1),children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]}),s.jsxs("div",{className:"booking-hero",children:[s.jsxs("div",{className:"booking-hero-content",children:[s.jsxs("h1",{className:"booking-page-title",children:["Complete Your",s.jsx("span",{className:"gradient-text",children:" Booking"})]}),s.jsx("p",{className:"booking-page-subtitle",children:"Fill in the details below to secure your venue reservation"})]}),s.jsxs("div",{className:"hero-decoration",children:[s.jsx("div",{className:"decoration-circle circle-1"}),s.jsx("div",{className:"decoration-circle circle-2"}),s.jsx("div",{className:"decoration-circle circle-3"})]})]}),s.jsx("div",{className:"booking-container",children:s.jsxs("div",{className:"booking-content",children:[s.jsxs("div",{className:"booking-form-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsxs("h2",{className:"section-title",children:[s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),s.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),s.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Booking Details"]}),s.jsx("div",{className:"section-underline"})]}),s.jsxs("form",{className:"booking-form",onSubmit:R,children:[s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"checkIn",className:"form-label",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),s.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Check-in Date"]}),s.jsx("input",{type:"date",id:"checkIn",name:"checkIn",value:l.checkIn,onChange:w,className:`form-input ${d.checkIn?"error":""}`,min:new Date().toISOString().split("T")[0]}),d.checkIn&&s.jsx("span",{className:"error-message",children:d.checkIn})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"checkOut",className:"form-label",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),s.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Check-out Date"]}),s.jsx("input",{type:"date",id:"checkOut",name:"checkOut",value:l.checkOut,onChange:w,className:`form-input ${d.checkOut?"error":""}`,min:l.checkIn||new Date().toISOString().split("T")[0]}),d.checkOut&&s.jsx("span",{className:"error-message",children:d.checkOut})]})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"guests",className:"form-label",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Number of Guests"]}),s.jsx("input",{type:"number",id:"guests",name:"guests",value:l.guests,onChange:w,className:`form-input ${d.guests?"error":""}`,placeholder:"Enter number of guests",min:"1"}),d.guests&&s.jsx("span",{className:"error-message",children:d.guests})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"rooms",className:"form-label",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),s.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),"Number of Rooms ",o.rooms>0&&`(Max: ${o.rooms})`]}),s.jsx("input",{type:"number",id:"rooms",name:"rooms",value:l.rooms,onChange:w,className:"form-input",placeholder:"Enter number of rooms",min:"1"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"eventType",className:"form-label",children:[s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),"Event Type *"]}),s.jsxs("select",{id:"eventType",name:"eventType",value:l.eventType,onChange:w,className:`form-input ${d.eventType?"error":""}`,required:!0,children:[s.jsx("option",{value:"",children:"Select event type"}),s.jsx("option",{value:"wedding",children:"Wedding"}),s.jsx("option",{value:"party",children:"Party"}),s.jsx("option",{value:"birthday party",children:"Birthday Party"}),s.jsx("option",{value:"anniversary",children:"Anniversary"}),s.jsx("option",{value:"engagement",children:"Engagement"}),s.jsx("option",{value:"reception",children:"Reception"}),s.jsx("option",{value:"other",children:"Other"})]}),d.eventType&&s.jsx("span",{className:"error-message",children:d.eventType})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"foodPreference",className:"form-label",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),s.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),s.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),"Food Preference *"]}),s.jsxs("select",{id:"foodPreference",name:"foodPreference",value:l.foodPreference,onChange:w,className:"form-input",required:!0,children:[s.jsx("option",{value:"both",children:"Both (Veg & Non-Veg)"}),s.jsx("option",{value:"veg",children:"Vegetarian"}),s.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]})]}),s.jsx("div",{className:"section-header",children:s.jsxs("h3",{className:"section-subtitle",children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Contact Information"]})}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"fullName",className:"form-label",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Full Name"]}),s.jsx("input",{type:"text",id:"fullName",name:"fullName",value:l.fullName,onChange:w,className:`form-input ${d.fullName?"error":""}`,placeholder:"Enter your full name"}),d.fullName&&s.jsx("span",{className:"error-message",children:d.fullName})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"email",className:"form-label",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),s.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Email Address"]}),s.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:w,className:`form-input ${d.email?"error":""}`,placeholder:"Enter your email"}),d.email&&s.jsx("span",{className:"error-message",children:d.email})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"phone",className:"form-label",children:[s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Phone Number"]}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:l.phone,onChange:w,className:`form-input ${d.phone?"error":""}`,placeholder:"Enter your phone number"}),d.phone&&s.jsx("span",{className:"error-message",children:d.phone})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"specialRequests",className:"form-label",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),s.jsx("polyline",{points:"14 2 14 8 20 8"}),s.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),s.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),s.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Special Requests (Optional)"]}),s.jsx("textarea",{id:"specialRequests",name:"specialRequests",value:l.specialRequests,onChange:w,className:"form-input form-textarea",placeholder:"Any special requests or additional information...",rows:"4"})]}),s.jsx("button",{type:"submit",className:"submit-btn",disabled:v||m,children:v?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"spinner",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Processing Payment..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Proceed to Payment"]})})]})]}),s.jsxs("div",{className:"booking-summary",children:[s.jsxs("div",{className:"summary-header",children:[s.jsx("h3",{className:"summary-title",children:"Booking Summary"}),s.jsx("div",{className:"summary-underline"})]}),s.jsxs("div",{className:"venue-card-summary",children:[s.jsx("div",{className:"venue-image-summary",children:s.jsx("img",{src:o.image,alt:o.name,onError:E=>{E.target.src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop"}})}),s.jsxs("div",{className:"venue-info-summary",children:[s.jsx("h4",{className:"venue-name-summary",children:o.name}),s.jsxs("p",{className:"venue-location-summary",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),o.location]}),s.jsxs("div",{className:"venue-capacity-summary",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),o.capacity]})]})]}),s.jsxs("div",{className:"summary-details",children:[s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{className:"summary-label",children:"Price per day"}),s.jsxs("span",{className:"summary-value",children:[" ",typeof o.price=="number"?o.price.toLocaleString("en-IN"):o.priceDisplay.replace(" Lakh","").replace(/[^0-9.]/g,"")]})]}),I>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{className:"summary-label",children:"Duration"}),s.jsxs("span",{className:"summary-value",children:[I," ",I===1?"night":"nights"]})]}),s.jsxs("div",{className:"summary-row summary-total",children:[s.jsx("span",{className:"summary-label",children:"Total Amount"}),s.jsxs("span",{className:"summary-value",children:[" ",typeof L=="number"?L.toLocaleString("en-IN"):L]})]})]}),l.guests&&s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{className:"summary-label",children:"Guests"}),s.jsx("span",{className:"summary-value",children:l.guests})]}),l.rooms&&s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{className:"summary-label",children:"Rooms"}),s.jsx("span",{className:"summary-value",children:l.rooms})]})]}),s.jsxs("div",{className:"summary-note",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),s.jsx("p",{children:"Your booking is subject to availability. We'll confirm within 24 hours."})]})]})]})})]}),s.jsx(xn,{}),s.jsx(PS,{isOpen:r,onClose:()=>{n(!1),e("/")},onLoginSuccess:()=>{n(!1),window.location.reload()}})]})}function Gte(){const e=xr(),[t,r]=g.useState(""),[n,a]=g.useState("all"),[i,o]=g.useState("newest"),[l,u]=g.useState([]),[d,f]=g.useState(!0),[m,p]=g.useState(!1),v=L=>{if(!L)return"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop";if(L.startsWith("http://")||L.startsWith("https://"))return L;const E="https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com";return L.startsWith("/uploads/")||L.startsWith("/uploads")?`${E}${L}`:L.startsWith("uploads/")?`${E}/${L}`:`${E}${L.startsWith("/")?L:`/${L}`}`},x=L=>L?typeof L=="object"&&L.city?`${L.city}${L.state?`, ${L.state}`:""}`:typeof L=="string"?L:"Location not specified":"Location not specified",j=()=>{let L=localStorage.getItem("deviceId");return L||(L=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",L)),L};g.useEffect(()=>{localStorage.getItem("token")||(G.error("Please login to view your bookings"),p(!0))},[]);const w=async(L=!0)=>{try{if(!localStorage.getItem("token")){p(!0);return}L&&f(!0);const C=j(),F=await am.getBookings({deviceId:C});console.log(" Full API Response:",F.data);let _=[];F.data?.success?_=F.data.bookings||F.data.data||[]:Array.isArray(F.data)&&(_=F.data),console.log(" Extracted Bookings Data:",_),console.log(" Total Bookings Count:",_.length);const T=_.map(M=>{const $=M.venueId||M.venue||{},J=M.dateFrom||M.date,q=M.dateTo||M.date;let U=M.status;M.type==="lead"?U="lead":(!U||U==="")&&(U="pending");let X=M.paymentStatus;(!X||X==="")&&(X="pending"),console.log(" Booking from API:",{id:M._id||M.id,rooms:M.rooms,roomsType:typeof M.rooms,status:M.status,extractedStatus:U,paymentStatus:M.paymentStatus,extractedPaymentStatus:X,type:M.type,deviceId:M.deviceId,fullBooking:M});const B=$.images?.[0]||$.coverImage||$.image||null;return console.log(" Venue Image Debug:",{venueId:$._id||$.id,venueName:$.name,images:$.images,coverImage:$.coverImage,image:$.image,extractedImage:B,formattedImage:v(B)}),{id:M._id||M.id,bookingId:M._id||M.id,venue:{id:$._id||$.id,name:$.name||"Unnamed Venue",image:v(B),location:x($.location)},checkIn:J?typeof J=="string"?J.split("T")[0]:new Date(J).toISOString().split("T")[0]:"",checkOut:q?typeof q=="string"?q.split("T")[0]:new Date(q).toISOString().split("T")[0]:"",guests:M.guests||0,rooms:M.rooms!==void 0&&M.rooms!==null?Number(M.rooms):0,eventType:M.eventType||"Wedding",totalAmount:M.totalAmount||0,status:U,paymentStatus:X,type:M.type||null,bookingDate:M.createdAt||M.bookingDate||new Date().toISOString()}});console.log(" Transformed Bookings:",T),console.log(" Transformed Count:",T.length),console.log(" Status Breakdown:",T.reduce((M,$)=>(M[$.status]=(M[$.status]||0)+1,M),{})),u(T)}catch(E){console.error("Error fetching bookings:",E),L&&G.error("Failed to load bookings"),u([])}finally{L&&f(!1)}};g.useEffect(()=>{w();const L=setInterval(()=>{w(!1)},3e4),E=()=>{document.hidden||w(!1)};return document.addEventListener("visibilitychange",E),()=>{clearInterval(L),document.removeEventListener("visibilitychange",E)}},[]);const S=g.useMemo(()=>{console.log(" Filtering bookings:",{totalBookings:l.length,statusFilter:n,searchQuery:t});let L=l.filter(E=>{const C=t===""||E.venue.name.toLowerCase().includes(t.toLowerCase())||E.venue.location.toLowerCase().includes(t.toLowerCase())||E.bookingId&&E.bookingId.toString().toLowerCase().includes(t.toLowerCase()),F=E.status?E.status.toString().toLowerCase().trim():"pending",_=n?n.toString().toLowerCase().trim():"all",T=_==="all"||F===_;return console.log(" Booking filter check:",{id:E.id,status:E.status,normalizedStatus:F,filterStatus:_,matchesStatus:T,matchesSearch:C}),C&&T});return console.log(" Filtered bookings count:",L.length),i==="newest"?L.sort((E,C)=>new Date(C.bookingDate)-new Date(E.bookingDate)):i==="oldest"?L.sort((E,C)=>new Date(E.bookingDate)-new Date(C.bookingDate)):i==="amount-high"?L.sort((E,C)=>{const F=typeof E.totalAmount=="number"?E.totalAmount:parseFloat(E.totalAmount)||0;return(typeof C.totalAmount=="number"?C.totalAmount:parseFloat(C.totalAmount)||0)-F}):i==="amount-low"&&L.sort((E,C)=>{const F=typeof E.totalAmount=="number"?E.totalAmount:parseFloat(E.totalAmount)||0,_=typeof C.totalAmount=="number"?C.totalAmount:parseFloat(C.totalAmount)||0;return F-_}),L},[t,n,i,l]),P=L=>{const E=L?L.toString().toLowerCase().trim():"pending",C={confirmed:{label:"Confirmed",class:"status-confirmed"},pending:{label:"Pending",class:"status-pending"},completed:{label:"Completed",class:"status-completed"},cancelled:{label:"Cancelled",class:"status-cancelled"},canceled:{label:"Cancelled",class:"status-cancelled"},failed:{label:"Failed",class:"status-cancelled"},new:{label:"New",class:"status-pending"},lead:{label:"Lead",class:"status-pending"},contacted:{label:"Contacted",class:"status-pending"},qualified:{label:"Qualified",class:"status-confirmed"},converted:{label:"Converted",class:"status-confirmed"},lost:{label:"Lost",class:"status-cancelled"}};return C[E]||C.pending},k=L=>{const E=L?L.toString().toLowerCase().trim():"pending",C={paid:{label:"Paid",class:"payment-paid"},pending:{label:"Pending",class:"payment-pending"},failed:{label:"Failed",class:"payment-failed"},refunded:{label:"Refunded",class:"payment-refunded"}};return C[E]||C.pending},R=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),I=(L,E)=>{const C=new Date(L),F=new Date(E),_=Math.abs(F-C);return Math.ceil(_/(1e3*60*60*24))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"booking-history-page",children:[s.jsxs("div",{className:"booking-history-hero",children:[s.jsxs("div",{className:"booking-history-hero-content",children:[s.jsxs("h1",{className:"booking-history-page-title",children:["My Booking",s.jsx("span",{className:"gradient-text",children:" History"})]}),s.jsx("p",{className:"booking-history-page-subtitle",children:"View and manage all your venue bookings in one place"})]}),s.jsxs("div",{className:"hero-decoration",children:[s.jsx("div",{className:"decoration-circle circle-1"}),s.jsx("div",{className:"decoration-circle circle-2"}),s.jsx("div",{className:"decoration-circle circle-3"})]})]}),s.jsxs("div",{className:"booking-history-container",children:[s.jsxs("div",{className:"booking-history-toolbar",children:[s.jsx("div",{className:"search-bar-wrapper",children:s.jsxs("div",{className:"search-bar",children:[s.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.35-4.35"})]}),s.jsx("input",{type:"text",placeholder:"Search by venue name, location, or booking ID...",value:t,onChange:L=>r(L.target.value),className:"search-input"}),t&&s.jsx("button",{className:"clear-search-btn",onClick:()=>r(""),children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),s.jsxs("div",{className:"toolbar-actions",children:[s.jsxs("select",{className:"filter-select",value:n,onChange:L=>a(L.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"lead",children:"Lead"}),s.jsx("option",{value:"new",children:"New"}),s.jsx("option",{value:"qualified",children:"Qualified"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"failed",children:"Failed"})]}),s.jsxs("select",{className:"sort-select",value:i,onChange:L=>o(L.target.value),children:[s.jsx("option",{value:"newest",children:"Sort: Newest First"}),s.jsx("option",{value:"oldest",children:"Sort: Oldest First"}),s.jsx("option",{value:"amount-high",children:"Sort: Amount (High to Low)"}),s.jsx("option",{value:"amount-low",children:"Sort: Amount (Low to High)"})]})]})]}),s.jsx("div",{className:"results-info",children:s.jsxs("span",{className:"results-count",children:[s.jsx("strong",{children:S.length})," ",S.length===1?"booking":"bookings"," found"]})}),S.length>0?s.jsx("div",{className:"bookings-list",children:S.map(L=>{const E=P(L.status),C=k(L.paymentStatus),F=I(L.checkIn,L.checkOut);return s.jsxs("div",{className:"booking-card",children:[s.jsxs("div",{className:"booking-card-image",children:[s.jsx("img",{src:L.venue.image,alt:L.venue.name,onError:_=>{_.target.src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop"}}),s.jsxs("div",{className:"status-badges-container",children:[s.jsx("div",{className:`status-badge ${E.class}`,children:E.label}),L.type!=="lead"&&s.jsx("div",{className:`status-badge payment-badge ${C.class}`,children:C.label})]})]}),s.jsxs("div",{className:"booking-card-content",children:[s.jsxs("div",{className:"booking-card-header",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"booking-venue-name",children:L.venue.name}),s.jsxs("p",{className:"booking-venue-location",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),L.venue.location]})]}),s.jsxs("div",{className:"booking-id",children:[s.jsx("span",{className:"booking-id-label",children:L.type==="lead"?"Lead Booking ID":"Booking ID"}),s.jsx("span",{className:"booking-id-value",children:L.bookingId})]})]}),s.jsxs("div",{className:"booking-details-grid",children:[s.jsxs("div",{className:"booking-detail-item",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),s.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"detail-label",children:"Check-in"}),s.jsx("span",{className:"detail-value",children:R(L.checkIn)})]})]}),s.jsxs("div",{className:"booking-detail-item",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),s.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"detail-label",children:"Check-out"}),s.jsx("span",{className:"detail-value",children:R(L.checkOut)})]})]}),s.jsxs("div",{className:"booking-detail-item",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"detail-label",children:"Guests"}),s.jsxs("span",{className:"detail-value",children:[L.guests," guests"]})]})]}),s.jsxs("div",{className:"booking-detail-item",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),s.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"detail-label",children:"Rooms"}),s.jsxs("span",{className:"detail-value",children:[L.rooms," rooms"]})]})]}),s.jsxs("div",{className:"booking-detail-item",children:[s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),s.jsxs("div",{children:[s.jsx("span",{className:"detail-label",children:"Event Type"}),s.jsx("span",{className:"detail-value",children:L.eventType})]})]}),s.jsxs("div",{className:"booking-detail-item",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),s.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"detail-label",children:"Duration"}),s.jsxs("span",{className:"detail-value",children:[F," ",F===1?"night":"nights"]})]})]})]}),s.jsxs("div",{className:"booking-card-footer",children:[L.type!=="lead"&&s.jsxs("div",{className:"booking-amount",children:[s.jsx("span",{className:"amount-label",children:"Total Amount"}),s.jsxs("span",{className:"amount-value",children:[" ",typeof L.totalAmount=="number"?L.totalAmount.toLocaleString("en-IN"):L.totalAmount]})]}),s.jsxs("div",{className:"booking-actions",children:[s.jsxs("button",{className:"action-btn view-btn",onClick:()=>e(`/venue/${Jl(L.venue.name)}`),children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"View Venue"]}),(L.status==="pending"||L.status==="confirmed")&&s.jsxs("button",{className:"action-btn cancel-btn",onClick:async()=>{if(window.confirm("Are you sure you want to cancel this booking?"))try{await am.updateStatus(L.id,"cancelled"),G.success("Booking cancelled successfully"),w(!1)}catch(_){console.error("Error cancelling booking:",_),G.error("Failed to cancel booking")}},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Cancel"]}),L.status==="completed"&&s.jsxs("button",{className:"action-btn review-btn",children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),"Write Review"]})]})]})]})]},L.id)})}):s.jsxs("div",{className:"no-bookings",children:[s.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),s.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),s.jsx("polyline",{points:"7 3 7 8 15 8"})]}),s.jsx("h3",{children:"No bookings found"}),s.jsx("p",{children:"Try adjusting your filters or search query"}),s.jsx("button",{className:"browse-venues-btn",onClick:()=>e("/venues"),children:"Browse Venues"})]})]})]}),s.jsx(xn,{}),s.jsx(PS,{isOpen:m,onClose:()=>{p(!1),e("/")},onLoginSuccess:()=>{p(!1),window.location.reload()}})]})}function Kte(){const e=xr(),r=Kn().state?.venue;g.useEffect(()=>{r||(G.error("Venue information is missing"),e("/venues"))},[r,e]);const n=r?{...r,id:r.id||r._id,image:r.images?.[0]||r.coverImage||r.image||"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop"}:null,[a,i]=g.useState({checkIn:"",checkOut:"",guests:"",rooms:"",fullName:"",email:"",phone:"",eventType:"",foodPreference:"both",specialRequests:""}),[o,l]=g.useState({}),[u,d]=g.useState(!1),m=(()=>{if(a.checkIn&&a.checkOut){const w=new Date(a.checkIn),S=new Date(a.checkOut),P=Math.abs(S-w),k=Math.ceil(P/(1e3*60*60*24));return k>0?k:0}return 0})(),p=()=>{let w=localStorage.getItem("deviceId");return w||(w=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",w)),w},v=w=>{const{name:S,value:P}=w.target;i(k=>({...k,[S]:P})),o[S]&&l(k=>({...k,[S]:""}))},x=()=>{const w={};if(a.checkIn||(w.checkIn="Check-in date is required"),a.checkOut||(w.checkOut="Check-out date is required"),a.checkIn&&a.checkOut){const S=new Date(a.checkIn);new Date(a.checkOut)<=S&&(w.checkOut="Check-out must be after check-in")}return a.guests||(w.guests="Number of guests is required"),a.fullName||(w.fullName="Full name is required"),a.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(w.email="Please enter a valid email"):w.email="Email is required",a.phone?/^[0-9]{10}$/.test(a.phone.replace(/\D/g,""))||(w.phone="Please enter a valid 10-digit phone number"):w.phone="Phone number is required",a.eventType||(w.eventType="Event type is required"),l(w),Object.keys(w).length===0},j=async w=>{if(w.preventDefault(),!n?.id){G.error("Venue information is missing"),e("/venues");return}if(x())try{d(!0);const S=new Date(a.checkIn),P=new Date(a.checkOut),I=1e4*(Math.ceil((P-S)/(1e3*60*60*24))||1),L={venueId:n.id,date:a.checkIn,dateFrom:a.checkIn,dateTo:a.checkOut,guests:parseInt(a.guests),rooms:a.rooms&&a.rooms!==""&&parseInt(a.rooms)||0,eventType:a.eventType,marriageFor:"boy",name:a.fullName,email:a.email,phone:a.phone,foodPreference:a.foodPreference,totalAmount:I,deviceId:p(),specialRequests:a.specialRequests},E=await am.create(L);E.data?.success?(G.success(E.data.message||"Inquiry submitted successfully! Venue will contact you soon."),e(-1)):G.error(E.data?.error||"Failed to submit inquiry")}catch(S){console.error("Contact venue error:",S),G.error(S.message||"Failed to submit inquiry")}finally{d(!1)}};return n?s.jsxs("div",{className:"booking-page",children:[s.jsxs("button",{type:"button",className:"back-button",onClick:()=>e(-1),children:[s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]}),s.jsxs("div",{className:"booking-hero",children:[s.jsxs("div",{className:"hero-decoration",children:[s.jsx("div",{className:"decoration-circle circle-1"}),s.jsx("div",{className:"decoration-circle circle-2"}),s.jsx("div",{className:"decoration-circle circle-3"})]}),s.jsxs("div",{className:"booking-hero-content",children:[s.jsx("h1",{className:"booking-page-title",children:"Contact Venue"}),s.jsx("p",{className:"booking-page-subtitle",children:"Share your event details and the venue will contact you soon."})]})]}),s.jsx("div",{className:"booking-container",children:s.jsxs("div",{className:"booking-content",children:[s.jsxs("div",{className:"booking-form-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsxs("h2",{className:"section-title",children:[s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"7 10 12 15 17 10"}),s.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Inquiry Form"]}),s.jsx("div",{className:"section-underline"})]}),s.jsxs("form",{className:"booking-form",onSubmit:j,children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"section-subtitle",children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),s.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),s.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Dates & Guests"]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Check-in Date *"}),s.jsx("input",{type:"date",name:"checkIn",value:a.checkIn,onChange:v,className:`form-input ${o.checkIn?"error":""}`,required:!0,min:new Date().toISOString().split("T")[0]}),o.checkIn&&s.jsx("span",{className:"error-message",children:o.checkIn})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Check-out Date *"}),s.jsx("input",{type:"date",name:"checkOut",value:a.checkOut,onChange:v,className:`form-input ${o.checkOut?"error":""}`,required:!0,min:a.checkIn||new Date().toISOString().split("T")[0]}),o.checkOut&&s.jsx("span",{className:"error-message",children:o.checkOut})]})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Guests *"}),s.jsx("input",{type:"number",name:"guests",value:a.guests,onChange:v,className:`form-input ${o.guests?"error":""}`,placeholder:"e.g. 200",min:"1",required:!0}),o.guests&&s.jsx("span",{className:"error-message",children:o.guests})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Rooms (Optional)"}),s.jsx("input",{type:"number",name:"rooms",value:a.rooms,onChange:v,className:"form-input",placeholder:"e.g. 10",min:"0"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"section-subtitle",children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Your Details"]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Full Name *"}),s.jsx("input",{type:"text",name:"fullName",value:a.fullName,onChange:v,className:`form-input ${o.fullName?"error":""}`,placeholder:"Your name",required:!0}),o.fullName&&s.jsx("span",{className:"error-message",children:o.fullName})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:a.email,onChange:v,className:`form-input ${o.email?"error":""}`,placeholder:"you@example.com",required:!0}),o.email&&s.jsx("span",{className:"error-message",children:o.email})]})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Phone *"}),s.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:v,className:`form-input ${o.phone?"error":""}`,placeholder:"10-digit number",required:!0}),o.phone&&s.jsx("span",{className:"error-message",children:o.phone})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Event Type *"}),s.jsxs("select",{name:"eventType",value:a.eventType,onChange:v,className:`form-input ${o.eventType?"error":""}`,required:!0,children:[s.jsx("option",{value:"",children:"Select event type"}),s.jsx("option",{value:"wedding",children:"Wedding"}),s.jsx("option",{value:"party",children:"Party"}),s.jsx("option",{value:"birthday party",children:"Birthday Party"}),s.jsx("option",{value:"anniversary",children:"Anniversary"}),s.jsx("option",{value:"engagement",children:"Engagement"}),s.jsx("option",{value:"reception",children:"Reception"}),s.jsx("option",{value:"other",children:"Other"})]}),o.eventType&&s.jsx("span",{className:"error-message",children:o.eventType})]})]}),s.jsx("div",{className:"form-row",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Food Preference *"}),s.jsxs("select",{name:"foodPreference",value:a.foodPreference,onChange:v,className:"form-input",required:!0,children:[s.jsx("option",{value:"both",children:"Both (Veg & Non-Veg)"}),s.jsx("option",{value:"veg",children:"Vegetarian"}),s.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]})]})}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Special Requests"}),s.jsx("textarea",{name:"specialRequests",value:a.specialRequests,onChange:v,className:"form-input form-textarea",placeholder:"Any special requirements or requests...",rows:"4"})]})]}),s.jsx("button",{type:"submit",className:"submit-btn",disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"spinner",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M22 2L11 13"}),s.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),"Submit Inquiry"]})})]})]}),s.jsxs("div",{className:"booking-summary",children:[s.jsxs("div",{className:"summary-header",children:[s.jsx("h3",{className:"summary-title",children:"Inquiry Summary"}),s.jsx("div",{className:"summary-underline"})]}),s.jsxs("div",{className:"venue-card-summary",children:[s.jsx("div",{className:"venue-image-summary",children:s.jsx("img",{src:n.image,alt:n.name})}),s.jsxs("div",{className:"venue-info-summary",children:[s.jsx("h4",{className:"venue-name-summary",children:n.name}),s.jsxs("p",{className:"venue-location-summary",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),typeof n.location=="object"?`${n.location.city||""}${n.location.state?`, ${n.location.state}`:""}`:n.location]}),n.capacity&&s.jsxs("div",{className:"venue-capacity-summary",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),typeof n.capacity=="object"?`${n.capacity.minGuests||""}${n.capacity.maxGuests?`-${n.capacity.maxGuests}`:""}`:n.capacity]})]})]}),s.jsxs("div",{className:"summary-details",children:[a.checkIn&&s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{className:"summary-label",children:"Check-in"}),s.jsx("span",{className:"summary-value",children:a.checkIn})]}),a.checkOut&&s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{className:"summary-label",children:"Check-out"}),s.jsx("span",{className:"summary-value",children:a.checkOut})]}),m>0&&s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{className:"summary-label",children:"Duration"}),s.jsxs("span",{className:"summary-value",children:[m," ",m===1?"night":"nights"]})]}),a.guests&&s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{className:"summary-label",children:"Guests"}),s.jsx("span",{className:"summary-value",children:a.guests})]}),a.rooms&&s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{className:"summary-label",children:"Rooms"}),s.jsx("span",{className:"summary-value",children:a.rooms})]}),a.eventType&&s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{className:"summary-label",children:"Event Type"}),s.jsx("span",{className:"summary-value",children:a.eventType})]})]}),s.jsxs("div",{className:"summary-note",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),s.jsx("p",{children:"Your inquiry will be shared with the venue. They will contact you soon."})]})]})]})}),s.jsx(xn,{})]}):null}const Yte=()=>{const e=xr(),[t,r]=g.useState([]),[n,a]=g.useState(!0),[i,o]=g.useState(null),l=()=>{let x=localStorage.getItem("deviceId");return x||(x=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",x)),x},u=x=>{if(!x||x.length===0)return"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400&h=300&fit=crop";const j=Array.isArray(x)?x[0]:x;return j.startsWith("/uploads/")?`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}${j}`:j.startsWith("http://")||j.startsWith("https://")?j:`${"https://shubhvenue.com/api".replace("/api","")||"https://shubhvenue.com"}/uploads/venues/${j}`},d=x=>{if(!x)return"Price on request";if(typeof x=="number")return`${x.toLocaleString("en-IN")}`;const j=parseFloat(x);return isNaN(j)?"Price on request":`${j.toLocaleString("en-IN")}`},f=x=>x?typeof x=="object"&&x.city?`${x.city}${x.state?`, ${x.state}`:""}`:typeof x=="string"?x:"Location not specified":"Location not specified",m=x=>x?typeof x=="object"&&x.minGuests&&x.maxGuests?`${x.minGuests} - ${x.maxGuests} guests`:typeof x=="number"?`Up to ${x} guests`:String(x):"Not specified";g.useEffect(()=>{(async()=>{try{a(!0);const j=l(),w=await Yy.getAll(j);w.data?.success?r(w.data.venues||[]):(G.error(w.data?.error||"Failed to load shotlist"),r([]))}catch(j){console.error("Error fetching shotlist:",j),G.error(j.message||"Failed to load shotlist"),r([])}finally{a(!1)}})()},[]);const p=async x=>{try{o(x);const j=l(),w=await Yy.toggleLike(x,j);w.data?.success&&!w.data.isLiked?(r(S=>S.filter(P=>P.id!==x)),G.success("Venue removed from shotlist")):G.error(w.data?.error||"Failed to remove venue")}catch(j){console.error("Error removing from shotlist:",j),G.error(j.message||"Failed to remove venue")}finally{o(null)}},v=x=>{const j=x.slug||Jl(x.name);e(`/venue/${j}`)};return s.jsxs(s.Fragment,{children:[s.jsx(Nx,{title:"My Shotlist - ShubhVenue",description:"View your saved venues on ShubhVenue",keywords:"shotlist, saved venues, favorite venues, wedding venues"}),s.jsx("div",{className:"shotlist-page",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"shotlist-header",children:[s.jsx("h1",{children:"My Shotlist"}),s.jsx("p",{className:"shotlist-subtitle",children:t.length===0?"No venues in your shotlist yet":`${t.length} ${t.length===1?"venue":"venues"} saved`})]}),n?s.jsxs("div",{className:"shotlist-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading your shotlist..."})]}):t.length===0?s.jsxs("div",{className:"shotlist-empty",children:[s.jsx("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),s.jsx("h2",{children:"Your shotlist is empty"}),s.jsx("p",{children:"Start exploring venues and add them to your shotlist!"}),s.jsx("button",{className:"btn-primary",onClick:()=>e("/venues"),children:"Browse Venues"})]}):s.jsx("div",{className:"shotlist-grid",children:t.map(x=>s.jsxs("div",{className:"shotlist-card",children:[s.jsxs("div",{className:"shotlist-card-image",onClick:()=>v(x),children:[s.jsx("img",{src:u(x.images),alt:x.name,loading:"lazy"}),s.jsx("button",{className:"shotlist-remove-btn",onClick:j=>{j.stopPropagation(),p(x.id)},disabled:i===x.id,title:"Remove from shotlist",children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),x.ratingInfo?.average>0&&s.jsxs("div",{className:"venue-rating-badge",children:[s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),s.jsx("span",{children:x.ratingInfo.average.toFixed(1)})]})]}),s.jsxs("div",{className:"shotlist-card-content",children:[s.jsx("h3",{className:"shotlist-card-title",onClick:()=>v(x),children:x.name}),s.jsxs("div",{className:"shotlist-card-info",children:[s.jsxs("div",{className:"info-item",children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),s.jsx("span",{children:f(x.location)})]}),s.jsxs("div",{className:"info-item",children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),s.jsx("span",{children:m(x.capacity)})]}),x.pricingInfo?.vegPerPlate>0||x.pricingInfo?.nonVegPerPlate>0?s.jsxs("div",{className:"info-item",children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),s.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),s.jsxs("span",{children:[x.pricingInfo.vegPerPlate>0&&`${x.pricingInfo.vegPerPlate}/plate (Veg)`,x.pricingInfo.vegPerPlate>0&&x.pricingInfo.nonVegPerPlate>0&&"  ",x.pricingInfo.nonVegPerPlate>0&&`${x.pricingInfo.nonVegPerPlate}/plate (Non-Veg)`]})]}):x.price>0?s.jsxs("div",{className:"info-item",children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),s.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),s.jsx("span",{children:d(x.price)})]}):null]}),s.jsx("div",{className:"shotlist-card-actions",children:s.jsx("button",{className:"btn-primary",onClick:()=>v(x),children:"View Details"})})]})]},x.id))})]})}),s.jsx(xn,{})]})};function Zte(){const[e,t]=g.useState({title:"About ShubhVenue",content:"",lastUpdated:new Date}),[r,n]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{n(!0);const i=await xx.getByType("about-us");i.data?.success&&i.data?.legalPage&&t({title:i.data.legalPage.title||"About ShubhVenue",content:i.data.legalPage.content||"",lastUpdated:i.data.legalPage.lastUpdated?new Date(i.data.legalPage.lastUpdated):new Date})}catch(i){console.error("Error fetching about us:",i),G.error("Failed to load about us page")}finally{n(!1)}})()},[]),r?s.jsxs("div",{className:"about-us-page",children:[s.jsx("div",{className:"about-us-container",children:s.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[s.jsx("img",{src:"/image/venuebook.png",alt:"VenueBook Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite"},onError:a=>{a.target.onerror=null,a.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("div",{className:"loading-spinner",style:{margin:"0 auto"}}),s.jsx("p",{style:{marginTop:"20px",color:"var(--gray-medium)"},children:"Loading..."})]})}),s.jsx(xn,{})]}):s.jsxs("div",{className:"about-us-page",children:[s.jsxs("div",{className:"about-us-container",children:[s.jsxs("div",{className:"about-hero",children:[s.jsx("h1",{className:"about-title",children:e.title}),s.jsxs("p",{className:"about-subtitle",children:["Last updated: ",e.lastUpdated.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),s.jsx("div",{className:"about-content",children:s.jsx("div",{className:"about-html-content",dangerouslySetInnerHTML:{__html:e.content.replace(/\n/g,"<br />")}})})]}),s.jsx(xn,{})]})}function Qte(){return s.jsxs("div",{className:"how-it-works-page",children:[s.jsxs("div",{className:"how-it-works-container",children:[s.jsx("h2",{className:"how-it-works-title",children:"How it Works?"}),s.jsxs("div",{className:"steps-container",children:[s.jsxs("div",{className:"step",children:[s.jsx("div",{className:"step-number",children:"01"}),s.jsx("div",{className:"step-icon",children:s.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[s.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),s.jsx("polyline",{points:"14 2 14 8 20 8"}),s.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"}),s.jsx("line",{x1:"9",y1:"16",x2:"15",y2:"16"}),s.jsx("line",{x1:"9",y1:"20",x2:"15",y2:"20"}),s.jsx("circle",{cx:"17",cy:"17",r:"2.5",fill:"none"}),s.jsx("line",{x1:"19",y1:"19",x2:"21",y2:"21",strokeWidth:"1.5"})]})}),s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{className:"step-title",children:"Discover"}),s.jsx("p",{className:"step-description",children:"Browse Venues to create your shortlist"})]})]}),s.jsx("div",{className:"step-connector",children:s.jsxs("svg",{width:"60",height:"20",viewBox:"0 0 60 20",fill:"none",children:[s.jsx("path",{d:"M5 10 L55 10",stroke:"url(#gradient)",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M50 5 L55 10 L50 15",stroke:"url(#gradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:"#6B46C1"}),s.jsx("stop",{offset:"100%",stopColor:"#EC4899"})]})})]})}),s.jsxs("div",{className:"step",children:[s.jsx("div",{className:"step-number",children:"02"}),s.jsx("div",{className:"step-icon",children:s.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[s.jsx("path",{d:"M9 2H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-2"}),s.jsx("path",{d:"M9 2v4h6V2"}),s.jsx("line",{x1:"9",y1:"6",x2:"15",y2:"6"}),s.jsx("line",{x1:"9",y1:"10",x2:"15",y2:"10"}),s.jsx("line",{x1:"9",y1:"14",x2:"15",y2:"14"}),s.jsx("line",{x1:"9",y1:"18",x2:"15",y2:"18"}),s.jsx("path",{d:"M16 2l2 2M16 4l2-2",strokeWidth:"1.5"}),s.jsx("line",{x1:"18",y1:"2",x2:"18",y2:"4",strokeWidth:"1.5"})]})}),s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{className:"step-title",children:"Shortlist"}),s.jsx("p",{className:"step-description",children:"Get negotiated rates for your shortlisted venues"})]})]}),s.jsx("div",{className:"step-connector",children:s.jsxs("svg",{width:"60",height:"20",viewBox:"0 0 60 20",fill:"none",children:[s.jsx("path",{d:"M5 10 L55 10",stroke:"url(#gradient2)",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M50 5 L55 10 L50 15",stroke:"url(#gradient2)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"gradient2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:"#6B46C1"}),s.jsx("stop",{offset:"100%",stopColor:"#EC4899"})]})})]})}),s.jsxs("div",{className:"step",children:[s.jsx("div",{className:"step-number",children:"03"}),s.jsx("div",{className:"step-icon",children:s.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),s.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),s.jsx("circle",{cx:"18",cy:"18",r:"3",fill:"none"}),s.jsx("polyline",{points:"17 18 18 19 20 17",strokeWidth:"2"})]})}),s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{className:"step-title",children:"Book"}),s.jsxs("p",{className:"step-description",children:["Book online at our guaranteed lowest price ",s.jsx("span",{className:"discount-badge",children:"Upto 20% off"})]})]})]})]})]}),s.jsx(xn,{})]})}function Xte(){return s.jsxs("div",{className:"blog-page",children:[s.jsxs("div",{className:"blog-container",children:[s.jsxs("div",{className:"blog-hero",children:[s.jsx("h1",{className:"blog-title",children:"Blog"}),s.jsx("p",{className:"blog-subtitle",children:"Tips, guides, and inspiration for your perfect event"})]}),s.jsx("div",{className:"blog-content",children:s.jsxs("div",{className:"coming-soon",children:[s.jsx("div",{className:"coming-soon-icon",children:""}),s.jsx("h2",{className:"coming-soon-title",children:"Coming Soon"}),s.jsx("p",{className:"coming-soon-text",children:"We're working on bringing you amazing content about event planning, venue selection tips, and inspiration for your special occasions. Stay tuned!"})]})})]}),s.jsx(xn,{})]})}function Jte(){const[e,t]=g.useState({title:"Privacy Policy",content:"",lastUpdated:new Date}),[r,n]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{n(!0);const i=await xx.getByType("privacy-policy");i.data?.success&&i.data?.legalPage&&t({title:i.data.legalPage.title||"Privacy Policy",content:i.data.legalPage.content||"",lastUpdated:i.data.legalPage.lastUpdated?new Date(i.data.legalPage.lastUpdated):new Date})}catch(i){console.error("Error fetching privacy policy:",i),G.error("Failed to load privacy policy")}finally{n(!1)}})()},[]),r?s.jsxs("div",{className:"privacy-page",children:[s.jsx("div",{className:"privacy-container",children:s.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite"},onError:a=>{a.target.onerror=null,a.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("div",{className:"loading-spinner",style:{margin:"0 auto"}}),s.jsx("p",{style:{marginTop:"20px",color:"var(--gray-medium)"},children:"Loading..."})]})}),s.jsx(xn,{})]}):s.jsxs("div",{className:"privacy-page",children:[s.jsxs("div",{className:"privacy-container",children:[s.jsxs("div",{className:"privacy-hero",children:[s.jsx("h1",{className:"privacy-title",children:e.title}),s.jsxs("p",{className:"privacy-subtitle",children:["Last updated: ",e.lastUpdated.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),s.jsx("div",{className:"privacy-content",children:s.jsx("div",{className:"privacy-html-content",dangerouslySetInnerHTML:{__html:e.content.replace(/\n/g,"<br />")}})})]}),s.jsx(xn,{})]})}function ere(){const[e,t]=g.useState({title:"Terms of Service",content:"",lastUpdated:new Date}),[r,n]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{n(!0);const i=await xx.getByType("terms-of-service");i.data?.success&&i.data?.legalPage&&t({title:i.data.legalPage.title||"Terms of Service",content:i.data.legalPage.content||"",lastUpdated:i.data.legalPage.lastUpdated?new Date(i.data.legalPage.lastUpdated):new Date})}catch(i){console.error("Error fetching terms of service:",i),G.error("Failed to load terms of service")}finally{n(!1)}})()},[]),r?s.jsxs("div",{className:"terms-page",children:[s.jsx("div",{className:"terms-container",children:s.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite"},onError:a=>{a.target.onerror=null,a.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("div",{className:"loading-spinner",style:{margin:"0 auto"}}),s.jsx("p",{style:{marginTop:"20px",color:"var(--gray-medium)"},children:"Loading..."})]})}),s.jsx(xn,{})]}):s.jsxs("div",{className:"terms-page",children:[s.jsxs("div",{className:"terms-container",children:[s.jsxs("div",{className:"terms-hero",children:[s.jsx("h1",{className:"terms-title",children:e.title}),s.jsxs("p",{className:"terms-subtitle",children:["Last updated: ",e.lastUpdated.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),s.jsx("div",{className:"terms-content",children:s.jsx("div",{className:"terms-html-content",dangerouslySetInnerHTML:{__html:e.content.replace(/\n/g,"<br />")}})})]}),s.jsx(xn,{})]})}function tre(){const[e,t]=g.useState({title:"Cookie Policy",content:"",lastUpdated:new Date}),[r,n]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{n(!0);const i=await xx.getByType("cookie-policy");i.data?.success&&i.data?.legalPage&&t({title:i.data.legalPage.title||"Cookie Policy",content:i.data.legalPage.content||"",lastUpdated:i.data.legalPage.lastUpdated?new Date(i.data.legalPage.lastUpdated):new Date})}catch(i){console.error("Error fetching cookie policy:",i),G.error("Failed to load cookie policy")}finally{n(!1)}})()},[]),r?s.jsxs("div",{className:"cookie-page",children:[s.jsx("div",{className:"cookie-container",children:s.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",style:{height:"60px",width:"auto",objectFit:"contain",marginBottom:"20px",margin:"0 auto 20px",animation:"pulse 2s ease-in-out infinite"},onError:a=>{a.target.onerror=null,a.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxzdmcgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("div",{className:"loading-spinner",style:{margin:"0 auto"}}),s.jsx("p",{style:{marginTop:"20px",color:"var(--gray-medium)"},children:"Loading..."})]})}),s.jsx(xn,{})]}):s.jsxs("div",{className:"cookie-page",children:[s.jsxs("div",{className:"cookie-container",children:[s.jsxs("div",{className:"cookie-hero",children:[s.jsx("h1",{className:"cookie-title",children:e.title}),s.jsxs("p",{className:"cookie-subtitle",children:["Last updated: ",e.lastUpdated.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),s.jsx("div",{className:"cookie-content",children:s.jsx("div",{className:"cookie-html-content",dangerouslySetInnerHTML:{__html:e.content.replace(/\n/g,"<br />")}})})]}),s.jsx(xn,{})]})}function rre(){const[e,t]=g.useState({companyName:"ShubhVenue",email:"",phone:"",address:""}),[r,n]=g.useState(!0),[a,i]=g.useState({name:"",email:"",phone:"",subject:"",message:""}),[o,l]=g.useState(!1),[u,d]=g.useState(""),[f,m]=g.useState(!1),[p,v]=g.useState(null),[x,j]=g.useState(!1);g.useEffect(()=>{(async()=>{try{n(!0);const k=await o5.get();k.data?.success&&k.data?.company&&t({companyName:k.data.company.companyName||"ShubhVenue",email:k.data.company.email||"",phone:k.data.company.phone||"",address:k.data.company.address||""})}catch(k){console.error("Error fetching company data:",k)}finally{n(!1)}})()},[]);const w=async P=>{if(P.preventDefault(),!a.name||!a.email||!a.message){G.error("Please fill in all required fields");return}l(!0);try{const k=await hT.submit({name:a.name,email:a.email,phone:a.phone,subject:a.subject,message:a.message});k.data?.success?(G.success(k.data.message||"Thank you for contacting us! We will get back to you soon."),i({name:"",email:"",phone:"",subject:"",message:""})):G.error(k.data?.error||"Failed to send message")}catch(k){console.error("Error submitting contact form:",k);const R=k.response?.data?.error||k.message||"Failed to send message. Please try again.";G.error(R)}finally{l(!1)}},S=async P=>{if(P.preventDefault(),!u||!u.trim()){G.error("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){G.error("Please enter a valid email address");return}m(!0);try{const R=await hT.getByEmail(u.trim());R.data?.success&&R.data?.contacts?R.data.contacts.length>0?(v(R.data.contacts[0]),G.success("Submission found!")):(G.error("No submissions found for this email"),v(null)):(G.error(R.data?.error||"No submissions found"),v(null))}catch(R){console.error("Error checking submission:",R);const I=R.response?.data?.error||R.message||"Failed to check submission. Please try again.";G.error(I),v(null)}finally{m(!1)}};return s.jsxs("div",{className:"contact-us-page",children:[s.jsxs("div",{className:"contact-us-container",children:[s.jsxs("div",{className:"contact-hero",children:[s.jsx("h1",{className:"contact-title",children:"Contact Us"}),s.jsx("p",{className:"contact-subtitle",children:"We'd love to hear from you. Get in touch with us!"})]}),s.jsxs("div",{className:"check-submission-section",children:[s.jsxs("button",{className:"check-submission-toggle",onClick:()=>j(!x),children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("polyline",{points:"12 16 12 12 16 8"}),s.jsx("line",{x1:"8",y1:"12",x2:"12",y2:"12"})]}),x?"Hide":"Check"," Your Submission Status"]}),x&&s.jsxs("div",{className:"check-submission-form",children:[s.jsx("h3",{className:"check-title",children:"Check Your Submission"}),s.jsx("p",{className:"check-description",children:"Enter your email to view your submission status and replies"}),s.jsxs("form",{onSubmit:S,className:"check-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"checkEmail",className:"form-label",children:"Email Address"}),s.jsx("input",{type:"email",id:"checkEmail",className:"form-input",value:u,onChange:P=>d(P.target.value),placeholder:"Enter the email you used to contact us",required:!0})]}),s.jsx("button",{type:"submit",className:"check-btn",disabled:f,children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"spinner"}),"Checking..."]}):s.jsxs(s.Fragment,{children:["Check Status",s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})})]})})]}),p&&s.jsxs("div",{className:"submission-details",children:[s.jsx("h4",{className:"details-title",children:"Your Submission"}),s.jsxs("div",{className:"details-content",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Status:"}),s.jsx("span",{className:`detail-value status-${p.status}`,children:p.status==="new"?"New":p.status==="read"?"Read":p.status==="replied"?"Replied":p.status==="resolved"?"Resolved":p.status})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Submitted:"}),s.jsx("span",{className:"detail-value",children:new Date(p.createdAt).toLocaleString()})]}),p.replyMessage&&s.jsxs("div",{className:"reply-section",children:[s.jsx("h5",{className:"reply-title",children:"Reply from ShubhVenue:"}),s.jsx("div",{className:"reply-message",children:p.replyMessage}),p.repliedAt&&s.jsxs("p",{className:"reply-date",children:["Replied on: ",new Date(p.repliedAt).toLocaleString()]})]})]})]})]})]}),s.jsxs("div",{className:"contact-content",children:[s.jsxs("div",{className:"contact-info-section",children:[s.jsxs("div",{className:"info-card",children:[s.jsx("div",{className:"info-icon",children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),s.jsx("h3",{className:"info-title",children:"Address"}),s.jsx("p",{className:"info-text",children:e.address||"123 Event Street, City, State 12345"})]}),s.jsxs("div",{className:"info-card",children:[s.jsx("div",{className:"info-icon",children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})}),s.jsx("h3",{className:"info-title",children:"Phone"}),s.jsx("p",{className:"info-text",children:e.phone?s.jsx("a",{href:`tel:${e.phone}`,className:"info-link",children:e.phone}):"+1 (555) 123-4567"})]}),s.jsxs("div",{className:"info-card",children:[s.jsx("div",{className:"info-icon",children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),s.jsx("polyline",{points:"22,6 12,13 2,6"})]})}),s.jsx("h3",{className:"info-title",children:"Email"}),s.jsx("p",{className:"info-text",children:e.email?s.jsx("a",{href:`mailto:${e.email}`,className:"info-link",children:e.email}):"info@shubhvenue.com"})]})]}),s.jsx("div",{className:"contact-form-section",children:s.jsxs("form",{onSubmit:w,className:"contact-form",children:[s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name ",s.jsx("span",{className:"required",children:"*"})]}),s.jsx("input",{type:"text",id:"name",className:"form-input",value:a.name,onChange:P=>i({...a,name:P.target.value}),placeholder:"Your full name",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email ",s.jsx("span",{className:"required",children:"*"})]}),s.jsx("input",{type:"email",id:"email",className:"form-input",value:a.email,onChange:P=>i({...a,email:P.target.value}),placeholder:"your.email@example.com",required:!0})]})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),s.jsx("input",{type:"tel",id:"phone",className:"form-input",value:a.phone,onChange:P=>i({...a,phone:P.target.value}),placeholder:"+1 (555) 123-4567"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"subject",className:"form-label",children:"Subject"}),s.jsx("input",{type:"text",id:"subject",className:"form-input",value:a.subject,onChange:P=>i({...a,subject:P.target.value}),placeholder:"What is this regarding?"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"message",className:"form-label",children:["Message ",s.jsx("span",{className:"required",children:"*"})]}),s.jsx("textarea",{id:"message",className:"form-textarea",value:a.message,onChange:P=>i({...a,message:P.target.value}),placeholder:"Tell us how we can help you...",rows:6,required:!0})]}),s.jsx("button",{type:"submit",className:"submit-btn",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"spinner"}),"Sending..."]}):s.jsxs(s.Fragment,{children:["Send Message",s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),s.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})]})})]})})]})]}),s.jsx(xn,{})]})}const $r=({children:e})=>localStorage.getItem("admin_token")?e:s.jsx(Xf,{to:"/admin/login",replace:!0}),ES=g.createContext({});function TS(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const MS=typeof window<"u",L5=MS?g.useLayoutEffect:g.useEffect,Sx=g.createContext(null);function _S(e,t){e.indexOf(t)===-1&&e.push(t)}function DS(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const zo=(e,t,r)=>r>t?t:r<e?e:r;let OS=()=>{};const Uo={},F5=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function $5(e){return typeof e=="object"&&e!==null}const B5=e=>/^0[^.\s]+$/u.test(e);function RS(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ta=e=>e,nre=(e,t)=>r=>t(e(r)),Wm=(...e)=>e.reduce(nre),cm=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class LS{constructor(){this.subscriptions=[]}add(t){return _S(this.subscriptions,t),()=>DS(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qi=e=>e*1e3,Aa=e=>e/1e3;function V5(e,t){return t?e*(1e3/t):0}const z5=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,sre=1e-7,are=12;function ire(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=z5(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>sre&&++l<are);return o}function Hm(e,t,r,n){if(e===t&&r===n)return Ta;const a=i=>ire(i,0,1,e,r);return i=>i===0||i===1?i:z5(a(i),t,n)}const U5=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,W5=e=>t=>1-e(1-t),H5=Hm(.33,1.53,.69,.99),FS=W5(H5),q5=U5(FS),G5=e=>(e*=2)<1?.5*FS(e):.5*(2-Math.pow(2,-10*(e-1))),$S=e=>1-Math.sin(Math.acos(e)),K5=W5($S),Y5=U5($S),ore=Hm(.42,0,1,1),lre=Hm(0,0,.58,1),Z5=Hm(.42,0,.58,1),cre=e=>Array.isArray(e)&&typeof e[0]!="number",Q5=e=>Array.isArray(e)&&typeof e[0]=="number",ure={linear:Ta,easeIn:ore,easeInOut:Z5,easeOut:lre,circIn:$S,circInOut:Y5,circOut:K5,backIn:FS,backInOut:q5,backOut:H5,anticipate:G5},dre=e=>typeof e=="string",IT=e=>{if(Q5(e)){OS(e.length===4);const[t,r,n,a]=e;return Hm(t,r,n,a)}else if(dre(e))return ure[e];return e},Lg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function hre(e,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(d.schedule(f),e()),f(l)}const d={schedule:(f,m=!1,p=!1)=>{const x=p&&a?r:n;return m&&o.add(f),x.has(f)||x.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(u),r.clear(),a=!1,i&&(i=!1,d.process(f))}};return d}const fre=40;function X5(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Lg.reduce((k,R)=>(k[R]=hre(i),k),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:f,update:m,preRender:p,render:v,postRender:x}=o,j=()=>{const k=Uo.useManualTiming?a.timestamp:performance.now();r=!1,Uo.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(k-a.timestamp,fre),1)),a.timestamp=k,a.isProcessing=!0,l.process(a),u.process(a),d.process(a),f.process(a),m.process(a),p.process(a),v.process(a),x.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(j))},w=()=>{r=!0,n=!0,a.isProcessing||e(j)};return{schedule:Lg.reduce((k,R)=>{const I=o[R];return k[R]=(L,E=!1,C=!1)=>(r||w(),I.schedule(L,E,C)),k},{}),cancel:k=>{for(let R=0;R<Lg.length;R++)o[Lg[R]].cancel(k)},state:a,steps:o}}const{schedule:Pr,cancel:ec,state:Gn,steps:Mw}=X5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ta,!0);let xy;function mre(){xy=void 0}const Os={now:()=>(xy===void 0&&Os.set(Gn.isProcessing||Uo.useManualTiming?Gn.timestamp:performance.now()),xy),set:e=>{xy=e,queueMicrotask(mre)}},J5=e=>t=>typeof t=="string"&&t.startsWith(e),e6=J5("--"),pre=J5("var(--"),BS=e=>pre(e)?gre.test(e.split("/*")[0].trim()):!1,gre=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ch={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},um={...ch,transform:e=>zo(0,1,e)},Fg={...ch,default:1},Hf=e=>Math.round(e*1e5)/1e5,VS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yre(e){return e==null}const vre=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zS=(e,t)=>r=>!!(typeof r=="string"&&vre.test(r)&&r.startsWith(e)||t&&!yre(r)&&Object.prototype.hasOwnProperty.call(r,t)),t6=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(VS);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},xre=e=>zo(0,255,e),_w={...ch,transform:e=>Math.round(xre(e))},Yc={test:zS("rgb","red"),parse:t6("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+_w.transform(e)+", "+_w.transform(t)+", "+_w.transform(r)+", "+Hf(um.transform(n))+")"};function bre(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const oN={test:zS("#"),parse:bre,transform:Yc.transform},qm=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),El=qm("deg"),Gi=qm("%"),bt=qm("px"),wre=qm("vh"),jre=qm("vw"),PT={...Gi,parse:e=>Gi.parse(e)/100,transform:e=>Gi.transform(e*100)},Nd={test:zS("hsl","hue"),parse:t6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Gi.transform(Hf(t))+", "+Gi.transform(Hf(r))+", "+Hf(um.transform(n))+")"},nn={test:e=>Yc.test(e)||oN.test(e)||Nd.test(e),parse:e=>Yc.test(e)?Yc.parse(e):Nd.test(e)?Nd.parse(e):oN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Yc.transform(e):Nd.transform(e),getAnimatableNone:e=>{const t=nn.parse(e);return t.alpha=0,nn.transform(t)}},Nre=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Sre(e){return isNaN(e)&&typeof e=="string"&&(e.match(VS)?.length||0)+(e.match(Nre)?.length||0)>0}const r6="number",n6="color",kre="var",Cre="var(",ET="${}",Are=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dm(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(Are,u=>(nn.test(u)?(n.color.push(i),a.push(n6),r.push(nn.parse(u))):u.startsWith(Cre)?(n.var.push(i),a.push(kre),r.push(u)):(n.number.push(i),a.push(r6),r.push(parseFloat(u))),++i,ET)).split(ET);return{values:r,split:l,indexes:n,types:a}}function s6(e){return dm(e).values}function a6(e){const{split:t,types:r}=dm(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===r6?i+=Hf(a[o]):l===n6?i+=nn.transform(a[o]):i+=a[o]}return i}}const Ire=e=>typeof e=="number"?0:nn.test(e)?nn.getAnimatableNone(e):e;function Pre(e){const t=s6(e);return a6(e)(t.map(Ire))}const tc={test:Sre,parse:s6,createTransformer:a6,getAnimatableNone:Pre};function Dw(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Ere({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,u=2*r-l;a=Dw(u,l,e+1/3),i=Dw(u,l,e),o=Dw(u,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function rv(e,t){return r=>r>0?t:e}const Rr=(e,t,r)=>e+(t-e)*r,Ow=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Tre=[oN,Yc,Nd],Mre=e=>Tre.find(t=>t.test(e));function TT(e){const t=Mre(e);if(!t)return!1;let r=t.parse(e);return t===Nd&&(r=Ere(r)),r}const MT=(e,t)=>{const r=TT(e),n=TT(t);if(!r||!n)return rv(e,t);const a={...r};return i=>(a.red=Ow(r.red,n.red,i),a.green=Ow(r.green,n.green,i),a.blue=Ow(r.blue,n.blue,i),a.alpha=Rr(r.alpha,n.alpha,i),Yc.transform(a))},lN=new Set(["none","hidden"]);function _re(e,t){return lN.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Dre(e,t){return r=>Rr(e,t,r)}function US(e){return typeof e=="number"?Dre:typeof e=="string"?BS(e)?rv:nn.test(e)?MT:Lre:Array.isArray(e)?i6:typeof e=="object"?nn.test(e)?MT:Ore:rv}function i6(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>US(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function Ore(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=US(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Rre(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;r[a]=l,n[i]++}return r}const Lre=(e,t)=>{const r=tc.createTransformer(t),n=dm(e),a=dm(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?lN.has(e)&&!a.values.length||lN.has(t)&&!n.values.length?_re(e,t):Wm(i6(Rre(n,a),a.values),r):rv(e,t)};function o6(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Rr(e,t,r):US(e)(e,t)}const Fre=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Pr.update(t,r),stop:()=>ec(t),now:()=>Gn.isProcessing?Gn.timestamp:Os.now()}},l6=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},nv=2e4;function WS(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<nv;)t+=r,n=e.next(t);return t>=nv?1/0:t}function $re(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(WS(n),nv);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Aa(a)}}const Bre=5;function c6(e,t,r){const n=Math.max(t-Bre,0);return V5(r-e(n),t-n)}const Vr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rw=.001;function Vre({duration:e=Vr.duration,bounce:t=Vr.bounce,velocity:r=Vr.velocity,mass:n=Vr.mass}){let a,i,o=1-t;o=zo(Vr.minDamping,Vr.maxDamping,o),e=zo(Vr.minDuration,Vr.maxDuration,Aa(e)),o<1?(a=d=>{const f=d*o,m=f*e,p=f-r,v=cN(d,o),x=Math.exp(-m);return Rw-p/v*x},i=d=>{const m=d*o*e,p=m*r+r,v=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-m),j=cN(Math.pow(d,2),o);return(-a(d)+Rw>0?-1:1)*((p-v)*x)/j}):(a=d=>{const f=Math.exp(-d*e),m=(d-r)*e+1;return-Rw+f*m},i=d=>{const f=Math.exp(-d*e),m=(r-d)*(e*e);return f*m});const l=5/e,u=Ure(a,i,l);if(e=qi(e),isNaN(u))return{stiffness:Vr.stiffness,damping:Vr.damping,duration:e};{const d=Math.pow(u,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const zre=12;function Ure(e,t,r){let n=r;for(let a=1;a<zre;a++)n=n-e(n)/t(n);return n}function cN(e,t){return e*Math.sqrt(1-t*t)}const Wre=["duration","bounce"],Hre=["stiffness","damping","mass"];function _T(e,t){return t.some(r=>e[r]!==void 0)}function qre(e){let t={velocity:Vr.velocity,stiffness:Vr.stiffness,damping:Vr.damping,mass:Vr.mass,isResolvedFromDuration:!1,...e};if(!_T(e,Hre)&&_T(e,Wre))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*zo(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Vr.mass,stiffness:a,damping:i}}else{const r=Vre(e);t={...t,...r,mass:Vr.mass},t.isResolvedFromDuration=!0}return t}function sv(e=Vr.visualDuration,t=Vr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:d,mass:f,duration:m,velocity:p,isResolvedFromDuration:v}=qre({...r,velocity:-Aa(r.velocity||0)}),x=p||0,j=d/(2*Math.sqrt(u*f)),w=o-i,S=Aa(Math.sqrt(u/f)),P=Math.abs(w)<5;n||(n=P?Vr.restSpeed.granular:Vr.restSpeed.default),a||(a=P?Vr.restDelta.granular:Vr.restDelta.default);let k;if(j<1){const I=cN(S,j);k=L=>{const E=Math.exp(-j*S*L);return o-E*((x+j*S*w)/I*Math.sin(I*L)+w*Math.cos(I*L))}}else if(j===1)k=I=>o-Math.exp(-S*I)*(w+(x+S*w)*I);else{const I=S*Math.sqrt(j*j-1);k=L=>{const E=Math.exp(-j*S*L),C=Math.min(I*L,300);return o-E*((x+j*S*w)*Math.sinh(C)+I*w*Math.cosh(C))/I}}const R={calculatedDuration:v&&m||null,next:I=>{const L=k(I);if(v)l.done=I>=m;else{let E=I===0?x:0;j<1&&(E=I===0?qi(x):c6(k,I,L));const C=Math.abs(E)<=n,F=Math.abs(o-L)<=a;l.done=C&&F}return l.value=l.done?o:L,l},toString:()=>{const I=Math.min(WS(R),nv),L=l6(E=>R.next(I*E).value,I,30);return I+"ms "+L},toTransition:()=>{}};return R}sv.applyToOptions=e=>{const t=$re(e,100,sv);return e.ease=t.ease,e.duration=qi(t.duration),e.type="keyframes",e};function uN({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:f}){const m=e[0],p={done:!1,value:m},v=C=>l!==void 0&&C<l||u!==void 0&&C>u,x=C=>l===void 0?u:u===void 0||Math.abs(l-C)<Math.abs(u-C)?l:u;let j=r*t;const w=m+j,S=o===void 0?w:o(w);S!==w&&(j=S-m);const P=C=>-j*Math.exp(-C/n),k=C=>S+P(C),R=C=>{const F=P(C),_=k(C);p.done=Math.abs(F)<=d,p.value=p.done?S:_};let I,L;const E=C=>{v(p.value)&&(I=C,L=sv({keyframes:[p.value,x(p.value)],velocity:c6(k,C,p.value),damping:a,stiffness:i,restDelta:d,restSpeed:f}))};return E(0),{calculatedDuration:null,next:C=>{let F=!1;return!L&&I===void 0&&(F=!0,R(C),E(C)),I!==void 0&&C>=I?L.next(C-I):(!F&&R(C),p)}}}function Gre(e,t,r){const n=[],a=r||Uo.mix||o6,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const u=Array.isArray(t)?t[o]||Ta:t;l=Wm(u,l)}n.push(l)}return n}function Kre(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(OS(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Gre(t,n,a),u=l.length,d=f=>{if(o&&f<e[0])return t[0];let m=0;if(u>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const p=cm(e[m],e[m+1],f);return l[m](p)};return r?f=>d(zo(e[0],e[i-1],f)):d}function Yre(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=cm(0,t,n);e.push(Rr(r,1,a))}}function Zre(e){const t=[0];return Yre(t,e.length-1),t}function Qre(e,t){return e.map(r=>r*t)}function Xre(e,t){return e.map(()=>t||Z5).splice(0,e.length-1)}function qf({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=cre(n)?n.map(IT):IT(n),i={done:!1,value:t[0]},o=Qre(r&&r.length===t.length?r:Zre(t),e),l=Kre(o,t,{ease:Array.isArray(a)?a:Xre(t,a)});return{calculatedDuration:e,next:u=>(i.value=l(u),i.done=u>=e,i)}}const Jre=e=>e!==null;function HS(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(Jre),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const ene={decay:uN,inertia:uN,tween:qf,keyframes:qf,spring:sv};function u6(e){typeof e.type=="string"&&(e.type=ene[e.type])}class qS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const tne=e=>e/100;class GS extends qS{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Os.now()&&this.tick(Os.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;u6(t);const{type:r=qf,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const u=r||qf;u!==qf&&typeof l[0]!="number"&&(this.mixKeyframes=Wm(tne,o6(l[0],l[1])),l=[0,100]);const d=u({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=WS(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:p,repeatDelay:v,type:x,onUpdate:j,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const S=this.currentTime-d*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?S<0:S>a;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let k=this.currentTime,R=n;if(m){const C=Math.min(this.currentTime,a)/l;let F=Math.floor(C),_=C%1;!_&&C>=1&&(_=1),_===1&&F--,F=Math.min(F,m+1),!!(F%2)&&(p==="reverse"?(_=1-_,v&&(_-=v/l)):p==="mirror"&&(R=o)),k=zo(0,1,_)*l}const I=P?{done:!1,value:f[0]}:R.next(k);i&&(I.value=i(I.value));let{done:L}=I;!P&&u!==null&&(L=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return E&&x!==uN&&(I.value=HS(f,this.options,w,this.speed)),j&&j(I.value),E&&this.finish(),I}then(t,r){return this.finished.then(t,r)}get duration(){return Aa(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Aa(t)}get time(){return Aa(this.currentTime)}set time(t){t=qi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Os.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Aa(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Fre,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Os.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function rne(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Zc=e=>e*180/Math.PI,dN=e=>{const t=Zc(Math.atan2(e[1],e[0]));return hN(t)},nne={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:dN,rotateZ:dN,skewX:e=>Zc(Math.atan(e[1])),skewY:e=>Zc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hN=e=>(e=e%360,e<0&&(e+=360),e),DT=dN,OT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),RT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),sne={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:OT,scaleY:RT,scale:e=>(OT(e)+RT(e))/2,rotateX:e=>hN(Zc(Math.atan2(e[6],e[5]))),rotateY:e=>hN(Zc(Math.atan2(-e[2],e[0]))),rotateZ:DT,rotate:DT,skewX:e=>Zc(Math.atan(e[4])),skewY:e=>Zc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fN(e){return e.includes("scale")?1:0}function mN(e,t){if(!e||e==="none")return fN(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=sne,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=nne,a=l}if(!a)return fN(t);const i=n[t],o=a[1].split(",").map(ine);return typeof i=="function"?i(o):o[i]}const ane=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return mN(r,t)};function ine(e){return parseFloat(e.trim())}const uh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dh=new Set(uh),LT=e=>e===ch||e===bt,one=new Set(["x","y","z"]),lne=uh.filter(e=>!one.has(e));function cne(e){const t=[];return lne.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const au={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mN(t,"x"),y:(e,{transform:t})=>mN(t,"y")};au.translateX=au.x;au.translateY=au.y;const iu=new Set;let pN=!1,gN=!1,yN=!1;function d6(){if(gN){const e=Array.from(iu).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=cne(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}gN=!1,pN=!1,iu.forEach(e=>e.complete(yN)),iu.clear()}function h6(){iu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(gN=!0)})}function une(){yN=!0,h6(),d6(),yN=!1}class KS{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(iu.add(this),pN||(pN=!0,Pr.read(h6),Pr.resolveKeyframes(d6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}rne(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),iu.delete(this)}cancel(){this.state==="scheduled"&&(iu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dne=e=>e.startsWith("--");function hne(e,t,r){dne(t)?e.style.setProperty(t,r):e.style[t]=r}const fne=RS(()=>window.ScrollTimeline!==void 0),mne={};function pne(e,t){const r=RS(e);return()=>mne[t]??r()}const f6=pne(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Df=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,FT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Df([0,.65,.55,1]),circOut:Df([.55,0,1,.45]),backIn:Df([.31,.01,.66,-.59]),backOut:Df([.33,1.53,.69,.99])};function m6(e,t){if(e)return typeof e=="function"?f6()?l6(e,t):"ease-out":Q5(e)?Df(e):Array.isArray(e)?e.map(r=>m6(r,t)||FT.easeOut):FT[e]}function gne(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const f={[t]:r};u&&(f.offset=u);const m=m6(l,a);Array.isArray(m)&&(f.easing=m);const p={delay:n,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),e.animate(f,p)}function p6(e){return typeof e=="function"&&"applyToOptions"in e}function yne({type:e,...t}){return p6(e)&&f6()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class vne extends qS{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,OS(typeof t.type!="string");const d=yne(t);this.animation=gne(r,n,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=HS(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):hne(r,n,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Aa(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Aa(t)}get time(){return Aa(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=qi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&fne()?(this.animation.timeline=t,Ta):r(this)}}const g6={anticipate:G5,backInOut:q5,circInOut:Y5};function xne(e){return e in g6}function bne(e){typeof e.ease=="string"&&xne(e.ease)&&(e.ease=g6[e.ease])}const $T=10;class wne extends vne{constructor(t){bne(t),u6(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new GS({...o,autoplay:!1}),u=qi(this.finishedTime??this.time);r.setWithVelocity(l.sample(u-$T).value,l.sample(u).value,$T),l.stop()}}const BT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(tc.test(e)||e==="0")&&!e.startsWith("url("));function jne(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Nne(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=BT(a,t),l=BT(i,t);return!o||!l?!1:jne(e)||(r==="spring"||p6(r))&&n}function vN(e){e.duration=0,e.type="keyframes"}const Sne=new Set(["opacity","clipPath","filter","transform"]),kne=RS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Cne(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return kne()&&r&&Sne.has(r)&&(r!=="transform"||!d)&&!u&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const Ane=40;class Ine extends qS{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Os.now();const p={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:u,motionValue:d,element:f,...m},v=f?.KeyframeResolver||KS;this.keyframeResolver=new v(l,(x,j,w)=>this.onKeyframesResolved(x,j,p,!w),u,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:f}=n;this.resolvedAt=Os.now(),Nne(t,i,o,l)||((Uo.instantAnimations||!u)&&f?.(HS(t,n,r)),t[0]=t[t.length-1],vN(n),n.repeat=0);const p={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Ane?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},v=!d&&Cne(p)?new wne({...p,element:p.motionValue.owner.current}):new GS(p);v.finished.then(()=>this.notifyFinished()).catch(Ta),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),une()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Pne=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ene(e){const t=Pne.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function y6(e,t,r=1){const[n,a]=Ene(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return F5(o)?parseFloat(o):o}return BS(a)?y6(a,t,r+1):a}function YS(e,t){return e?.[t]??e?.default??e}const v6=new Set(["width","height","top","left","right","bottom",...uh]),Tne={test:e=>e==="auto",parse:e=>e},x6=e=>t=>t.test(e),b6=[ch,bt,Gi,El,jre,wre,Tne],VT=e=>b6.find(x6(e));function Mne(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||B5(e):!0}const _ne=new Set(["brightness","contrast","saturate","opacity"]);function Dne(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(VS)||[];if(!n)return e;const a=r.replace(n,"");let i=_ne.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const One=/\b([a-z-]*)\(.*?\)/gu,xN={...tc,getAnimatableNone:e=>{const t=e.match(One);return t?t.map(Dne).join(" "):e}},zT={...ch,transform:Math.round},Rne={rotate:El,rotateX:El,rotateY:El,rotateZ:El,scale:Fg,scaleX:Fg,scaleY:Fg,scaleZ:Fg,skew:El,skewX:El,skewY:El,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:um,originX:PT,originY:PT,originZ:bt},ZS={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...Rne,zIndex:zT,fillOpacity:um,strokeOpacity:um,numOctaves:zT},Lne={...ZS,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:xN,WebkitFilter:xN},w6=e=>Lne[e];function j6(e,t){let r=w6(e);return r!==xN&&(r=tc),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Fne=new Set(["auto","none","0"]);function $ne(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!Fne.has(i)&&dm(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=j6(r,a)}class Bne extends KS{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),BS(d))){const f=y6(d,r.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!v6.has(n)||t.length!==2)return;const[a,i]=t,o=VT(a),l=VT(i);if(o!==l)if(LT(o)&&LT(l))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else au[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Mne(t[a]))&&n.push(a);n.length&&$ne(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=au[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=au[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Vne(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=r?.[e]??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const N6=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function S6(e){return $5(e)&&"offsetHeight"in e}const UT=30,zne=e=>!isNaN(parseFloat(e));class Une{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=Os.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Os.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=zne(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new LS);const n=this.events[t].add(r);return t==="change"?()=>{n(),Pr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Os.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>UT)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,UT);return V5(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hd(e,t){return new Une(e,t)}const{schedule:QS}=X5(queueMicrotask,!1),Qa={x:!1,y:!1};function k6(){return Qa.x||Qa.y}function Wne(e){return e==="x"||e==="y"?Qa[e]?null:(Qa[e]=!0,()=>{Qa[e]=!1}):Qa.x||Qa.y?null:(Qa.x=Qa.y=!0,()=>{Qa.x=Qa.y=!1})}function C6(e,t){const r=Vne(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function WT(e){return!(e.pointerType==="touch"||k6())}function Hne(e,t,r={}){const[n,a,i]=C6(e,r),o=l=>{if(!WT(l))return;const{target:u}=l,d=t(u,l);if(typeof d!="function"||!u)return;const f=m=>{WT(m)&&(d(m),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const A6=(e,t)=>t?e===t?!0:A6(e,t.parentElement):!1,XS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,qne=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gne(e){return qne.has(e.tagName)||e.tabIndex!==-1}const by=new WeakSet;function HT(e){return t=>{t.key==="Enter"&&e(t)}}function Lw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Kne=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=HT(()=>{if(by.has(r))return;Lw(r,"down");const a=HT(()=>{Lw(r,"up")}),i=()=>Lw(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function qT(e){return XS(e)&&!k6()}function Yne(e,t,r={}){const[n,a,i]=C6(e,r),o=l=>{const u=l.currentTarget;if(!qT(l))return;by.add(u);const d=t(u,l),f=(v,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),by.has(u)&&by.delete(u),qT(v)&&typeof d=="function"&&d(v,{success:x})},m=v=>{f(v,u===window||u===document||r.useGlobalTarget||A6(u,v.target))},p=v=>{f(v,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",p,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),S6(l)&&(l.addEventListener("focus",d=>Kne(d,a)),!Gne(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function I6(e){return $5(e)&&"ownerSVGElement"in e}function Zne(e){return I6(e)&&e.tagName==="svg"}const ss=e=>!!(e&&e.getVelocity),Qne=[...b6,nn,tc],Xne=e=>Qne.find(x6(e)),JS=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function GT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Jne(...e){return t=>{let r=!1;const n=e.map(a=>{const i=GT(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():GT(e[a],null)}}}}function ese(...e){return g.useCallback(Jne(...e),e)}class tse extends g.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=S6(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rse({children:e,isPresent:t,anchorX:r,root:n}){const a=g.useId(),i=g.useRef(null),o=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=g.useContext(JS),u=ese(i,e?.ref);return g.useInsertionEffect(()=>{const{width:d,height:f,top:m,left:p,right:v}=o.current;if(t||!i.current||!d||!f)return;const x=r==="left"?`left: ${p}`:`right: ${v}`;i.current.dataset.motionPopId=a;const j=document.createElement("style");l&&(j.nonce=l);const w=n??document.head;return w.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.contains(j)&&w.removeChild(j)}},[t]),s.jsx(tse,{isPresent:t,childRef:i,sizeRef:o,children:g.cloneElement(e,{ref:u})})}const nse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:u})=>{const d=TS(sse),f=g.useId();let m=!0,p=g.useMemo(()=>(m=!1,{id:f,initial:t,isPresent:r,custom:a,onExitComplete:v=>{d.set(v,!0);for(const x of d.values())if(!x)return;n&&n()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[r,d,n]);return i&&m&&(p={...p}),g.useMemo(()=>{d.forEach((v,x)=>d.set(x,!1))},[r]),g.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(rse,{isPresent:r,anchorX:l,root:u,children:e})),s.jsx(Sx.Provider,{value:p,children:e})};function sse(){return new Map}function P6(e=!0){const t=g.useContext(Sx);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=g.useId();g.useEffect(()=>{if(e)return a(i)},[e]);const o=g.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const $g=e=>e.key||"";function KT(e){const t=[];return g.Children.forEach(e,r=>{g.isValidElement(r)&&t.push(r)}),t}const ase=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:u})=>{const[d,f]=P6(o),m=g.useMemo(()=>KT(e),[e]),p=o&&!d?[]:m.map($g),v=g.useRef(!0),x=g.useRef(m),j=TS(()=>new Map),[w,S]=g.useState(m),[P,k]=g.useState(m);L5(()=>{v.current=!1,x.current=m;for(let L=0;L<P.length;L++){const E=$g(P[L]);p.includes(E)?j.delete(E):j.get(E)!==!0&&j.set(E,!1)}},[P,p.length,p.join("-")]);const R=[];if(m!==w){let L=[...m];for(let E=0;E<P.length;E++){const C=P[E],F=$g(C);p.includes(F)||(L.splice(E,0,C),R.push(C))}return i==="wait"&&R.length&&(L=R),k(KT(L)),S(m),null}const{forceRender:I}=g.useContext(ES);return s.jsx(s.Fragment,{children:P.map(L=>{const E=$g(L),C=o&&!d?!1:m===P||p.includes(E),F=()=>{if(j.has(E))j.set(E,!0);else return;let _=!0;j.forEach(T=>{T||(_=!1)}),_&&(I?.(),k(x.current),o&&f?.(),n&&n())};return s.jsx(nse,{isPresent:C,initial:!v.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:u,onExitComplete:C?void 0:F,anchorX:l,children:L},E)})})},E6=g.createContext({strict:!1}),YT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qd={};for(const e in YT)qd[e]={isEnabled:t=>YT[e].some(r=>!!t[r])};function ise(e){for(const t in e)qd[t]={...qd[t],...e[t]}}const ose=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function av(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ose.has(e)}let T6=e=>!av(e);function lse(e){typeof e=="function"&&(T6=t=>t.startsWith("on")?!av(t):e(t))}try{lse(require("@emotion/is-prop-valid").default)}catch{}function cse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(T6(a)||r===!0&&av(a)||!t&&!av(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const kx=g.createContext({});function Cx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function hm(e){return typeof e=="string"||Array.isArray(e)}const ek=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tk=["initial",...ek];function Ax(e){return Cx(e.animate)||tk.some(t=>hm(e[t]))}function M6(e){return!!(Ax(e)||e.variants)}function use(e,t){if(Ax(e)){const{initial:r,animate:n}=e;return{initial:r===!1||hm(r)?r:void 0,animate:hm(n)?n:void 0}}return e.inherit!==!1?t:{}}function dse(e){const{initial:t,animate:r}=use(e,g.useContext(kx));return g.useMemo(()=>({initial:t,animate:r}),[ZT(t),ZT(r)])}function ZT(e){return Array.isArray(e)?e.join(" "):e}function QT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const pf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(bt.test(e))e=parseFloat(e);else return e;const r=QT(e,t.target.x),n=QT(e,t.target.y);return`${r}% ${n}%`}},hse={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=tc.parse(e);if(a.length>5)return n;const i=tc.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,u=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=u;const d=Rr(l,u,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}},bN={borderRadius:{...pf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pf,borderTopRightRadius:pf,borderBottomLeftRadius:pf,borderBottomRightRadius:pf,boxShadow:hse};function _6(e,{layout:t,layoutId:r}){return dh.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!bN[e]||e==="opacity")}const fse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mse=uh.length;function pse(e,t,r){let n="",a=!0;for(let i=0;i<mse;i++){const o=uh[i],l=e[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||r){const d=N6(l,ZS[o]);if(!u){a=!1;const f=fse[o]||o;n+=`${f}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function rk(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const u in t){const d=t[u];if(dh.has(u)){o=!0;continue}else if(e6(u)){a[u]=d;continue}else{const f=N6(d,ZS[u]);u.startsWith("origin")?(l=!0,i[u]=f):n[u]=f}}if(t.transform||(o||r?n.transform=pse(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=i;n.transformOrigin=`${u} ${d} ${f}`}}const nk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function D6(e,t,r){for(const n in t)!ss(t[n])&&!_6(n,r)&&(e[n]=t[n])}function gse({transformTemplate:e},t){return g.useMemo(()=>{const r=nk();return rk(r,t,e),Object.assign({},r.vars,r.style)},[t])}function yse(e,t){const r=e.style||{},n={};return D6(n,r,e),Object.assign(n,gse(e,t)),n}function vse(e,t){const r={},n=yse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const xse={offset:"stroke-dashoffset",array:"stroke-dasharray"},bse={offset:"strokeDashoffset",array:"strokeDasharray"};function wse(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?xse:bse;e[i.offset]=bt.transform(-n);const o=bt.transform(t),l=bt.transform(r);e[i.array]=`${o} ${l}`}function O6(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},u,d,f){if(rk(e,l,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p}=e;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=f?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),a!==void 0&&wse(m,a,i,o,!1)}const R6=()=>({...nk(),attrs:{}}),L6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jse(e,t,r,n){const a=g.useMemo(()=>{const i=R6();return O6(i,t,L6(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};D6(i,e.style,e),a.style={...i,...a.style}}return a}const Nse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sk(e){return typeof e!="string"||e.includes("-")?!1:!!(Nse.indexOf(e)>-1||/[A-Z]/u.test(e))}function Sse(e,t,r,{latestValues:n},a,i=!1){const l=(sk(e)?jse:vse)(t,n,a,e),u=cse(t,typeof e=="string",i),d=e!==g.Fragment?{...u,...l,ref:r}:{},{children:f}=t,m=g.useMemo(()=>ss(f)?f.get():f,[f]);return g.createElement(e,{...d,children:m})}function XT(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function ak(e,t,r,n){if(typeof t=="function"){const[a,i]=XT(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=XT(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function wy(e){return ss(e)?e.get():e}function kse({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Cse(r,n,a,e),renderState:t()}}function Cse(e,t,r,n){const a={},i=n(e,{});for(const p in i)a[p]=wy(i[p]);let{initial:o,animate:l}=e;const u=Ax(e),d=M6(e);t&&d&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!Cx(m)){const p=Array.isArray(m)?m:[m];for(let v=0;v<p.length;v++){const x=ak(e,p[v]);if(x){const{transitionEnd:j,transition:w,...S}=x;for(const P in S){let k=S[P];if(Array.isArray(k)){const R=f?k.length-1:0;k=k[R]}k!==null&&(a[P]=k)}for(const P in j)a[P]=j[P]}}}return a}const F6=e=>(t,r)=>{const n=g.useContext(kx),a=g.useContext(Sx),i=()=>kse(e,t,n,a);return r?i():TS(i)};function ik(e,t,r){const{style:n}=e,a={};for(const i in n)(ss(n[i])||t.style&&ss(t.style[i])||_6(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=n[i]);return a}const Ase=F6({scrapeMotionValuesFromProps:ik,createRenderState:nk});function $6(e,t,r){const n=ik(e,t,r);for(const a in e)if(ss(e[a])||ss(t[a])){const i=uh.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const Ise=F6({scrapeMotionValuesFromProps:$6,createRenderState:R6}),Pse=Symbol.for("motionComponentSymbol");function Sd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ese(e,t,r){return g.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Sd(r)&&(r.current=n))},[t])}const ok=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Tse="framerAppearId",B6="data-"+ok(Tse),V6=g.createContext({});function Mse(e,t,r,n,a){const{visualElement:i}=g.useContext(kx),o=g.useContext(E6),l=g.useContext(Sx),u=g.useContext(JS).reducedMotion,d=g.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,m=g.useContext(V6);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&_se(d.current,r,a,m);const p=g.useRef(!1);g.useInsertionEffect(()=>{f&&p.current&&f.update(r,l)});const v=r[B6],x=g.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return L5(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),g.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),x.current=!1),f.enteringChildren=void 0)}),f}function _se(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:z6(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Sd(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:u,layoutRoot:d})}function z6(e){if(e)return e.options.allowProjection!==!1?e.projection:z6(e.parent)}function Fw(e,{forwardMotionProps:t=!1}={},r,n){r&&ise(r);const a=sk(e)?Ise:Ase;function i(l,u){let d;const f={...g.useContext(JS),...l,layoutId:Dse(l)},{isStatic:m}=f,p=dse(l),v=a(l,m);if(!m&&MS){Ose();const x=Rse(f);d=x.MeasureLayout,p.visualElement=Mse(e,v,f,n,x.ProjectionNode)}return s.jsxs(kx.Provider,{value:p,children:[d&&p.visualElement?s.jsx(d,{visualElement:p.visualElement,...f}):null,Sse(e,l,Ese(v,p.visualElement,u),v,m,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=g.forwardRef(i);return o[Pse]=e,o}function Dse({layoutId:e}){const t=g.useContext(ES).id;return t&&e!==void 0?t+"-"+e:e}function Ose(e,t){g.useContext(E6).strict}function Rse(e){const{drag:t,layout:r}=qd;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Lse(e,t){if(typeof Proxy>"u")return Fw;const r=new Map,n=(i,o)=>Fw(i,o,e,t),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,Fw(o,void 0,e,t)),r.get(o))})}function U6({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Fse({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $se(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function $w(e){return e===void 0||e===1}function wN({scale:e,scaleX:t,scaleY:r}){return!$w(e)||!$w(t)||!$w(r)}function $c(e){return wN(e)||W6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function W6(e){return JT(e.x)||JT(e.y)}function JT(e){return e&&e!=="0%"}function iv(e,t,r){const n=e-r,a=t*n;return r+a}function eM(e,t,r,n,a){return a!==void 0&&(e=iv(e,a,n)),iv(e,r,n)+t}function jN(e,t=0,r=1,n,a){e.min=eM(e.min,t,r,n,a),e.max=eM(e.max,t,r,n,a)}function H6(e,{x:t,y:r}){jN(e.x,t.translate,t.scale,t.originPoint),jN(e.y,r.translate,r.scale,r.originPoint)}const tM=.999999999999,rM=1.0000000000001;function Bse(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Cd(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,H6(e,o)),n&&$c(i.latestValues)&&Cd(e,i.latestValues))}t.x<rM&&t.x>tM&&(t.x=1),t.y<rM&&t.y>tM&&(t.y=1)}function kd(e,t){e.min=e.min+t,e.max=e.max+t}function nM(e,t,r,n,a=.5){const i=Rr(e.min,e.max,a);jN(e,t,r,i,n)}function Cd(e,t){nM(e.x,t.x,t.scaleX,t.scale,t.originX),nM(e.y,t.y,t.scaleY,t.scale,t.originY)}function q6(e,t){return U6($se(e.getBoundingClientRect(),t))}function Vse(e,t,r){const n=q6(e,r),{scroll:a}=t;return a&&(kd(n.x,a.offset.x),kd(n.y,a.offset.y)),n}const sM=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ad=()=>({x:sM(),y:sM()}),aM=()=>({min:0,max:0}),pn=()=>({x:aM(),y:aM()}),NN={current:null},G6={current:!1};function zse(){if(G6.current=!0,!!MS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>NN.current=e.matches;e.addEventListener("change",t),t()}else NN.current=!1}const Use=new WeakMap;function Wse(e,t,r){for(const n in t){const a=t[n],i=r[n];if(ss(a))e.addValue(n,a);else if(ss(i))e.addValue(n,Hd(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Hd(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const iM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Hse{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Os.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Pr.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Ax(r),this.isVariantNode=M6(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in m){const v=m[p];u[p]!==void 0&&ss(v)&&v.set(u[p])}}mount(t){this.current=t,Use.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),G6.current||zse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:NN.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ec(this.notifyUpdate),ec(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=dh.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Pr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in qd){const r=qd[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<iM.length;n++){const a=iM[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Wse(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Hd(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(F5(n)||B5(n))?n=parseFloat(n):!Xne(n)&&tc.test(r)&&(n=j6(t,r)),this.setBaseTarget(t,ss(n)?n.get():n)),ss(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=ak(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ss(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new LS),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){QS.render(this.render)}}class K6 extends Hse{constructor(){super(...arguments),this.KeyframeResolver=Bne}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ss(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Y6(e,{style:t,vars:r},n,a){const i=e.style;let o;for(o in t)i[o]=t[o];a?.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function qse(e){return window.getComputedStyle(e)}class Gse extends K6{constructor(){super(...arguments),this.type="html",this.renderInstance=Y6}readValueFromInstance(t,r){if(dh.has(r))return this.projection?.isProjecting?fN(r):ane(t,r);{const n=qse(t),a=(e6(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return q6(t,r)}build(t,r,n){rk(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return ik(t,r,n)}}const Z6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kse(e,t,r,n){Y6(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Z6.has(a)?a:ok(a),t.attrs[a])}class Yse extends K6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(dh.has(r)){const n=w6(r);return n&&n.default||0}return r=Z6.has(r)?r:ok(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return $6(t,r,n)}build(t,r,n){O6(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){Kse(t,r,n,a)}mount(t){this.isSVGTag=L6(t.tagName),super.mount(t)}}const Zse=(e,t)=>sk(e)?new Yse(t):new Gse(t,{allowProjection:e!==g.Fragment});function $d(e,t,r){const n=e.getProps();return ak(n,t,r!==void 0?r:n.custom,e)}const SN=e=>Array.isArray(e);function Qse(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Hd(r))}function Xse(e){return SN(e)?e[e.length-1]||0:e}function Jse(e,t){const r=$d(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=Xse(i[o]);Qse(e,o,l)}}function eae(e){return!!(ss(e)&&e.add)}function kN(e,t){const r=e.getValue("willChange");if(eae(r))return r.add(t);if(!r&&Uo.WillChange){const n=new Uo.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Q6(e){return e.props[B6]}const tae=e=>e!==null;function rae(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(tae),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const nae={type:"spring",stiffness:500,damping:25,restSpeed:10},sae=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),aae={type:"keyframes",duration:.8},iae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oae=(e,{keyframes:t})=>t.length>2?aae:dh.has(e)?e.startsWith("scale")?sae(t[1]):nae:iae;function lae({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const lk=(e,t,r,n={},a,i)=>o=>{const l=YS(n,e)||{},u=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-qi(u);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};lae(l)||Object.assign(f,oae(e,f)),f.duration&&(f.duration=qi(f.duration)),f.repeatDelay&&(f.repeatDelay=qi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(vN(f),f.delay===0&&(m=!0)),(Uo.instantAnimations||Uo.skipAnimations)&&(m=!0,vN(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!i&&t.get()!==void 0){const p=rae(f.keyframes,l);if(p!==void 0){Pr.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new GS(f):new Ine(f)};function cae({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function X6(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const m=e.getValue(f,e.latestValues[f]??null),p=l[f];if(p===void 0||d&&cae(d,f))continue;const v={delay:r,...YS(i||{},f)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===x&&!v.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const S=Q6(e);if(S){const P=window.MotionHandoffAnimation(S,f,Pr);P!==null&&(v.startTime=P,j=!0)}}kN(e,f),m.start(lk(f,m,p,e.shouldReduceMotion&&v6.has(f)?{type:!1}:v,e,j));const w=m.animation;w&&u.push(w)}return o&&Promise.all(u).then(()=>{Pr.update(()=>{o&&Jse(e,o)})}),u}function J6(e,t,r,n=0,a=1){const i=Array.from(e).sort((d,f)=>d.sortNodePosition(f)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function CN(e,t,r={}){const n=$d(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(X6(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=a;return uae(e,t,u,d,f,m,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function uae(e,t,r=0,n=0,a=0,i=1,o){const l=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),l.push(CN(u,t,{...o,delay:r+(typeof n=="function"?0:n)+J6(e.variantChildren,u,n,a,i)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(l)}function dae(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>CN(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=CN(e,t,r);else{const a=typeof t=="function"?$d(e,t,r.custom):t;n=Promise.all(X6(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function e9(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const hae=tk.length;function t9(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?t9(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<hae;r++){const n=tk[r],a=e.props[n];(hm(a)||a===!1)&&(t[n]=a)}return t}const fae=[...ek].reverse(),mae=ek.length;function pae(e){return t=>Promise.all(t.map(({animation:r,options:n})=>dae(e,r,n)))}function gae(e){let t=pae(e),r=oM(),n=!0;const a=u=>(d,f)=>{const m=$d(e,f,u==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:p,transitionEnd:v,...x}=m;d={...d,...x,...v}}return d};function i(u){t=u(e)}function o(u){const{props:d}=e,f=t9(e.parent)||{},m=[],p=new Set;let v={},x=1/0;for(let w=0;w<mae;w++){const S=fae[w],P=r[S],k=d[S]!==void 0?d[S]:f[S],R=hm(k),I=S===u?P.isActive:null;I===!1&&(x=w);let L=k===f[S]&&k!==d[S]&&R;if(L&&n&&e.manuallyAnimateOnMount&&(L=!1),P.protectedKeys={...v},!P.isActive&&I===null||!k&&!P.prevProp||Cx(k)||typeof k=="boolean")continue;const E=yae(P.prevProp,k);let C=E||S===u&&P.isActive&&!L&&R||w>x&&R,F=!1;const _=Array.isArray(k)?k:[k];let T=_.reduce(a(S),{});I===!1&&(T={});const{prevResolvedValues:M={}}=P,$={...M,...T},J=X=>{C=!0,p.has(X)&&(F=!0,p.delete(X)),P.needsAnimating[X]=!0;const B=e.getValue(X);B&&(B.liveStyle=!1)};for(const X in $){const B=T[X],Z=M[X];if(v.hasOwnProperty(X))continue;let ne=!1;SN(B)&&SN(Z)?ne=!e9(B,Z):ne=B!==Z,ne?B!=null?J(X):p.add(X):B!==void 0&&p.has(X)?J(X):P.protectedKeys[X]=!0}P.prevProp=k,P.prevResolvedValues=T,P.isActive&&(v={...v,...T}),n&&e.blockInitialAnimation&&(C=!1);const q=L&&E;C&&(!q||F)&&m.push(..._.map(X=>{const B={type:S};if(typeof X=="string"&&n&&!q&&e.manuallyAnimateOnMount&&e.parent){const{parent:Z}=e,ne=$d(Z,X);if(Z.enteringChildren&&ne){const{delayChildren:W}=ne.transition||{};B.delay=J6(Z.enteringChildren,e,W)}}return{animation:X,options:B}}))}if(p.size){const w={};if(typeof d.initial!="boolean"){const S=$d(e,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(w.transition=S.transition)}p.forEach(S=>{const P=e.getBaseTarget(S),k=e.getValue(S);k&&(k.liveStyle=!0),w[S]=P??null}),m.push({animation:w})}let j=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(j=!1),n=!1,j?t(m):Promise.resolve()}function l(u,d){if(r[u].isActive===d)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(u,d)),r[u].isActive=d;const f=o(u);for(const m in r)r[m].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=oM()}}}function yae(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!e9(t,e):!1}function Oc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oM(){return{animate:Oc(!0),whileInView:Oc(),whileHover:Oc(),whileTap:Oc(),whileDrag:Oc(),whileFocus:Oc(),exit:Oc()}}class cc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class vae extends cc{constructor(t){super(t),t.animationState||(t.animationState=gae(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Cx(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let xae=0;class bae extends cc{constructor(){super(...arguments),this.id=xae++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const wae={animation:{Feature:vae},exit:{Feature:bae}};function fm(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Gm(e){return{point:{x:e.pageX,y:e.pageY}}}const jae=e=>t=>XS(t)&&e(t,Gm(t));function Gf(e,t,r,n){return fm(e,t,jae(r),n)}const r9=1e-4,Nae=1-r9,Sae=1+r9,n9=.01,kae=0-n9,Cae=0+n9;function gs(e){return e.max-e.min}function Aae(e,t,r){return Math.abs(e-t)<=r}function lM(e,t,r,n=.5){e.origin=n,e.originPoint=Rr(t.min,t.max,e.origin),e.scale=gs(r)/gs(t),e.translate=Rr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Nae&&e.scale<=Sae||isNaN(e.scale))&&(e.scale=1),(e.translate>=kae&&e.translate<=Cae||isNaN(e.translate))&&(e.translate=0)}function Kf(e,t,r,n){lM(e.x,t.x,r.x,n?n.originX:void 0),lM(e.y,t.y,r.y,n?n.originY:void 0)}function cM(e,t,r){e.min=r.min+t.min,e.max=e.min+gs(t)}function Iae(e,t,r){cM(e.x,t.x,r.x),cM(e.y,t.y,r.y)}function uM(e,t,r){e.min=t.min-r.min,e.max=e.min+gs(t)}function ov(e,t,r){uM(e.x,t.x,r.x),uM(e.y,t.y,r.y)}function Sa(e){return[e("x"),e("y")]}const s9=({current:e})=>e?e.ownerDocument.defaultView:null,dM=(e,t)=>Math.abs(e-t);function Pae(e,t){const r=dM(e.x,t.x),n=dM(e.y,t.y);return Math.sqrt(r**2+n**2)}class a9{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Vw(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=Pae(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:j}=p,{timestamp:w}=Gn;this.history.push({...j,timestamp:w});const{onStart:S,onMove:P}=this.handlers;v||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Bw(v,this.transformPagePoint),Pr.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:x,onSessionEnd:j,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Vw(p.type==="pointercancel"?this.lastMoveEventInfo:Bw(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,S),j&&j(p,S)},!XS(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=Gm(t),u=Bw(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=Gn;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=r;m&&m(t,Vw(u,this.history)),this.removeListeners=Wm(Gf(this.contextWindow,"pointermove",this.handlePointerMove),Gf(this.contextWindow,"pointerup",this.handlePointerUp),Gf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ec(this.updatePoint)}}function Bw(e,t){return t?{point:t(e.point)}:e}function hM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vw({point:e},t){return{point:e,delta:hM(e,i9(t)),offset:hM(e,Eae(t)),velocity:Tae(t,.1)}}function Eae(e){return e[0]}function i9(e){return e[e.length-1]}function Tae(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=i9(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>qi(t)));)r--;if(!n)return{x:0,y:0};const i=Aa(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Mae(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Rr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Rr(r,e,n.max):Math.min(e,r)),e}function fM(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function _ae(e,{top:t,left:r,bottom:n,right:a}){return{x:fM(e.x,r,a),y:fM(e.y,t,n)}}function mM(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Dae(e,t){return{x:mM(e.x,t.x),y:mM(e.y,t.y)}}function Oae(e,t){let r=.5;const n=gs(e),a=gs(t);return a>n?r=cm(t.min,t.max-n,e.min):n>a&&(r=cm(e.min,e.max-a,t.min)),zo(0,1,r)}function Rae(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const AN=.35;function Lae(e=AN){return e===!1?e=0:e===!0&&(e=AN),{x:pM(e,"left","right"),y:pM(e,"top","bottom")}}function pM(e,t,r){return{min:gM(e,t),max:gM(e,r)}}function gM(e,t){return typeof e=="number"?e:e[t]||0}const Fae=new WeakMap;class $ae{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Gm(m).point)},o=(m,p)=>{const{drag:v,dragPropagation:x,onDragStart:j}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Wne(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sa(S=>{let P=this.getAxisMotionValue(S).get()||0;if(Gi.test(P)){const{projection:k}=this.visualElement;if(k&&k.layout){const R=k.layout.layoutBox[S];R&&(P=gs(R)*(parseFloat(P)/100))}}this.originPoint[S]=P}),j&&Pr.postRender(()=>j(m,p)),kN(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:j,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=p;if(x&&this.currentDirection===null){this.currentDirection=Bae(S),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),w&&w(m,p)},u=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Sa(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new a9(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:s9(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Pr.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Bg(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Mae(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Sd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=_ae(n.layoutBox,t):this.constraints=!1,this.elastic=Lae(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Sa(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Rae(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Sd(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Vse(n,a.root,this.visualElement.getTransformPagePoint());let o=Dae(a.layout.layoutBox,i);if(r){const l=r(Fse(o));this.hasMutatedConstraints=!!l,l&&(o=U6(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Sa(f=>{if(!Bg(f,r,this.currentDirection))return;let m=u&&u[f]||{};o&&(m={min:0,max:0});const p=a?200:1e6,v=a?40:1e7,x={type:"inertia",velocity:n?t[f]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(f,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return kN(this.visualElement,t),n.start(lk(t,n,0,r,this.visualElement,!1))}stopAnimation(){Sa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Sa(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Sa(r=>{const{drag:n}=this.getProps();if(!Bg(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-Rr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Sd(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Sa(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();a[o]=Oae({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Sa(o=>{if(!Bg(o,t,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Rr(u,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;Fae.set(this.visualElement,this);const t=this.visualElement.current,r=Gf(t,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Sd(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pr.read(n);const o=fm(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Sa(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=u[f].translate,m.set(m.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=AN,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Bg(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Bae(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Vae extends cc{constructor(t){super(t),this.removeGroupControls=Ta,this.removeListeners=Ta,this.controls=new $ae(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ta}unmount(){this.removeGroupControls(),this.removeListeners()}}const yM=e=>(t,r)=>{e&&Pr.postRender(()=>e(t,r))};class zae extends cc{constructor(){super(...arguments),this.removePointerDownListener=Ta}onPointerDown(t){this.session=new a9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:s9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:yM(t),onStart:yM(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Pr.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Gf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let zw=!1;class Uae extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),zw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),jy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,zw=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Pr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),QS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;zw=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function o9(e){const[t,r]=P6(),n=g.useContext(ES);return s.jsx(Uae,{...e,layoutGroup:n,switchLayoutGroup:g.useContext(V6),isPresent:t,safeToRemove:r})}function Wae(e,t,r){const n=ss(e)?e:Hd(e);return n.start(lk("",n,t,r)),n.animation}const Hae=(e,t)=>e.depth-t.depth;class qae{constructor(){this.children=[],this.isDirty=!1}add(t){_S(this.children,t),this.isDirty=!0}remove(t){DS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Hae),this.isDirty=!1,this.children.forEach(t)}}function Gae(e,t){const r=Os.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(ec(n),e(i-t))};return Pr.setup(n,!0),()=>ec(n)}const l9=["TopLeft","TopRight","BottomLeft","BottomRight"],Kae=l9.length,vM=e=>typeof e=="string"?parseFloat(e):e,xM=e=>typeof e=="number"||bt.test(e);function Yae(e,t,r,n,a,i){a?(e.opacity=Rr(0,r.opacity??1,Zae(n)),e.opacityExit=Rr(t.opacity??1,0,Qae(n))):i&&(e.opacity=Rr(t.opacity??1,r.opacity??1,n));for(let o=0;o<Kae;o++){const l=`border${l9[o]}Radius`;let u=bM(t,l),d=bM(r,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||xM(u)===xM(d)?(e[l]=Math.max(Rr(vM(u),vM(d),n),0),(Gi.test(d)||Gi.test(u))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=Rr(t.rotate||0,r.rotate||0,n))}function bM(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Zae=c9(0,.5,K5),Qae=c9(.5,.95,Ta);function c9(e,t,r){return n=>n<e?0:n>t?1:r(cm(e,t,n))}function wM(e,t){e.min=t.min,e.max=t.max}function Za(e,t){wM(e.x,t.x),wM(e.y,t.y)}function jM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function NM(e,t,r,n,a){return e-=t,e=iv(e,1/r,n),a!==void 0&&(e=iv(e,1/a,n)),e}function Xae(e,t=0,r=1,n=.5,a,i=e,o=e){if(Gi.test(t)&&(t=parseFloat(t),t=Rr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Rr(i.min,i.max,n);e===i&&(l-=t),e.min=NM(e.min,t,r,l,a),e.max=NM(e.max,t,r,l,a)}function SM(e,t,[r,n,a],i,o){Xae(e,t[r],t[n],t[a],t.scale,i,o)}const Jae=["x","scaleX","originX"],eie=["y","scaleY","originY"];function kM(e,t,r,n){SM(e.x,t,Jae,r?r.x:void 0,n?n.x:void 0),SM(e.y,t,eie,r?r.y:void 0,n?n.y:void 0)}function CM(e){return e.translate===0&&e.scale===1}function u9(e){return CM(e.x)&&CM(e.y)}function AM(e,t){return e.min===t.min&&e.max===t.max}function tie(e,t){return AM(e.x,t.x)&&AM(e.y,t.y)}function IM(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function d9(e,t){return IM(e.x,t.x)&&IM(e.y,t.y)}function PM(e){return gs(e.x)/gs(e.y)}function EM(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rie{constructor(){this.members=[]}add(t){_S(this.members,t),t.scheduleRender()}remove(t){if(DS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nie(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=r?.z||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:p,skewX:v,skewY:x}=r;d&&(n=`perspective(${d}px) ${n}`),f&&(n+=`rotate(${f}deg) `),m&&(n+=`rotateX(${m}deg) `),p&&(n+=`rotateY(${p}deg) `),v&&(n+=`skewX(${v}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(n+=`scale(${l}, ${u})`),n||"none"}const Uw=["","X","Y","Z"],sie=1e3;let aie=0;function Ww(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function h9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Q6(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Pr,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&h9(n)}function f9({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t?.()){this.id=aie++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lie),this.nodes.forEach(hie),this.nodes.forEach(fie),this.nodes.forEach(cie)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new qae)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new LS),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=I6(o)&&!Zne(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let f,m=0;const p=()=>this.root.updateBlockedByResize=!1;Pr.read(()=>{m=window.innerWidth}),e(o,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,f&&f(),f=Gae(p,250),jy.hasAnimatedSinceResize&&(jy.hasAnimatedSinceResize=!1,this.nodes.forEach(_M)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||vie,{onLayoutAnimationStart:j,onLayoutAnimationComplete:w}=d.getProps(),S=!this.targetLayout||!d9(this.targetLayout,v),P=!m&&p;if(this.options.layoutRoot||this.resumeFrom||P||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...YS(x,"layout"),onPlay:j,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(f,P)}else m||_M(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ec(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&h9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(MM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(die),this.nodes.forEach(iie),this.nodes.forEach(oie)):this.nodes.forEach(MM),this.clearAllSnapshots();const l=Os.now();Gn.delta=zo(0,1e3/60,l-Gn.timestamp),Gn.timestamp=l,Gn.isProcessing=!0,Mw.update.process(Gn),Mw.preRender.process(Gn),Mw.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,QS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uie),this.sharedNodes.forEach(pie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gs(this.snapshot.measuredBox.x)&&!gs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!u9(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||$c(this.latestValues)||f)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),xie(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return pn();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(bie))){const{scroll:d}=this.root;d&&(kd(l.x,d.offset.x),kd(l.y,d.offset.y))}return l}removeElementScroll(o){const l=pn();if(Za(l,o),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Za(l,o),kd(l.x,f.offset.x),kd(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const u=pn();Za(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Cd(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),$c(f.latestValues)&&Cd(u,f.latestValues)}return $c(this.latestValues)&&Cd(u,this.latestValues),u}removeTransform(o){const l=pn();Za(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!$c(d.latestValues))continue;wN(d.latestValues)&&d.updateSnapshot();const f=pn(),m=d.measurePageBox();Za(f,m),kM(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return $c(this.latestValues)&&kM(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=Gn.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pn(),this.targetWithTransforms=pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Iae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Za(this.target,this.layout.layoutBox),H6(this.target,this.targetDelta)):Za(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||wN(this.parent.latestValues)||W6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),ov(this.relativeTargetOrigin,l,u),Za(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Za(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;Bse(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=pn());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jM(this.prevProjectionDelta.x,this.projectionDelta.x),jM(this.prevProjectionDelta.y,this.projectionDelta.y)),Kf(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!EM(this.projectionDelta.x,this.prevProjectionDelta.x)||!EM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ad(),this.projectionDelta=Ad(),this.projectionDeltaWithTransform=Ad()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},m=Ad();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=pn(),v=u?u.source:void 0,x=this.layout?this.layout.source:void 0,j=v!==x,w=this.getStack(),S=!w||w.members.length<=1,P=!!(j&&!S&&this.options.crossfade===!0&&!this.path.some(yie));this.animationProgress=0;let k;this.mixTargetDelta=R=>{const I=R/1e3;DM(m.x,o.x,I),DM(m.y,o.y,I),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ov(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gie(this.relativeTarget,this.relativeTargetOrigin,p,I),k&&tie(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=pn()),Za(k,this.relativeTarget)),j&&(this.animationValues=f,Yae(f,d,this.latestValues,I,P,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ec(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pr.update(()=>{jy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hd(0)),this.currentAnimation=Wae(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&m9(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||pn();const m=gs(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+m;const p=gs(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}Za(l,u),Cd(l,f),Kf(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new rie),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&Ww("z",o,d,this.animationValues);for(let f=0;f<Uw.length;f++)Ww(`rotate${Uw[f]}`,o,d,this.animationValues),Ww(`skew${Uw[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=wy(l?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=wy(l?.pointerEvents)||""),this.hasProjected&&!$c(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=nie(this.projectionDeltaWithTransform,this.treeScale,f);u&&(m=u(f,m)),o.transform=m;const{x:p,y:v}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in bN){if(f[x]===void 0)continue;const{correct:j,applyTo:w,isCSSVariable:S}=bN[x],P=m==="none"?f[x]:j(f[x],d);if(w){const k=w.length;for(let R=0;R<k;R++)o[w[R]]=P}else S?this.options.visualElement.renderState.vars[x]=P:o[x]=P}this.options.layoutId&&(o.pointerEvents=d===this?wy(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(TM),this.root.sharedNodes.clear()}}}function iie(e){e.updateLayout()}function oie(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?Sa(f=>{const m=i?t.measuredBox[f]:t.layoutBox[f],p=gs(m);m.min=r[f].min,m.max=m.min+p}):m9(a,t.layoutBox,r)&&Sa(f=>{const m=i?t.measuredBox[f]:t.layoutBox[f],p=gs(r[f]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=Ad();Kf(o,r,t.layoutBox);const l=Ad();i?Kf(l,e.applyTransform(n,!0),t.measuredBox):Kf(l,r,t.layoutBox);const u=!u9(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const v=pn();ov(v,t.layoutBox,m.layoutBox);const x=pn();ov(x,r,p.layoutBox),d9(v,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function lie(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cie(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uie(e){e.clearSnapshot()}function TM(e){e.clearMeasurements()}function MM(e){e.isLayoutDirty=!1}function die(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _M(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hie(e){e.resolveTargetDelta()}function fie(e){e.calcProjection()}function mie(e){e.resetSkewAndRotation()}function pie(e){e.removeLeadSnapshot()}function DM(e,t,r){e.translate=Rr(t.translate,0,r),e.scale=Rr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function OM(e,t,r,n){e.min=Rr(t.min,r.min,n),e.max=Rr(t.max,r.max,n)}function gie(e,t,r,n){OM(e.x,t.x,r.x,n),OM(e.y,t.y,r.y,n)}function yie(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const vie={duration:.45,ease:[.4,0,.1,1]},RM=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),LM=RM("applewebkit/")&&!RM("chrome/")?Math.round:Ta;function FM(e){e.min=LM(e.min),e.max=LM(e.max)}function xie(e){FM(e.x),FM(e.y)}function m9(e,t,r){return e==="position"||e==="preserve-aspect"&&!Aae(PM(t),PM(r),.2)}function bie(e){return e!==e.root&&e.scroll?.wasRoot}const wie=f9({attachResizeListener:(e,t)=>fm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hw={current:void 0},p9=f9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hw.current){const e=new wie({});e.mount(window),e.setOptions({layoutScroll:!0}),Hw.current=e}return Hw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jie={pan:{Feature:zae},drag:{Feature:Vae,ProjectionNode:p9,MeasureLayout:o9}};function $M(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Pr.postRender(()=>i(t,Gm(t)))}class Nie extends cc{mount(){const{current:t}=this.node;t&&(this.unmount=Hne(t,(r,n)=>($M(this.node,n,"Start"),a=>$M(this.node,a,"End"))))}unmount(){}}class Sie extends cc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wm(fm(this.node.current,"focus",()=>this.onFocus()),fm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BM(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Pr.postRender(()=>i(t,Gm(t)))}class kie extends cc{mount(){const{current:t}=this.node;t&&(this.unmount=Yne(t,(r,n)=>(BM(this.node,n,"Start"),(a,{success:i})=>BM(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const IN=new WeakMap,qw=new WeakMap,Cie=e=>{const t=IN.get(e.target);t&&t(e)},Aie=e=>{e.forEach(Cie)};function Iie({root:e,...t}){const r=e||document;qw.has(r)||qw.set(r,{});const n=qw.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Aie,{root:e,...t})),n[a]}function Pie(e,t,r){const n=Iie(t);return IN.set(e,r),n.observe(e),()=>{IN.delete(e),n.unobserve(e)}}const Eie={some:0,all:1};class Tie extends cc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Eie[a]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),p=d?f:m;p&&p(u)};return Pie(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Mie(t,r))&&this.startObserver()}unmount(){}}function Mie({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const _ie={inView:{Feature:Tie},tap:{Feature:kie},focus:{Feature:Sie},hover:{Feature:Nie}},Die={layout:{ProjectionNode:p9,MeasureLayout:o9}},Oie={...wae,..._ie,...jie,...Die},Bi=Lse(Oie,Zse);function g9(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=g9(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Kt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=g9(e))&&(n&&(n+=" "),n+=t);return n}const Rie=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},Lie=(e,t)=>({classGroupId:e,validator:t}),y9=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),lv="-",VM=[],Fie="arbitrary..",$ie=e=>{const t=Vie(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Bie(o);const l=o.split(lv),u=l[0]===""&&l.length>1?1:0;return v9(l,u,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const u=n[o],d=r[o];return u?d?Rie(d,u):u:d||VM}return r[o]||VM}}},v9=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const d=v9(e,t+1,i);if(d)return d}const o=r.validators;if(o===null)return;const l=t===0?e.join(lv):e.slice(t).join(lv),u=o.length;for(let d=0;d<u;d++){const f=o[d];if(f.validator(l))return f.classGroupId}},Bie=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?Fie+n:void 0})(),Vie=e=>{const{theme:t,classGroups:r}=e;return zie(r,t)},zie=(e,t)=>{const r=y9();for(const n in e){const a=e[n];ck(a,r,n,t)}return r},ck=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];Uie(o,t,r,n)}},Uie=(e,t,r,n)=>{if(typeof e=="string"){Wie(e,t,r);return}if(typeof e=="function"){Hie(e,t,r,n);return}qie(e,t,r,n)},Wie=(e,t,r)=>{const n=e===""?t:x9(t,e);n.classGroupId=r},Hie=(e,t,r,n)=>{if(Gie(e)){ck(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(Lie(r,e))},qie=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,u]=a[o];ck(u,x9(t,l),r,n)}},x9=(e,t)=>{let r=e;const n=t.split(lv),a=n.length;for(let i=0;i<a;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=y9(),r.nextPart.set(o,l)),r=l}return r},Gie=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Kie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},PN="!",zM=":",Yie=[],UM=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),Zie=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,u=0,d;const f=a.length;for(let j=0;j<f;j++){const w=a[j];if(o===0&&l===0){if(w===zM){i.push(a.slice(u,j)),u=j+1;continue}if(w==="/"){d=j;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const m=i.length===0?a:a.slice(u);let p=m,v=!1;m.endsWith(PN)?(p=m.slice(0,-1),v=!0):m.startsWith(PN)&&(p=m.slice(1),v=!0);const x=d&&d>u?d-u:void 0;return UM(i,v,p,x)};if(t){const a=t+zM,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):UM(Yie,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},Qie=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",u=t.has(o);l||u?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},Xie=e=>({cache:Kie(e.cacheSize),parseClassName:Zie(e),sortModifiers:Qie(e),...$ie(e)}),Jie=/\s+/,eoe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(Jie);let u="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:m,modifiers:p,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:j}=r(f);if(m){u=f+(u.length>0?" "+u:u);continue}let w=!!j,S=n(w?x.substring(0,j):x);if(!S){if(!w){u=f+(u.length>0?" "+u:u);continue}if(S=n(x),!S){u=f+(u.length>0?" "+u:u);continue}w=!1}const P=p.length===0?"":p.length===1?p[0]:i(p).join(":"),k=v?P+PN:P,R=k+S;if(o.indexOf(R)>-1)continue;o.push(R);const I=a(S,w);for(let L=0;L<I.length;++L){const E=I[L];o.push(k+E)}u=f+(u.length>0?" "+u:u)}return u},toe=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=b9(r))&&(a&&(a+=" "),a+=n);return a},b9=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=b9(e[n]))&&(r&&(r+=" "),r+=t);return r},roe=(e,...t)=>{let r,n,a,i;const o=u=>{const d=t.reduce((f,m)=>m(f),e());return r=Xie(d),n=r.cache.get,a=r.cache.set,i=l,l(u)},l=u=>{const d=n(u);if(d)return d;const f=eoe(u,r);return a(u,f),f};return i=o,(...u)=>i(toe(...u))},noe=[],mn=e=>{const t=r=>r[e]||noe;return t.isThemeGetter=!0,t},w9=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,j9=/^\((?:(\w[\w-]*):)?(.+)\)$/i,soe=/^\d+\/\d+$/,aoe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ioe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ooe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,loe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,coe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,md=e=>soe.test(e),Ft=e=>!!e&&!Number.isNaN(Number(e)),Cl=e=>!!e&&Number.isInteger(Number(e)),Gw=e=>e.endsWith("%")&&Ft(e.slice(0,-1)),wo=e=>aoe.test(e),uoe=()=>!0,doe=e=>ioe.test(e)&&!ooe.test(e),N9=()=>!1,hoe=e=>loe.test(e),foe=e=>coe.test(e),moe=e=>!lt(e)&&!ct(e),poe=e=>hh(e,C9,N9),lt=e=>w9.test(e),Rc=e=>hh(e,A9,doe),Kw=e=>hh(e,boe,Ft),WM=e=>hh(e,S9,N9),goe=e=>hh(e,k9,foe),Vg=e=>hh(e,I9,hoe),ct=e=>j9.test(e),gf=e=>fh(e,A9),yoe=e=>fh(e,woe),HM=e=>fh(e,S9),voe=e=>fh(e,C9),xoe=e=>fh(e,k9),zg=e=>fh(e,I9,!0),hh=(e,t,r)=>{const n=w9.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},fh=(e,t,r=!1)=>{const n=j9.exec(e);return n?n[1]?t(n[1]):r:!1},S9=e=>e==="position"||e==="percentage",k9=e=>e==="image"||e==="url",C9=e=>e==="length"||e==="size"||e==="bg-size",A9=e=>e==="length",boe=e=>e==="number",woe=e=>e==="family-name",I9=e=>e==="shadow",joe=()=>{const e=mn("color"),t=mn("font"),r=mn("text"),n=mn("font-weight"),a=mn("tracking"),i=mn("leading"),o=mn("breakpoint"),l=mn("container"),u=mn("spacing"),d=mn("radius"),f=mn("shadow"),m=mn("inset-shadow"),p=mn("text-shadow"),v=mn("drop-shadow"),x=mn("blur"),j=mn("perspective"),w=mn("aspect"),S=mn("ease"),P=mn("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...R(),ct,lt],L=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],C=()=>[ct,lt,u],F=()=>[md,"full","auto",...C()],_=()=>[Cl,"none","subgrid",ct,lt],T=()=>["auto",{span:["full",Cl,ct,lt]},Cl,ct,lt],M=()=>[Cl,"auto",ct,lt],$=()=>["auto","min","max","fr",ct,lt],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...C()],X=()=>[md,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],B=()=>[e,ct,lt],Z=()=>[...R(),HM,WM,{position:[ct,lt]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",voe,poe,{size:[ct,lt]}],z=()=>[Gw,gf,Rc],pe=()=>["","none","full",d,ct,lt],oe=()=>["",Ft,gf,Rc],Pe=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[Ft,Gw,HM,WM],ue=()=>["","none",x,ct,lt],re=()=>["none",Ft,ct,lt],K=()=>["none",Ft,ct,lt],de=()=>[Ft,ct,lt],te=()=>[md,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wo],breakpoint:[wo],color:[uoe],container:[wo],"drop-shadow":[wo],ease:["in","out","in-out"],font:[moe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wo],shadow:[wo],spacing:["px",Ft],text:[wo],"text-shadow":[wo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",md,lt,ct,w]}],container:["container"],columns:[{columns:[Ft,lt,ct,l]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[Cl,"auto",ct,lt]}],basis:[{basis:[md,"full","auto",l,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ft,md,"auto","initial","none",lt]}],grow:[{grow:["",Ft,ct,lt]}],shrink:[{shrink:["",Ft,ct,lt]}],order:[{order:[Cl,"first","last","none",ct,lt]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[l,"screen",...X()]}],"min-w":[{"min-w":[l,"screen","none",...X()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",r,gf,Rc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ct,Kw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gw,lt]}],"font-family":[{font:[yoe,lt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ct,lt]}],"line-clamp":[{"line-clamp":[Ft,"none",ct,Kw]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",ct,lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ct,lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ft,"from-font","auto",ct,Rc]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[Ft,"auto",ct,lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct,lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct,lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Cl,ct,lt],radial:["",ct,lt],conic:[Cl,ct,lt]},xoe,goe]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ft,ct,lt]}],"outline-w":[{outline:["",Ft,gf,Rc]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",f,zg,Vg]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",m,zg,Vg]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[Ft,Rc]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",p,zg,Vg]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[Ft,ct,lt]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[ct,lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ct,lt]}],filter:[{filter:["","none",ct,lt]}],blur:[{blur:ue()}],brightness:[{brightness:[Ft,ct,lt]}],contrast:[{contrast:[Ft,ct,lt]}],"drop-shadow":[{"drop-shadow":["","none",v,zg,Vg]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",Ft,ct,lt]}],"hue-rotate":[{"hue-rotate":[Ft,ct,lt]}],invert:[{invert:["",Ft,ct,lt]}],saturate:[{saturate:[Ft,ct,lt]}],sepia:[{sepia:["",Ft,ct,lt]}],"backdrop-filter":[{"backdrop-filter":["","none",ct,lt]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[Ft,ct,lt]}],"backdrop-contrast":[{"backdrop-contrast":[Ft,ct,lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ft,ct,lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ft,ct,lt]}],"backdrop-invert":[{"backdrop-invert":["",Ft,ct,lt]}],"backdrop-opacity":[{"backdrop-opacity":[Ft,ct,lt]}],"backdrop-saturate":[{"backdrop-saturate":[Ft,ct,lt]}],"backdrop-sepia":[{"backdrop-sepia":["",Ft,ct,lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ct,lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ft,"initial",ct,lt]}],ease:[{ease:["linear","initial",S,ct,lt]}],delay:[{delay:[Ft,ct,lt]}],animate:[{animate:["none",P,ct,lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,ct,lt]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:K()}],"scale-x":[{"scale-x":K()}],"scale-y":[{"scale-y":K()}],"scale-z":[{"scale-z":K()}],"scale-3d":["scale-3d"],skew:[{skew:de()}],"skew-x":[{"skew-x":de()}],"skew-y":[{"skew-y":de()}],transform:[{transform:[ct,lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:te()}],"translate-x":[{"translate-x":te()}],"translate-y":[{"translate-y":te()}],"translate-z":[{"translate-z":te()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct,lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct,lt]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[Ft,gf,Rc,Kw]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Noe=roe(joe);function En(...e){return Noe(Kt(e))}const uk=()=>{try{const e=localStorage.getItem("admin_permissions");if(e)return JSON.parse(e)}catch(e){console.error("Error parsing permissions:",e)}return[]},sr=e=>{const t=uk();return t.includes("*")||t.includes("admin")?!0:t.includes(e)},P9=()=>localStorage.getItem("admin_role")||"admin",dk=()=>{const e=P9(),t=uk();return e==="admin"||t.includes("*")||t.includes("admin")},Soe=[{path:"/admin/dashboard",icon:nN,label:"Dashboard",permission:"view_dashboard"},{path:"/admin/users",icon:Um,label:"Users",permission:"view_users"},{path:"/admin/vendors",icon:D5,label:"Vendors",permission:"view_vendors"},{path:"/admin/vendor-categories",icon:iN,label:"Vendor Categories",permission:"view_vendors"},{path:"/admin/venues",icon:bs,label:"Venues",permission:"view_venues"},{path:"/admin/categories",icon:iN,label:"Categories",permission:"view_categories"},{path:"/admin/menus",icon:jx,label:"Menus",permission:"view_menus"},{path:"/admin/videos",icon:om,label:"Videos",permission:"view_videos"},{path:"/admin/leads",icon:Ete,label:"Leads",permission:"view_leads"},{path:"/admin/bookings",icon:Tn,label:"Bookings",permission:"view_bookings"},{path:"/admin/payouts",icon:wx,label:"Payouts",permission:"view_payouts"},{path:"/admin/reviews",icon:Ri,label:"Reviews",permission:"view_reviews"},{label:"Staff",icon:tv,permission:"view_staff",children:[{path:"/admin/roles",label:"Roles",icon:oa,permission:"view_roles"},{path:"/admin/staff",label:"Staff",permission:"view_staff"}]},{path:"/admin/analytics",icon:Pee,label:"Analytics",permission:"view_analytics"},{label:"Settings",icon:aN,permission:"view_settings",children:[{path:"/admin/testimonials",label:"Testimonials",icon:Qi,permission:"view_testimonials"},{path:"/admin/faqs",label:"FAQs",icon:E5,permission:"view_faqs"},{path:"/admin/company",label:"Company",icon:P5,permission:"view_company"},{path:"/admin/contacts",label:"Contact Us",icon:di,permission:"view_contacts"},{path:"/admin/settings",label:"General Settings",icon:aN,permission:"view_settings"}]}],qM=(e,t)=>e==="view_dashboard"||dk()?!0:!t||t.length===0?!1:t.includes(e),koe=()=>{const[e,t]=g.useState(!1),[r,n]=g.useState({Staff:!0,Settings:!0}),a=Kn(),i=g.useRef(null),o=g.useRef(0),l=g.useRef(!1),u=g.useMemo(()=>uk(),[]);g.useMemo(()=>dk(),[]);const d=g.useMemo(()=>Soe.map(m=>{if(!m.permission)return m;if(!qM(m.permission,u))return null;if(m.children){const p=m.children.filter(v=>v.permission?qM(v.permission,u):!0);return p.length===0?null:{...m,children:p}}return m}).filter(m=>m!==null),[u]),f=({onClose:m})=>s.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"w-10 h-10 object-contain",onError:p=>{p.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"ShubhVenue"})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Admin Panel"})]}),s.jsx("nav",{ref:i,className:"flex-1 p-4 space-y-2 overflow-y-auto",onScroll:p=>{if(l.current){p.target.scrollTop=o.current;return}o.current=p.target.scrollTop},children:d.map(p=>{const v=p.icon;if(p.children){const j=p.children.some(S=>a.pathname.startsWith(S.path)),w=r[p.label]??j;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{type:"button",tabIndex:-1,onClick:S=>{S.preventDefault(),S.stopPropagation();const P=i.current?.scrollTop||0;o.current=P,l.current=!0,n(R=>({...R,[p.label]:!w}));const k=()=>{i.current&&l.current&&(i.current.scrollTop=P,o.current=P)};k(),requestAnimationFrame(()=>{k(),requestAnimationFrame(()=>{k()})}),setTimeout(k,0),setTimeout(k,10),setTimeout(k,50),setTimeout(()=>{k(),l.current=!1},150)},onMouseDown:S=>{S.preventDefault(),i.current&&(o.current=i.current.scrollTop,l.current=!0);const P=S.currentTarget;setTimeout(()=>{P.click()},0)},onFocus:S=>{S.target.blur()},style:{outline:"none",cursor:"pointer"},className:En("w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all duration-200 font-medium",j?"gradient-primary text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[s.jsxs("span",{className:"flex items-center gap-3",children:[s.jsx(v,{className:En("w-5 h-5",j&&"text-white")}),p.label]}),w?s.jsx(zm,{className:"w-4 h-4"}):s.jsx(Iu,{className:"w-4 h-4"})]}),w&&s.jsx("div",{className:"pl-10 space-y-1",children:p.children.map(S=>{const P=S.icon,k=a.pathname===S.path||a.pathname.startsWith(S.path);return s.jsxs(Qs,{to:S.path,onClick:m,className:En("flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm font-medium",k?"gradient-primary text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[P?s.jsx(P,{className:En("w-4 h-4",k&&"text-white")}):s.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300 dark:border-gray-600"}),s.jsx("span",{children:S.label})]},S.path)})})]},p.label)}const x=a.pathname===p.path||p.path!=="/admin/dashboard"&&a.pathname.startsWith(p.path);return s.jsxs(Qs,{to:p.path,onClick:m,className:En("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 font-medium",x?"gradient-primary text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[s.jsx(v,{className:En("w-5 h-5",x&&"text-white")}),s.jsx("span",{children:p.label})]},p.path)})})]});return s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>t(!0),className:"lg:hidden fixed top-4 left-4 z-40 p-2 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:s.jsx(jx,{className:"w-6 h-6"})}),s.jsx("aside",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 z-20",children:s.jsx(f,{})}),e&&s.jsxs(s.Fragment,{children:[s.jsx(Bi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"fixed inset-0 bg-black/50 z-40 lg:hidden"}),s.jsxs(Bi.aside,{initial:{x:-300},animate:{x:0},exit:{x:-300},className:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 z-50 lg:hidden",children:[s.jsx("div",{className:"p-4 flex justify-end",children:s.jsx("button",{onClick:()=>t(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:s.jsx(dr,{className:"w-6 h-6"})})}),s.jsx(f,{onClose:()=>t(!1)})]})]})]})};function E9(e,t){return function(){return e.apply(t,arguments)}}const{toString:Coe}=Object.prototype,{getPrototypeOf:hk}=Object,{iterator:Ix,toStringTag:T9}=Symbol,Px=(e=>t=>{const r=Coe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),hi=e=>(e=e.toLowerCase(),t=>Px(t)===e),Ex=e=>t=>typeof t===e,{isArray:mh}=Array,Gd=Ex("undefined");function Km(e){return e!==null&&!Gd(e)&&e.constructor!==null&&!Gd(e.constructor)&&Ls(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const M9=hi("ArrayBuffer");function Aoe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&M9(e.buffer),t}const Ioe=Ex("string"),Ls=Ex("function"),_9=Ex("number"),Ym=e=>e!==null&&typeof e=="object",Poe=e=>e===!0||e===!1,Ny=e=>{if(Px(e)!=="object")return!1;const t=hk(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(T9 in e)&&!(Ix in e)},Eoe=e=>{if(!Ym(e)||Km(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Toe=hi("Date"),Moe=hi("File"),_oe=hi("Blob"),Doe=hi("FileList"),Ooe=e=>Ym(e)&&Ls(e.pipe),Roe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ls(e.append)&&((t=Px(e))==="formdata"||t==="object"&&Ls(e.toString)&&e.toString()==="[object FormData]"))},Loe=hi("URLSearchParams"),[Foe,$oe,Boe,Voe]=["ReadableStream","Request","Response","Headers"].map(hi),zoe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zm(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),mh(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Km(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function D9(e,t){if(Km(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Qc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,O9=e=>!Gd(e)&&e!==Qc;function EN(){const{caseless:e,skipUndefined:t}=O9(this)&&this||{},r={},n=(a,i)=>{const o=e&&D9(r,i)||i;Ny(r[o])&&Ny(a)?r[o]=EN(r[o],a):Ny(a)?r[o]=EN({},a):mh(a)?r[o]=a.slice():(!t||!Gd(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Zm(arguments[a],n);return r}const Uoe=(e,t,r,{allOwnKeys:n}={})=>(Zm(t,(a,i)=>{r&&Ls(a)?e[i]=E9(a,r):e[i]=a},{allOwnKeys:n}),e),Woe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hoe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},qoe=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&hk(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Goe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Koe=e=>{if(!e)return null;if(mh(e))return e;let t=e.length;if(!_9(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Yoe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hk(Uint8Array)),Zoe=(e,t)=>{const n=(e&&e[Ix]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Qoe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Xoe=hi("HTMLFormElement"),Joe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),GM=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ele=hi("RegExp"),R9=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Zm(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},tle=e=>{R9(e,(t,r)=>{if(Ls(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ls(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},rle=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return mh(e)?n(e):n(String(e).split(t)),r},nle=()=>{},sle=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ale(e){return!!(e&&Ls(e.append)&&e[T9]==="FormData"&&e[Ix])}const ile=e=>{const t=new Array(10),r=(n,a)=>{if(Ym(n)){if(t.indexOf(n)>=0)return;if(Km(n))return n;if(!("toJSON"in n)){t[a]=n;const i=mh(n)?[]:{};return Zm(n,(o,l)=>{const u=r(o,a+1);!Gd(u)&&(i[l]=u)}),t[a]=void 0,i}}return n};return r(e,0)},ole=hi("AsyncFunction"),lle=e=>e&&(Ym(e)||Ls(e))&&Ls(e.then)&&Ls(e.catch),L9=((e,t)=>e?setImmediate:t?((r,n)=>(Qc.addEventListener("message",({source:a,data:i})=>{a===Qc&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Qc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ls(Qc.postMessage)),cle=typeof queueMicrotask<"u"?queueMicrotask.bind(Qc):typeof process<"u"&&process.nextTick||L9,ule=e=>e!=null&&Ls(e[Ix]),Me={isArray:mh,isArrayBuffer:M9,isBuffer:Km,isFormData:Roe,isArrayBufferView:Aoe,isString:Ioe,isNumber:_9,isBoolean:Poe,isObject:Ym,isPlainObject:Ny,isEmptyObject:Eoe,isReadableStream:Foe,isRequest:$oe,isResponse:Boe,isHeaders:Voe,isUndefined:Gd,isDate:Toe,isFile:Moe,isBlob:_oe,isRegExp:ele,isFunction:Ls,isStream:Ooe,isURLSearchParams:Loe,isTypedArray:Yoe,isFileList:Doe,forEach:Zm,merge:EN,extend:Uoe,trim:zoe,stripBOM:Woe,inherits:Hoe,toFlatObject:qoe,kindOf:Px,kindOfTest:hi,endsWith:Goe,toArray:Koe,forEachEntry:Zoe,matchAll:Qoe,isHTMLForm:Xoe,hasOwnProperty:GM,hasOwnProp:GM,reduceDescriptors:R9,freezeMethods:tle,toObjectSet:rle,toCamelCase:Joe,noop:nle,toFiniteNumber:sle,findKey:D9,global:Qc,isContextDefined:O9,isSpecCompliantForm:ale,toJSONObject:ile,isAsyncFn:ole,isThenable:lle,setImmediate:L9,asap:cle,isIterable:ule};function Et(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Me.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}});const F9=Et.prototype,$9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$9[e]={value:e}});Object.defineProperties(Et,$9);Object.defineProperty(F9,"isAxiosError",{value:!0});Et.from=(e,t,r,n,a,i)=>{const o=Object.create(F9);Me.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return Et.call(o,l,u,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const dle=null;function TN(e){return Me.isPlainObject(e)||Me.isArray(e)}function B9(e){return Me.endsWith(e,"[]")?e.slice(0,-2):e}function KM(e,t,r){return e?e.concat(t).map(function(a,i){return a=B9(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function hle(e){return Me.isArray(e)&&!e.some(TN)}const fle=Me.toFlatObject(Me,{},null,function(t){return/^is[A-Z]/.test(t)});function Tx(e,t,r){if(!Me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,w){return!Me.isUndefined(w[j])});const n=r.metaTokens,a=r.visitor||f,i=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(t);if(!Me.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(Me.isDate(x))return x.toISOString();if(Me.isBoolean(x))return x.toString();if(!u&&Me.isBlob(x))throw new Et("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(x)||Me.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,j,w){let S=x;if(x&&!w&&typeof x=="object"){if(Me.endsWith(j,"{}"))j=n?j:j.slice(0,-2),x=JSON.stringify(x);else if(Me.isArray(x)&&hle(x)||(Me.isFileList(x)||Me.endsWith(j,"[]"))&&(S=Me.toArray(x)))return j=B9(j),S.forEach(function(k,R){!(Me.isUndefined(k)||k===null)&&t.append(o===!0?KM([j],R,i):o===null?j:j+"[]",d(k))}),!1}return TN(x)?!0:(t.append(KM(w,j,i),d(x)),!1)}const m=[],p=Object.assign(fle,{defaultVisitor:f,convertValue:d,isVisitable:TN});function v(x,j){if(!Me.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+j.join("."));m.push(x),Me.forEach(x,function(S,P){(!(Me.isUndefined(S)||S===null)&&a.call(t,S,Me.isString(P)?P.trim():P,j,p))===!0&&v(S,j?j.concat(P):[P])}),m.pop()}}if(!Me.isObject(e))throw new TypeError("data must be an object");return v(e),t}function YM(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function fk(e,t){this._pairs=[],e&&Tx(e,this,t)}const V9=fk.prototype;V9.append=function(t,r){this._pairs.push([t,r])};V9.toString=function(t){const r=t?function(n){return t.call(this,n,YM)}:YM;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function mle(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function z9(e,t,r){if(!t)return e;const n=r&&r.encode||mle;Me.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=Me.isURLSearchParams(t)?t.toString():new fk(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class ZM{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Me.forEach(this.handlers,function(n){n!==null&&t(n)})}}const U9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ple=typeof URLSearchParams<"u"?URLSearchParams:fk,gle=typeof FormData<"u"?FormData:null,yle=typeof Blob<"u"?Blob:null,vle={isBrowser:!0,classes:{URLSearchParams:ple,FormData:gle,Blob:yle},protocols:["http","https","file","blob","url","data"]},mk=typeof window<"u"&&typeof document<"u",MN=typeof navigator=="object"&&navigator||void 0,xle=mk&&(!MN||["ReactNative","NativeScript","NS"].indexOf(MN.product)<0),ble=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wle=mk&&window.location.href||"http://localhost",jle=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mk,hasStandardBrowserEnv:xle,hasStandardBrowserWebWorkerEnv:ble,navigator:MN,origin:wle},Symbol.toStringTag,{value:"Module"})),rs={...jle,...vle};function Nle(e,t){return Tx(e,new rs.classes.URLSearchParams,{visitor:function(r,n,a,i){return rs.isNode&&Me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Sle(e){return Me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function kle(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function W9(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=r.length;return o=!o&&Me.isArray(a)?a.length:o,u?(Me.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!Me.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&Me.isArray(a[o])&&(a[o]=kle(a[o])),!l)}if(Me.isFormData(e)&&Me.isFunction(e.entries)){const r={};return Me.forEachEntry(e,(n,a)=>{t(Sle(n),a,r,0)}),r}return null}function Cle(e,t,r){if(Me.isString(e))try{return(t||JSON.parse)(e),Me.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Qm={transitional:U9,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=Me.isObject(t);if(i&&Me.isHTMLForm(t)&&(t=new FormData(t)),Me.isFormData(t))return a?JSON.stringify(W9(t)):t;if(Me.isArrayBuffer(t)||Me.isBuffer(t)||Me.isStream(t)||Me.isFile(t)||Me.isBlob(t)||Me.isReadableStream(t))return t;if(Me.isArrayBufferView(t))return t.buffer;if(Me.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Nle(t,this.formSerializer).toString();if((l=Me.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Tx(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Cle(t)):t}],transformResponse:[function(t){const r=this.transitional||Qm.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Me.isResponse(t)||Me.isReadableStream(t))return t;if(t&&Me.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Et.from(l,Et.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rs.classes.FormData,Blob:rs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],e=>{Qm.headers[e]={}});const Ale=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ile=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&Ale[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},QM=Symbol("internals");function yf(e){return e&&String(e).trim().toLowerCase()}function Sy(e){return e===!1||e==null?e:Me.isArray(e)?e.map(Sy):String(e)}function Ple(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Ele=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Yw(e,t,r,n,a){if(Me.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Me.isString(t)){if(Me.isString(n))return t.indexOf(n)!==-1;if(Me.isRegExp(n))return n.test(t)}}function Tle(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Mle(e,t){const r=Me.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let Fs=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,u,d){const f=yf(u);if(!f)throw new Error("header name must be a non-empty string");const m=Me.findKey(a,f);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||u]=Sy(l))}const o=(l,u)=>Me.forEach(l,(d,f)=>i(d,f,u));if(Me.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Me.isString(t)&&(t=t.trim())&&!Ele(t))o(Ile(t),r);else if(Me.isObject(t)&&Me.isIterable(t)){let l={},u,d;for(const f of t){if(!Me.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(u=l[d])?Me.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=yf(t),t){const n=Me.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Ple(a);if(Me.isFunction(r))return r.call(this,a,n);if(Me.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=yf(t),t){const n=Me.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Yw(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=yf(o),o){const l=Me.findKey(n,o);l&&(!r||Yw(n,n[l],l,r))&&(delete n[l],a=!0)}}return Me.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||Yw(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return Me.forEach(this,(a,i)=>{const o=Me.findKey(n,i);if(o){r[o]=Sy(a),delete r[i];return}const l=t?Tle(i):String(i).trim();l!==i&&delete r[i],r[l]=Sy(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Me.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[QM]=this[QM]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=yf(o);n[l]||(Mle(a,o),n[l]=!0)}return Me.isArray(t)?t.forEach(i):i(t),this}};Fs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(Fs.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Me.freezeMethods(Fs);function Zw(e,t){const r=this||Qm,n=t||r,a=Fs.from(n.headers);let i=n.data;return Me.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function H9(e){return!!(e&&e.__CANCEL__)}function ph(e,t,r){Et.call(this,e??"canceled",Et.ERR_CANCELED,t,r),this.name="CanceledError"}Me.inherits(ph,Et,{__CANCEL__:!0});function q9(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Et("Request failed with status code "+r.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function _le(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Dle(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),f=n[i];o||(o=d),r[a]=u,n[a]=d;let m=i,p=0;for(;m!==a;)p+=r[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const v=f&&d-f;return v?Math.round(p*1e3/v):void 0}}function Ole(e,t){let r=0,n=1e3/t,a,i;const o=(d,f=Date.now())=>{r=f,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),m=f-r;m>=n?o(d,f):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},n-m)))},()=>a&&o(a)]}const cv=(e,t,r=3)=>{let n=0;const a=Dle(50,250);return Ole(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-n,d=a(u),f=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},XM=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},JM=e=>(...t)=>Me.asap(()=>e(...t)),Rle=rs.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,rs.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(rs.origin),rs.navigator&&/(msie|trident)/i.test(rs.navigator.userAgent)):()=>!0,Lle=rs.hasStandardBrowserEnv?{write(e,t,r,n,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Me.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Me.isString(n)&&l.push(`path=${n}`),Me.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),Me.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Fle(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $le(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function G9(e,t,r){let n=!Fle(t);return e&&(n||r==!1)?$le(e,t):t}const e_=e=>e instanceof Fs?{...e}:e;function vu(e,t){t=t||{};const r={};function n(d,f,m,p){return Me.isPlainObject(d)&&Me.isPlainObject(f)?Me.merge.call({caseless:p},d,f):Me.isPlainObject(f)?Me.merge({},f):Me.isArray(f)?f.slice():f}function a(d,f,m,p){if(Me.isUndefined(f)){if(!Me.isUndefined(d))return n(void 0,d,m,p)}else return n(d,f,m,p)}function i(d,f){if(!Me.isUndefined(f))return n(void 0,f)}function o(d,f){if(Me.isUndefined(f)){if(!Me.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function l(d,f,m){if(m in t)return n(d,f);if(m in e)return n(void 0,d)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,m)=>a(e_(d),e_(f),m,!0)};return Me.forEach(Object.keys({...e,...t}),function(f){const m=u[f]||a,p=m(e[f],t[f],f);Me.isUndefined(p)&&m!==l||(r[f]=p)}),r}const K9=e=>{const t=vu({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Fs.from(o),t.url=z9(G9(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Me.isFormData(r)){if(rs.hasStandardBrowserEnv||rs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Me.isFunction(r.getHeaders)){const u=r.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([f,m])=>{d.includes(f.toLowerCase())&&o.set(f,m)})}}if(rs.hasStandardBrowserEnv&&(n&&Me.isFunction(n)&&(n=n(t)),n||n!==!1&&Rle(t.url))){const u=a&&i&&Lle.read(i);u&&o.set(a,u)}return t},Ble=typeof XMLHttpRequest<"u",Vle=Ble&&function(e){return new Promise(function(r,n){const a=K9(e);let i=a.data;const o=Fs.from(a.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=a,f,m,p,v,x;function j(){v&&v(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function S(){if(!w)return;const k=Fs.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),I={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:k,config:e,request:w};q9(function(E){r(E),j()},function(E){n(E),j()},I),w=null}"onloadend"in w?w.onloadend=S:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(S)},w.onabort=function(){w&&(n(new Et("Request aborted",Et.ECONNABORTED,e,w)),w=null)},w.onerror=function(R){const I=R&&R.message?R.message:"Network Error",L=new Et(I,Et.ERR_NETWORK,e,w);L.event=R||null,n(L),w=null},w.ontimeout=function(){let R=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const I=a.transitional||U9;a.timeoutErrorMessage&&(R=a.timeoutErrorMessage),n(new Et(R,I.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,e,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&Me.forEach(o.toJSON(),function(R,I){w.setRequestHeader(I,R)}),Me.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),l&&l!=="json"&&(w.responseType=a.responseType),d&&([p,x]=cv(d,!0),w.addEventListener("progress",p)),u&&w.upload&&([m,v]=cv(u),w.upload.addEventListener("progress",m),w.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(f=k=>{w&&(n(!k||k.type?new ph(null,e,w):k),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const P=_le(a.url);if(P&&rs.protocols.indexOf(P)===-1){n(new Et("Unsupported protocol "+P+":",Et.ERR_BAD_REQUEST,e));return}w.send(i||null)})},zle=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(d){if(!a){a=!0,l();const f=d instanceof Error?d:this.reason;n.abort(f instanceof Et?f:new ph(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new Et(`timeout ${t} of ms exceeded`,Et.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>Me.asap(l),u}},Ule=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Wle=async function*(e,t){for await(const r of Hle(e))yield*Ule(r,t)},Hle=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},t_=(e,t,r,n)=>{const a=Wle(e,t);let i=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await a.next();if(d){l(),u.close();return}let m=f.byteLength;if(r){let p=i+=m;r(p)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),a.return()}},{highWaterMark:2})},r_=64*1024,{isFunction:Ug}=Me,qle=(({Request:e,Response:t})=>({Request:e,Response:t}))(Me.global),{ReadableStream:n_,TextEncoder:s_}=Me.global,a_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Gle=e=>{e=Me.merge.call({skipUndefined:!0},qle,e);const{fetch:t,Request:r,Response:n}=e,a=t?Ug(t):typeof fetch=="function",i=Ug(r),o=Ug(n);if(!a)return!1;const l=a&&Ug(n_),u=a&&(typeof s_=="function"?(x=>j=>x.encode(j))(new s_):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=i&&l&&a_(()=>{let x=!1;const j=new r(rs.origin,{body:new n_,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!j}),f=o&&l&&a_(()=>Me.isReadableStream(new n("").body)),m={stream:f&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!m[x]&&(m[x]=(j,w)=>{let S=j&&j[x];if(S)return S.call(j);throw new Et(`Response type '${x}' is not supported`,Et.ERR_NOT_SUPPORT,w)})});const p=async x=>{if(x==null)return 0;if(Me.isBlob(x))return x.size;if(Me.isSpecCompliantForm(x))return(await new r(rs.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Me.isArrayBufferView(x)||Me.isArrayBuffer(x))return x.byteLength;if(Me.isURLSearchParams(x)&&(x=x+""),Me.isString(x))return(await u(x)).byteLength},v=async(x,j)=>{const w=Me.toFiniteNumber(x.getContentLength());return w??p(j)};return async x=>{let{url:j,method:w,data:S,signal:P,cancelToken:k,timeout:R,onDownloadProgress:I,onUploadProgress:L,responseType:E,headers:C,withCredentials:F="same-origin",fetchOptions:_}=K9(x),T=t||fetch;E=E?(E+"").toLowerCase():"text";let M=zle([P,k&&k.toAbortSignal()],R),$=null;const J=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let q;try{if(L&&d&&w!=="get"&&w!=="head"&&(q=await v(C,S))!==0){let W=new r(j,{method:"POST",body:S,duplex:"half"}),z;if(Me.isFormData(S)&&(z=W.headers.get("content-type"))&&C.setContentType(z),W.body){const[pe,oe]=XM(q,cv(JM(L)));S=t_(W.body,r_,pe,oe)}}Me.isString(F)||(F=F?"include":"omit");const U=i&&"credentials"in r.prototype,X={..._,signal:M,method:w.toUpperCase(),headers:C.normalize().toJSON(),body:S,duplex:"half",credentials:U?F:void 0};$=i&&new r(j,X);let B=await(i?T($,_):T(j,X));const Z=f&&(E==="stream"||E==="response");if(f&&(I||Z&&J)){const W={};["status","statusText","headers"].forEach(Pe=>{W[Pe]=B[Pe]});const z=Me.toFiniteNumber(B.headers.get("content-length")),[pe,oe]=I&&XM(z,cv(JM(I),!0))||[];B=new n(t_(B.body,r_,pe,()=>{oe&&oe(),J&&J()}),W)}E=E||"text";let ne=await m[Me.findKey(m,E)||"text"](B,x);return!Z&&J&&J(),await new Promise((W,z)=>{q9(W,z,{data:ne,headers:Fs.from(B.headers),status:B.status,statusText:B.statusText,config:x,request:$})})}catch(U){throw J&&J(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Et("Network Error",Et.ERR_NETWORK,x,$),{cause:U.cause||U}):Et.from(U,U&&U.code,x,$)}}},Kle=new Map,Y9=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let o=i.length,l=o,u,d,f=Kle;for(;l--;)u=i[l],d=f.get(u),d===void 0&&f.set(u,d=l?new Map:Gle(t)),f=d;return d};Y9();const pk={http:dle,xhr:Vle,fetch:{get:Y9}};Me.forEach(pk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const i_=e=>`- ${e}`,Yle=e=>Me.isFunction(e)||e===null||e===!1;function Zle(e,t){e=Me.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!Yle(n)&&(a=pk[(l=String(n)).toLowerCase()],a===void 0))throw new Et(`Unknown adapter '${l}'`);if(a&&(Me.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(i_).join(`
`):" "+i_(o[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const Z9={getAdapter:Zle,adapters:pk};function Qw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ph(null,e)}function o_(e){return Qw(e),e.headers=Fs.from(e.headers),e.data=Zw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Z9.getAdapter(e.adapter||Qm.adapter,e)(e).then(function(n){return Qw(e),n.data=Zw.call(e,e.transformResponse,n),n.headers=Fs.from(n.headers),n},function(n){return H9(n)||(Qw(e),n&&n.response&&(n.response.data=Zw.call(e,e.transformResponse,n.response),n.response.headers=Fs.from(n.response.headers))),Promise.reject(n)})}const Q9="1.13.2",Mx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mx[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const l_={};Mx.transitional=function(t,r,n){function a(i,o){return"[Axios v"+Q9+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new Et(a(o," has been removed"+(r?" in "+r:"")),Et.ERR_DEPRECATED);return r&&!l_[o]&&(l_[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Mx.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Qle(e,t,r){if(typeof e!="object")throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new Et("option "+i+" must be "+u,Et.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Et("Unknown option "+i,Et.ERR_BAD_OPTION)}}const ky={assertOptions:Qle,validators:Mx},Mi=ky.validators;let ou=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ZM,response:new ZM}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=vu(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&ky.assertOptions(n,{silentJSONParsing:Mi.transitional(Mi.boolean),forcedJSONParsing:Mi.transitional(Mi.boolean),clarifyTimeoutError:Mi.transitional(Mi.boolean)},!1),a!=null&&(Me.isFunction(a)?r.paramsSerializer={serialize:a}:ky.assertOptions(a,{encode:Mi.function,serialize:Mi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ky.assertOptions(r,{baseUrl:Mi.spelling("baseURL"),withXsrfToken:Mi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Me.merge(i.common,i[r.method]);i&&Me.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=Fs.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(u=u&&j.synchronous,l.unshift(j.fulfilled,j.rejected))});const d=[];this.interceptors.response.forEach(function(j){d.push(j.fulfilled,j.rejected)});let f,m=0,p;if(!u){const x=[o_.bind(this),void 0];for(x.unshift(...l),x.push(...d),p=x.length,f=Promise.resolve(r);m<p;)f=f.then(x[m++],x[m++]);return f}p=l.length;let v=r;for(;m<p;){const x=l[m++],j=l[m++];try{v=x(v)}catch(w){j.call(this,w);break}}try{f=o_.call(this,v)}catch(x){return Promise.reject(x)}for(m=0,p=d.length;m<p;)f=f.then(d[m++],d[m++]);return f}getUri(t){t=vu(this.defaults,t);const r=G9(t.baseURL,t.url,t.allowAbsoluteUrls);return z9(r,t.params,t.paramsSerializer)}};Me.forEach(["delete","get","head","options"],function(t){ou.prototype[t]=function(r,n){return this.request(vu(n||{},{method:t,url:r,data:(n||{}).data}))}});Me.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(vu(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ou.prototype[t]=r(),ou.prototype[t+"Form"]=r(!0)});let Xle=class X9{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new ph(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new X9(function(a){t=a}),cancel:t}}};function Jle(e){return function(r){return e.apply(null,r)}}function ece(e){return Me.isObject(e)&&e.isAxiosError===!0}const _N={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_N).forEach(([e,t])=>{_N[t]=e});function J9(e){const t=new ou(e),r=E9(ou.prototype.request,t);return Me.extend(r,ou.prototype,t,{allOwnKeys:!0}),Me.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return J9(vu(e,a))},r}const Wr=J9(Qm);Wr.Axios=ou;Wr.CanceledError=ph;Wr.CancelToken=Xle;Wr.isCancel=H9;Wr.VERSION=Q9;Wr.toFormData=Tx;Wr.AxiosError=Et;Wr.Cancel=Wr.CanceledError;Wr.all=function(t){return Promise.all(t)};Wr.spread=Jle;Wr.isAxiosError=ece;Wr.mergeConfig=vu;Wr.AxiosHeaders=Fs;Wr.formToJSON=e=>W9(Me.isHTMLForm(e)?new FormData(e):e);Wr.getAdapter=Z9.getAdapter;Wr.HttpStatusCode=_N;Wr.default=Wr;const{Axios:qAe,AxiosError:GAe,CanceledError:KAe,isCancel:YAe,CancelToken:ZAe,VERSION:QAe,all:XAe,Cancel:JAe,isAxiosError:eIe,spread:tIe,toFormData:rIe,AxiosHeaders:nIe,HttpStatusCode:sIe,formToJSON:aIe,getAdapter:iIe,mergeConfig:oIe}=Wr,tce="https://shubhvenue.com/api",Re=Wr.create({baseURL:tce,headers:{"Content-Type":"application/json"}});Re.interceptors.request.use(e=>{const t=localStorage.getItem("admin_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Re.interceptors.response.use(e=>e,e=>{if((e.config?.url||"").includes("/login"))return Promise.reject(e);if(e.response?.status===401)localStorage.removeItem("admin_token"),window.location.href="/admin/login",G.error("Session expired. Please login again.");else if(e.response?.status===503){const n=e.response?.data?.message||"Database connection unavailable",a=e.response?.data?.hint||"";G.error(`${n}${a?`
`+a:""}`,{duration:5e3})}else e.response?.data?.message?G.error(e.response.data.message):e.message==="Network Error"?G.error("Cannot connect to server. Please check your internet connection."):G.error("Something went wrong");return Promise.reject(e)});const Xc={login:e=>Re.post("/admin/login",e),loginStaff:e=>Re.post("/staff/login",e),logout:()=>Re.post("/admin/logout").catch(()=>Promise.resolve({data:{success:!0}})),getProfile:()=>Re.get("/admin/profile"),updateProfile:e=>Re.put("/admin/profile",e),changePassword:e=>Re.put("/admin/change-password",e)},rce={getStats:()=>Re.get("/admin/dashboard")},Wg={getAll:e=>Re.get("/admin/users",{params:e}),getById:e=>Re.get(`/admin/users/${e}`),update:(e,t)=>Re.put(`/admin/users/${e}`,t),delete:(e,t={})=>Re.delete(`/admin/users/${e}`,t),block:e=>Re.put(`/admin/users/${e}/block`)},No={getAll:e=>Re.get("/admin/vendors",{params:e}),create:e=>Re.post("/admin/vendors",e),getById:e=>Re.get(`/admin/vendors/${e}`),update:(e,t)=>Re.put(`/admin/vendors/${e}`,t),approve:e=>Re.put(`/admin/vendors/${e}/approve`),reject:e=>Re.put(`/admin/vendors/${e}/reject`),delete:e=>Re.delete(`/admin/vendors/${e}`),updateCategory:(e,t)=>Re.put(`/admin/vendors/${e}/category`,{categoryId:t||null})},Of={getAll:e=>Re.get("/admin/vendor-categories",{params:e}),getPublic:()=>Re.get("/admin/vendor-categories/public"),getById:e=>Re.get(`/admin/vendor-categories/${e}`),create:e=>e instanceof FormData?Re.post("/admin/vendor-categories",e,{headers:{"Content-Type":"multipart/form-data"}}):Re.post("/admin/vendor-categories",e),update:(e,t)=>t instanceof FormData?Re.put(`/admin/vendor-categories/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):Re.put(`/admin/vendor-categories/${e}`,t),delete:e=>Re.delete(`/admin/vendor-categories/${e}`)},Al={getAll:e=>Re.get("/admin/venues",{params:e}),create:e=>e instanceof FormData?Re.post("/admin/venues",e,{headers:{"Content-Type":"multipart/form-data"}}):Re.post("/admin/venues",e),getById:e=>Re.get(`/admin/venues/${e}`),update:(e,t)=>t instanceof FormData?Re.put(`/admin/venues/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):Re.put(`/admin/venues/${e}`,t),delete:e=>Re.delete(`/admin/venues/${e}`),approve:e=>Re.put(`/admin/venues/approve/${e}`),reject:e=>Re.put(`/admin/venues/reject/${e}`),updateButtonSettings:(e,t)=>Re.put(`/admin/venues/${e}/button-settings`,t),getStates:()=>Re.get("/vendor/venues/states"),getCities:e=>Re.get("/vendor/venues/cities",{params:{state:e}})},Hg={getAll:e=>Re.get("/admin/bookings",{params:e}),getById:e=>Re.get(`/admin/bookings/${e}`),updateStatus:(e,t)=>Re.put(`/admin/bookings/${e}/status`,{status:t}),approve:e=>Re.put(`/admin/bookings/${e}/approve`),reject:(e,t)=>Re.put(`/admin/bookings/${e}/reject`,{reason:t})},Xw={getAll:e=>Re.get("/admin/leads",{params:e}),getById:e=>Re.get(`/admin/leads/${e}`),updateStatus:(e,t)=>Re.put(`/admin/leads/${e}/status`,t),convertToBooking:(e,t)=>Re.post(`/admin/leads/${e}/convert-to-booking`,{paymentId:t})},c_={getAll:e=>Re.get("/admin/payouts",{params:e}),getById:e=>Re.get(`/admin/payouts/${e}`),update:(e,t)=>Re.put(`/admin/payouts/${e}`,t),markCompleted:e=>Re.put(`/admin/payouts/${e}/complete`)},nce={getAnalytics:e=>Re.get("/admin/analytics",{params:e})},u_={get:()=>Re.get("/admin/payment-config"),update:e=>Re.put("/admin/payment-config",e)},d_={get:()=>Re.get("/admin/email-config"),update:e=>Re.put("/admin/email-config",e)},h_={get:()=>Re.get("/admin/google-maps-config"),update:e=>Re.put("/admin/google-maps-config",e)},wd={getAll:e=>Re.get("/categories",{params:e}),getById:e=>Re.get(`/categories/${e}`),create:e=>e instanceof FormData?Re.post("/categories",e,{headers:{"Content-Type":"multipart/form-data"}}):Re.post("/categories",e),update:(e,t)=>t instanceof FormData?Re.put(`/categories/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):Re.put(`/categories/${e}`,t),delete:e=>Re.delete(`/categories/${e}`)},vf={getAll:e=>Re.get("/admin/banners",{params:e}),getById:e=>Re.get(`/admin/banners/${e}`),create:e=>e instanceof FormData?Re.post("/admin/banners",e,{headers:{"Content-Type":"multipart/form-data"}}):Re.post("/admin/banners",e),update:(e,t)=>t instanceof FormData?Re.put(`/admin/banners/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):Re.put(`/admin/banners/${e}`,t),delete:e=>Re.delete(`/admin/banners/${e}`),toggleActive:e=>Re.put(`/admin/banners/${e}/toggle-active`)},xf={getAll:e=>Re.get("/admin/videos",{params:e}),getById:e=>Re.get(`/admin/videos/${e}`),create:e=>e instanceof FormData?Re.post("/admin/videos",e,{headers:{"Content-Type":"multipart/form-data"}}):Re.post("/admin/videos",e),update:(e,t)=>t instanceof FormData?Re.put(`/admin/videos/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):Re.put(`/admin/videos/${e}`,t),delete:e=>Re.delete(`/admin/videos/${e}`),toggleActive:e=>Re.put(`/admin/videos/${e}/toggle-active`)},bf={getAll:e=>Re.get("/admin/testimonials",{params:e}),getById:e=>Re.get(`/admin/testimonials/${e}`),create:e=>Re.post("/admin/testimonials",e),update:(e,t)=>Re.put(`/admin/testimonials/${e}`,t),delete:e=>Re.delete(`/admin/testimonials/${e}`),toggleActive:e=>Re.put(`/admin/testimonials/${e}/toggle-active`)},wf={getAll:e=>Re.get("/admin/faqs",{params:e}),getById:e=>Re.get(`/admin/faqs/${e}`),create:e=>Re.post("/admin/faqs",e),update:(e,t)=>Re.put(`/admin/faqs/${e}`,t),delete:e=>Re.delete(`/admin/faqs/${e}`),toggleActive:e=>Re.put(`/admin/faqs/${e}/toggle-active`)},f_={get:()=>Re.get("/admin/company"),update:e=>Re.put("/admin/company",e)},m_={getAll:()=>Re.get("/admin/legal-pages"),getByType:e=>Re.get(`/admin/legal-pages/${e}`),update:(e,t)=>Re.put(`/admin/legal-pages/${e}`,t)},Il={getAll:e=>Re.get("/admin/contacts",{params:e}),getById:e=>Re.get(`/admin/contacts/${e}`),updateStatus:(e,t)=>Re.put(`/admin/contacts/${e}/status`,t),delete:e=>Re.delete(`/admin/contacts/${e}`)},Xa={getAll:e=>Re.get("/menus",{params:e}),getById:e=>Re.get(`/menus/${e}`),getSubmenus:e=>Re.get(`/menus?parentMenuId=${e}`),create:e=>e instanceof FormData?Re.post("/menus",e,{headers:{"Content-Type":"multipart/form-data"}}):Re.post("/menus",e),update:(e,t)=>t instanceof FormData?Re.put(`/menus/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):Re.put(`/menus/${e}`,t),delete:e=>Re.delete(`/menus/${e}`)},pd={getAll:e=>Re.get("/admin/staff",{params:e}),getById:e=>Re.get(`/admin/staff/${e}`),create:e=>e instanceof FormData?Re.post("/admin/staff",e,{headers:{"Content-Type":"multipart/form-data"}}):Re.post("/admin/staff",e),update:(e,t)=>t instanceof FormData?Re.put(`/admin/staff/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):Re.put(`/admin/staff/${e}`,t),delete:e=>Re.delete(`/admin/staff/${e}`)},Tl={getAll:e=>Re.get("/admin/roles",{params:e}),getById:e=>Re.get(`/admin/roles/${e}`),create:e=>Re.post("/admin/roles",e),update:(e,t)=>Re.put(`/admin/roles/${e}`,t),delete:e=>Re.delete(`/admin/roles/${e}`),getAvailablePermissions:()=>Re.get("/admin/roles/permissions/available")},jf={getAll:e=>Re.get("/admin/reviews",{params:e}),getById:e=>Re.get(`/admin/reviews/${e}`),update:(e,t)=>Re.put(`/admin/reviews/${e}`,t),delete:e=>Re.delete(`/admin/reviews/${e}`)},sce=()=>{const[e,t]=g.useState(q2()),r=xr();g.useMemo(()=>P9(),[]);const n=g.useMemo(()=>dk(),[]),a=()=>{const o=e==="light"?"dark":"light";G2(o),t(o)},i=async()=>{try{Xc.logout().catch(()=>{})}catch{}finally{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_role"),localStorage.removeItem("admin_permissions"),r("/admin/login")}};return s.jsx("nav",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 sticky top-0 z-30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[n?"Admin":"Staff"," Dashboard"]}),s.jsx("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${n?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"}`,children:n?s.jsxs(s.Fragment,{children:[s.jsx(oa,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Admin"})]}):s.jsxs(s.Fragment,{children:[s.jsx(tv,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Staff"})]})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors relative",children:[s.jsx(wee,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),s.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e==="light"?s.jsx(M5,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):s.jsx(O5,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),s.jsxs("div",{className:"flex items-center gap-2 pl-3 border-l border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center",children:s.jsx(la,{className:"w-5 h-5 text-white"})}),s.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Logout",children:s.jsx(IS,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]})]})})},Br=({children:e})=>s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex w-full",children:[s.jsx(koe,{}),s.jsxs("div",{className:"flex-1 lg:pl-64 flex flex-col min-h-screen w-full",children:[s.jsx(sce,{}),s.jsx("main",{className:"flex-1 p-4 lg:p-6 overflow-auto w-full",children:s.jsx("div",{className:"max-w-7xl mx-auto w-full",children:e})})]})]}),we=({children:e,variant:t="primary",size:r="md",className:n,disabled:a,loading:i,...o})=>{const l={primary:"gradient-primary text-white hover:opacity-90",secondary:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white",danger:"bg-red-500 text-white hover:bg-red-600",ghost:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return s.jsxs("button",{className:En("rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 relative overflow-hidden",l[t],u[r],n),disabled:a||i,style:{textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased"},...o,children:[i&&s.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{className:"relative z-10",children:e})]})},ace=()=>{const[e,t]=g.useState({email:"",password:""}),[r,n]=g.useState(!1),[a,i]=g.useState(!1),[o,l]=g.useState({}),u=xr(),d=()=>{const m={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(m.email="Please enter a valid email"):m.email="Email is required",e.password?e.password.length<6&&(m.password="Password must be at least 6 characters"):m.password="Password is required",l(m),Object.keys(m).length===0},f=async m=>{if(m.preventDefault(),l({}),!!d()){n(!0);try{let p,v=null;try{if(p=await Xc.login(e),p?.data?.token)v="admin";else throw new Error("Invalid admin response")}catch(x){if(x.response?.status===401||x.response?.status===404)try{if(p=await Xc.loginStaff(e),p?.data?.token)v="staff";else throw new Error("Invalid staff response")}catch(j){throw j}else throw x}if(v&&p?.data?.token){localStorage.setItem("admin_token",p.data.token),localStorage.setItem("admin_role",v),v==="staff"?p.data.staff?.role?.permissions?localStorage.setItem("admin_permissions",JSON.stringify(p.data.staff.role.permissions)):localStorage.setItem("admin_permissions",JSON.stringify([])):localStorage.setItem("admin_permissions",JSON.stringify(["*"]));const x=v==="admin"?"Admin":"Staff";G.success(`Login successful! Welcome, ${x}!`),u("/admin/dashboard")}else throw new Error("Login failed: Invalid response")}catch(p){const v=p.response?.data?.error||p.response?.data?.message||p.message||"Login failed. Please check your credentials.";G.error(v),l({submit:v})}finally{n(!1)}}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-white dark:bg-gray-900",children:s.jsx(Bi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200 dark:border-gray-700 p-8 md:p-10",children:[s.jsxs(Bi.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center mb-4",children:s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"w-16 h-16 object-contain",onError:m=>{m.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}})}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"ShubhVenue"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Admin / Staff Portal Login"})]}),s.jsxs(Bi.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},onSubmit:f,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(di,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",placeholder:"Enter your email",value:e.email,onChange:m=>{t({...e,email:m.target.value}),o.email&&l({...o,email:""})},className:`w-full pl-10 pr-4 py-2.5 rounded-lg border ${o.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-primary focus:border-primary"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 transition-all`,required:!0})]}),o.email&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:o.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(yu,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:a?"text":"password",placeholder:"Enter your password",value:e.password,onChange:m=>{t({...e,password:m.target.value}),o.password&&l({...o,password:""})},className:`w-full pl-10 pr-12 py-2.5 rounded-lg border ${o.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-primary focus:border-primary"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 transition-all`,required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a?s.jsx(Oo,{className:"h-5 w-5"}):s.jsx(Qr,{className:"h-5 w-5"})})]}),o.password&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:o.password})]}),o.submit&&s.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:o.submit})}),s.jsx(we,{type:"submit",className:"w-full mt-6 py-3 text-base font-medium",loading:r,disabled:r,children:r?"Logging in...":"Login to Dashboard"})]}),s.jsx(Bi.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 text-center",children:s.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Secure admin and staff access"})})]})})})},Ot=({children:e,className:t,...r})=>s.jsx("div",{className:En("bg-white dark:bg-gray-800 rounded-2xl shadow-md p-6",t),...r,children:e}),fs=({children:e,className:t})=>s.jsx("div",{className:En("mb-4",t),children:e}),ms=({children:e,className:t})=>s.jsx("h3",{className:En("text-xl font-semibold text-gray-900 dark:text-gray-100",t),children:e}),gn=({children:e,className:t})=>s.jsx("div",{className:En("",t),children:e});var ice=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gk(e){if(typeof e!="string")return!1;var t=ice;return t.includes(e)}var oce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lce=new Set(oce);function eF(e){return typeof e!="string"?!1:lce.has(e)}function tF(e){return typeof e=="string"&&e.startsWith("data-")}function ws(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(eF(r)||tF(r))&&(t[r]=e[r]);return t}function xu(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ws(t)}return typeof e=="object"&&!Array.isArray(e)?ws(e):null}function cs(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(eF(r)||tF(r)||gk(r))&&(t[r]=e[r]);return t}function cce(e){return e==null?null:g.isValidElement(e)?cs(e.props):typeof e=="object"&&!Array.isArray(e)?cs(e):null}var uce=["children","width","height","viewBox","className","style","title","desc"];function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DN.apply(null,arguments)}function dce(e,t){if(e==null)return{};var r,n,a=hce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yk=g.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:u,desc:d}=e,f=dce(e,uce),m=i||{width:n,height:a,x:0,y:0},p=Kt("recharts-surface",o);return g.createElement("svg",DN({},cs(f),{className:p,width:n,height:a,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),g.createElement("title",null,u),g.createElement("desc",null,d),r)}),fce=["children","className"];function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ON.apply(null,arguments)}function mce(e,t){if(e==null)return{};var r,n,a=pce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hr=g.forwardRef((e,t)=>{var{children:r,className:n}=e,a=mce(e,fce),i=Kt("recharts-layer",n);return g.createElement("g",ON({className:i},cs(a),{ref:t}),r)}),rF=g.createContext(null),gce=()=>g.useContext(rF);function vr(e){return function(){return e}}const nF=Math.cos,uv=Math.sin,fi=Math.sqrt,dv=Math.PI,_x=2*dv,RN=Math.PI,LN=2*RN,Bc=1e-6,yce=LN-Bc;function sF(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vce(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sF;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class xce{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sF:vce(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=n-t,d=a-r,f=o-t,m=l-r,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Bc)if(!(Math.abs(m*u-d*f)>Bc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-o,x=a-l,j=u*u+d*d,w=v*v+x*x,S=Math.sqrt(j),P=Math.sqrt(p),k=i*Math.tan((RN-Math.acos((j+p-w)/(2*S*P)))/2),R=k/P,I=k/S;Math.abs(R-1)>Bc&&this._append`L${t+R*f},${r+R*m}`,this._append`A${i},${i},0,0,${+(m*v>f*x)},${this._x1=t+I*u},${this._y1=r+I*d}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),d=t+l,f=r+u,m=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Bc||Math.abs(this._y1-f)>Bc)&&this._append`L${d},${f}`,n&&(p<0&&(p=p%LN+LN),p>yce?this._append`A${n},${n},0,1,${m},${t-l},${r-u}A${n},${n},0,1,${m},${this._x1=d},${this._y1=f}`:p>Bc&&this._append`A${n},${n},0,${+(p>=RN)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function vk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new xce(t)}function xk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aF(e){this._context=e}aF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dx(e){return new aF(e)}function iF(e){return e[0]}function oF(e){return e[1]}function lF(e,t){var r=vr(!0),n=null,a=Dx,i=null,o=vk(l);e=typeof e=="function"?e:e===void 0?iF:vr(e),t=typeof t=="function"?t:t===void 0?oF:vr(t);function l(u){var d,f=(u=xk(u)).length,m,p=!1,v;for(n==null&&(i=a(v=o())),d=0;d<=f;++d)!(d<f&&r(m=u[d],d,u))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(m,d,u),+t(m,d,u));if(v)return i=null,v+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:vr(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:vr(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:vr(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),l):n},l}function qg(e,t,r){var n=null,a=vr(!0),i=null,o=Dx,l=null,u=vk(d);e=typeof e=="function"?e:e===void 0?iF:vr(+e),t=typeof t=="function"?t:vr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?oF:vr(+r);function d(m){var p,v,x,j=(m=xk(m)).length,w,S=!1,P,k=new Array(j),R=new Array(j);for(i==null&&(l=o(P=u())),p=0;p<=j;++p){if(!(p<j&&a(w=m[p],p,m))===S)if(S=!S)v=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=v;--x)l.point(k[x],R[x]);l.lineEnd(),l.areaEnd()}S&&(k[p]=+e(w,p,m),R[p]=+t(w,p,m),l.point(n?+n(w,p,m):k[p],r?+r(w,p,m):R[p]))}if(P)return l=null,P+""||null}function f(){return lF().defined(a).curve(o).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:vr(+m),n=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:vr(+m),d):e},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:vr(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:vr(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:vr(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:vr(+m),d):r},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(r)},d.lineX1=function(){return f().x(n).y(t)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:vr(!!m),d):a},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class cF{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function bce(e){return new cF(e,!0)}function wce(e){return new cF(e,!1)}const bk={draw(e,t){const r=fi(t/dv);e.moveTo(r,0),e.arc(0,0,r,0,_x)}},jce={draw(e,t){const r=fi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},uF=fi(1/3),Nce=uF*2,Sce={draw(e,t){const r=fi(t/Nce),n=r*uF;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},kce={draw(e,t){const r=fi(t),n=-r/2;e.rect(n,n,r,r)}},Cce=.8908130915292852,dF=uv(dv/10)/uv(7*dv/10),Ace=uv(_x/10)*dF,Ice=-nF(_x/10)*dF,Pce={draw(e,t){const r=fi(t*Cce),n=Ace*r,a=Ice*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=_x*i/5,l=nF(o),u=uv(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},Jw=fi(3),Ece={draw(e,t){const r=-fi(t/(Jw*3));e.moveTo(0,r*2),e.lineTo(-Jw*r,-r),e.lineTo(Jw*r,-r),e.closePath()}},wa=-.5,ja=fi(3)/2,FN=1/fi(12),Tce=(FN/2+1)*3,Mce={draw(e,t){const r=fi(t/Tce),n=r/2,a=r*FN,i=n,o=r*FN+r,l=-i,u=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,u),e.lineTo(wa*n-ja*a,ja*n+wa*a),e.lineTo(wa*i-ja*o,ja*i+wa*o),e.lineTo(wa*l-ja*u,ja*l+wa*u),e.lineTo(wa*n+ja*a,wa*a-ja*n),e.lineTo(wa*i+ja*o,wa*o-ja*i),e.lineTo(wa*l+ja*u,wa*u-ja*l),e.closePath()}};function _ce(e,t){let r=null,n=vk(a);e=typeof e=="function"?e:vr(e||bk),t=typeof t=="function"?t:vr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:vr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:vr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function hv(){}function fv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function hF(e){this._context=e}hF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dce(e){return new hF(e)}function fF(e){this._context=e}fF.prototype={areaStart:hv,areaEnd:hv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Oce(e){return new fF(e)}function mF(e){this._context=e}mF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rce(e){return new mF(e)}function pF(e){this._context=e}pF.prototype={areaStart:hv,areaEnd:hv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Lce(e){return new pF(e)}function p_(e){return e<0?-1:1}function g_(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(p_(i)+p_(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function y_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ej(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function mv(e){this._context=e}mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ej(this,this._t0,y_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ej(this,y_(this,r=g_(this,e,t)),r);break;default:ej(this,this._t0,r=g_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function gF(e){this._context=new yF(e)}(gF.prototype=Object.create(mv.prototype)).point=function(e,t){mv.prototype.point.call(this,t,e)};function yF(e){this._context=e}yF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Fce(e){return new mv(e)}function $ce(e){return new gF(e)}function vF(e){this._context=e}vF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=v_(e),a=v_(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function v_(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Bce(e){return new vF(e)}function Ox(e,t){this._context=e,this._t=t}Ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Vce(e){return new Ox(e,.5)}function zce(e){return new Ox(e,0)}function Uce(e){return new Ox(e,1)}function Kd(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function $N(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Wce(e,t){return e[t]}function Hce(e){const t=[];return t.key=e,t}function qce(){var e=vr([]),t=$N,r=Kd,n=Wce;function a(i){var o=Array.from(e.apply(this,arguments),Hce),l,u=o.length,d=-1,f;for(const m of i)for(l=0,++d;l<u;++l)(o[l][d]=[0,+n(m,o[l].key,d,i)]).data=m;for(l=0,f=xk(t(o));l<u;++l)o[f[l]].index=l;return r(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:vr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:vr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?$N:typeof i=="function"?i:vr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Kd,a):r},a}function Gce(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Kd(e,t)}}function Kce(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Kd(e,t)}}function Yce(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,u=0,d=0;l<o;++l){for(var f=e[t[l]],m=f[n][1]||0,p=f[n-1][1]||0,v=(m-p)/2,x=0;x<l;++x){var j=e[t[x]],w=j[n][1]||0,S=j[n-1][1]||0;v+=w-S}u+=m,d+=v*m}a[n-1][1]+=a[n-1][0]=r,u&&(r-=d/u)}a[n-1][1]+=a[n-1][0]=r,Kd(e,t)}}var tj={},rj={},x_;function Zce(){return x_||(x_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(rj)),rj}var nj={},b_;function xF(){return b_||(b_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(nj)),nj}var sj={},w_;function wk(){return w_||(w_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(sj)),sj}var aj={},ij={},j_;function Qce(){return j_||(j_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(ij)),ij}var N_;function jk(){return N_||(N_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qce(),r=wk();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,u="",d="",f=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const m=a[l];d?m==="\\"&&l+1<o?(l++,u+=a[l]):m===d?d="":u+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,i.push(u),u=""):u+=m:m==="["?(f=!0,u&&(i.push(u),u="")):m==="."?u&&(i.push(u),u=""):u+=m,l++}return u&&i.push(u),i}e.toPath=n})(aj)),aj}var S_;function Nk(){return S_||(S_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zce(),r=xF(),n=wk(),a=jk();function i(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?r.isDeepKey(u)?i(l,a.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function o(l,u,d){if(u.length===0)return d;let f=l;for(let m=0;m<u.length;m++){if(f==null||t.isUnsafeProperty(u[m]))return d;f=f[u[m]]}return f===void 0?d:f}e.get=i})(tj)),tj}var oj,k_;function Xce(){return k_||(k_=1,oj=Nk().get),oj}var Jce=Xce();const bu=ua(Jce);var Mn=e=>e===0?0:e>0?1:-1,Ma=e=>typeof e=="number"&&e!=+e,Wo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,nt=e=>(typeof e=="number"||e instanceof Number)&&!Ma(e),Xi=e=>nt(e)||typeof e=="string",eue=0,mm=e=>{var t=++eue;return"".concat(e||"").concat(t)},os=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nt(t)&&typeof t!="string")return n;var i;if(Wo(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Ma(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},bF=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function nr(e,t,r){return nt(e)&&nt(t)?e+r*(t-e):t}function wF(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):bu(n,t))===r)}var Sr=e=>e===null||typeof e>"u",Xm=e=>Sr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function tue(e){return e!=null}function Jm(){}var rue=["type","size","sizeType"];function BN(){return BN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BN.apply(null,arguments)}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){nue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nue(e,t,r){return(t=sue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=aue(e,"string");return typeof t=="symbol"?t:t+""}function aue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iue(e,t){if(e==null)return{};var r,n,a=oue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jF={symbolCircle:bk,symbolCross:jce,symbolDiamond:Sce,symbolSquare:kce,symbolStar:Pce,symbolTriangle:Ece,symbolWye:Mce},lue=Math.PI/180,cue=e=>{var t="symbol".concat(Xm(e));return jF[t]||bk},uue=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*lue;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},due=(e,t)=>{jF["symbol".concat(Xm(e))]=t},Sk=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=iue(e,rue),i=A_(A_({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var p=cue(o),v=_ce().type(p).size(uue(r,n,o)),x=v();if(x!==null)return x},{className:u,cx:d,cy:f}=i,m=cs(i);return nt(d)&&nt(f)&&nt(r)?g.createElement("path",BN({},m,{className:Kt("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};Sk.registerSymbol=due;var NF=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,kk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{gk(a)&&(n[a]=(i=>r[a](r,i)))}),n},hue=(e,t,r)=>n=>(e(t,r,n),null),ep=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];gk(a)&&typeof i=="function"&&(n||(n={}),n[a]=hue(i,t,r))}),n};function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){mue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mue(e,t,r){return(t=pue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pue(e){var t=gue(e,"string");return typeof t=="symbol"?t:t+""}function gue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t){var r=fue({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){vue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vue(e,t,r){return(t=xue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xue(e){var t=bue(e,"string");return typeof t=="symbol"?t:t+""}function bue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ka=32,wue={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function jue(e){var{data:t,iconType:r,inactiveColor:n}=e,a=ka/2,i=ka/6,o=ka/3,l=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline"){var d;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:a,x2:ka,y2:a,className:"recharts-legend-icon"})}if(u==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(ka,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return g.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ka/8,"h").concat(ka,"v").concat(ka*3/4,"h").concat(-ka,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var f=yue({},t);return delete f.legendIcon,g.cloneElement(t.legendIcon,f)}return g.createElement(Sk,{fill:l,cx:a,cy:a,size:ka,sizeType:"diameter",type:u})}function Nue(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=e,l={x:0,y:0,width:ka,height:ka},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,m)=>{var p=f.formatter||a,v=Kt({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:f.inactive});if(f.type==="none")return null;var x=f.inactive?i:f.color,j=p?p(f.value,f,m):f.value;return g.createElement("li",pv({className:v,style:u,key:"legend-item-".concat(m)},ep(e,f,m)),g.createElement(yk,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(j," legend icon")},g.createElement(jue,{data:f,iconType:o,inactiveColor:i})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},j))})}var Sue=e=>{var t=qr(e,wue),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:i},g.createElement(Nue,pv({},t,{payload:r})))},lj={},cj={},E_;function kue(){return E_||(E_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(cj)),cj}var uj={},T_;function SF(){return T_||(T_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(uj)),uj}var dj={},hj={},fj={},M_;function Cue(){return M_||(M_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(fj)),fj}var __;function Ck(){return __||(__=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cue();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(hj)),hj}var mj={},D_;function Aue(){return D_||(D_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(mj)),mj}var O_;function Iue(){return O_||(O_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ck(),r=Aue();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(dj)),dj}var pj={},gj={},R_;function Pue(){return R_||(R_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nk();function r(n){return function(a){return t.get(a,n)}}e.property=r})(gj)),gj}var yj={},vj={},xj={},bj={},L_;function kF(){return L_||(L_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(bj)),bj}var wj={},F_;function CF(){return F_||(F_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(wj)),wj}var jj={},$_;function AF(){return $_||($_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(jj)),jj}var B_;function Eue(){return B_||(B_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kF(),r=CF(),n=AF();function a(f,m,p){return typeof p!="function"?a(f,m,()=>{}):i(f,m,function v(x,j,w,S,P,k){const R=p(x,j,w,S,P,k);return R!==void 0?!!R:i(x,j,v,k)},new Map)}function i(f,m,p,v){if(m===f)return!0;switch(typeof m){case"object":return o(f,m,p,v);case"function":return Object.keys(m).length>0?i(f,{...m},p,v):n.eq(f,m);default:return t.isObject(f)?typeof m=="string"?m==="":!0:n.eq(f,m)}}function o(f,m,p,v){if(m==null)return!0;if(Array.isArray(m))return u(f,m,p,v);if(m instanceof Map)return l(f,m,p,v);if(m instanceof Set)return d(f,m,p,v);const x=Object.keys(m);if(f==null||r.isPrimitive(f))return x.length===0;if(x.length===0)return!0;if(v?.has(m))return v.get(m)===f;v?.set(m,f);try{for(let j=0;j<x.length;j++){const w=x[j];if(!r.isPrimitive(f)&&!(w in f)||m[w]===void 0&&f[w]!==void 0||m[w]===null&&f[w]!==null||!p(f[w],m[w],w,f,m,v))return!1}return!0}finally{v?.delete(m)}}function l(f,m,p,v){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,j]of m.entries()){const w=f.get(x);if(p(w,j,x,f,m,v)===!1)return!1}return!0}function u(f,m,p,v){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let j=0;j<m.length;j++){const w=m[j];let S=!1;for(let P=0;P<f.length;P++){if(x.has(P))continue;const k=f[P];let R=!1;if(p(k,w,j,f,m,v)&&(R=!0),R){x.add(P),S=!0;break}}if(!S)return!1}return!0}function d(f,m,p,v){return m.size===0?!0:f instanceof Set?u([...f],[...m],p,v):!1}e.isMatchWith=a,e.isSetMatch=d})(xj)),xj}var V_;function IF(){return V_||(V_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eue();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(vj)),vj}var Nj={},Sj={},kj={},z_;function Tue(){return z_||(z_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(kj)),kj}var Cj={},U_;function PF(){return U_||(U_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Cj)),Cj}var Aj={},W_;function EF(){return W_||(W_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",m="[object Function]",p="[object ArrayBuffer]",v="[object Object]",x="[object Error]",j="[object DataView]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",P="[object Uint16Array]",k="[object Uint32Array]",R="[object BigUint64Array]",I="[object Int8Array]",L="[object Int16Array]",E="[object Int32Array]",C="[object BigInt64Array]",F="[object Float32Array]",_="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=f,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=R,e.booleanTag=a,e.dataViewTag=j,e.dateTag=l,e.errorTag=x,e.float32ArrayTag=F,e.float64ArrayTag=_,e.functionTag=m,e.int16ArrayTag=L,e.int32ArrayTag=E,e.int8ArrayTag=I,e.mapTag=u,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=P,e.uint32ArrayTag=k,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=S})(Aj)),Aj}var Ij={},H_;function Mue(){return H_||(H_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Ij)),Ij}var q_;function TF(){return q_||(q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tue(),r=PF(),n=EF(),a=CF(),i=Mue();function o(f,m){return l(f,void 0,f,new Map,m)}function l(f,m,p,v=new Map,x=void 0){const j=x?.(f,m,p,v);if(j!==void 0)return j;if(a.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const w=new Array(f.length);v.set(f,w);for(let S=0;S<f.length;S++)w[S]=l(f[S],S,p,v,x);return Object.hasOwn(f,"index")&&(w.index=f.index),Object.hasOwn(f,"input")&&(w.input=f.input),w}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const w=new RegExp(f.source,f.flags);return w.lastIndex=f.lastIndex,w}if(f instanceof Map){const w=new Map;v.set(f,w);for(const[S,P]of f)w.set(S,l(P,S,p,v,x));return w}if(f instanceof Set){const w=new Set;v.set(f,w);for(const S of f)w.add(l(S,void 0,p,v,x));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const w=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,w);for(let S=0;S<f.length;S++)w[S]=l(f[S],S,p,v,x);return w}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const w=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,w),u(w,f,p,v,x),w}if(typeof File<"u"&&f instanceof File){const w=new File([f],f.name,{type:f.type});return v.set(f,w),u(w,f,p,v,x),w}if(typeof Blob<"u"&&f instanceof Blob){const w=new Blob([f],{type:f.type});return v.set(f,w),u(w,f,p,v,x),w}if(f instanceof Error){const w=new f.constructor;return v.set(f,w),w.message=f.message,w.name=f.name,w.stack=f.stack,w.cause=f.cause,u(w,f,p,v,x),w}if(f instanceof Boolean){const w=new Boolean(f.valueOf());return v.set(f,w),u(w,f,p,v,x),w}if(f instanceof Number){const w=new Number(f.valueOf());return v.set(f,w),u(w,f,p,v,x),w}if(f instanceof String){const w=new String(f.valueOf());return v.set(f,w),u(w,f,p,v,x),w}if(typeof f=="object"&&d(f)){const w=Object.create(Object.getPrototypeOf(f));return v.set(f,w),u(w,f,p,v,x),w}return f}function u(f,m,p=f,v,x){const j=[...Object.keys(m),...t.getSymbols(m)];for(let w=0;w<j.length;w++){const S=j[w],P=Object.getOwnPropertyDescriptor(f,S);(P==null||P.writable)&&(f[S]=l(m[S],S,p,v,x))}}function d(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(Sj)),Sj}var G_;function _ue(){return G_||(G_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TF();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Nj)),Nj}var K_;function Due(){return K_||(K_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IF(),r=_ue();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(yj)),yj}var Pj={},Ej={},Tj={},Y_;function Oue(){return Y_||(Y_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TF(),r=EF();function n(a,i){return t.cloneDeepWith(a,(o,l,u,d)=>{const f=i?.(o,l,u,d);if(f!==void 0)return f;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(Tj)),Tj}var Z_;function Rue(){return Z_||(Z_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oue();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ej)),Ej}var Mj={},_j={},Q_;function MF(){return Q_||(Q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(_j)),_j}var Dj={},X_;function Lue(){return X_||(X_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PF();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Dj)),Dj}var J_;function Fue(){return J_||(J_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xF(),r=MF(),n=Lue(),a=jk();function i(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?u=a.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let f=0;f<u.length;f++){const m=u[f];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(Mj)),Mj}var e4;function $ue(){return e4||(e4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IF(),r=wk(),n=Rue(),a=Nk(),i=Fue();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(d){const f=a.get(d,l);return f===void 0?i.has(d,l):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=o})(Pj)),Pj}var t4;function Bue(){return t4||(t4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SF(),r=Pue(),n=Due(),a=$ue();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(pj)),pj}var r4;function Vue(){return r4||(r4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kue(),r=SF(),n=Iue(),a=Bue();function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(lj)),lj}var Oj,n4;function zue(){return n4||(n4=1,Oj=Vue().uniqBy),Oj}var Uue=zue();const s4=ua(Uue);function _F(e,t,r){return t===!0?s4(e,r):typeof t=="function"?s4(e,t):e}var Rj={exports:{}},Lj={},Fj={exports:{}},$j={};var a4;function Wue(){if(a4)return $j;a4=1;var e=nh();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(m,p){var v=p(),x=n({inst:{value:v,getSnapshot:p}}),j=x[0].inst,w=x[1];return i(function(){j.value=v,j.getSnapshot=p,u(j)&&w({inst:j})},[m,v,p]),a(function(){return u(j)&&w({inst:j}),m(function(){u(j)&&w({inst:j})})},[m]),o(v),v}function u(m){var p=m.getSnapshot;m=m.value;try{var v=p();return!r(m,v)}catch{return!0}}function d(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return $j.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,$j}var i4;function Hue(){return i4||(i4=1,Fj.exports=Wue()),Fj.exports}var o4;function que(){if(o4)return Lj;o4=1;var e=nh(),t=Hue();function r(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Lj.useSyncExternalStoreWithSelector=function(d,f,m,p,v){var x=i(null);if(x.current===null){var j={hasValue:!1,value:null};x.current=j}else j=x.current;x=l(function(){function S(L){if(!P){if(P=!0,k=L,L=p(L),v!==void 0&&j.hasValue){var E=j.value;if(v(E,L))return R=E}return R=L}if(E=R,n(k,L))return E;var C=p(L);return v!==void 0&&v(E,C)?(k=L,E):(k=L,R=C)}var P=!1,k,R,I=m===void 0?null:m;return[function(){return S(f())},I===null?void 0:function(){return S(I())}]},[f,m,p,v]);var w=a(d,x[0],x[1]);return o(function(){j.hasValue=!0,j.value=w},[w]),u(w),w},Lj}var l4;function Gue(){return l4||(l4=1,Rj.exports=que()),Rj.exports}var Kue=Gue(),Ak=g.createContext(null),Yue=e=>e,br=()=>{var e=g.useContext(Ak);return e?e.store.dispatch:Yue},Cy=()=>{},Zue=()=>Cy,Que=(e,t)=>e===t;function st(e){var t=g.useContext(Ak);return Kue.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Zue,t?t.store.getState:Cy,t?t.store.getState:Cy,t?e:Cy,Que)}function Xue(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Jue(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ede(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var c4=e=>Array.isArray(e)?e:[e];function tde(e){const t=Array.isArray(e[0])?e[0]:e;return ede(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function rde(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var nde=class{constructor(e){this.value=e}deref(){return this.value}},sde=typeof WeakRef<"u"?WeakRef:nde,ade=0,u4=1;function Gg(){return{s:ade,v:void 0,o:null,p:null}}function DF(e,t={}){let r=Gg();const{resultEqualityCheck:n}=t;let a,i=0;function o(){let l=r;const{length:u}=arguments;for(let m=0,p=u;m<p;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const j=x.get(v);j===void 0?(l=Gg(),x.set(v,l)):l=j}else{let x=l.p;x===null&&(l.p=x=new Map);const j=x.get(v);j===void 0?(l=Gg(),x.set(v,l)):l=j}}const d=l;let f;if(l.s===u4)f=l.v;else if(f=e.apply(null,arguments),i++,n){const m=a?.deref?.()??a;m!=null&&n(m,f)&&(f=m,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new sde(f):f}return d.s=u4,d.v=f,f}return o.clearCache=()=>{r=Gg(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function ide(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,u={},d=a.pop();typeof d=="object"&&(u=d,d=a.pop()),Xue(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...r,...u},{memoize:m,memoizeOptions:p=[],argsMemoize:v=DF,argsMemoizeOptions:x=[]}=f,j=c4(p),w=c4(x),S=tde(a),P=m(function(){return i++,d.apply(null,arguments)},...j),k=v(function(){o++;const I=rde(S,arguments);return l=P.apply(null,I),l},...w);return Object.assign(k,{resultFunc:d,memoizedResultFunc:P,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var Ce=ide(DF),ode=Object.assign((e,t=Ce)=>{Jue(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,u)=>(o[r[u]]=l,o),{}))},{withTypes:()=>ode}),Bj={},Vj={},zj={},d4;function lde(){return d4||(d4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(zj)),zj}var Uj={},Wj={},h4;function OF(){return h4||(h4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Wj)),Wj}var f4;function cde(){return f4||(f4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OF(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(Uj)),Uj}var m4;function ude(){return m4||(m4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lde(),r=cde(),n=jk();function a(i,o,l,u){if(i==null)return[];l=u?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const d=(v,x)=>{let j=v;for(let w=0;w<x.length&&j!=null;++w)j=j[x[w]];return j},f=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:d(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?d(x,v):typeof x=="object"?x[v]:x,m=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return i.map(v=>({original:v,criteria:m.map(x=>f(x,v))})).slice().sort((v,x)=>{for(let j=0;j<m.length;j++){const w=t.compareValues(v.criteria[j],x.criteria[j],l[j]);if(w!==0)return w}return 0}).map(v=>v.original)}e.orderBy=a})(Vj)),Vj}var Hj={},p4;function dde(){return p4||(p4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<i?o(f,u+1):a.push(f)}};return o(r,0),a}e.flatten=t})(Hj)),Hj}var qj={},g4;function RF(){return g4||(g4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MF(),r=Ck(),n=kF(),a=AF();function i(o,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?a.eq(u[l],o):!1}e.isIterateeCall=i})(qj)),qj}var y4;function hde(){return y4||(y4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ude(),r=dde(),n=RF();function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(Bj)),Bj}var Gj,v4;function fde(){return v4||(v4=1,Gj=hde().sortBy),Gj}var mde=fde();const Rx=ua(mde);var LF=e=>e.legend.settings,pde=e=>e.legend.size,gde=e=>e.legend.payload,yde=Ce([gde,LF],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Rx(n,r):n});function vde(){return st(yde)}var Kg=1;function FF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Kg||Math.abs(o.left-t.left)>Kg||Math.abs(o.top-t.top)>Kg||Math.abs(o.width-t.width)>Kg)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function qn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var xde=typeof Symbol=="function"&&Symbol.observable||"@@observable",x4=xde,Kj=()=>Math.random().toString(36).substring(7).split("").join("."),bde={INIT:`@@redux/INIT${Kj()}`,REPLACE:`@@redux/REPLACE${Kj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kj()}`},gv=bde;function Ik(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $F(e,t,r){if(typeof e!="function")throw new Error(qn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(qn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(qn(1));return r($F)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,u=!1;function d(){o===i&&(o=new Map,i.forEach((w,S)=>{o.set(S,w)}))}function f(){if(u)throw new Error(qn(3));return a}function m(w){if(typeof w!="function")throw new Error(qn(4));if(u)throw new Error(qn(5));let S=!0;d();const P=l++;return o.set(P,w),function(){if(S){if(u)throw new Error(qn(6));S=!1,d(),o.delete(P),i=null}}}function p(w){if(!Ik(w))throw new Error(qn(7));if(typeof w.type>"u")throw new Error(qn(8));if(typeof w.type!="string")throw new Error(qn(17));if(u)throw new Error(qn(9));try{u=!0,a=n(a,w)}finally{u=!1}return(i=o).forEach(P=>{P()}),w}function v(w){if(typeof w!="function")throw new Error(qn(10));n=w,p({type:gv.REPLACE})}function x(){const w=m;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(qn(11));function P(){const R=S;R.next&&R.next(f())}return P(),{unsubscribe:w(P)}},[x4](){return this}}}return p({type:gv.INIT}),{dispatch:p,subscribe:m,getState:f,replaceReducer:v,[x4]:x}}function wde(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:gv.INIT})>"u")throw new Error(qn(12));if(typeof r(void 0,{type:gv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qn(13))})}function BF(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{wde(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let u=!1;const d={};for(let f=0;f<n.length;f++){const m=n[f],p=r[m],v=o[m],x=p(v,l);if(typeof x>"u")throw l&&l.type,new Error(qn(14));d[m]=x,u=u||x!==v}return u=u||n.length!==Object.keys(o).length,u?d:o}}function yv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function jde(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(qn(15))};const o={getState:a.getState,dispatch:(u,...d)=>i(u,...d)},l=e.map(u=>u(o));return i=yv(...l)(a.dispatch),{...a,dispatch:i}}}function VF(e){return Ik(e)&&"type"in e&&typeof e.type=="string"}var zF=Symbol.for("immer-nothing"),b4=Symbol.for("immer-draftable"),js=Symbol.for("immer-state");function ti(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ra=Object,Yd=ra.getPrototypeOf,vv="constructor",Lx="prototype",VN="configurable",xv="enumerable",Ay="writable",pm="value",Ho=e=>!!e&&!!e[js];function ui(e){return e?UF(e)||Fx(e)||!!e[b4]||!!e[vv]?.[b4]||$x(e)||Bx(e):!1}var Nde=ra[Lx][vv].toString(),w4=new WeakMap;function UF(e){if(!e||!Pk(e))return!1;const t=Yd(e);if(t===null||t===ra[Lx])return!0;const r=ra.hasOwnProperty.call(t,vv)&&t[vv];if(r===Object)return!0;if(!jd(r))return!1;let n=w4.get(r);return n===void 0&&(n=Function.toString.call(r),w4.set(r,n)),n===Nde}function tp(e,t,r=!0){rp(e)===0?(r?Reflect.ownKeys(e):ra.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function rp(e){const t=e[js];return t?t.type_:Fx(e)?1:$x(e)?2:Bx(e)?3:0}var j4=(e,t,r=rp(e))=>r===2?e.has(t):ra[Lx].hasOwnProperty.call(e,t),zN=(e,t,r=rp(e))=>r===2?e.get(t):e[t],bv=(e,t,r,n=rp(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Sde(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Fx=Array.isArray,$x=e=>e instanceof Map,Bx=e=>e instanceof Set,Pk=e=>typeof e=="object",jd=e=>typeof e=="function",Yj=e=>typeof e=="boolean",ko=e=>e.copy_||e.base_,Ek=e=>e.modified_?e.copy_:e.base_;function UN(e,t){if($x(e))return new Map(e);if(Bx(e))return new Set(e);if(Fx(e))return Array[Lx].slice.call(e);const r=UF(e);if(t===!0||t==="class_only"&&!r){const n=ra.getOwnPropertyDescriptors(e);delete n[js];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l[Ay]===!1&&(l[Ay]=!0,l[VN]=!0),(l.get||l.set)&&(n[o]={[VN]:!0,[Ay]:!0,[xv]:l[xv],[pm]:e[o]})}return ra.create(Yd(e),n)}else{const n=Yd(e);if(n!==null&&r)return{...e};const a=ra.create(n);return ra.assign(a,e)}}function Tk(e,t=!1){return Vx(e)||Ho(e)||!ui(e)||(rp(e)>1&&ra.defineProperties(e,{set:Yg,add:Yg,clear:Yg,delete:Yg}),ra.freeze(e),t&&tp(e,(r,n)=>{Tk(n,!0)},!1)),e}function kde(){ti(2)}var Yg={[pm]:kde};function Vx(e){return e===null||!Pk(e)?!0:ra.isFrozen(e)}var wv="MapSet",WN="Patches",WF={};function Zd(e){const t=WF[e];return t||ti(0,e),t}var Cde=e=>!!WF[e],gm,HF=()=>gm,Ade=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Cde(wv)?Zd(wv):void 0});function N4(e,t){t&&(e.patchPlugin_=Zd(WN),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function HN(e){qN(e),e.drafts_.forEach(Ide),e.drafts_=null}function qN(e){e===gm&&(gm=e.parent_)}var S4=e=>gm=Ade(gm,e);function Ide(e){const t=e[js];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function k4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[js].modified_&&(HN(t),ti(4)),ui(e)&&(e=C4(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[js].base_,e,t)}else e=C4(t,r);return Pde(t,e,!0),HN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zF?e:void 0}function C4(e,t){if(Vx(t))return t;const r=t[js];if(!r)return Mk(t,e.handledSet_,e);if(!zx(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);KF(r,e)}return r.copy_}function Pde(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Tk(t,r)}function qF(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var zx=(e,t)=>e.scope_===t,Ede=[];function GF(e,t,r,n){const a=ko(e),i=e.type_;if(n!==void 0&&zN(a,n,i)===t){bv(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;tp(a,(u,d)=>{if(Ho(d)){const f=l.get(d)||[];f.push(u),l.set(d,f)}})}const o=e.draftLocations_.get(t)??Ede;for(const l of o)bv(a,l,r,i)}function Tde(e,t,r){e.callbacks_.push(function(a){const i=t;if(!i||!zx(i,a))return;a.mapSetPlugin_?.fixSetContents(i);const o=Ek(i);GF(e,i.draft_??i,o,r),KF(i,a)})}function KF(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}qF(e)}}function Mde(e,t,r){const{scope_:n}=e;if(Ho(r)){const a=r[js];zx(a,n)&&a.callbacks_.push(function(){Iy(e);const o=Ek(a);GF(e,r,o,t)})}else ui(r)&&e.callbacks_.push(function(){const i=ko(e);zN(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Mk(zN(e.copy_,t,e.type_),n.handledSet_,n)})}function Mk(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ho(e)||t.has(e)||!ui(e)||Vx(e)||(t.add(e),tp(e,(n,a)=>{if(Ho(a)){const i=a[js];if(zx(i,r)){const o=Ek(i);bv(e,n,o,e.type_),qF(i)}}else ui(a)&&Mk(a,t,r)})),e}function _de(e,t){const r=Fx(e),n={type_:r?1:0,scope_:t?t.scope_:HF(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=_k;r&&(a=[n],i=ym);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,[l,n]}var _k={get(e,t){if(t===js)return e;const r=ko(e);if(!j4(r,t,e.type_))return Dde(e,r,t);const n=r[t];if(e.finalized_||!ui(n))return n;if(n===Zj(e.base_,t)){Iy(e);const a=e.type_===1?+t:t,i=KN(e.scope_,n,e,a);return e.copy_[a]=i}return n},has(e,t){return t in ko(e)},ownKeys(e){return Reflect.ownKeys(ko(e))},set(e,t,r){const n=YF(ko(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Zj(ko(e),t),i=a?.[js];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Sde(r,a)&&(r!==void 0||j4(e.base_,t,e.type_)))return!0;Iy(e),GN(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Mde(e,t,r)),!0},deleteProperty(e,t){return Iy(e),Zj(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),GN(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ko(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Ay]:!0,[VN]:e.type_!==1||t!=="length",[xv]:n[xv],[pm]:r[t]}},defineProperty(){ti(11)},getPrototypeOf(e){return Yd(e.base_)},setPrototypeOf(){ti(12)}},ym={};tp(_k,(e,t)=>{ym[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});ym.deleteProperty=function(e,t){return ym.set.call(this,e,t,void 0)};ym.set=function(e,t,r){return _k.set.call(this,e[0],t,r,e[0])};function Zj(e,t){const r=e[js];return(r?ko(r):e)[t]}function Dde(e,t,r){const n=YF(t,r);return n?pm in n?n[pm]:n.get?.call(e.draft_):void 0}function YF(e,t){if(!(t in e))return;let r=Yd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Yd(r)}}function GN(e){e.modified_||(e.modified_=!0,e.parent_&&GN(e.parent_))}function Iy(e){e.copy_||(e.assigned_=new Map,e.copy_=UN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ode=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(jd(r)&&!jd(n)){const o=n;n=r;const l=this;return function(d=o,...f){return l.produce(d,m=>n.call(this,m,...f))}}jd(n)||ti(6),a!==void 0&&!jd(a)&&ti(7);let i;if(ui(r)){const o=S4(this),l=KN(o,r,void 0);let u=!0;try{i=n(l),u=!1}finally{u?HN(o):qN(o)}return N4(o,a),k4(i,o)}else if(!r||!Pk(r)){if(i=n(r),i===void 0&&(i=r),i===zF&&(i=void 0),this.autoFreeze_&&Tk(i,!0),a){const o=[],l=[];Zd(WN).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),a(o,l)}return i}else ti(1,r)},this.produceWithPatches=(r,n)=>{if(jd(r))return(l,...u)=>this.produceWithPatches(l,d=>r(d,...u));let a,i;return[this.produce(r,n,(l,u)=>{a=l,i=u}),a,i]},Yj(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Yj(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Yj(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ui(t)||ti(8),Ho(t)&&(t=ci(t));const r=S4(this),n=KN(r,t,void 0);return n[js].isManual_=!0,qN(r),n}finishDraft(t,r){const n=t&&t[js];(!n||!n.isManual_)&&ti(9);const{scope_:a}=n;return N4(a,r),k4(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Zd(WN).applyPatches_;return Ho(t)?a(t,r):this.produce(t,i=>a(i,r))}};function KN(e,t,r,n){const[a,i]=$x(t)?Zd(wv).proxyMap_(t,r):Bx(t)?Zd(wv).proxySet_(t,r):_de(t,r);return(r?.scope_??HF()).drafts_.push(a),i.callbacks_=r?.callbacks_??[],i.key_=n,r&&n!==void 0?Tde(r,i,n):i.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:d}=u;i.modified_&&d&&d.generatePatches_(i,[],u)}),a}function ci(e){return Ho(e)||ti(10,e),ZF(e)}function ZF(e){if(!ui(e)||Vx(e))return e;const t=e[js];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=UN(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=UN(e,!0);return tp(r,(a,i)=>{bv(r,a,ZF(i))},n),t&&(t.finalized_=!1),r}var Rde=new Ode,QF=Rde.produce;function XF(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var Lde=XF(),Fde=XF,$de=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yv:yv.apply(null,arguments)};function _a(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(sa(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>VF(n)&&n.type===e,r}var JF=class Rf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Rf.prototype)}static get[Symbol.species](){return Rf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Rf(...t[0].concat(this)):new Rf(...t.concat(this))}};function A4(e){return ui(e)?QF(e,()=>{}):e}function Zg(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Bde(e){return typeof e=="boolean"}var Vde=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new JF;return r&&(Bde(r)?o.push(Lde):o.push(Fde(r.extraArgument))),o},e$="RTK_autoBatch",Ir=()=>e=>({payload:e,meta:{[e$]:!0}}),I4=e=>t=>{setTimeout(t,e)},t$=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:I4(10):e.type==="callback"?e.queueNotification:I4(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const m=()=>a&&f(),p=n.subscribe(m);return l.add(f),()=>{p(),l.delete(f)}},dispatch(f){try{return a=!f?.meta?.[e$],i=!a,i&&(o||(o=!0,u(d))),n.dispatch(f)}finally{a=!0}}})},zde=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new JF(e);return n&&a.push(t$(typeof n=="object"?n:void 0)),a};function Ude(e){const t=Vde(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Ik(r))l=BF(r);else throw new Error(sa(1));let u;typeof n=="function"?u=n(t):u=t();let d=yv;a&&(d=$de({trace:!1,...typeof a=="object"&&a}));const f=jde(...u),m=zde(f);let p=typeof o=="function"?o(m):m();const v=d(...p);return $F(l,i,v)}function r$(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(sa(28));if(l in t)throw new Error(sa(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function Wde(e){return typeof e=="function"}function Hde(e,t){let[r,n,a]=r$(t),i;if(Wde(e))i=()=>A4(e());else{const l=A4(e);i=()=>l}function o(l=i(),u){let d=[r[u.type],...n.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[a]),d.reduce((f,m)=>{if(m)if(Ho(f)){const v=m(f,u);return v===void 0?f:v}else{if(ui(f))return QF(f,p=>m(p,u));{const p=m(f,u);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},l)}return o.getInitialState=i,o}var qde="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gde=(e=21)=>{let t="",r=e;for(;r--;)t+=qde[Math.random()*64|0];return t},Kde=Symbol.for("rtk-slice-createasyncthunk");function Yde(e,t){return`${e}/${t}`}function Zde({creators:e}={}){const t=e?.asyncThunk?.[Kde];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(sa(11));const o=(typeof n.reducers=="function"?n.reducers(Xde()):n.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,R){const I=typeof k=="string"?k:k.type;if(!I)throw new Error(sa(12));if(I in u.sliceCaseReducersByType)throw new Error(sa(13));return u.sliceCaseReducersByType[I]=R,d},addMatcher(k,R){return u.sliceMatchers.push({matcher:k,reducer:R}),d},exposeAction(k,R){return u.actionCreators[k]=R,d},exposeCaseReducer(k,R){return u.sliceCaseReducersByName[k]=R,d}};l.forEach(k=>{const R=o[k],I={reducerName:k,type:Yde(a,k),createNotation:typeof n.reducers=="function"};ehe(R)?rhe(I,R,d,t):Jde(I,R,d)});function f(){const[k={},R=[],I=void 0]=typeof n.extraReducers=="function"?r$(n.extraReducers):[n.extraReducers],L={...k,...u.sliceCaseReducersByType};return Hde(n.initialState,E=>{for(let C in L)E.addCase(C,L[C]);for(let C of u.sliceMatchers)E.addMatcher(C.matcher,C.reducer);for(let C of R)E.addMatcher(C.matcher,C.reducer);I&&E.addDefaultCase(I)})}const m=k=>k,p=new Map,v=new WeakMap;let x;function j(k,R){return x||(x=f()),x(k,R)}function w(){return x||(x=f()),x.getInitialState()}function S(k,R=!1){function I(E){let C=E[k];return typeof C>"u"&&R&&(C=Zg(v,I,w)),C}function L(E=m){const C=Zg(p,R,()=>new WeakMap);return Zg(C,E,()=>{const F={};for(const[_,T]of Object.entries(n.selectors??{}))F[_]=Qde(T,E,()=>Zg(v,E,w),R);return F})}return{reducerPath:k,getSelectors:L,get selectors(){return L(I)},selectSlice:I}}const P={name:a,reducer:j,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...S(i),injectInto(k,{reducerPath:R,...I}={}){const L=R??i;return k.inject({reducerPath:L,reducer:j},I),{...P,...S(L,!0)}}};return P}}function Qde(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Bs=Zde();function Xde(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Jde({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!the(n))throw new Error(sa(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?_a(e,o):_a(e))}function ehe(e){return e._reducerDefinitionType==="asyncThunk"}function the(e){return e._reducerDefinitionType==="reducerWithPrepare"}function rhe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(sa(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:u,settled:d,options:f}=r,m=a(e,i,f);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),l&&n.addCase(m.pending,l),u&&n.addCase(m.rejected,u),d&&n.addMatcher(m.settled,d),n.exposeCaseReducer(t,{fulfilled:o||Qg,pending:l||Qg,rejected:u||Qg,settled:d||Qg})}function Qg(){}var nhe="task",n$="listener",s$="completed",Dk="cancelled",she=`task-${Dk}`,ahe=`task-${s$}`,YN=`${n$}-${Dk}`,ihe=`${n$}-${s$}`,Ux=class{constructor(e){this.code=e,this.message=`${nhe} ${Dk} (reason: ${e})`}name="TaskAbortError";message},Ok=(e,t)=>{if(typeof e!="function")throw new TypeError(sa(32))},jv=()=>{},a$=(e,t=jv)=>(e.catch(t),e),i$=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),lu=e=>{if(e.aborted)throw new Ux(e.reason)};function o$(e,t){let r=jv;return new Promise((n,a)=>{const i=()=>a(new Ux(e.reason));if(e.aborted){i();return}r=i$(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=jv})}var ohe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ux?"cancelled":"rejected",error:r}}finally{t?.()}},Nv=e=>t=>a$(o$(e,t).then(r=>(lu(e),r))),l$=e=>{const t=Nv(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Bd}=Object,P4={},Wx="listenerMiddleware",lhe=(e,t)=>{const r=n=>i$(e,()=>n.abort(e.reason));return(n,a)=>{Ok(n);const i=new AbortController;r(i);const o=ohe(async()=>{lu(e),lu(i.signal);const l=await n({pause:Nv(i.signal),delay:l$(i.signal),signal:i.signal});return lu(i.signal),l},()=>i.abort(ahe));return a?.autoJoin&&t.push(o.catch(jv)),{result:Nv(e)(o),cancel(){i.abort(she)}}}},che=(e,t)=>{const r=async(n,a)=>{lu(t);let i=()=>{};const l=[new Promise((u,d)=>{let f=e({predicate:n,effect:(m,p)=>{p.unsubscribe(),u([m,p.getState(),p.getOriginalState()])}});i=()=>{f(),d()}})];a!=null&&l.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await o$(t,Promise.race(l));return lu(t),u}finally{i()}};return(n,a)=>a$(r(n,a))},c$=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=_a(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(sa(21));return Ok(i),{predicate:a,type:t,effect:i}},u$=Bd(e=>{const{type:t,predicate:r,effect:n}=c$(e);return{id:Gde(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(sa(22))}}},{withTypes:()=>u$}),E4=(e,t)=>{const{type:r,effect:n,predicate:a}=c$(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},ZN=e=>{e.pending.forEach(t=>{t.abort(YN)})},uhe=(e,t)=>()=>{for(const r of t.keys())ZN(r);e.clear()},T4=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},d$=Bd(_a(`${Wx}/add`),{withTypes:()=>d$}),dhe=_a(`${Wx}/removeAll`),h$=Bd(_a(`${Wx}/remove`),{withTypes:()=>h$}),hhe=(...e)=>{console.error(`${Wx}/error`,...e)},np=(e={})=>{const t=new Map,r=new Map,n=v=>{const x=r.get(v)??0;r.set(v,x+1)},a=v=>{const x=r.get(v)??1;x===1?r.delete(v):r.set(v,x-1)},{extra:i,onError:o=hhe}=e;Ok(o);const l=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),x=>{v.unsubscribe(),x?.cancelActive&&ZN(v)}),u=v=>{const x=E4(t,v)??u$(v);return l(x)};Bd(u,{withTypes:()=>u});const d=v=>{const x=E4(t,v);return x&&(x.unsubscribe(),v.cancelActive&&ZN(x)),!!x};Bd(d,{withTypes:()=>d});const f=async(v,x,j,w)=>{const S=new AbortController,P=che(u,S.signal),k=[];try{v.pending.add(S),n(v),await Promise.resolve(v.effect(x,Bd({},j,{getOriginalState:w,condition:(R,I)=>P(R,I).then(Boolean),take:P,delay:l$(S.signal),pause:Nv(S.signal),extra:i,signal:S.signal,fork:lhe(S.signal,k),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,I,L)=>{R!==S&&(R.abort(YN),L.delete(R))})},cancel:()=>{S.abort(YN),v.pending.delete(S)},throwIfCancelled:()=>{lu(S.signal)}})))}catch(R){R instanceof Ux||T4(o,R,{raisedBy:"effect"})}finally{await Promise.all(k),S.abort(ihe),a(v),v.pending.delete(S)}},m=uhe(t,r);return{middleware:v=>x=>j=>{if(!VF(j))return x(j);if(d$.match(j))return u(j.payload);if(dhe.match(j)){m();return}if(h$.match(j))return d(j.payload);let w=v.getState();const S=()=>{if(w===P4)throw new Error(sa(23));return w};let P;try{if(P=x(j),t.size>0){const k=v.getState(),R=Array.from(t.values());for(const I of R){let L=!1;try{L=I.predicate(j,k,w)}catch(E){L=!1,T4(o,E,{raisedBy:"predicate"})}L&&f(I,j,v,S)}}}finally{w=P4}return P},startListening:u,stopListening:d,clearListeners:m}};function sa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fhe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},f$=Bs({name:"chartLayout",initialState:fhe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:mhe,setLayout:phe,setChartSize:ghe,setScale:yhe}=f$.actions,vhe=f$.reducer;function m$(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(n){xhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xhe(e,t,r){return(t=bhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bhe(e){var t=whe(e,"string");return typeof t=="symbol"?t:t+""}function whe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lr(e,t,r){return Sr(e)||Sr(t)?r:Xi(t)?bu(e,t,r):typeof t=="function"?t(e):r}var jhe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&nt(e[i]))return Id(Id({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&nt(e[o]))return Id(Id({},e),{},{[o]:e[o]+(a||0)})}return e},so=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",p$=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},g$=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:m,niceTicks:p,axisType:v}=e;if(!o)return null;var x=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,j=a==="category"&&o.bandwidth?o.bandwidth()/x:0;if(j=v==="angleAxis"&&i&&i.length>=2?Mn(i[0]-i[1])*2*j:j,m||p){var w=(m||p||[]).map((S,P)=>{var k=n?n.indexOf(S):S;return{coordinate:o(k)+j,value:S,offset:j,index:P}});return w.filter(S=>!Ma(S.coordinate))}return u&&d?d.map((S,P)=>({coordinate:o(S)+j,value:S,index:P,offset:j})):o.ticks&&f!=null?o.ticks(f).map((S,P)=>({coordinate:o(S)+j,value:S,offset:j,index:P})):o.domain().map((S,P)=>({coordinate:o(S)+j,value:n?n[S]:S,index:P,offset:j}))},_4=1e-4,Nhe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-_4,i=Math.max(n[0],n[1])+_4,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},She=(e,t)=>{if(!t||t.length!==2||!nt(t[0])||!nt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!nt(e[0])||e[0]<r)&&(a[0]=r),(!nt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},khe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=Ma(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},Che=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Ma(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Ahe={sign:khe,expand:Gce,none:Kd,silhouette:Kce,wiggle:Yce,positive:Che},Ihe=(e,t,r)=>{var n=Ahe[r],a=qce().keys(t).value((i,o)=>Number(lr(i,o,0))).order($N).offset(n);return a(e)};function y$(e){return e==null?void 0:String(e)}function Sv(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Sr(a[t.dataKey])){var l=wF(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=lr(a,Sr(o)?t.dataKey:o);return Sr(u)?null:t.scale(u)}var D4=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=lr(i,t.dataKey,t.scale.domain()[o]);return Sr(l)?null:t.scale(l)-a/2+n},Phe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Ehe=e=>{var t=e.flat(2).filter(nt);return[Math.min(...t),Math.max(...t)]},The=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Mhe=(e,t,r)=>{if(e!=null)return The(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((u,d)=>{var f=m$(d,t,r),m=Ehe(f);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},O4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,R4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Rx(t,f=>f.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var u=a[o],d=a[o-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function L4(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Id(Id({},t),{},{dataKey:r,payload:n,value:a,name:i})}function uc(e,t){if(e)return String(e);if(typeof t=="string")return t}var _he=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Dhe=(e,t)=>t==="centric"?e.angle:e.radius,Jo=e=>e.layout.width,el=e=>e.layout.height,Ohe=e=>e.layout.scale,v$=e=>e.layout.margin,Hx=Ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),qx=Ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),x$="data-recharts-item-index",b$="data-recharts-item-data-key",sp=60;function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){Rhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rhe(e,t,r){return(t=Lhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lhe(e){var t=Fhe(e,"string");return typeof t=="symbol"?t:t+""}function Fhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $he=e=>e.brush.height;function Bhe(e){var t=qx(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:sp;return r+a}return r},0)}function Vhe(e){var t=qx(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:sp;return r+a}return r},0)}function zhe(e){var t=Hx(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Uhe(e){var t=Hx(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var bn=Ce([Jo,el,v$,$he,Bhe,Vhe,zhe,Uhe,LF,pde],(e,t,r,n,a,i,o,l,u,d)=>{var f={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+o,bottom:(r.bottom||0)+l},p=Xg(Xg({},m),f),v=p.bottom;p.bottom+=n,p=jhe(p,u,d);var x=e-p.left-p.right,j=t-p.top-p.bottom;return Xg(Xg({brushBottom:v},p),{},{width:Math.max(x,0),height:Math.max(j,0)})}),Whe=Ce(bn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Rk=Ce(Jo,el,(e,t)=>({x:0,y:0,width:e,height:t})),Hhe=g.createContext(null),Dn=()=>g.useContext(Hhe)!=null,Gx=e=>e.brush,Kx=Ce([Gx,bn,v$],(e,t,r)=>({height:e.height,x:nt(e.x)?e.x:t.left,y:nt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:nt(e.width)?e.width:t.width})),Qj={},Xj={},Jj={},$4;function qhe(){return $4||($4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const u=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),f=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{d&&f(),j()};let p=null;const v=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},n)},x=()=>{p!==null&&(clearTimeout(p),p=null)},j=()=>{x(),o=void 0,l=null},w=()=>{f()},S=function(...P){if(a?.aborted)return;o=this,l=P;const k=p==null;v(),u&&k&&f()};return S.schedule=v,S.cancel=j,S.flush=w,a?.addEventListener("abort",j,{once:!0}),S}e.debounce=t})(Jj)),Jj}var B4;function Ghe(){return B4||(B4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qhe();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:u}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let f,m=null;const p=t.debounce(function(...j){f=n.apply(this,j),m=null},a,{edges:d}),v=function(...j){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(f=n.apply(this,j),m=Date.now(),p.cancel(),p.schedule(),f):(p.apply(this,j),f)},x=()=>(p.flush(),f);return v.cancel=p.cancel,v.flush=x,v}e.debounce=r})(Xj)),Xj}var V4;function Khe(){return V4||(V4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ghe();function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(Qj)),Qj}var e1,z4;function Yhe(){return z4||(z4=1,e1=Khe().throttle),e1}var Zhe=Yhe();const Qhe=ua(Zhe);var kv=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},w$=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=Wo(n)?e:Number(n),u=Wo(a)?t:Number(a);return i&&i>0&&(l?u=l/i:u&&(l=u*i),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},Xhe={width:0,height:0,overflow:"visible"},Jhe={width:0,overflowX:"visible"},efe={height:0,overflowY:"visible"},tfe={},rfe=e=>{var{width:t,height:r}=e,n=Wo(t),a=Wo(r);return n&&a?Xhe:n?Jhe:a?efe:tfe};function nfe(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function kr(e){return Number.isFinite(e)}function Ji(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QN.apply(null,arguments)}function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){sfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sfe(e,t,r){return(t=afe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function afe(e){var t=ife(e,"string");return typeof t=="symbol"?t:t+""}function ife(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j$=g.createContext({width:-1,height:-1});function ofe(e){return Ji(e.width)&&Ji(e.height)}function N$(e){var{children:t,width:r,height:n}=e,a=g.useMemo(()=>({width:r,height:n}),[r,n]);return ofe(a)?g.createElement(j$.Provider,{value:a},t):null}var Lk=()=>g.useContext(j$),lfe=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:f=0,id:m,className:p,onResize:v,style:x={}}=e,j=g.useRef(null),w=g.useRef();w.current=v,g.useImperativeHandle(t,()=>j.current);var[S,P]=g.useState({containerWidth:n.width,containerHeight:n.height}),k=g.useCallback((C,F)=>{P(_=>{var T=Math.round(C),M=Math.round(F);return _.containerWidth===T&&_.containerHeight===M?_:{containerWidth:T,containerHeight:M}})},[]);g.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return Jm;var C=M=>{var $,{width:J,height:q}=M[0].contentRect;k(J,q),($=w.current)===null||$===void 0||$.call(w,J,q)};f>0&&(C=Qhe(C,f,{trailing:!0,leading:!1}));var F=new ResizeObserver(C),{width:_,height:T}=j.current.getBoundingClientRect();return k(_,T),F.observe(j.current),()=>{F.disconnect()}},[k,f]);var{containerWidth:R,containerHeight:I}=S;kv(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:L,calculatedHeight:E}=w$(R,I,{width:a,height:i,aspect:r,maxHeight:u});return kv(L!=null&&L>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,E,a,i,o,l,r),g.createElement("div",{id:m?"".concat(m):void 0,className:Kt("recharts-responsive-container",p),style:W4(W4({},x),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:u}),ref:j},g.createElement("div",{style:rfe({width:a,height:i})},g.createElement(N$,{width:L,height:E},d)))}),Vi=g.forwardRef((e,t)=>{var r=Lk();if(Ji(r.width)&&Ji(r.height))return e.children;var{width:n,height:a}=nfe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=w$(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return nt(i)&&nt(o)?g.createElement(N$,{width:i,height:o},e.children):g.createElement(lfe,QN({},e,{width:n,height:a,ref:t}))});function S$(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Yx=()=>{var e,t=Dn(),r=st(Whe),n=st(Kx),a=(e=st(Gx))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},cfe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},k$=()=>{var e;return(e=st(bn))!==null&&e!==void 0?e:cfe},Fk=()=>st(Jo),$k=()=>st(el),ufe=()=>st(e=>e.layout.margin),Vt=e=>e.layout.layoutType,Eu=()=>st(Vt),dfe=()=>{var e=Eu();if(e==="horizontal"||e==="vertical")return e},hfe=()=>{var e=Eu();return e!==void 0},Zx=e=>{var t=br(),r=Dn(),{width:n,height:a}=e,i=Lk(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),g.useEffect(()=>{!r&&Ji(o)&&Ji(l)&&t(ghe({width:o,height:l}))},[t,r,o,l]),null},C$=Symbol.for("immer-nothing"),H4=Symbol.for("immer-draftable"),ca=Symbol.for("immer-state");function ri(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vm=Object.getPrototypeOf;function Qd(e){return!!e&&!!e[ca]}function wu(e){return e?A$(e)||Array.isArray(e)||!!e[H4]||!!e.constructor?.[H4]||ap(e)||Xx(e):!1}var ffe=Object.prototype.constructor.toString(),q4=new WeakMap;function A$(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=q4.get(r);return n===void 0&&(n=Function.toString.call(r),q4.set(r,n)),n===ffe}function Cv(e,t,r=!0){Qx(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Qx(e){const t=e[ca];return t?t.type_:Array.isArray(e)?1:ap(e)?2:Xx(e)?3:0}function XN(e,t){return Qx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function I$(e,t,r){const n=Qx(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function mfe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ap(e){return e instanceof Map}function Xx(e){return e instanceof Set}function Vc(e){return e.copy_||e.base_}function JN(e,t){if(ap(e))return new Map(e);if(Xx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=A$(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ca];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(vm(e),n)}else{const n=vm(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Bk(e,t=!1){return Jx(e)||Qd(e)||!wu(e)||(Qx(e)>1&&Object.defineProperties(e,{set:Jg,add:Jg,clear:Jg,delete:Jg}),Object.freeze(e),t&&Object.values(e).forEach(r=>Bk(r,!0))),e}function pfe(){ri(2)}var Jg={value:pfe};function Jx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var gfe={};function ju(e){const t=gfe[e];return t||ri(0,e),t}var xm;function P$(){return xm}function yfe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function G4(e,t){t&&(ju("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function e2(e){t2(e),e.drafts_.forEach(vfe),e.drafts_=null}function t2(e){e===xm&&(xm=e.parent_)}function K4(e){return xm=yfe(xm,e)}function vfe(e){const t=e[ca];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Y4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ca].modified_&&(e2(t),ri(4)),wu(e)&&(e=Av(t,e),t.parent_||Iv(t,e)),t.patches_&&ju("Patches").generateReplacementPatches_(r[ca].base_,e,t.patches_,t.inversePatches_)):e=Av(t,r,[]),e2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==C$?e:void 0}function Av(e,t,r){if(Jx(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[ca];if(!a)return Cv(t,(i,o)=>Z4(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Iv(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),Cv(o,(u,d)=>Z4(e,a,i,u,d,r,l),n),Iv(e,i,!1),r&&e.patches_&&ju("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function Z4(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=Jx(a);if(!(l&&!o)){if(Qd(a)){const u=i&&t&&t.type_!==3&&!XN(t.assigned_,n)?i.concat(n):void 0,d=Av(e,a,u);if(I$(r,n,d),Qd(d))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(wu(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Av(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(ap(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Iv(e,a)}}}function Iv(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Bk(t,r)}function xfe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:P$(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Vk;r&&(a=[n],i=bm);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var Vk={get(e,t){if(t===ca)return e;const r=Vc(e);if(!XN(r,t))return bfe(e,r,t);const n=r[t];return e.finalized_||!wu(n)?n:n===t1(e.base_,t)?(r1(e),e.copy_[t]=n2(n,e)):n},has(e,t){return t in Vc(e)},ownKeys(e){return Reflect.ownKeys(Vc(e))},set(e,t,r){const n=E$(Vc(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=t1(Vc(e),t),i=a?.[ca];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(mfe(r,a)&&(r!==void 0||XN(e.base_,t)))return!0;r1(e),r2(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return t1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,r1(e),r2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Vc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ri(11)},getPrototypeOf(e){return vm(e.base_)},setPrototypeOf(){ri(12)}},bm={};Cv(Vk,(e,t)=>{bm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});bm.deleteProperty=function(e,t){return bm.set.call(this,e,t,void 0)};bm.set=function(e,t,r){return Vk.set.call(this,e[0],t,r,e[0])};function t1(e,t){const r=e[ca];return(r?Vc(r):e)[t]}function bfe(e,t,r){const n=E$(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function E$(e,t){if(!(t in e))return;let r=vm(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=vm(r)}}function r2(e){e.modified_||(e.modified_=!0,e.parent_&&r2(e.parent_))}function r1(e){e.copy_||(e.copy_=JN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var wfe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(u=i,...d){return o.produce(u,f=>r.call(this,f,...d))}}typeof r!="function"&&ri(6),n!==void 0&&typeof n!="function"&&ri(7);let a;if(wu(t)){const i=K4(this),o=n2(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?e2(i):t2(i)}return G4(i,n),Y4(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===C$&&(a=void 0),this.autoFreeze_&&Bk(a,!0),n){const i=[],o=[];ju("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else ri(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){wu(e)||ri(8),Qd(e)&&(e=jfe(e));const t=K4(this),r=n2(e,void 0);return r[ca].isManual_=!0,t2(t),r}finishDraft(e,t){const r=e&&e[ca];(!r||!r.isManual_)&&ri(9);const{scope_:n}=r;return G4(n,t),Y4(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ju("Patches").applyPatches_;return Qd(e)?n(e,t):this.produce(e,a=>n(a,t))}};function n2(e,t){const r=ap(e)?ju("MapSet").proxyMap_(e,t):Xx(e)?ju("MapSet").proxySet_(e,t):xfe(e,t);return(t?t.scope_:P$()).drafts_.push(r),r}function jfe(e){return Qd(e)||ri(10,e),T$(e)}function T$(e){if(!wu(e)||Jx(e))return e;const t=e[ca];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=JN(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=JN(e,!0);return Cv(r,(a,i)=>{I$(r,a,T$(i))},n),t&&(t.finalized_=!1),r}var Nfe=new wfe;Nfe.produce;var Sfe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},M$=Bs({name:"legend",initialState:Sfe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ir()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ci(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Ir()},removeLegendPayload:{reducer(e,t){var r=ci(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ir()}}}),{setLegendSize:Q4,setLegendSettings:kfe,addLegendPayload:_$,replaceLegendPayload:D$,removeLegendPayload:O$}=M$.actions,Cfe=M$.reducer,Afe=["contextPayload"];function s2(){return s2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s2.apply(null,arguments)}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){Ife(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ife(e,t,r){return(t=Pfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pfe(e){var t=Efe(e,"string");return typeof t=="symbol"?t:t+""}function Efe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tfe(e,t){if(e==null)return{};var r,n,a=Mfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _fe(e){return e.value}function Dfe(e){var{contextPayload:t}=e,r=Tfe(e,Afe),n=_F(t,e.payloadUniqBy,_fe),a=Xd(Xd({},r),{},{payload:n});return g.isValidElement(e.content)?g.cloneElement(e.content,a):typeof e.content=="function"?g.createElement(e.content,a):g.createElement(Sue,a)}function Ofe(e,t,r,n,a,i){var{layout:o,align:l,verticalAlign:u}=t,d,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?d={left:((n||0)-i.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?f={top:((a||0)-i.height)/2}:f=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Xd(Xd({},d),f)}function Rfe(e){var t=br();return g.useEffect(()=>{t(kfe(e))},[t,e]),null}function Lfe(e){var t=br();return g.useEffect(()=>(t(Q4(e)),()=>{t(Q4({width:0,height:0}))}),[t,e]),null}function Ffe(e,t,r,n){return e==="vertical"&&nt(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var $fe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Ul(e){var t=qr(e,$fe),r=vde(),n=gce(),a=ufe(),{width:i,height:o,wrapperStyle:l,portal:u}=t,[d,f]=FF([r]),m=Fk(),p=$k();if(m==null||p==null)return null;var v=m-(a?.left||0)-(a?.right||0),x=Ffe(t.layout,o,i,v),j=u?l:Xd(Xd({position:"absolute",width:x?.width||i||"auto",height:x?.height||o||"auto"},Ofe(l,t,a,m,p,d)),l),w=u??n;if(w==null||r==null)return null;var S=g.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:f},g.createElement(Rfe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&g.createElement(Lfe,{width:d.width,height:d.height}),g.createElement(Dfe,s2({},t,x,{margin:a,chartWidth:m,chartHeight:p,contextPayload:r})));return W2.createPortal(S,w)}Ul.displayName="Legend";function a2(){return a2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a2.apply(null,arguments)}function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(n){Bfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bfe(e,t,r){return(t=Vfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vfe(e){var t=zfe(e,"string");return typeof t=="symbol"?t:t+""}function zfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ufe(e){return Array.isArray(e)&&Xi(e[0])&&Xi(e[1])?e.join(" ~ "):e}var Wfe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:m,accessibilityLayer:p=!1}=e,v=()=>{if(i&&i.length){var I={padding:0,margin:0},L=(l?Rx(i,l):i).map((E,C)=>{if(E.type==="none")return null;var F=E.formatter||o||Ufe,{value:_,name:T}=E,M=_,$=T;if(F){var J=F(_,T,E,C,i);if(Array.isArray(J))[M,$]=J;else if(J!=null)M=J;else return null}var q=n1({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:q},Xi($)?g.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Xi($)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},M),g.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:I},L)}return null},x=n1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),j=n1({margin:0},a),w=!Sr(f),S=w?f:"",P=Kt("recharts-default-tooltip",u),k=Kt("recharts-tooltip-label",d);w&&m&&i!==void 0&&i!==null&&(S=m(f,i));var R=p?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",a2({className:P,style:x},R),g.createElement("p",{className:k,style:j},g.isValidElement(S)?S:"".concat(S)),v())},Nf="recharts-tooltip-wrapper",Hfe={visibility:"hidden"};function qfe(e){var{coordinate:t,translateX:r,translateY:n}=e;return Kt(Nf,{["".concat(Nf,"-right")]:nt(r)&&t&&nt(t.x)&&r>=t.x,["".concat(Nf,"-left")]:nt(r)&&t&&nt(t.x)&&r<t.x,["".concat(Nf,"-bottom")]:nt(n)&&t&&nt(t.y)&&n>=t.y,["".concat(Nf,"-top")]:nt(n)&&t&&nt(t.y)&&n<t.y})}function eD(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(i&&nt(i[n]))return i[n];var f=r[n]-l-(a>0?a:0),m=r[n]+a;if(t[n])return o[n]?f:m;var p=u[n];if(p==null)return 0;if(o[n]){var v=f,x=p;return v<x?Math.max(m,p):Math.max(f,p)}if(d==null)return 0;var j=m+l,w=p+d;return j>w?Math.max(f,p):Math.max(m,p)}function Gfe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Kfe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,d,f,m;return o.height>0&&o.width>0&&r?(f=eD({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=eD({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=Gfe({translateX:f,translateY:m,useTranslate3d:l})):d=Hfe,{cssProperties:d,cssClasses:qfe({translateX:f,translateY:m,coordinate:r})}}function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(n){i2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i2(e,t,r){return(t=Yfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yfe(e){var t=Zfe(e,"string");return typeof t=="symbol"?t:t+""}function Zfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qfe extends g.PureComponent{constructor(){super(...arguments),i2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),i2(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:m,useTranslate3d:p,viewBox:v,wrapperStyle:x,lastBoundingBox:j,innerRef:w,hasPortalFromProps:S}=this.props,{cssClasses:P,cssProperties:k}=Kfe({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:f,reverseDirection:m,tooltipBox:{height:j.height,width:j.width},useTranslate3d:p,viewBox:v}),R=S?{}:ey(ey({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),I=ey(ey({},R),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},x);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:I,ref:w},i)}}var R$=()=>{var e;return(e=st(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o2.apply(null,arguments)}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){Xfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xfe(e,t,r){return(t=Jfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jfe(e){var t=eme(e,"string");return typeof t=="symbol"?t:t+""}function eme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sD={curveBasisClosed:Oce,curveBasisOpen:Rce,curveBasis:Dce,curveBumpX:bce,curveBumpY:wce,curveLinearClosed:Lce,curveLinear:Dx,curveMonotoneX:Fce,curveMonotoneY:$ce,curveNatural:Bce,curveStep:Vce,curveStepAfter:Uce,curveStepBefore:zce},Pv=e=>kr(e.x)&&kr(e.y),aD=e=>e.base!=null&&Pv(e.base)&&Pv(e),Sf=e=>e.x,kf=e=>e.y,tme=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Xm(e));return(r==="curveMonotone"||r==="curveBump")&&t?sD["".concat(r).concat(t==="vertical"?"Y":"X")]:sD[r]||Dx},rme=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=tme(t,a),l=i?r.filter(Pv):r,u;if(Array.isArray(n)){var d=r.map((v,x)=>nD(nD({},v),{},{base:n[x]}));a==="vertical"?u=qg().y(kf).x1(Sf).x0(v=>v.base.x):u=qg().x(Sf).y1(kf).y0(v=>v.base.y);var f=u.defined(aD).curve(o),m=i?d.filter(aD):d;return f(m)}a==="vertical"&&nt(n)?u=qg().y(kf).x1(Sf).x0(n):nt(n)?u=qg().x(Sf).y1(kf).y0(n):u=lF().x(Sf).y(kf);var p=u.defined(Pv).curve(o);return p(l)},Vd=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?rme(e):n;return g.createElement("path",o2({},ws(e),kk(e),{className:Kt("recharts-curve",t),d:i===null?void 0:i,ref:a}))},nme=["x","y","top","left","width","height","className"];function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l2.apply(null,arguments)}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sme(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(n){ame(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ame(e,t,r){return(t=ime(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ime(e){var t=ome(e,"string");return typeof t=="symbol"?t:t+""}function ome(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lme(e,t){if(e==null)return{};var r,n,a=cme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ume=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),dme=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,u=lme(e,nme),d=sme({x:t,y:r,top:n,left:a,width:i,height:o},u);return!nt(t)||!nt(r)||!nt(i)||!nt(o)||!nt(n)||!nt(a)?null:g.createElement("path",l2({},cs(d),{className:Kt("recharts-cross",l),d:ume(t,r,i,o,n,a)}))};function hme(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(n){fme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fme(e,t,r){return(t=mme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mme(e){var t=pme(e,"string");return typeof t=="symbol"?t:t+""}function pme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gme=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),L$=(e,t,r)=>e.map(n=>"".concat(gme(n)," ").concat(t,"ms ").concat(r)).join(","),yme=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),wm=(e,t)=>Object.keys(t).reduce((r,n)=>lD(lD({},r),{},{[n]:e(n,t[n])}),{});function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(n){vme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vme(e,t,r){return(t=xme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xme(e){var t=bme(e,"string");return typeof t=="symbol"?t:t+""}function bme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ev=(e,t,r)=>e+(t-e)*r,c2=e=>{var{from:t,to:r}=e;return t!==r},F$=(e,t,r)=>{var n=wm((a,i)=>{if(c2(i)){var[o,l]=e(i.from,i.to,i.velocity);return yn(yn({},i),{},{from:o,velocity:l})}return i},t);return r<1?wm((a,i)=>c2(i)?yn(yn({},i),{},{velocity:Ev(i.velocity,n[a].velocity,r),from:Ev(i.from,n[a].from,r)}):i,t):F$(e,n,r-1)};function wme(e,t,r,n,a,i){var o,l=n.reduce((p,v)=>yn(yn({},p),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>wm((p,v)=>v.from,l),d=()=>!Object.values(l).filter(c2).length,f=null,m=p=>{o||(o=p);var v=p-o,x=v/r.dt;l=F$(r,l,x),a(yn(yn(yn({},e),t),u())),o=p,d()||(f=i.setTimeout(m))};return()=>(f=i.setTimeout(m),()=>{var p;(p=f)===null||p===void 0||p()})}function jme(e,t,r,n,a,i,o){var l=null,u=a.reduce((m,p)=>yn(yn({},m),{},{[p]:[e[p],t[p]]}),{}),d,f=m=>{d||(d=m);var p=(m-d)/n,v=wm((j,w)=>Ev(...w,r(p)),u);if(i(yn(yn(yn({},e),t),v)),p<1)l=o.setTimeout(f);else{var x=wm((j,w)=>Ev(...w,r(1)),u);i(yn(yn(yn({},e),t),x))}};return()=>(l=o.setTimeout(f),()=>{var m;(m=l)===null||m===void 0||m()})}const Nme=(e,t,r,n,a,i)=>{var o=yme(e,t);return r==null?()=>(a(yn(yn({},e),t)),()=>{}):r.isStepper===!0?wme(e,t,r,o,a,i):jme(e,t,r,n,o,a,i)};var Tv=1e-4,$$=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],B$=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),uD=(e,t)=>r=>{var n=$$(e,t);return B$(n,r)},Sme=(e,t)=>r=>{var n=$$(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return B$(a,r)},kme=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((a=i[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var o=i[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},Cme=(e,t,r,n)=>{var a=uD(e,r),i=uD(t,n),o=Sme(e,r),l=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,m=f,p=0;p<8;++p){var v=a(m)-f,x=o(m);if(Math.abs(v-f)<Tv||x<Tv)return i(m);m=l(m-v/x)}return i(m)};return u.isStepper=!1,u},dD=function(){return Cme(...kme(...arguments))},Ame=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,u)=>{var d=-(o-l)*r,f=u*n,m=u+(d-f)*a/1e3,p=u*a/1e3+o;return Math.abs(p-l)<Tv&&Math.abs(m)<Tv?[l,0]:[p,m]};return i.isStepper=!0,i.dt=a,i},Ime=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dD(e);case"spring":return Ame();default:if(e.split("(")[0]==="cubic-bezier")return dD(e)}return typeof e=="function"?e:null};function Pme(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){a=e.setTimeout(i.bind(null,d),u);return}i(u),a=e.setTimeout(i.bind(null,d));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Eme{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function Tme(){return Pme(new Eme)}var Mme=g.createContext(Tme);function _me(e,t){var r=g.useContext(Mme);return g.useMemo(()=>t??r(e),[e,t,r])}var Dme=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),gh={devToolsEnabled:!1,isSsr:Dme()},Ome={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},hD={t:0},s1={t:1};function yh(e){var t=qr(e,Ome),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=t,f=r==="auto"?!gh.isSsr:r,m=_me(t.animationId,t.animationManager),[p,v]=g.useState(f?hD:s1),x=g.useRef(null);return g.useEffect(()=>{f||v(s1)},[f]),g.useEffect(()=>{if(!f||!n)return Jm;var j=Nme(hD,s1,Ime(i),a,v,m.getTimeoutController()),w=()=>{x.current=j()};return m.start([u,o,w,a,l]),()=>{m.stop(),x.current&&x.current(),l()}},[f,n,a,i,o,u,l,m]),d(p.t)}function vh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(mm(t)),n=g.useRef(e);return n.current!==e&&(r.current=mm(t),n.current=e),r.current}var Rme=["radius"],Lme=["radius"];function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){Fme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fme(e,t,r){return(t=$me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $me(e){var t=Bme(e,"string");return typeof t=="symbol"?t:t+""}function Bme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mv.apply(null,arguments)}function pD(e,t){if(e==null)return{};var r,n,a=Vme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gD=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],m=0,p=4;m<p;m++)f[m]=a[m]>i?i:a[m];d="M".concat(e,",").concat(t+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(t)),d+="L ".concat(e+r-l*f[1],",").concat(t),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+o*f[1])),d+="L ".concat(e+r,",").concat(t+n-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(t+n)),d+="L ".concat(e+l*f[3],",").concat(t+n),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-o*f[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var v=Math.min(i,a);d="M ".concat(e,",").concat(t+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(t,`
            L `).concat(e+r-l*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(t+o*v,`
            L `).concat(e+r,",").concat(t+n-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(t+n,`
            L `).concat(e+l*v,",").concat(t+n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(t+n-o*v," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},yD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},V$=e=>{var t=qr(e,yD),r=g.useRef(null),[n,a]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var X=r.current.getTotalLength();X&&a(X)}catch{}},[]);var{x:i,y:o,width:l,height:u,radius:d,className:f}=t,{animationEasing:m,animationDuration:p,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:j}=t,w=g.useRef(l),S=g.useRef(u),P=g.useRef(i),k=g.useRef(o),R=g.useMemo(()=>({x:i,y:o,width:l,height:u,radius:d}),[i,o,l,u,d]),I=vh(R,"rectangle-");if(i!==+i||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var L=Kt("recharts-rectangle",f);if(!j){var E=cs(t),{radius:C}=E,F=pD(E,Rme);return g.createElement("path",Mv({},F,{radius:typeof d=="number"?d:void 0,className:L,d:gD(i,o,l,u,d)}))}var _=w.current,T=S.current,M=P.current,$=k.current,J="0px ".concat(n===-1?1:n,"px"),q="".concat(n,"px 0px"),U=L$(["strokeDasharray"],p,typeof m=="string"?m:yD.animationEasing);return g.createElement(yh,{animationId:I,key:I,canBegin:n>0,duration:p,easing:m,isActive:j,begin:v},X=>{var B=nr(_,l,X),Z=nr(T,u,X),ne=nr(M,i,X),W=nr($,o,X);r.current&&(w.current=B,S.current=Z,P.current=ne,k.current=W);var z;x?X>0?z={transition:U,strokeDasharray:q}:z={strokeDasharray:J}:z={strokeDasharray:q};var pe=cs(t),{radius:oe}=pe,Pe=pD(pe,Lme);return g.createElement("path",Mv({},Pe,{radius:typeof d=="number"?d:void 0,className:L,d:gD(ne,W,B,Z,d),ref:r,style:mD(mD({},z),t.style)}))})};function vD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(r),!0).forEach(function(n){zme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zme(e,t,r){return(t=Ume(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ume(e){var t=Wme(e,"string");return typeof t=="symbol"?t:t+""}function Wme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _v=Math.PI/180,Hme=e=>e*180/Math.PI,on=(e,t,r,n)=>({x:e+Math.cos(-_v*n)*r,y:t+Math.sin(-_v*n)*r}),z$=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},qme=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},Gme=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=qme({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,u=Math.acos(l);return n>i&&(u=2*Math.PI-u),{radius:o,angle:Hme(u),angleInRadian:u}},Kme=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Yme=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},Zme=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=Gme({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:u,endAngle:d}=Kme(t),f=i,m;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;m=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=u}return m?xD(xD({},t),{},{radius:a,angle:Yme(f,t)}):null};function U$(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=on(t,r,n,a),l=on(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function u2(){return u2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u2.apply(null,arguments)}var Qme=(e,t)=>{var r=Mn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ty=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,d=l*(o?1:-1)+n,f=Math.asin(l/d)/_v,m=u?a:a+i*f,p=on(t,r,d,m),v=on(t,r,n,m),x=u?a-i*f:a,j=on(t,r,d*Math.cos(f*_v),x);return{center:p,circleTangency:v,lineTangency:j,theta:f}},W$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=Qme(i,o),u=i+l,d=on(t,r,a,i),f=on(t,r,a,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var p=on(t,r,n,i),v=on(t,r,n,u);m+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},Xme=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=e,f=Mn(d-u),{circleTangency:m,lineTangency:p,theta:v}=ty({cx:t,cy:r,radius:a,angle:u,sign:f,cornerRadius:i,cornerIsExternal:l}),{circleTangency:x,lineTangency:j,theta:w}=ty({cx:t,cy:r,radius:a,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:l}),S=l?Math.abs(u-d):Math.abs(u-d)-v-w;if(S<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):W$({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:d});var P="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(n>0){var{circleTangency:k,lineTangency:R,theta:I}=ty({cx:t,cy:r,radius:n,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:L,lineTangency:E,theta:C}=ty({cx:t,cy:r,radius:n,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),F=l?Math.abs(u-d):Math.abs(u-d)-I-C;if(F<0&&i===0)return"".concat(P,"L").concat(t,",").concat(r,"Z");P+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,"Z")}else P+="L".concat(t,",").concat(r,"Z");return P},Jme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},H$=e=>{var t=qr(e,Jme),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:m}=t;if(i<a||d===f)return null;var p=Kt("recharts-sector",m),v=i-a,x=os(o,v,0,!0),j;return x>0&&Math.abs(d-f)<360?j=Xme({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):j=W$({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:f}),g.createElement("path",u2({},cs(t),{className:p,d:j}))};function epe(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(NF(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,u=on(n,a,i,l),d=on(n,a,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return U$(t)}}var a1={},i1={},o1={},bD;function tpe(){return bD||(bD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OF();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(o1)),o1}var wD;function rpe(){return wD||(wD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tpe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(i1)),i1}var jD;function npe(){return jD||(jD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RF(),r=rpe();function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=a,a+=o;return u}e.range=n})(a1)),a1}var l1,ND;function spe(){return ND||(ND=1,l1=npe().range),l1}var ape=spe();const q$=ua(ape);function Wl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ipe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zk(e){let t,r,n;e.length!==2?(t=Wl,r=(l,u)=>Wl(e(l),u),n=(l,u)=>e(l)-u):(t=e===Wl||e===ipe?e:ope,r=e,n=e);function a(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const m=d+f>>>1;r(l[m],u)<0?d=m+1:f=m}while(d<f)}return d}function i(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const m=d+f>>>1;r(l[m],u)<=0?d=m+1:f=m}while(d<f)}return d}function o(l,u,d=0,f=l.length){const m=a(l,u,d,f-1);return m>d&&n(l[m-1],u)>-n(l[m],u)?m-1:m}return{left:a,center:o,right:i}}function ope(){return 0}function G$(e){return e===null?NaN:+e}function*lpe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const cpe=zk(Wl),ip=cpe.right;zk(G$).center;class SD extends Map{constructor(t,r=hpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(kD(this,t))}has(t){return super.has(kD(this,t))}set(t,r){return super.set(upe(this,t),r)}delete(t){return super.delete(dpe(this,t))}}function kD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function upe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function dpe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function hpe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fpe(e=Wl){if(e===Wl)return K$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function K$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mpe=Math.sqrt(50),ppe=Math.sqrt(10),gpe=Math.sqrt(2);function Dv(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=mpe?10:i>=ppe?5:i>=gpe?2:1;let l,u,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=r&&r<2?Dv(e,t,r*2):[l,u,d]}function d2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Dv(t,e,r):Dv(e,t,r);if(!(i>=a))return[];const l=i-a+1,u=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)u[d]=(i-d)/-o;else for(let d=0;d<l;++d)u[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(a+d)/-o;else for(let d=0;d<l;++d)u[d]=(a+d)*o;return u}function h2(e,t,r){return t=+t,e=+e,r=+r,Dv(e,t,r)[2]}function f2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?h2(t,e,r):h2(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function CD(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function AD(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Y$(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?K$:fpe(a);n>r;){if(n-r>600){const u=n-r+1,d=t-r+1,f=Math.log(u),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(u-m)/u)*(d-u/2<0?-1:1),v=Math.max(r,Math.floor(t-d*m/u+p)),x=Math.min(n,Math.floor(t+(u-d)*m/u+p));Y$(e,t,v,x,a)}const i=e[t];let o=r,l=n;for(Cf(e,r,t),a(e[n],i)>0&&Cf(e,r,n);o<l;){for(Cf(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Cf(e,r,l):(++l,Cf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Cf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ype(e,t,r){if(e=Float64Array.from(lpe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return AD(e);if(t>=1)return CD(e);var n,a=(n-1)*t,i=Math.floor(a),o=CD(Y$(e,i).subarray(0,i+1)),l=AD(e.subarray(i+1));return o+(l-o)*(a-i)}}function vpe(e,t,r=G$){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function xpe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Fa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function tl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const m2=Symbol("implicit");function Uk(){var e=new SD,t=[],r=[],n=m2;function a(i){let o=e.get(i);if(o===void 0){if(n!==m2)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new SD;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Uk(t,r).unknown(n)},Fa.apply(a,arguments),a}function Wk(){var e=Uk().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,u=0,d=0,f=.5;delete e.unknown;function m(){var p=t().length,v=a<n,x=v?a:n,j=v?n:a;i=(j-x)/Math.max(1,p-u+d*2),l&&(i=Math.floor(i)),x+=(j-x-i*(p-u))*f,o=i*(1-u),l&&(x=Math.round(x),o=Math.round(o));var w=xpe(p).map(function(S){return x+i*S});return r(v?w.reverse():w)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(u=Math.min(1,d=+p),m()):u},e.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),m()):u},e.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},e.copy=function(){return Wk(t(),[n,a]).round(l).paddingInner(u).paddingOuter(d).align(f)},Fa.apply(m(),arguments)}function Z$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Z$(t())},e}function bpe(){return Z$(Wk.apply(null,arguments).paddingInner(1))}function Hk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Q$(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function op(){}var jm=.7,Ov=1/jm,zd="\\s*([+-]?\\d+)\\s*",Nm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wpe=/^#([0-9a-f]{3,8})$/,jpe=new RegExp(`^rgb\\(${zd},${zd},${zd}\\)$`),Npe=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),Spe=new RegExp(`^rgba\\(${zd},${zd},${zd},${Nm}\\)$`),kpe=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${Nm}\\)$`),Cpe=new RegExp(`^hsl\\(${Nm},${Ki},${Ki}\\)$`),Ape=new RegExp(`^hsla\\(${Nm},${Ki},${Ki},${Nm}\\)$`),ID={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hk(op,Sm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PD,formatHex:PD,formatHex8:Ipe,formatHsl:Ppe,formatRgb:ED,toString:ED});function PD(){return this.rgb().formatHex()}function Ipe(){return this.rgb().formatHex8()}function Ppe(){return X$(this).formatHsl()}function ED(){return this.rgb().formatRgb()}function Sm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=wpe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?TD(t):r===3?new Rs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ry(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ry(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jpe.exec(e))?new Rs(t[1],t[2],t[3],1):(t=Npe.exec(e))?new Rs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Spe.exec(e))?ry(t[1],t[2],t[3],t[4]):(t=kpe.exec(e))?ry(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Cpe.exec(e))?DD(t[1],t[2]/100,t[3]/100,1):(t=Ape.exec(e))?DD(t[1],t[2]/100,t[3]/100,t[4]):ID.hasOwnProperty(e)?TD(ID[e]):e==="transparent"?new Rs(NaN,NaN,NaN,0):null}function TD(e){return new Rs(e>>16&255,e>>8&255,e&255,1)}function ry(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rs(e,t,r,n)}function Epe(e){return e instanceof op||(e=Sm(e)),e?(e=e.rgb(),new Rs(e.r,e.g,e.b,e.opacity)):new Rs}function p2(e,t,r,n){return arguments.length===1?Epe(e):new Rs(e,t,r,n??1)}function Rs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Hk(Rs,p2,Q$(op,{brighter(e){return e=e==null?Ov:Math.pow(Ov,e),new Rs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jm:Math.pow(jm,e),new Rs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rs(cu(this.r),cu(this.g),cu(this.b),Rv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MD,formatHex:MD,formatHex8:Tpe,formatRgb:_D,toString:_D}));function MD(){return`#${Jc(this.r)}${Jc(this.g)}${Jc(this.b)}`}function Tpe(){return`#${Jc(this.r)}${Jc(this.g)}${Jc(this.b)}${Jc((isNaN(this.opacity)?1:this.opacity)*255)}`}function _D(){const e=Rv(this.opacity);return`${e===1?"rgb(":"rgba("}${cu(this.r)}, ${cu(this.g)}, ${cu(this.b)}${e===1?")":`, ${e})`}`}function Rv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jc(e){return e=cu(e),(e<16?"0":"")+e.toString(16)}function DD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ni(e,t,r,n)}function X$(e){if(e instanceof ni)return new ni(e.h,e.s,e.l,e.opacity);if(e instanceof op||(e=Sm(e)),!e)return new ni;if(e instanceof ni)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,u=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?i+a:2-i-a,o*=60):l=u>0&&u<1?0:o,new ni(o,l,u,e.opacity)}function Mpe(e,t,r,n){return arguments.length===1?X$(e):new ni(e,t,r,n??1)}function ni(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Hk(ni,Mpe,Q$(op,{brighter(e){return e=e==null?Ov:Math.pow(Ov,e),new ni(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jm:Math.pow(jm,e),new ni(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Rs(c1(e>=240?e-240:e+120,a,n),c1(e,a,n),c1(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ni(OD(this.h),ny(this.s),ny(this.l),Rv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rv(this.opacity);return`${e===1?"hsl(":"hsla("}${OD(this.h)}, ${ny(this.s)*100}%, ${ny(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OD(e){return e=(e||0)%360,e<0?e+360:e}function ny(e){return Math.max(0,Math.min(1,e||0))}function c1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const qk=e=>()=>e;function _pe(e,t){return function(r){return e+r*t}}function Dpe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Ope(e){return(e=+e)==1?J$:function(t,r){return r-t?Dpe(t,r,e):qk(isNaN(t)?r:t)}}function J$(e,t){var r=t-e;return r?_pe(e,r):qk(isNaN(e)?t:e)}const RD=(function e(t){var r=Ope(t);function n(a,i){var o=r((a=p2(a)).r,(i=p2(i)).r),l=r(a.g,i.g),u=r(a.b,i.b),d=J$(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=u(f),a.opacity=d(f),a+""}}return n.gamma=e,n})(1);function Rpe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Lpe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Fpe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=xh(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function $pe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Lv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Bpe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=xh(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var g2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u1=new RegExp(g2.source,"g");function Vpe(e){return function(){return e}}function zpe(e){return function(t){return e(t)+""}}function Upe(e,t){var r=g2.lastIndex=u1.lastIndex=0,n,a,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=g2.exec(e))&&(a=u1.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:Lv(n,a)})),r=u1.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?zpe(u[0].x):Vpe(t):(t=u.length,function(d){for(var f=0,m;f<t;++f)l[(m=u[f]).i]=m.x(d);return l.join("")})}function xh(e,t){var r=typeof t,n;return t==null||r==="boolean"?qk(t):(r==="number"?Lv:r==="string"?(n=Sm(t))?(t=n,RD):Upe:t instanceof Sm?RD:t instanceof Date?$pe:Lpe(t)?Rpe:Array.isArray(t)?Fpe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bpe:Lv)(e,t)}function Gk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Wpe(e,t){t===void 0&&(t=e,e=xh);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Hpe(e){return function(){return e}}function Fv(e){return+e}var LD=[0,1];function ys(e){return e}function y2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Hpe(isNaN(t)?NaN:.5)}function qpe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Gpe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=y2(a,n),i=r(o,i)):(n=y2(n,a),i=r(i,o)),function(l){return i(n(l))}}function Kpe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=y2(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var u=ip(e,l,1,n)-1;return i[u](a[u](l))}}function lp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function e0(){var e=LD,t=LD,r=xh,n,a,i,o=ys,l,u,d;function f(){var p=Math.min(e.length,t.length);return o!==ys&&(o=qpe(e[0],e[p-1])),l=p>2?Kpe:Gpe,u=d=null,m}function m(p){return p==null||isNaN(p=+p)?i:(u||(u=l(e.map(n),t,r)))(n(o(p)))}return m.invert=function(p){return o(a((d||(d=l(t,e.map(n),Lv)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,Fv),f()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),r=Gk,f()},m.clamp=function(p){return arguments.length?(o=p?!0:ys,f()):o!==ys},m.interpolate=function(p){return arguments.length?(r=p,f()):r},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,v){return n=p,a=v,f()}}function Kk(){return e0()(ys,ys)}function Ype(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $v(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Jd(e){return e=$v(Math.abs(e)),e?e[1]:NaN}function Zpe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),i.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Qpe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Xpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function km(e){if(!(t=Xpe.exec(e)))throw new Error("invalid format: "+e);var t;return new Yk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}km.prototype=Yk.prototype;function Yk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Yk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jpe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var eB;function ege(e,t){var r=$v(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(eB=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+$v(e,Math.max(0,t+i-1))[0]}function FD(e,t){var r=$v(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const $D={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ype,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FD(e*100,t),r:FD,s:ege,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BD(e){return e}var VD=Array.prototype.map,zD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tge(e){var t=e.grouping===void 0||e.thousands===void 0?BD:Zpe(VD.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?BD:Qpe(VD.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(m){m=km(m);var p=m.fill,v=m.align,x=m.sign,j=m.symbol,w=m.zero,S=m.width,P=m.comma,k=m.precision,R=m.trim,I=m.type;I==="n"?(P=!0,I="g"):$D[I]||(k===void 0&&(k=12),R=!0,I="g"),(w||p==="0"&&v==="=")&&(w=!0,p="0",v="=");var L=j==="$"?r:j==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",E=j==="$"?n:/[%p]/.test(I)?o:"",C=$D[I],F=/[defgprs%]/.test(I);k=k===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function _(T){var M=L,$=E,J,q,U;if(I==="c")$=C(T)+$,T="";else{T=+T;var X=T<0||1/T<0;if(T=isNaN(T)?u:C(Math.abs(T),k),R&&(T=Jpe(T)),X&&+T==0&&x!=="+"&&(X=!1),M=(X?x==="("?x:l:x==="-"||x==="("?"":x)+M,$=(I==="s"?zD[8+eB/3]:"")+$+(X&&x==="("?")":""),F){for(J=-1,q=T.length;++J<q;)if(U=T.charCodeAt(J),48>U||U>57){$=(U===46?a+T.slice(J+1):T.slice(J))+$,T=T.slice(0,J);break}}}P&&!w&&(T=t(T,1/0));var B=M.length+T.length+$.length,Z=B<S?new Array(S-B+1).join(p):"";switch(P&&w&&(T=t(Z+T,Z.length?S-$.length:1/0),Z=""),v){case"<":T=M+T+$+Z;break;case"=":T=M+Z+T+$;break;case"^":T=Z.slice(0,B=Z.length>>1)+M+T+$+Z.slice(B);break;default:T=Z+M+T+$;break}return i(T)}return _.toString=function(){return m+""},_}function f(m,p){var v=d((m=km(m),m.type="f",m)),x=Math.max(-8,Math.min(8,Math.floor(Jd(p)/3)))*3,j=Math.pow(10,-x),w=zD[8+x/3];return function(S){return v(j*S)+w}}return{format:d,formatPrefix:f}}var sy,Zk,tB;rge({thousands:",",grouping:[3],currency:["$",""]});function rge(e){return sy=tge(e),Zk=sy.format,tB=sy.formatPrefix,sy}function nge(e){return Math.max(0,-Jd(Math.abs(e)))}function sge(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jd(t)/3)))*3-Jd(Math.abs(e)))}function age(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jd(t)-Jd(e))+1}function rB(e,t,r,n){var a=f2(e,t,r),i;switch(n=km(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=sge(a,o))&&(n.precision=i),tB(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=age(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=nge(a))&&(n.precision=i-(n.type==="%")*2);break}}return Zk(n)}function dc(e){var t=e.domain;return e.ticks=function(r){var n=t();return d2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return rB(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],u,d,f=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);f-- >0;){if(d=h2(o,l,r),d===u)return n[a]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function nB(){var e=Kk();return e.copy=function(){return lp(e,nB())},Fa.apply(e,arguments),dc(e)}function sB(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Fv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return sB(e).unknown(t)},e=arguments.length?Array.from(e,Fv):[0,1],dc(r)}function aB(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function UD(e){return Math.log(e)}function WD(e){return Math.exp(e)}function ige(e){return-Math.log(-e)}function oge(e){return-Math.exp(-e)}function lge(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cge(e){return e===10?lge:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function HD(e){return(t,r)=>-e(-t,r)}function Qk(e){const t=e(UD,WD),r=t.domain;let n=10,a,i;function o(){return a=uge(n),i=cge(n),r()[0]<0?(a=HD(a),i=HD(i),e(ige,oge)):e(UD,WD),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let d=u[0],f=u[u.length-1];const m=f<d;m&&([d,f]=[f,d]);let p=a(d),v=a(f),x,j;const w=l==null?10:+l;let S=[];if(!(n%1)&&v-p<w){if(p=Math.floor(p),v=Math.ceil(v),d>0){for(;p<=v;++p)for(x=1;x<n;++x)if(j=p<0?x/i(-p):x*i(p),!(j<d)){if(j>f)break;S.push(j)}}else for(;p<=v;++p)for(x=n-1;x>=1;--x)if(j=p>0?x/i(-p):x*i(p),!(j<d)){if(j>f)break;S.push(j)}S.length*2<w&&(S=d2(d,f,w))}else S=d2(p,v,Math.min(v-p,w)).map(i);return m?S.reverse():S},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=km(u)).precision==null&&(u.trim=!0),u=Zk(u)),l===1/0)return u;const d=Math.max(1,n*l/t.ticks().length);return f=>{let m=f/i(Math.round(a(f)));return m*n<n-.5&&(m*=n),m<=d?u(f):""}},t.nice=()=>r(aB(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function iB(){const e=Qk(e0()).domain([1,10]);return e.copy=()=>lp(e,iB()).base(e.base()),Fa.apply(e,arguments),e}function qD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function GD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Xk(e){var t=1,r=e(qD(t),GD(t));return r.constant=function(n){return arguments.length?e(qD(t=+n),GD(t)):t},dc(r)}function oB(){var e=Xk(e0());return e.copy=function(){return lp(e,oB()).constant(e.constant())},Fa.apply(e,arguments)}function KD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dge(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hge(e){return e<0?-e*e:e*e}function Jk(e){var t=e(ys,ys),r=1;function n(){return r===1?e(ys,ys):r===.5?e(dge,hge):e(KD(r),KD(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},dc(t)}function eC(){var e=Jk(e0());return e.copy=function(){return lp(e,eC()).exponent(e.exponent())},Fa.apply(e,arguments),e}function fge(){return eC.apply(null,arguments).exponent(.5)}function YD(e){return Math.sign(e)*e*e}function mge(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lB(){var e=Kk(),t=[0,1],r=!1,n;function a(i){var o=mge(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(YD(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Fv)).map(YD)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return lB(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Fa.apply(a,arguments),dc(a)}function cB(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=vpe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[ip(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Wl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return cB().domain(e).range(t).unknown(n)},Fa.apply(i,arguments)}function uB(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(u){return u!=null&&u<=u?a[ip(n,u,0,r)]:i}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},o.invertExtent=function(u){var d=a.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return uB().domain([e,t]).range(a).unknown(i)},Fa.apply(dc(o),arguments)}function dB(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ip(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return dB().domain(e).range(t).unknown(r)},Fa.apply(a,arguments)}const d1=new Date,h1=new Date;function wn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const u=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let d;do u.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return u},a.filter=i=>wn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(d1.setTime(+i),h1.setTime(+o),e(d1),e(h1),Math.floor(r(d1,h1))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Bv=wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Bv);Bv.range;const To=1e3,Ia=To*60,Mo=Ia*60,qo=Mo*24,tC=qo*7,ZD=qo*30,f1=qo*365,eu=wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*To)},(e,t)=>(t-e)/To,e=>e.getUTCSeconds());eu.range;const rC=wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*To)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getMinutes());rC.range;const nC=wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getUTCMinutes());nC.range;const sC=wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*To-e.getMinutes()*Ia)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getHours());sC.range;const aC=wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getUTCHours());aC.range;const cp=wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ia)/qo,e=>e.getDate()-1);cp.range;const t0=wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qo,e=>e.getUTCDate()-1);t0.range;const hB=wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qo,e=>Math.floor(e/qo));hB.range;function Tu(e){return wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ia)/tC)}const r0=Tu(0),Vv=Tu(1),pge=Tu(2),gge=Tu(3),eh=Tu(4),yge=Tu(5),vge=Tu(6);r0.range;Vv.range;pge.range;gge.range;eh.range;yge.range;vge.range;function Mu(e){return wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/tC)}const n0=Mu(0),zv=Mu(1),xge=Mu(2),bge=Mu(3),th=Mu(4),wge=Mu(5),jge=Mu(6);n0.range;zv.range;xge.range;bge.range;th.range;wge.range;jge.range;const iC=wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());iC.range;const oC=wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());oC.range;const Go=wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Go.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Go.range;const Ko=wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ko.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ko.range;function fB(e,t,r,n,a,i){const o=[[eu,1,To],[eu,5,5*To],[eu,15,15*To],[eu,30,30*To],[i,1,Ia],[i,5,5*Ia],[i,15,15*Ia],[i,30,30*Ia],[a,1,Mo],[a,3,3*Mo],[a,6,6*Mo],[a,12,12*Mo],[n,1,qo],[n,2,2*qo],[r,1,tC],[t,1,ZD],[t,3,3*ZD],[e,1,f1]];function l(d,f,m){const p=f<d;p&&([d,f]=[f,d]);const v=m&&typeof m.range=="function"?m:u(d,f,m),x=v?v.range(d,+f+1):[];return p?x.reverse():x}function u(d,f,m){const p=Math.abs(f-d)/m,v=zk(([,,w])=>w).right(o,p);if(v===o.length)return e.every(f2(d/f1,f/f1,m));if(v===0)return Bv.every(Math.max(f2(d,f,m),1));const[x,j]=o[p/o[v-1][2]<o[v][2]/p?v-1:v];return x.every(j)}return[l,u]}const[Nge,Sge]=fB(Ko,oC,n0,hB,aC,nC),[kge,Cge]=fB(Go,iC,r0,cp,sC,rC);function m1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function p1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Af(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Age(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=If(a),f=Pf(a),m=If(i),p=Pf(i),v=If(o),x=Pf(o),j=If(l),w=Pf(l),S=If(u),P=Pf(u),k={a:X,A:B,b:Z,B:ne,c:null,d:rO,e:rO,f:Zge,g:iye,G:lye,H:Gge,I:Kge,j:Yge,L:mB,m:Qge,M:Xge,p:W,q:z,Q:aO,s:iO,S:Jge,u:eye,U:tye,V:rye,w:nye,W:sye,x:null,X:null,y:aye,Y:oye,Z:cye,"%":sO},R={a:pe,A:oe,b:Pe,B:ke,c:null,d:nO,e:nO,f:fye,g:Nye,G:kye,H:uye,I:dye,j:hye,L:gB,m:mye,M:pye,p:fe,q:ue,Q:aO,s:iO,S:gye,u:yye,U:vye,V:xye,w:bye,W:wye,x:null,X:null,y:jye,Y:Sye,Z:Cye,"%":sO},I={a:_,A:T,b:M,B:$,c:J,d:eO,e:eO,f:Uge,g:JD,G:XD,H:tO,I:tO,j:$ge,L:zge,m:Fge,M:Bge,p:F,q:Lge,Q:Hge,s:qge,S:Vge,u:Mge,U:_ge,V:Dge,w:Tge,W:Oge,x:q,X:U,y:JD,Y:XD,Z:Rge,"%":Wge};k.x=L(r,k),k.X=L(n,k),k.c=L(t,k),R.x=L(r,R),R.X=L(n,R),R.c=L(t,R);function L(re,K){return function(de){var te=[],ye=-1,ae=0,ee=re.length,be,he,xe;for(de instanceof Date||(de=new Date(+de));++ye<ee;)re.charCodeAt(ye)===37&&(te.push(re.slice(ae,ye)),(he=QD[be=re.charAt(++ye)])!=null?be=re.charAt(++ye):he=be==="e"?" ":"0",(xe=K[be])&&(be=xe(de,he)),te.push(be),ae=ye+1);return te.push(re.slice(ae,ye)),te.join("")}}function E(re,K){return function(de){var te=Af(1900,void 0,1),ye=C(te,re,de+="",0),ae,ee;if(ye!=de.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(K&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(ae=p1(Af(te.y,0,1)),ee=ae.getUTCDay(),ae=ee>4||ee===0?zv.ceil(ae):zv(ae),ae=t0.offset(ae,(te.V-1)*7),te.y=ae.getUTCFullYear(),te.m=ae.getUTCMonth(),te.d=ae.getUTCDate()+(te.w+6)%7):(ae=m1(Af(te.y,0,1)),ee=ae.getDay(),ae=ee>4||ee===0?Vv.ceil(ae):Vv(ae),ae=cp.offset(ae,(te.V-1)*7),te.y=ae.getFullYear(),te.m=ae.getMonth(),te.d=ae.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),ee="Z"in te?p1(Af(te.y,0,1)).getUTCDay():m1(Af(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(ee+5)%7:te.w+te.U*7-(ee+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,p1(te)):m1(te)}}function C(re,K,de,te){for(var ye=0,ae=K.length,ee=de.length,be,he;ye<ae;){if(te>=ee)return-1;if(be=K.charCodeAt(ye++),be===37){if(be=K.charAt(ye++),he=I[be in QD?K.charAt(ye++):be],!he||(te=he(re,de,te))<0)return-1}else if(be!=de.charCodeAt(te++))return-1}return te}function F(re,K,de){var te=d.exec(K.slice(de));return te?(re.p=f.get(te[0].toLowerCase()),de+te[0].length):-1}function _(re,K,de){var te=v.exec(K.slice(de));return te?(re.w=x.get(te[0].toLowerCase()),de+te[0].length):-1}function T(re,K,de){var te=m.exec(K.slice(de));return te?(re.w=p.get(te[0].toLowerCase()),de+te[0].length):-1}function M(re,K,de){var te=S.exec(K.slice(de));return te?(re.m=P.get(te[0].toLowerCase()),de+te[0].length):-1}function $(re,K,de){var te=j.exec(K.slice(de));return te?(re.m=w.get(te[0].toLowerCase()),de+te[0].length):-1}function J(re,K,de){return C(re,t,K,de)}function q(re,K,de){return C(re,r,K,de)}function U(re,K,de){return C(re,n,K,de)}function X(re){return o[re.getDay()]}function B(re){return i[re.getDay()]}function Z(re){return u[re.getMonth()]}function ne(re){return l[re.getMonth()]}function W(re){return a[+(re.getHours()>=12)]}function z(re){return 1+~~(re.getMonth()/3)}function pe(re){return o[re.getUTCDay()]}function oe(re){return i[re.getUTCDay()]}function Pe(re){return u[re.getUTCMonth()]}function ke(re){return l[re.getUTCMonth()]}function fe(re){return a[+(re.getUTCHours()>=12)]}function ue(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var K=L(re+="",k);return K.toString=function(){return re},K},parse:function(re){var K=E(re+="",!1);return K.toString=function(){return re},K},utcFormat:function(re){var K=L(re+="",R);return K.toString=function(){return re},K},utcParse:function(re){var K=E(re+="",!0);return K.toString=function(){return re},K}}}var QD={"-":"",_:" ",0:"0"},On=/^\s*\d+/,Ige=/^%/,Pge=/[\\^$*+?|[\]().{}]/g;function Jt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Ege(e){return e.replace(Pge,"\\$&")}function If(e){return new RegExp("^(?:"+e.map(Ege).join("|")+")","i")}function Pf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Tge(e,t,r){var n=On.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Mge(e,t,r){var n=On.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function _ge(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Dge(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Oge(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function XD(e,t,r){var n=On.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function JD(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Rge(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Lge(e,t,r){var n=On.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Fge(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function eO(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function $ge(e,t,r){var n=On.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function tO(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Bge(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Vge(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function zge(e,t,r){var n=On.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Uge(e,t,r){var n=On.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Wge(e,t,r){var n=Ige.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Hge(e,t,r){var n=On.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function qge(e,t,r){var n=On.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function rO(e,t){return Jt(e.getDate(),t,2)}function Gge(e,t){return Jt(e.getHours(),t,2)}function Kge(e,t){return Jt(e.getHours()%12||12,t,2)}function Yge(e,t){return Jt(1+cp.count(Go(e),e),t,3)}function mB(e,t){return Jt(e.getMilliseconds(),t,3)}function Zge(e,t){return mB(e,t)+"000"}function Qge(e,t){return Jt(e.getMonth()+1,t,2)}function Xge(e,t){return Jt(e.getMinutes(),t,2)}function Jge(e,t){return Jt(e.getSeconds(),t,2)}function eye(e){var t=e.getDay();return t===0?7:t}function tye(e,t){return Jt(r0.count(Go(e)-1,e),t,2)}function pB(e){var t=e.getDay();return t>=4||t===0?eh(e):eh.ceil(e)}function rye(e,t){return e=pB(e),Jt(eh.count(Go(e),e)+(Go(e).getDay()===4),t,2)}function nye(e){return e.getDay()}function sye(e,t){return Jt(Vv.count(Go(e)-1,e),t,2)}function aye(e,t){return Jt(e.getFullYear()%100,t,2)}function iye(e,t){return e=pB(e),Jt(e.getFullYear()%100,t,2)}function oye(e,t){return Jt(e.getFullYear()%1e4,t,4)}function lye(e,t){var r=e.getDay();return e=r>=4||r===0?eh(e):eh.ceil(e),Jt(e.getFullYear()%1e4,t,4)}function cye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Jt(t/60|0,"0",2)+Jt(t%60,"0",2)}function nO(e,t){return Jt(e.getUTCDate(),t,2)}function uye(e,t){return Jt(e.getUTCHours(),t,2)}function dye(e,t){return Jt(e.getUTCHours()%12||12,t,2)}function hye(e,t){return Jt(1+t0.count(Ko(e),e),t,3)}function gB(e,t){return Jt(e.getUTCMilliseconds(),t,3)}function fye(e,t){return gB(e,t)+"000"}function mye(e,t){return Jt(e.getUTCMonth()+1,t,2)}function pye(e,t){return Jt(e.getUTCMinutes(),t,2)}function gye(e,t){return Jt(e.getUTCSeconds(),t,2)}function yye(e){var t=e.getUTCDay();return t===0?7:t}function vye(e,t){return Jt(n0.count(Ko(e)-1,e),t,2)}function yB(e){var t=e.getUTCDay();return t>=4||t===0?th(e):th.ceil(e)}function xye(e,t){return e=yB(e),Jt(th.count(Ko(e),e)+(Ko(e).getUTCDay()===4),t,2)}function bye(e){return e.getUTCDay()}function wye(e,t){return Jt(zv.count(Ko(e)-1,e),t,2)}function jye(e,t){return Jt(e.getUTCFullYear()%100,t,2)}function Nye(e,t){return e=yB(e),Jt(e.getUTCFullYear()%100,t,2)}function Sye(e,t){return Jt(e.getUTCFullYear()%1e4,t,4)}function kye(e,t){var r=e.getUTCDay();return e=r>=4||r===0?th(e):th.ceil(e),Jt(e.getUTCFullYear()%1e4,t,4)}function Cye(){return"+0000"}function sO(){return"%"}function aO(e){return+e}function iO(e){return Math.floor(+e/1e3)}var gd,vB,xB;Aye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Aye(e){return gd=Age(e),vB=gd.format,gd.parse,xB=gd.utcFormat,gd.utcParse,gd}function Iye(e){return new Date(e)}function Pye(e){return e instanceof Date?+e:+new Date(+e)}function lC(e,t,r,n,a,i,o,l,u,d){var f=Kk(),m=f.invert,p=f.domain,v=d(".%L"),x=d(":%S"),j=d("%I:%M"),w=d("%I %p"),S=d("%a %d"),P=d("%b %d"),k=d("%B"),R=d("%Y");function I(L){return(u(L)<L?v:l(L)<L?x:o(L)<L?j:i(L)<L?w:n(L)<L?a(L)<L?S:P:r(L)<L?k:R)(L)}return f.invert=function(L){return new Date(m(L))},f.domain=function(L){return arguments.length?p(Array.from(L,Pye)):p().map(Iye)},f.ticks=function(L){var E=p();return e(E[0],E[E.length-1],L??10)},f.tickFormat=function(L,E){return E==null?I:d(E)},f.nice=function(L){var E=p();return(!L||typeof L.range!="function")&&(L=t(E[0],E[E.length-1],L??10)),L?p(aB(E,L)):f},f.copy=function(){return lp(f,lC(e,t,r,n,a,i,o,l,u,d))},f}function Eye(){return Fa.apply(lC(kge,Cge,Go,iC,r0,cp,sC,rC,eu,vB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tye(){return Fa.apply(lC(Nge,Sge,Ko,oC,n0,t0,aC,nC,eu,xB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function s0(){var e=0,t=1,r,n,a,i,o=ys,l=!1,u;function d(m){return m==null||isNaN(m=+m)?u:o(a===0?.5:(m=(i(m)-r)*a,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function f(m){return function(p){var v,x;return arguments.length?([v,x]=p,o=m(v,x),d):[o(0),o(1)]}}return d.range=f(xh),d.rangeRound=f(Gk),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),d}}function hc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bB(){var e=dc(s0()(ys));return e.copy=function(){return hc(e,bB())},tl.apply(e,arguments)}function wB(){var e=Qk(s0()).domain([1,10]);return e.copy=function(){return hc(e,wB()).base(e.base())},tl.apply(e,arguments)}function jB(){var e=Xk(s0());return e.copy=function(){return hc(e,jB()).constant(e.constant())},tl.apply(e,arguments)}function cC(){var e=Jk(s0());return e.copy=function(){return hc(e,cC()).exponent(e.exponent())},tl.apply(e,arguments)}function Mye(){return cC.apply(null,arguments).exponent(.5)}function NB(){var e=[],t=ys;function r(n){if(n!=null&&!isNaN(n=+n))return t((ip(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Wl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>ype(e,i/n))},r.copy=function(){return NB(t).domain(e)},tl.apply(r,arguments)}function a0(){var e=0,t=.5,r=1,n=1,a,i,o,l,u,d=ys,f,m=!1,p;function v(j){return isNaN(j=+j)?p:(j=.5+((j=+f(j))-i)*(n*j<n*i?l:u),d(m?Math.max(0,Math.min(1,j)):j))}v.domain=function(j){return arguments.length?([e,t,r]=j,a=f(e=+e),i=f(t=+t),o=f(r=+r),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,v):[e,t,r]},v.clamp=function(j){return arguments.length?(m=!!j,v):m},v.interpolator=function(j){return arguments.length?(d=j,v):d};function x(j){return function(w){var S,P,k;return arguments.length?([S,P,k]=w,d=Wpe(j,[S,P,k]),v):[d(0),d(.5),d(1)]}}return v.range=x(xh),v.rangeRound=x(Gk),v.unknown=function(j){return arguments.length?(p=j,v):p},function(j){return f=j,a=j(e),i=j(t),o=j(r),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,v}}function SB(){var e=dc(a0()(ys));return e.copy=function(){return hc(e,SB())},tl.apply(e,arguments)}function kB(){var e=Qk(a0()).domain([.1,1,10]);return e.copy=function(){return hc(e,kB()).base(e.base())},tl.apply(e,arguments)}function CB(){var e=Xk(a0());return e.copy=function(){return hc(e,CB()).constant(e.constant())},tl.apply(e,arguments)}function uC(){var e=Jk(a0());return e.copy=function(){return hc(e,uC()).exponent(e.exponent())},tl.apply(e,arguments)}function _ye(){return uC.apply(null,arguments).exponent(.5)}const Lf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wk,scaleDiverging:SB,scaleDivergingLog:kB,scaleDivergingPow:uC,scaleDivergingSqrt:_ye,scaleDivergingSymlog:CB,scaleIdentity:sB,scaleImplicit:m2,scaleLinear:nB,scaleLog:iB,scaleOrdinal:Uk,scalePoint:bpe,scalePow:eC,scaleQuantile:cB,scaleQuantize:uB,scaleRadial:lB,scaleSequential:bB,scaleSequentialLog:wB,scaleSequentialPow:cC,scaleSequentialQuantile:NB,scaleSequentialSqrt:Mye,scaleSequentialSymlog:jB,scaleSqrt:fge,scaleSymlog:oB,scaleThreshold:dB,scaleTime:Eye,scaleUtc:Tye,tickFormat:rB},Symbol.toStringTag,{value:"Module"}));var fc=e=>e.chartData,dC=Ce([fc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),up=(e,t,r,n)=>n?dC(e):fc(e);function nc(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(kr(t)&&kr(r))return!0}return!1}function oO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function AB(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(kr(r))a=r;else if(typeof r=="function")return;if(kr(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(nc(o))return o}}function Dye(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(nc(n))return oO(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(nt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&O4.test(a)){var u=O4.exec(a);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t?.[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(nt(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[1]))}catch{}else if(typeof i=="string"&&R4.test(i)){var f=R4.exec(i);if(f==null||t==null)l=void 0;else{var m=+f[1];l=t[1]+m}}else l=t?.[1];var p=[o,l];if(nc(p))return t==null?p:oO(p,t,r)}}}var bh=1e9,Oye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fC,Er=!0,Da="[DecimalError] ",uu=Da+"Invalid argument: ",hC=Da+"Exponent out of range: ",wh=Math.floor,zc=Math.pow,Rye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ta,Pn=1e7,Nr=7,IB=9007199254740991,Uv=wh(IB/Nr),it={};it.absoluteValue=it.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};it.comparedTo=it.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};it.decimalPlaces=it.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Nr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};it.dividedBy=it.div=function(e){return Ro(this,new this.constructor(e))};it.dividedToIntegerBy=it.idiv=function(e){var t=this,r=t.constructor;return fr(Ro(t,new r(e),0,1),r.precision)};it.equals=it.eq=function(e){return!this.cmp(e)};it.exponent=function(){return ln(this)};it.greaterThan=it.gt=function(e){return this.cmp(e)>0};it.greaterThanOrEqualTo=it.gte=function(e){return this.cmp(e)>=0};it.isInteger=it.isint=function(){return this.e>this.d.length-2};it.isNegative=it.isneg=function(){return this.s<0};it.isPositive=it.ispos=function(){return this.s>0};it.isZero=function(){return this.s===0};it.lessThan=it.lt=function(e){return this.cmp(e)<0};it.lessThanOrEqualTo=it.lte=function(e){return this.cmp(e)<1};it.logarithm=it.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ta))throw Error(Da+"NaN");if(r.s<1)throw Error(Da+(r.s?"NaN":"-Infinity"));return r.eq(ta)?new n(0):(Er=!1,t=Ro(Cm(r,i),Cm(e,i),i),Er=!0,fr(t,a))};it.minus=it.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TB(t,e):PB(t,(e.s=-e.s,e))};it.modulo=it.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Da+"NaN");return r.s?(Er=!1,t=Ro(r,e,0,1).times(e),Er=!0,r.minus(t)):fr(new n(r),a)};it.naturalExponential=it.exp=function(){return EB(this)};it.naturalLogarithm=it.ln=function(){return Cm(this)};it.negated=it.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};it.plus=it.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PB(t,e):TB(t,(e.s=-e.s,e))};it.precision=it.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(uu+e);if(t=ln(a)+1,n=a.d.length-1,r=n*Nr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};it.squareRoot=it.sqrt=function(){var e,t,r,n,a,i,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Da+"NaN")}for(e=ln(l),Er=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=zi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=wh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=o=r+3;;)if(i=n,n=i.plus(Ro(l,i,o+2)).times(.5),zi(i.d).slice(0,o)===(t=zi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(fr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Er=!0,fr(n,r)};it.times=it.mul=function(e){var t,r,n,a,i,o,l,u,d,f=this,m=f.constructor,p=f.d,v=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,r=f.e+e.e,u=p.length,d=v.length,u<d&&(i=p,p=v,v=i,o=u,u=d,d=o),i=[],o=u+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=u+n;a>n;)l=i[a]+v[n]*p[a-n-1]+t,i[a--]=l%Pn|0,t=l/Pn|0;i[a]=(i[a]+t)%Pn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Er?fr(e,m.precision):e};it.toDecimalPlaces=it.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(eo(e,0,bh),t===void 0?t=n.rounding:eo(t,0,8),fr(r,e+ln(r)+1,t))};it.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Nu(n,!0):(eo(e,0,bh),t===void 0?t=a.rounding:eo(t,0,8),n=fr(new a(n),e+1,t),r=Nu(n,!0,e+1)),r};it.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Nu(a):(eo(e,0,bh),t===void 0?t=i.rounding:eo(t,0,8),n=fr(new i(a),e+ln(a)+1,t),r=Nu(n.abs(),!1,e+ln(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};it.toInteger=it.toint=function(){var e=this,t=e.constructor;return fr(new t(e),ln(e)+1,t.rounding)};it.toNumber=function(){return+this};it.toPower=it.pow=function(e){var t,r,n,a,i,o,l=this,u=l.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(ta);if(l=new u(l),!l.s){if(e.s<1)throw Error(Da+"Infinity");return l}if(l.eq(ta))return l;if(n=u.precision,e.eq(ta))return fr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=IB){for(a=new u(ta),t=Math.ceil(n/Nr+4),Er=!1;r%2&&(a=a.times(l),cO(a.d,t)),r=wh(r/2),r!==0;)l=l.times(l),cO(l.d,t);return Er=!0,e.s<0?new u(ta).div(a):fr(a,n)}}else if(i<0)throw Error(Da+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Er=!1,a=e.times(Cm(l,n+d)),Er=!0,a=EB(a),a.s=i,a};it.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ln(a),n=Nu(a,r<=i.toExpNeg||r>=i.toExpPos)):(eo(e,1,bh),t===void 0?t=i.rounding:eo(t,0,8),a=fr(new i(a),e,t),r=ln(a),n=Nu(a,e<=r||r<=i.toExpNeg,e)),n};it.toSignificantDigits=it.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(eo(e,1,bh),t===void 0?t=n.rounding:eo(t,0,8)),fr(new n(r),e,t)};it.toString=it.valueOf=it.val=it.toJSON=it[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ln(e),r=e.constructor;return Nu(e,t<=r.toExpNeg||t>=r.toExpPos)};function PB(e,t){var r,n,a,i,o,l,u,d,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Er?fr(t,m):t;if(u=e.d,d=t.d,o=e.e,a=t.e,u=u.slice(),i=o-a,i){for(i<0?(n=u,i=-i,l=d.length):(n=d,a=o,l=u.length),o=Math.ceil(m/Nr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=d.length,l-i<0&&(i=l,n=d,d=u,u=n),r=0;i;)r=(u[--i]=u[i]+d[i]+r)/Pn|0,u[i]%=Pn;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,Er?fr(t,m):t}function eo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(uu+e)}function zi(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Nr-n.length,r&&(i+=_l(r)),i+=n;o=e[t],n=o+"",r=Nr-n.length,r&&(i+=_l(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ro=(function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Pn|0,o=i/Pn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,u;if(i!=o)u=i>o?1:-1;else for(l=u=0;l<i;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Pn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,u,d,f,m,p,v,x,j,w,S,P,k,R,I,L,E,C,F=n.constructor,_=n.s==a.s?1:-1,T=n.d,M=a.d;if(!n.s)return new F(n);if(!a.s)throw Error(Da+"Division by zero");for(u=n.e-a.e,E=M.length,I=T.length,v=new F(_),x=v.d=[],d=0;M[d]==(T[d]||0);)++d;if(M[d]>(T[d]||0)&&--u,i==null?P=i=F.precision:o?P=i+(ln(n)-ln(a))+1:P=i,P<0)return new F(0);if(P=P/Nr+2|0,d=0,E==1)for(f=0,M=M[0],P++;(d<I||f)&&P--;d++)k=f*Pn+(T[d]||0),x[d]=k/M|0,f=k%M|0;else{for(f=Pn/(M[0]+1)|0,f>1&&(M=e(M,f),T=e(T,f),E=M.length,I=T.length),R=E,j=T.slice(0,E),w=j.length;w<E;)j[w++]=0;C=M.slice(),C.unshift(0),L=M[0],M[1]>=Pn/2&&++L;do f=0,l=t(M,j,E,w),l<0?(S=j[0],E!=w&&(S=S*Pn+(j[1]||0)),f=S/L|0,f>1?(f>=Pn&&(f=Pn-1),m=e(M,f),p=m.length,w=j.length,l=t(m,j,p,w),l==1&&(f--,r(m,E<p?C:M,p))):(f==0&&(l=f=1),m=M.slice()),p=m.length,p<w&&m.unshift(0),r(j,m,w),l==-1&&(w=j.length,l=t(M,j,E,w),l<1&&(f++,r(j,E<w?C:M,w))),w=j.length):l===0&&(f++,j=[0]),x[d++]=f,l&&j[0]?j[w++]=T[R]||0:(j=[T[R]],w=1);while((R++<I||j[0]!==void 0)&&P--)}return x[0]||x.shift(),v.e=u,fr(v,o?i+ln(v)+1:i)}})();function EB(e,t){var r,n,a,i,o,l,u=0,d=0,f=e.constructor,m=f.precision;if(ln(e)>16)throw Error(hC+ln(e));if(!e.s)return new f(ta);for(Er=!1,l=m,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(zc(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new f(ta),f.precision=l;;){if(a=fr(a.times(e),l),r=r.times(++u),o=i.plus(Ro(a,r,l)),zi(o.d).slice(0,l)===zi(i.d).slice(0,l)){for(;d--;)i=fr(i.times(i),l);return f.precision=m,t==null?(Er=!0,fr(i,m)):i}i=o}}function ln(e){for(var t=e.e*Nr,r=e.d[0];r>=10;r/=10)t++;return t}function g1(e,t,r){if(t>e.LN10.sd())throw Er=!0,r&&(e.precision=r),Error(Da+"LN10 precision limit exceeded");return fr(new e(e.LN10),t)}function _l(e){for(var t="";e--;)t+="0";return t}function Cm(e,t){var r,n,a,i,o,l,u,d,f,m=1,p=10,v=e,x=v.d,j=v.constructor,w=j.precision;if(v.s<1)throw Error(Da+(v.s?"NaN":"-Infinity"));if(v.eq(ta))return new j(0);if(t==null?(Er=!1,d=w):d=t,v.eq(10))return t==null&&(Er=!0),g1(j,d);if(d+=p,j.precision=d,r=zi(x),n=r.charAt(0),i=ln(v),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=zi(v.d),n=r.charAt(0),m++;i=ln(v),n>1?(v=new j("0."+r),i++):v=new j(n+"."+r.slice(1))}else return u=g1(j,d+2,w).times(i+""),v=Cm(new j(n+"."+r.slice(1)),d-p).plus(u),j.precision=w,t==null?(Er=!0,fr(v,w)):v;for(l=o=v=Ro(v.minus(ta),v.plus(ta),d),f=fr(v.times(v),d),a=3;;){if(o=fr(o.times(f),d),u=l.plus(Ro(o,new j(a),d)),zi(u.d).slice(0,d)===zi(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(g1(j,d+2,w).times(i+""))),l=Ro(l,new j(m),d),j.precision=w,t==null?(Er=!0,fr(l,w)):l;l=u,a+=2}}function lO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=wh(r/Nr),e.d=[],n=(r+1)%Nr,r<0&&(n+=Nr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Nr;n<a;)e.d.push(+t.slice(n,n+=Nr));t=t.slice(n),n=Nr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Er&&(e.e>Uv||e.e<-Uv))throw Error(hC+r)}else e.s=0,e.e=0,e.d=[0];return e}function fr(e,t,r){var n,a,i,o,l,u,d,f,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Nr,a=t,d=m[f=0];else{if(f=Math.ceil((n+1)/Nr),i=m.length,f>=i)return e;for(d=i=m[f],o=1;i>=10;i/=10)o++;n%=Nr,a=n-Nr+o}if(r!==void 0&&(i=zc(10,o-a-1),l=d/i%10|0,u=t<0||m[f+1]!==void 0||d%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?d/zc(10,o-a):0:m[f-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=ln(e),m.length=1,t=t-i-1,m[0]=zc(10,(Nr-t%Nr)%Nr),e.e=wh(-t/Nr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=f,i=1,f--):(m.length=f+1,i=zc(10,Nr-n),m[f]=a>0?(d/zc(10,o-a)%zc(10,a)|0)*i:0),u)for(;;)if(f==0){(m[0]+=i)==Pn&&(m[0]=1,++e.e);break}else{if(m[f]+=i,m[f]!=Pn)break;m[f--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Er&&(e.e>Uv||e.e<-Uv))throw Error(hC+ln(e));return e}function TB(e,t){var r,n,a,i,o,l,u,d,f,m,p=e.constructor,v=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Er?fr(t,v):t;if(u=e.d,m=t.d,n=t.e,d=e.e,u=u.slice(),o=d-n,o){for(f=o<0,f?(r=u,o=-o,l=m.length):(r=m,n=d,l=u.length),a=Math.max(Math.ceil(v/Nr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=m.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(u[a]!=m[a]){f=u[a]<m[a];break}o=0}for(f&&(r=u,u=m,m=r,t.s=-t.s),l=u.length,a=m.length-l;a>0;--a)u[l++]=0;for(a=m.length;a>o;){if(u[--a]<m[a]){for(i=a;i&&u[--i]===0;)u[i]=Pn-1;--u[i],u[a]+=Pn}u[a]-=m[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Er?fr(t,v):t):new p(0)}function Nu(e,t,r){var n,a=ln(e),i=zi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+_l(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+_l(-a-1)+i,r&&(n=r-o)>0&&(i+=_l(n))):a>=o?(i+=_l(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+_l(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=_l(n))),e.s<0?"-"+i:i}function cO(e,t){if(e.length>t)return e.length=t,!0}function MB(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(uu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return lO(o,i.toString())}else if(typeof i!="string")throw Error(uu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Rye.test(i))lO(o,i);else throw Error(uu+i)}if(a.prototype=it,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=MB,a.config=a.set=Lye,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Lye(e){if(!e||typeof e!="object")throw Error(Da+"Object expected");var t,r,n,a=["precision",1,bh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(wh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(uu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(uu+r+": "+n);return this}var fC=MB(Oye);ta=new fC(1);const or=fC;var Fye=e=>e,_B={},DB=e=>e===_B,uO=e=>function t(){return arguments.length===0||arguments.length===1&&DB(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},OB=(e,t)=>e===1?t:uO(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==_B).length;return i>=e?t(...n):OB(e-i,uO(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=n.map(f=>DB(f)?l.shift():f);return t(...d,...l)}))}),$ye=e=>OB(e.length,e),v2=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Bye=$ye((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Vye=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Fye;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,u)=>u(l),i(...arguments))}},x2=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function RB(e){var t;return e===0?t=1:t=Math.floor(new or(e).abs().log(10).toNumber())+1,t}function LB(e,t,r){for(var n=new or(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var FB=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},$B=(e,t,r)=>{if(e.lte(0))return new or(0);var n=RB(e.toNumber()),a=new or(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new or(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=l.mul(a);return t?new or(u.toNumber()):new or(Math.ceil(u.toNumber()))},zye=(e,t,r)=>{var n=new or(1),a=new or(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new or(10).pow(RB(e)-1),a=new or(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new or(Math.floor(e)))}else e===0?a=new or(Math.floor((t-1)/2)):r||(a=new or(Math.floor(e)));var o=Math.floor((t-1)/2),l=Vye(Bye(u=>a.add(new or(u-o).mul(n)).toNumber()),v2);return l(0,t)},BB=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new or(0),tickMin:new or(0),tickMax:new or(0)};var o=$B(new or(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new or(0):(l=new or(t).add(r).div(2),l=l.sub(new or(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new or(r).sub(l).div(o).toNumber()),f=u+d+1;return f>n?BB(t,r,n,a,i+1):(f<n&&(d=r>0?d+(n-f):d,u=r>0?u:u+(n-f)),{step:o,tickMin:l.sub(new or(u).mul(o)),tickMax:l.add(new or(d).mul(o))})},Uye=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,u]=FB([r,n]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...v2(0,a-1).map(()=>1/0)]:[...v2(0,a-1).map(()=>-1/0),u];return r>n?x2(d):d}if(l===u)return zye(l,a,i);var{step:f,tickMin:m,tickMax:p}=BB(l,u,o,i,0),v=LB(m,p.add(new or(.1).mul(f)),f);return r>n?x2(v):v},Wye=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=FB([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var u=Math.max(r,2),d=$B(new or(l).sub(o).div(u-1),i,0),f=[...LB(new or(o),new or(l),d),l];return i===!1&&(f=f.map(m=>Math.round(m))),n>a?x2(f):f},VB=e=>e.rootProps.maxBarSize,Hye=e=>e.rootProps.barGap,zB=e=>e.rootProps.barCategoryGap,qye=e=>e.rootProps.barSize,dp=e=>e.rootProps.stackOffset,UB=e=>e.rootProps.reverseStackOrder,mC=e=>e.options.chartName,pC=e=>e.rootProps.syncId,WB=e=>e.rootProps.syncMethod,gC=e=>e.options.eventEmitter,Gye=e=>e.rootProps.baseValue,Zr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ao={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Js={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},i0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Kye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ao.angleAxisId,includeHidden:!1,name:void 0,reversed:Ao.reversed,scale:Ao.scale,tick:Ao.tick,tickCount:void 0,ticks:void 0,type:Ao.type,unit:void 0},Yye={allowDataOverflow:Js.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Js.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Js.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Js.scale,tick:Js.tick,tickCount:Js.tickCount,ticks:void 0,type:Js.type,unit:void 0},Zye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ao.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ao.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ao.scale,tick:Ao.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Qye={allowDataOverflow:Js.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Js.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Js.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Js.scale,tick:Js.tick,tickCount:Js.tickCount,ticks:void 0,type:"category",unit:void 0},yC=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Zye:Kye,vC=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Qye:Yye,o0=e=>e.polarOptions,xC=Ce([Jo,el,bn],z$),HB=Ce([o0,xC],(e,t)=>{if(e!=null)return os(e.innerRadius,t,0)}),qB=Ce([o0,xC],(e,t)=>{if(e!=null)return os(e.outerRadius,t,t*.8)}),Xye=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},GB=Ce([o0],Xye);Ce([yC,GB],i0);var KB=Ce([xC,HB,qB],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Ce([vC,KB],i0);var YB=Ce([Vt,o0,HB,qB,Jo,el],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=t;return{cx:os(o,a,a/2),cy:os(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:d,clockWise:!1}}}),Mr=(e,t)=>t,hp=(e,t,r)=>r;function l0(e){return e?.id}function ZB(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:n;if(!(d==null||d.length===0)){var f=l0(l);d.forEach((m,p)=>{var v=i==null||a?p:String(lr(m,i,null)),x=lr(m,l.dataKey,0),j;o.has(v)?j=o.get(v):j={},Object.assign(j,{[f]:x}),o.set(v,j)})}}),Array.from(o.values())}function c0(e){return e.stackId!=null&&e.dataKey!=null}var u0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function d0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Jye(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var jn=e=>{var t=Vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},jh=e=>e.tooltip.settings.axisId;function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){eve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eve(e,t,r){return(t=tve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tve(e){var t=rve(e,"string");return typeof t=="symbol"?t:t+""}function rve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b2=[0,"auto"],An={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},QB=(e,t)=>e.cartesianAxis.xAxis[t],rl=(e,t)=>{var r=QB(e,t);return r??An},In={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:b2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sp},XB=(e,t)=>e.cartesianAxis.yAxis[t],nl=(e,t)=>{var r=XB(e,t);return r??In},nve={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},bC=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??nve},Lr=(e,t,r)=>{switch(t){case"xAxis":return rl(e,r);case"yAxis":return nl(e,r);case"zAxis":return bC(e,r);case"angleAxis":return yC(e,r);case"radiusAxis":return vC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sve=(e,t,r)=>{switch(t){case"xAxis":return rl(e,r);case"yAxis":return nl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},fp=(e,t,r)=>{switch(t){case"xAxis":return rl(e,r);case"yAxis":return nl(e,r);case"angleAxis":return yC(e,r);case"radiusAxis":return vC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},JB=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function wC(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var mp=e=>e.graphicalItems.cartesianItems,ave=Ce([Mr,hp],wC),jC=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),pp=Ce([mp,Lr,ave],jC,{memoizeOptions:{resultEqualityCheck:d0}}),eV=Ce([pp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(c0)),tV=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),ive=Ce([pp],tV),NC=e=>e.map(t=>t.data).filter(Boolean).flat(1),ove=Ce([pp],NC,{memoizeOptions:{resultEqualityCheck:d0}}),SC=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},kC=Ce([ove,up],SC),CC=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:lr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:lr(a,n)}))):e.map(n=>({value:n})),h0=Ce([kC,Lr,pp],CC);function rV(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Py(e){if(Xi(e)||e instanceof Date){var t=Number(e);if(kr(t))return t}}function hO(e){if(Array.isArray(e)){var t=[Py(e[0]),Py(e[1])];return nc(t)?t:void 0}var r=Py(e);if(r!=null)return[r,r]}function Yo(e){return e.map(Py).filter(tue)}function lve(e,t,r){return!r||typeof t!="number"||Ma(t)?[]:r.length?Yo(r.flatMap(n=>{var a=lr(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!kr(i)||!kr(o)))return[t-i,t+o]})):[]}var Nn=e=>{var t=jn(e),r=jh(e);return fp(e,t,r)},gp=Ce([Nn],e=>e?.dataKey),cve=Ce([eV,up,Nn],ZB),nV=(e,t,r,n)=>{var a={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,u]=o,d=n?[...u].reverse():u,f=d.map(l0);return[l,{stackedData:Ihe(e,f,r),graphicalItems:d}]}))},Am=Ce([cve,eV,dp,UB],nV),sV=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=Mhe(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},uve=Ce([Lr],e=>e.allowDataOverflow),AC=e=>{var t;if(e==null||!("domain"in e))return b2;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Yo(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:b2},IC=Ce([Lr],AC),PC=Ce([IC,uve],AB),dve=Ce([Am,fc,Mr,PC],sV,{memoizeOptions:{resultEqualityCheck:u0}}),f0=e=>e.errorBars,hve=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>rV(r,n)),Hv=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},EC=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var d,f,m=(d=n[u.id])===null||d===void 0?void 0:d.filter(S=>rV(a,S)),p=lr(l,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),v=lve(l,p,m);if(v.length>=2){var x=Math.min(...v),j=Math.max(...v);(i==null||x<i)&&(i=x),(o==null||j>o)&&(o=j)}var w=hO(p);w!=null&&(i=i==null?w[0]:Math.min(i,w[0]),o=o==null?w[1]:Math.max(o,w[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=hO(lr(l,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),kr(i)&&kr(o))return[i,o]},fve=Ce([kC,Lr,ive,f0,Mr],EC,{memoizeOptions:{resultEqualityCheck:u0}});function mve(e){var{value:t}=e;if(Xi(t)||t instanceof Date)return t}var pve=(e,t,r)=>{var n=e.map(mve).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&bF(n))?q$(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},aV=e=>e.referenceElements.dots,Nh=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),gve=Ce([aV,Mr,hp],Nh),iV=e=>e.referenceElements.areas,yve=Ce([iV,Mr,hp],Nh),oV=e=>e.referenceElements.lines,vve=Ce([oV,Mr,hp],Nh),lV=(e,t)=>{var r=Yo(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},xve=Ce(gve,Mr,lV),cV=(e,t)=>{var r=Yo(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bve=Ce([yve,Mr],cV);function wve(e){var t;if(e.x!=null)return Yo([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Yo(r)}function jve(e){var t;if(e.y!=null)return Yo([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Yo(r)}var uV=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?wve(n):jve(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nve=Ce([vve,Mr],uV),Sve=Ce(xve,Nve,bve,(e,t,r)=>Hv(e,r,t)),TC=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?Hv(n,i,a):Hv(i,a);return Dye(t,d,e.allowDataOverflow)},kve=Ce([Lr,IC,PC,dve,fve,Sve,Vt,Mr],TC,{memoizeOptions:{resultEqualityCheck:u0}}),Cve=[0,1],MC=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,d=so(t,i);if(d&&l==null){var f;return q$(0,(f=r?.length)!==null&&f!==void 0?f:0)}return u==="category"?pve(n,e,d):a==="expand"?Cve:o}},_C=Ce([Lr,Vt,kC,h0,dp,Mr,kve],MC),dV=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Xm(i));return l in Lf?l:"point"}}},Sh=Ce([Lr,Vt,JB,mC,Mr],dV);function Ave(e){if(e!=null){if(e in Lf)return Lf[e]();var t="scale".concat(Xm(e));if(t in Lf)return Lf[t]()}}function DC(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Ave(t);if(a!=null){var i=a.domain(r).range(n);return Nhe(i),i}}}var OC=(e,t,r)=>{var n=AC(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&nc(e))return Uye(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&nc(e))return Wye(e,t.tickCount,t.allowDecimals)}},RC=Ce([_C,fp,Sh],OC),LC=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&nc(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},Ive=Ce([Lr,_C,RC,Mr],LC),Pve=Ce(h0,Lr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Yo(e.map(l=>l.value))).sort((l,u)=>l-u);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),hV=Ce(Pve,Vt,zB,bn,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!kr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=os(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),Eve=(e,t)=>{var r=rl(e,t);return r==null||typeof r.padding!="string"?0:hV(e,"xAxis",t,r.padding)},Tve=(e,t)=>{var r=nl(e,t);return r==null||typeof r.padding!="string"?0:hV(e,"yAxis",t,r.padding)},Mve=Ce(rl,Eve,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),_ve=Ce(nl,Tve,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Dve=Ce([bn,Mve,Kx,Gx,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Ove=Ce([bn,Vt,_ve,Kx,Gx,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),yp=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Dve(e,r,n);case"yAxis":return Ove(e,r,n);case"zAxis":return(a=bC(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return GB(e);case"radiusAxis":return KB(e,r);default:return}},fV=Ce([Lr,yp],i0),kh=Ce([Lr,Sh,Ive,fV],DC);Ce([pp,f0,Mr],hve);function mV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var m0=(e,t)=>t,p0=(e,t,r)=>r,Rve=Ce(Hx,m0,p0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(mV)),Lve=Ce(qx,m0,p0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(mV)),pV=(e,t)=>({width:e.width,height:t.height}),Fve=(e,t)=>{var r=typeof t.width=="number"?t.width:sp;return{width:r,height:e.height}},gV=Ce(bn,rl,pV),$ve=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Bve=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Vve=Ce(el,bn,Rve,m0,p0,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var u=pV(t,l);o==null&&(o=$ve(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),i}),zve=Ce(Jo,bn,Lve,m0,p0,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var u=Fve(t,l);o==null&&(o=Bve(t,n,e));var d=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),i}),Uve=(e,t)=>{var r=rl(e,t);if(r!=null)return Vve(e,r.orientation,r.mirror)},Wve=Ce([bn,rl,Uve,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Hve=(e,t)=>{var r=nl(e,t);if(r!=null)return zve(e,r.orientation,r.mirror)},qve=Ce([bn,nl,Hve,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),yV=Ce(bn,nl,(e,t)=>{var r=typeof t.width=="number"?t.width:sp;return{width:r,height:e.height}}),fO=(e,t,r)=>{switch(t){case"xAxis":return gV(e,r).width;case"yAxis":return yV(e,r).height;default:return}},vV=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=so(e,n),u=t.map(d=>d.value);if(o&&l&&i==="category"&&a&&bF(u))return u}},FC=Ce([Vt,h0,Lr,Mr],vV),xV=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=so(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},$C=Ce([Vt,h0,fp,Mr],xV),mO=Ce([Vt,sve,Sh,kh,FC,$C,yp,RC,Mr],(e,t,r,n,a,i,o,l,u)=>{if(t!=null){var d=so(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}}),Gve=(e,t,r,n,a,i,o,l,u)=>{if(!(t==null||n==null)){var d=so(e,u),{type:f,ticks:m,tickCount:p}=t,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=f==="category"&&n.bandwidth?n.bandwidth()/v:0;x=u==="angleAxis"&&i!=null&&i.length>=2?Mn(i[0]-i[1])*2*x:x;var j=m||a;if(j){var w=j.map((S,P)=>{var k=o?o.indexOf(S):S;return{index:P,coordinate:n(k)+x,value:S,offset:x}});return w.filter(S=>kr(S.coordinate))}return d&&l?l.map((S,P)=>({coordinate:n(S)+x,value:S,index:P,offset:x})).filter(S=>kr(S.coordinate)):n.ticks?n.ticks(p).map(S=>({coordinate:n(S)+x,value:S,offset:x})):n.domain().map((S,P)=>({coordinate:n(S)+x,value:o?o[S]:S,index:P,offset:x}))}},bV=Ce([Vt,fp,Sh,kh,RC,yp,FC,$C,Mr],Gve),Kve=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=so(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&n?.length>=2?Mn(n[0]-n[1])*2*d:d,l&&i?i.map((f,m)=>({coordinate:r(f)+d,value:f,index:m,offset:d})):r.ticks?r.ticks(u).map(f=>({coordinate:r(f)+d,value:f,offset:d})):r.domain().map((f,m)=>({coordinate:r(f)+d,value:a?a[f]:f,index:m,offset:d}))}},to=Ce([Vt,fp,kh,yp,FC,$C,Mr],Kve),ro=Ce(Lr,kh,(e,t)=>{if(!(e==null||t==null))return Wv(Wv({},e),{},{scale:t})}),Yve=Ce([Lr,Sh,_C,fV],DC);Ce((e,t,r)=>bC(e,r),Yve,(e,t)=>{if(!(e==null||t==null))return Wv(Wv({},e),{},{scale:t})});var Zve=Ce([Vt,Hx,qx],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),wV=e=>e.options.defaultTooltipEventType,jV=e=>e.options.validateTooltipEventTypes;function NV(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function BC(e,t){var r=wV(e),n=jV(e);return NV(t,r,n)}function Qve(e){return st(t=>BC(t,e))}var SV=(e,t)=>{var r,n=Number(t);if(!(Ma(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Xve=e=>e.tooltip.settings,$l={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Jve={itemInteraction:{click:$l,hover:$l},axisInteraction:{click:$l,hover:$l},keyboardInteraction:$l,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},kV=Bs({name:"tooltip",initialState:Jve,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ir()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ci(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Ir()},removeTooltipEntrySettings:{reducer(e,t){var r=ci(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ir()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:exe,replaceTooltipEntrySettings:txe,removeTooltipEntrySettings:rxe,setTooltipSettingsState:nxe,setActiveMouseOverItemIndex:CV,mouseLeaveItem:sxe,mouseLeaveChart:AV,setActiveClickItemIndex:axe,setMouseOverAxisIndex:IV,setMouseClickAxisIndex:ixe,setSyncInteraction:w2,setKeyboardInteraction:j2}=kV.actions,oxe=kV.reducer;function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ay(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lxe(e,t,r){return(t=cxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cxe(e){var t=uxe(e,"string");return typeof t=="symbol"?t:t+""}function uxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dxe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function hxe(e){return e.index!=null}var PV=(e,t,r,n)=>{if(t==null)return $l;var a=dxe(e,t,r);if(a==null)return $l;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(hxe(a)){if(i)return ay(ay({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return ay(ay({},$l),{},{coordinate:a.coordinate})};function fxe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function mxe(e,t){var r=fxe(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function pxe(e,t,r){if(r==null||t==null)return!0;var n=lr(e,t);return n==null||!nc(r)?!0:mxe(n,r)}var VC=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var i=Number(a);if(!kr(i))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(i,l)),d=t[u];return d==null||pxe(d,r,n)?String(u):null},EV=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,i);if(d!=null)return d;var f=a?.[Number(i)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},TV=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},vp=e=>e.options.tooltipPayloadSearcher,Ch=e=>e.tooltip;function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){gxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gxe(e,t,r){return(t=yxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yxe(e){var t=vxe(e,"string");return typeof t=="symbol"?t:t+""}function vxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xxe(e,t){return e??t}var MV=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=r,m=[];return e.reduce((p,v)=>{var x,{dataDefinedOnItem:j,settings:w}=v,S=xxe(j,l),P=Array.isArray(S)?m$(S,d,f):S,k=(x=w?.dataKey)!==null&&x!==void 0?x:n,R=w?.nameKey,I;if(n&&Array.isArray(P)&&!Array.isArray(P[0])&&o==="axis"?I=wF(P,n,a):I=i(P,t,u,R),Array.isArray(I))I.forEach(E=>{var C=yO(yO({},w),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});p.push(L4({tooltipEntrySettings:C,dataKey:E.dataKey,payload:E.payload,value:lr(E.payload,E.dataKey),name:E.name}))});else{var L;p.push(L4({tooltipEntrySettings:w,dataKey:k,payload:I,value:lr(I,k),name:(L=lr(I,R))!==null&&L!==void 0?L:w?.name}))}return p},m)}},zC=Ce([Nn,Vt,JB,mC,jn],dV),bxe=Ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),wxe=Ce([jn,jh],wC),xp=Ce([bxe,Nn,wxe],jC,{memoizeOptions:{resultEqualityCheck:d0}}),jxe=Ce([xp],e=>e.filter(c0)),Nxe=Ce([xp],NC,{memoizeOptions:{resultEqualityCheck:d0}}),Ah=Ce([Nxe,fc],SC),Sxe=Ce([jxe,fc,Nn],ZB),UC=Ce([Ah,Nn,xp],CC),_V=Ce([Nn],AC),kxe=Ce([Nn],e=>e.allowDataOverflow),DV=Ce([_V,kxe],AB),Cxe=Ce([xp],e=>e.filter(c0)),Axe=Ce([Sxe,Cxe,dp,UB],nV),Ixe=Ce([Axe,fc,jn,DV],sV),Pxe=Ce([xp],tV),Exe=Ce([Ah,Nn,Pxe,f0,jn],EC,{memoizeOptions:{resultEqualityCheck:u0}}),Txe=Ce([aV,jn,jh],Nh),Mxe=Ce([Txe,jn],lV),_xe=Ce([iV,jn,jh],Nh),Dxe=Ce([_xe,jn],cV),Oxe=Ce([oV,jn,jh],Nh),Rxe=Ce([Oxe,jn],uV),Lxe=Ce([Mxe,Rxe,Dxe],Hv),Fxe=Ce([Nn,_V,DV,Ixe,Exe,Lxe,Vt,jn],TC),bp=Ce([Nn,Vt,Ah,UC,dp,jn,Fxe],MC),$xe=Ce([bp,Nn,zC],OC),Bxe=Ce([Nn,bp,$xe,jn],LC),OV=e=>{var t=jn(e),r=jh(e),n=!1;return yp(e,t,r,n)},RV=Ce([Nn,OV],i0),LV=Ce([Nn,zC,Bxe,RV],DC),Vxe=Ce([Vt,UC,Nn,jn],vV),zxe=Ce([Vt,UC,Nn,jn],xV),Uxe=(e,t,r,n,a,i,o,l)=>{if(t){var{type:u}=t,d=so(e,l);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/f:0;return m=l==="angleAxis"&&a!=null&&a?.length>=2?Mn(a[0]-a[1])*2*m:m,d&&o?o.map((p,v)=>({coordinate:n(p)+m,value:p,index:v,offset:m})):n.domain().map((p,v)=>({coordinate:n(p)+m,value:i?i[p]:p,index:v,offset:m}))}}},sl=Ce([Vt,Nn,zC,LV,OV,Vxe,zxe,jn],Uxe),WC=Ce([wV,jV,Xve],(e,t,r)=>NV(r.shared,e,t)),FV=e=>e.tooltip.settings.trigger,HC=e=>e.tooltip.settings.defaultIndex,wp=Ce([Ch,WC,FV,HC],PV),sc=Ce([wp,Ah,gp,bp],VC),$V=Ce([sl,sc],SV),qC=Ce([wp],e=>{if(e)return e.dataKey}),Wxe=Ce([wp],e=>{if(e)return e.graphicalItemId}),BV=Ce([Ch,WC,FV,HC],TV),Hxe=Ce([Jo,el,Vt,bn,sl,HC,BV,vp],EV),qxe=Ce([wp,Hxe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Gxe=Ce([wp],e=>e.active),Kxe=Ce([BV,sc,fc,gp,$V,vp,WC],MV),Yxe=Ce([Kxe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){Zxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zxe(e,t,r){return(t=Qxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qxe(e){var t=Xxe(e,"string");return typeof t=="symbol"?t:t+""}function Xxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jxe=()=>st(Nn),e0e=()=>{var e=Jxe(),t=st(sl),r=st(LV);return rc(!e||!r?void 0:xO(xO({},e),{},{scale:r}),t)};function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(n){t0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t0e(e,t,r){return(t=r0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r0e(e){var t=n0e(e,"string");return typeof t=="symbol"?t:t+""}function n0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s0e=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},a0e=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return yd(yd(yd({},n),on(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:u}=n;return yd(yd(yd({},n),on(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function i0e(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var VV=(e,t,r,n,a)=>{var i,o=-1,l=(i=t?.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?r[u-1].coordinate:r[l-1].coordinate,f=r[u].coordinate,m=u>=l-1?r[0].coordinate:r[u+1].coordinate,p=void 0;if(Mn(f-d)!==Mn(m-f)){var v=[];if(Mn(m-f)===Mn(a[1]-a[0])){p=m;var x=f+a[1]-a[0];v[0]=Math.min(x,(x+d)/2),v[1]=Math.max(x,(x+d)/2)}else{p=d;var j=m+a[1]-a[0];v[0]=Math.min(f,(j+f)/2),v[1]=Math.max(f,(j+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){({index:o}=r[u]);break}}else{var S=Math.min(d,m),P=Math.max(d,m);if(e>(S+f)/2&&e<=(P+f)/2){({index:o}=r[u]);break}}}else if(t){for(var k=0;k<l;k++)if(k===0&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k>0&&k<l-1&&e>(t[k].coordinate+t[k-1].coordinate)/2&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k===l-1&&e>(t[k].coordinate+t[k-1].coordinate)/2){({index:o}=t[k]);break}}return o},zV=()=>st(mC),GC=(e,t)=>t,UV=(e,t,r)=>r,KC=(e,t,r,n)=>n,o0e=Ce(sl,e=>Rx(e,t=>t.coordinate)),YC=Ce([Ch,GC,UV,KC],PV),ZC=Ce([YC,Ah,gp,bp],VC),l0e=(e,t,r)=>{if(t!=null){var n=Ch(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},WV=Ce([Ch,GC,UV,KC],TV),qv=Ce([Jo,el,Vt,bn,sl,KC,WV,vp],EV),c0e=Ce([YC,qv],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),HV=Ce([sl,ZC],SV),u0e=Ce([WV,ZC,fc,gp,HV,vp,GC],MV),d0e=Ce([YC,ZC],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),h0e=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&i0e(e,o)){var l=_he(e,t),u=VV(l,i,a,r,n),d=s0e(t,a,u,e);return{activeIndex:String(u),activeCoordinate:d}}},f0e=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var l=Zme(e,r);if(l){var u=Dhe(l,t),d=VV(u,o,i,n,a),f=a0e(t,i,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},m0e=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?h0e(e,t,n,a,i,o,l):f0e(e,t,r,n,a,i,o)},p0e=Ce(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),g0e=Ce(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Zr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:Jye}});function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){y0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y0e(e,t,r){return(t=v0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v0e(e){var t=x0e(e,"string");return typeof t=="symbol"?t:t+""}function x0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b0e={},w0e={zIndexMap:Object.values(Zr).reduce((e,t)=>jO(jO({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),b0e)},j0e=new Set(Object.values(Zr));function N0e(e){return j0e.has(e)}var qV=Bs({name:"zIndex",initialState:w0e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ir()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!N0e(r)&&delete e.zIndexMap[r])},prepare:Ir()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Ir()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ir()}}}),{registerZIndexPortal:S0e,unregisterZIndexPortal:k0e,registerZIndexPortalId:C0e,unregisterZIndexPortalId:A0e}=qV.actions,I0e=qV.reducer;function Ss(e){var{zIndex:t,children:r}=e,n=hfe(),a=n&&t!==void 0&&t!==0,i=Dn(),o=br();g.useLayoutEffect(()=>a?(o(S0e({zIndex:t})),()=>{o(k0e({zIndex:t}))}):Jm,[o,t,a]);var l=st(d=>p0e(d,t,i));if(!a)return r;if(!l)return null;var u=document.getElementById(l);return u?W2.createPortal(r,u):null}function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N2.apply(null,arguments)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){P0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P0e(e,t,r){return(t=E0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E0e(e){var t=T0e(e,"string");return typeof t=="symbol"?t:t+""}function T0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M0e(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return g.isValidElement(t)?g.cloneElement(t,n):g.createElement(r,n)}function _0e(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:f}=e,m=r,p=n,v=a;if(!u||!m||f!=="ScatterChart"&&d!=="axis")return null;var x,j,w;if(f==="ScatterChart")x=m,j=dme,w=Zr.cursorLine;else if(f==="BarChart")x=hme(l,m,i,o),j=V$,w=Zr.cursorRectangle;else if(l==="radial"&&NF(m)){var{cx:S,cy:P,radius:k,startAngle:R,endAngle:I}=U$(m);x={cx:S,cy:P,startAngle:R,endAngle:I,innerRadius:k,outerRadius:k},j=H$,w=Zr.cursorLine}else x={points:epe(l,m,i)},j=Vd,w=Zr.cursorLine;var L=typeof u=="object"&&"className"in u?u.className:void 0,E=iy(iy(iy(iy({stroke:"#ccc",pointerEvents:"none"},i),x),xu(u)),{},{payload:p,payloadIndex:v,className:Kt("recharts-tooltip-cursor",L)});return g.createElement(Ss,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},g.createElement(M0e,{cursor:u,cursorComp:j,cursorProps:E}))}function D0e(e){var t=e0e(),r=k$(),n=Eu(),a=zV();return t==null||r==null||n==null||a==null?null:g.createElement(_0e,N2({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var GV=g.createContext(null),O0e=()=>g.useContext(GV),y1={exports:{}},SO;function R0e(){return SO||(SO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function i(u,d,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new a(f,m||u,p),x=r?r+d:d;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],v]:u._events[x].push(v):(u._events[x]=v,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)t.call(f,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,v=m.length,x=new Array(v);p<v;p++)x[p]=m[p].fn;return x},l.prototype.listenerCount=function(d){var f=r?r+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,p,v,x){var j=r?r+d:d;if(!this._events[j])return!1;var w=this._events[j],S=arguments.length,P,k;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,m),!0;case 4:return w.fn.call(w.context,f,m,p),!0;case 5:return w.fn.call(w.context,f,m,p,v),!0;case 6:return w.fn.call(w.context,f,m,p,v,x),!0}for(k=1,P=new Array(S-1);k<S;k++)P[k-1]=arguments[k];w.fn.apply(w.context,P)}else{var R=w.length,I;for(k=0;k<R;k++)switch(w[k].once&&this.removeListener(d,w[k].fn,void 0,!0),S){case 1:w[k].fn.call(w[k].context);break;case 2:w[k].fn.call(w[k].context,f);break;case 3:w[k].fn.call(w[k].context,f,m);break;case 4:w[k].fn.call(w[k].context,f,m,p);break;default:if(!P)for(I=1,P=new Array(S-1);I<S;I++)P[I-1]=arguments[I];w[k].fn.apply(w[k].context,P)}}return!0},l.prototype.on=function(d,f,m){return i(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return i(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,p){var v=r?r+d:d;if(!this._events[v])return this;if(!f)return o(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!p||x.once)&&(!m||x.context===m)&&o(this,v);else{for(var j=0,w=[],S=x.length;j<S;j++)(x[j].fn!==f||p&&!x[j].once||m&&x[j].context!==m)&&w.push(x[j]);w.length?this._events[v]=w.length===1?w[0]:w:o(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(y1)),y1.exports}var L0e=R0e();const F0e=ua(L0e);var Im=new F0e,S2="recharts.syncEvent.tooltip",kO="recharts.syncEvent.brush";function g0(e,t){if(t){var r=Number.parseInt(t,10);if(!Ma(r))return e?.[r]}}var $0e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},KV=Bs({name:"options",initialState:$0e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),B0e=KV.reducer,{createEventEmitter:V0e}=KV.actions;function z0e(e){return e.tooltip.syncInteraction}var U0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},YV=Bs({name:"chartData",initialState:U0e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:CO,setDataStartEndIndexes:W0e,setComputedData:cIe}=YV.actions,H0e=YV.reducer,q0e=["x","y"];function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){G0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G0e(e,t,r){return(t=K0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K0e(e){var t=Y0e(e,"string");return typeof t=="symbol"?t:t+""}function Y0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z0e(e,t){if(e==null)return{};var r,n,a=Q0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Q0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function X0e(){var e=st(pC),t=st(gC),r=br(),n=st(WB),a=st(sl),i=Eu(),o=Yx(),l=st(u=>u.rootProps.className);g.useEffect(()=>{if(e==null)return Jm;var u=(d,f,m)=>{if(t!==m&&e===d){if(n==="index"){var p;if(o&&f!==null&&f!==void 0&&(p=f.payload)!==null&&p!==void 0&&p.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x,y:j}=v,w=Z0e(v,q0e),{x:S,y:P,width:k,height:R}=f.payload.sourceViewBox,I=vd(vd({},w),{},{x:o.x+(k?(x-S)/k:0)*o.width,y:o.y+(R?(j-P)/R:0)*o.height});r(vd(vd({},f),{},{payload:vd(vd({},f.payload),{},{coordinate:I})}))}else r(f);return}if(a!=null){var L;if(typeof n=="function"){var E={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},C=n(a,E);L=a[C]}else n==="value"&&(L=a.find(U=>String(U.value)===f.payload.label));var{coordinate:F}=f.payload;if(L==null||f.payload.active===!1||F==null||o==null){r(w2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:_,y:T}=F,M=Math.min(_,o.x+o.width),$=Math.min(T,o.y+o.height),J={x:i==="horizontal"?L.coordinate:M,y:i==="horizontal"?$:L.coordinate},q=w2({active:f.payload.active,coordinate:J,dataKey:f.payload.dataKey,index:String(L.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});r(q)}}};return Im.on(S2,u),()=>{Im.off(S2,u)}},[l,r,t,e,n,a,i,o])}function J0e(){var e=st(pC),t=st(gC),r=br();g.useEffect(()=>{if(e==null)return Jm;var n=(a,i,o)=>{t!==o&&e===a&&r(W0e(i))};return Im.on(kO,n),()=>{Im.off(kO,n)}},[r,t,e])}function ebe(){var e=br();g.useEffect(()=>{e(V0e())},[e]),X0e(),J0e()}function tbe(e,t,r,n,a,i){var o=st(v=>l0e(v,e,t)),l=st(gC),u=st(pC),d=st(WB),f=st(z0e),m=f?.active,p=Yx();g.useEffect(()=>{if(!m&&u!=null&&l!=null){var v=w2({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});Im.emit(S2,u,v,l)}},[m,r,o,a,n,l,u,d,i,p])}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){rbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rbe(e,t,r){return(t=nbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nbe(e){var t=sbe(e,"string");return typeof t=="symbol"?t:t+""}function sbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function abe(e){return e.dataKey}function ibe(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(Wfe,t)}var EO=[],obe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ui(e){var t,r,n=qr(e,obe),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:p,position:v,reverseDirection:x,useTranslate3d:j,wrapperStyle:w,cursor:S,shared:P,trigger:k,defaultIndex:R,portal:I,axisId:L}=n,E=br(),C=typeof R=="number"?String(R):R;g.useEffect(()=>{E(nxe({shared:P,trigger:k,axisId:L,active:a,defaultIndex:C}))},[E,P,k,L,a,C]);var F=Yx(),_=R$(),T=Qve(P),{activeIndex:M,isActive:$}=(t=st(fe=>d0e(fe,T,k,C)))!==null&&t!==void 0?t:{},J=st(fe=>u0e(fe,T,k,C)),q=st(fe=>HV(fe,T,k,C)),U=st(fe=>c0e(fe,T,k,C)),X=J,B=O0e(),Z=(r=a??$)!==null&&r!==void 0?r:!1,[ne,W]=FF([X,Z]),z=T==="axis"?q:void 0;tbe(T,k,U,z,M,Z);var pe=I??B;if(pe==null||F==null||T==null)return null;var oe=X??EO;Z||(oe=EO),d&&oe.length&&(oe=_F(oe.filter(fe=>fe.value!=null&&(fe.hide!==!0||n.includeHidden)),p,abe));var Pe=oe.length>0,ke=g.createElement(Qfe,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:f,active:Z,coordinate:U,hasPayload:Pe,offset:m,position:v,reverseDirection:x,useTranslate3d:j,viewBox:F,wrapperStyle:w,lastBoundingBox:ne,innerRef:W,hasPortalFromProps:!!I},ibe(u,PO(PO({},n),{},{payload:oe,label:z,active:Z,activeIndex:M,coordinate:U,accessibilityLayer:_})));return g.createElement(g.Fragment,null,W2.createPortal(ke,pe),Z&&g.createElement(D0e,{cursor:S,tooltipEventType:T,coordinate:U,payload:oe,index:M}))}var _u=e=>null;_u.displayName="Cell";function lbe(e,t,r){return(t=cbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cbe(e){var t=ube(e,"string");return typeof t=="symbol"?t:t+""}function ube(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dbe{constructor(t){lbe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){fbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fbe(e,t,r){return(t=mbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mbe(e){var t=pbe(e,"string");return typeof t=="symbol"?t:t+""}function pbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gbe={cacheSize:2e3,enableCache:!0},ZV=hbe({},gbe),MO=new dbe(ZV.cacheSize),ybe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_O="recharts_measurement_span";function vbe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var DO=(e,t)=>{try{var r=document.getElementById(_O);r||(r=document.createElement("span"),r.setAttribute("id",_O),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,ybe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Yf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gh.isSsr)return{width:0,height:0};if(!ZV.enableCache)return DO(t,r);var n=vbe(t,r),a=MO.get(n);if(a)return a;var i=DO(t,r);return MO.set(n,i),i},OO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wbe=Object.keys(QV),Pd="NaN";function jbe(e,t){return e*QV[t]}class Ds{static parse(t){var r,[,n,a]=(r=bbe.exec(t))!==null&&r!==void 0?r:[];return new Ds(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ma(t)&&(this.unit=""),r!==""&&!xbe.test(r)&&(this.num=NaN,this.unit=""),wbe.includes(r)&&(this.num=jbe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ds(NaN,""):new Ds(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ds(NaN,""):new Ds(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ds(NaN,""):new Ds(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ds(NaN,""):new Ds(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ma(this.num)}}function XV(e){if(e.includes(Pd))return Pd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=OO.exec(t))!==null&&r!==void 0?r:[],o=Ds.parse(n??""),l=Ds.parse(i??""),u=a==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Pd;t=t.replace(OO,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,m,p]=(d=RO.exec(t))!==null&&d!==void 0?d:[],v=Ds.parse(f??""),x=Ds.parse(p??""),j=m==="+"?v.add(x):v.subtract(x);if(j.isNaN())return Pd;t=t.replace(RO,j.toString())}return t}var LO=/\(([^()]*)\)/;function Nbe(e){for(var t=e,r;(r=LO.exec(t))!=null;){var[,n]=r;t=t.replace(LO,XV(n))}return t}function Sbe(e){var t=e.replace(/\s+/g,"");return t=Nbe(t),t=XV(t),t}function kbe(e){try{return Sbe(e)}catch{return Pd}}function v1(e){var t=kbe(e.slice(5,-1));return t===Pd?"":t}var Cbe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Abe=["dx","dy","angle","className","breakAll"];function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k2.apply(null,arguments)}function FO(e,t){if(e==null)return{};var r,n,a=Ibe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ibe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JV=/[ \f\n\r\t\v\u2028\u2029]+/,ez=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Sr(t)||(r?a=t.toString().split(""):a=t.toString().split(JV));var i=a.map(l=>({word:l,width:Yf(l,n).width})),o=r?0:Yf("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function Pbe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var tz=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:l}=i,u=a[a.length-1];if(u&&l!=null&&(t==null||n||u.width+l+r<Number(t)))u.words.push(o),u.width+=l+r;else{var d={words:[o],width:l};a.push(d)}return a},[]),rz=e=>e.reduce((t,r)=>t.width>r.width?t:r),Ebe="",$O=(e,t,r,n,a,i,o,l)=>{var u=e.slice(0,t),d=ez({breakAll:r,style:n,children:u+Ebe});if(!d)return[!1,[]];var f=tz(d.wordsWithComputedWidth,i,o,l),m=f.length>a||rz(f).width>Number(i);return[m,f]},Tbe=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:u}=e,d=nt(i),f=String(o),m=tz(t,n,r,a);if(!d||a)return m;var p=m.length>i||rz(m).width>Number(n);if(!p)return m;for(var v=0,x=f.length-1,j=0,w;v<=x&&j<=f.length-1;){var S=Math.floor((v+x)/2),P=S-1,[k,R]=$O(f,P,u,l,i,n,r,a),[I]=$O(f,S,u,l,i,n,r,a);if(!k&&!I&&(v=S+1),k&&I&&(x=S-1),!k&&I){w=R;break}j++}return w||m},BO=e=>{var t=Sr(e)?[]:e.toString().split(JV);return[{words:t,width:void 0}]},Mbe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!gh.isSsr){var l,u,d=ez({breakAll:i,children:n,style:a});if(d){var{wordsWithComputedWidth:f,spaceWidth:m}=d;l=f,u=m}else return BO(n);return Tbe({breakAll:i,children:n,maxLines:o,style:a},l,u,t,!!r)}return BO(n)},nz="#808080",_be={angle:0,breakAll:!1,capHeight:"0.71em",fill:nz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},y0=g.forwardRef((e,t)=>{var r=qr(e,_be),{x:n,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:f}=r,m=FO(r,Cbe),p=g.useMemo(()=>Mbe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:v,dy:x,angle:j,className:w,breakAll:S}=m,P=FO(m,Abe);if(!Xi(n)||!Xi(a)||p.length===0)return null;var k=Number(n)+(nt(v)?v:0),R=Number(a)+(nt(x)?x:0);if(!kr(k)||!kr(R))return null;var I;switch(f){case"start":I=v1("calc(".concat(o,")"));break;case"middle":I=v1("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:I=v1("calc(".concat(p.length-1," * -").concat(i,")"));break}var L=[];if(u){var E=p[0].width,{width:C}=m;L.push("scale(".concat(nt(C)&&nt(E)?C/E:1,")"))}return j&&L.push("rotate(".concat(j,", ").concat(k,", ").concat(R,")")),L.length&&(P.transform=L.join(" ")),g.createElement("text",k2({},cs(P),{ref:t,x:k,y:R,className:Kt("recharts-text",w),textAnchor:d,fill:l.includes("url")?nz:l}),p.map((F,_)=>{var T=F.words.join(S?"":" ");return g.createElement("tspan",{x:k,dy:_===0?I:i,key:"".concat(T,"-").concat(_)},T)}))});y0.displayName="Text";var Dbe=["labelRef"];function Obe(e,t){if(e==null)return{};var r,n,a=Rbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){Lbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lbe(e,t,r){return(t=Fbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fbe(e){var t=$be(e,"string");return typeof t=="symbol"?t:t+""}function $be(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Io.apply(null,arguments)}var sz=g.createContext(null),Bbe=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:l}=e,u=g.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return g.createElement(sz.Provider,{value:u},l)},az=()=>{var e=g.useContext(sz),t=Yx();return e||S$(t)},Vbe=g.createContext(null),zbe=()=>{var e=g.useContext(Vbe),t=st(YB);return e||t},Ube=e=>{var{value:t,formatter:r}=e,n=Sr(e.children)?t:e.children;return typeof r=="function"?r(n):n},QC=e=>e!=null&&typeof e=="function",Wbe=(e,t)=>{var r=Mn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Hbe=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:m,endAngle:p,clockWise:v}=a,x=(d+f)/2,j=Wbe(m,p),w=j>=0?1:-1,S,P;switch(t){case"insideStart":S=m+w*i,P=v;break;case"insideEnd":S=p-w*i,P=!v;break;case"end":S=p+w*i,P=v;break;default:throw new Error("Unsupported position ".concat(t))}P=j<=0?P:!P;var k=on(l,u,x,S),R=on(l,u,x,S+(P?1:-1)*359),I="M".concat(k.x,",").concat(k.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(P?0:1,`,
    `).concat(R.x,",").concat(R.y),L=Sr(e.id)?mm("recharts-radial-line-"):e.id;return g.createElement("text",Io({},n,{dominantBaseline:"central",className:Kt("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:L,d:I})),g.createElement("textPath",{xlinkHref:"#".concat(L)},r))},qbe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(r==="outside"){var{x:f,y:m}=on(n,a,o+t,d);return{x:f,y:m,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:v,y:x}=on(n,a,p,d);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},C2=e=>"cx"in e&&nt(e.cx),Gbe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!C2(r)&&(i=r);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:f}=t,m=o,p=o+(u-d)/2,v=(m+p)/2,x=(u+d)/2,j=m+u/2,w=f>=0?1:-1,S=w*n,P=w>0?"end":"start",k=w>0?"start":"end",R=u>=0?1:-1,I=R*n,L=R>0?"end":"start",E=R>0?"start":"end";if(a==="top"){var C={x:m+u/2,y:l-S,textAnchor:"middle",verticalAnchor:P};return Yr(Yr({},C),i?{height:Math.max(l-i.y,0),width:u}:{})}if(a==="bottom"){var F={x:p+d/2,y:l+f+S,textAnchor:"middle",verticalAnchor:k};return Yr(Yr({},F),i?{height:Math.max(i.y+i.height-(l+f),0),width:d}:{})}if(a==="left"){var _={x:v-I,y:l+f/2,textAnchor:L,verticalAnchor:"middle"};return Yr(Yr({},_),i?{width:Math.max(_.x-i.x,0),height:f}:{})}if(a==="right"){var T={x:v+x+I,y:l+f/2,textAnchor:E,verticalAnchor:"middle"};return Yr(Yr({},T),i?{width:Math.max(i.x+i.width-T.x,0),height:f}:{})}var M=i?{width:x,height:f}:{};return a==="insideLeft"?Yr({x:v+I,y:l+f/2,textAnchor:E,verticalAnchor:"middle"},M):a==="insideRight"?Yr({x:v+x-I,y:l+f/2,textAnchor:L,verticalAnchor:"middle"},M):a==="insideTop"?Yr({x:m+u/2,y:l+S,textAnchor:"middle",verticalAnchor:k},M):a==="insideBottom"?Yr({x:p+d/2,y:l+f-S,textAnchor:"middle",verticalAnchor:P},M):a==="insideTopLeft"?Yr({x:m+I,y:l+S,textAnchor:E,verticalAnchor:k},M):a==="insideTopRight"?Yr({x:m+u-I,y:l+S,textAnchor:L,verticalAnchor:k},M):a==="insideBottomLeft"?Yr({x:p+I,y:l+f-S,textAnchor:E,verticalAnchor:P},M):a==="insideBottomRight"?Yr({x:p+d-I,y:l+f-S,textAnchor:L,verticalAnchor:P},M):a&&typeof a=="object"&&(nt(a.x)||Wo(a.x))&&(nt(a.y)||Wo(a.y))?Yr({x:o+os(a.x,x),y:l+os(a.y,f),textAnchor:"end",verticalAnchor:"end"},M):Yr({x:j,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Kbe={angle:0,offset:5,zIndex:Zr.label,position:"middle",textBreakAll:!1};function Dl(e){var t=qr(e,Kbe),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:u,labelRef:d}=t,f=zbe(),m=az(),p=n==="center"?m:f??m,v,x,j;if(r==null?v=p:C2(r)?v=r:v=S$(r),!v||Sr(a)&&Sr(i)&&!g.isValidElement(o)&&typeof o!="function")return null;var w=Yr(Yr({},t),{},{viewBox:v});if(g.isValidElement(o)){var{labelRef:S}=w,P=Obe(w,Dbe);return g.cloneElement(o,P)}if(typeof o=="function"){if(x=g.createElement(o,w),g.isValidElement(x))return x}else x=Ube(t);var k=cs(t);if(C2(v)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Hbe(t,n,x,k,v);j=qbe(v,t.offset,t.position)}else j=Gbe(t,v);return g.createElement(Ss,{zIndex:t.zIndex},g.createElement(y0,Io({ref:d,className:Kt("recharts-label",l)},k,j,{textAnchor:Pbe(k.textAnchor)?k.textAnchor:j.textAnchor,breakAll:u}),x))}Dl.displayName="Label";var Ybe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(Dl,Io({key:"label-implicit"},n)):Xi(e)?g.createElement(Dl,Io({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===Dl?g.cloneElement(e,Yr({key:"label-implicit"},n)):g.createElement(Dl,Io({key:"label-implicit",content:e},n)):QC(e)?g.createElement(Dl,Io({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(Dl,Io({},e,{key:"label-implicit"},n)):null};function Zbe(e){var{label:t,labelRef:r}=e,n=az();return Ybe(t,n,r)||null}var x1={},b1={},zO;function Qbe(){return zO||(zO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(b1)),b1}var w1={},UO;function Xbe(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(w1)),w1}var WO;function Jbe(){return WO||(WO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qbe(),r=Xbe(),n=Ck();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(x1)),x1}var j1,HO;function ewe(){return HO||(HO=1,j1=Jbe().last),j1}var twe=ewe();const rwe=ua(twe);var nwe=["valueAccessor"],swe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}function qO(e,t){if(e==null)return{};var r,n,a=awe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function awe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iwe=e=>Array.isArray(e.value)?rwe(e.value):e.value,iz=g.createContext(void 0),XC=iz.Provider,oz=g.createContext(void 0),owe=oz.Provider;function lwe(){return g.useContext(iz)}function cwe(){return g.useContext(oz)}function Ey(e){var{valueAccessor:t=iwe}=e,r=qO(e,nwe),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:l}=r,u=qO(r,swe),d=lwe(),f=cwe(),m=d||f;return!m||!m.length?null:g.createElement(Ss,{zIndex:l??Zr.label},g.createElement(Hr,{className:"recharts-label-list"},m.map((p,v)=>{var x,j=Sr(n)?t(p,v):lr(p&&p.payload,n),w=Sr(i)?{}:{id:"".concat(i,"-").concat(v)};return g.createElement(Dl,Gv({key:"label-".concat(v)},cs(p),u,w,{fill:(x=r.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:j,textBreakAll:o,viewBox:p.viewBox,index:v,zIndex:0}))})))}Ey.displayName="LabelList";function v0(e){var{label:t}=e;return t?t===!0?g.createElement(Ey,{key:"labelList-implicit"}):g.isValidElement(t)||QC(t)?g.createElement(Ey,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Ey,Gv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A2.apply(null,arguments)}var lz=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Kt("recharts-dot",a);return nt(t)&&nt(r)&&nt(n)?g.createElement("circle",A2({},ws(e),kk(e),{className:i,cx:t,cy:r,r:n})):null},cz=e=>e.graphicalItems.polarItems,uwe=Ce([Mr,hp],wC),x0=Ce([cz,Lr,uwe],jC),dwe=Ce([x0],NC),b0=Ce([dwe,dC],SC),hwe=Ce([b0,Lr,x0],CC);Ce([b0,Lr,x0],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=lr(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:lr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var GO=()=>{},fwe=Ce([b0,Lr,x0,f0,Mr],EC),mwe=Ce([Lr,IC,PC,GO,fwe,GO,Vt,Mr],TC),uz=Ce([Lr,Vt,b0,hwe,dp,Mr,mwe],MC),pwe=Ce([uz,Lr,Sh],OC);Ce([Lr,uz,pwe,Mr],LC);var gwe={radiusAxis:{},angleAxis:{}},dz=Bs({name:"polarAxis",initialState:gwe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:uIe,removeRadiusAxis:dIe,addAngleAxis:hIe,removeAngleAxis:fIe}=dz.actions,ywe=dz.reducer;function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){vwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vwe(e,t,r){return(t=xwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xwe(e){var t=bwe(e,"string");return typeof t=="symbol"?t:t+""}function bwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wwe=(e,t)=>t,JC=Ce([cz,wwe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),jwe=[],eA=(e,t,r)=>r?.length===0?jwe:r,hz=Ce([dC,JC,eA],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>YO(YO({},t.presentationProps),i.props))),a!=null)return a}}),Nwe=Ce([hz,JC,eA],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,o=lr(n,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:uc(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),Swe=Ce([hz,JC,eA,bn],(e,t,r,n)=>{if(!(t==null||e==null))return kje({offset:n,pieSettings:t,displayedData:e,cells:r})}),N1={exports:{}},ur={};var ZO;function kwe(){if(ZO)return ur;ZO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function x(j){if(typeof j=="object"&&j!==null){var w=j.$$typeof;switch(w){case e:switch(j=j.type,j){case r:case a:case n:case u:case d:case p:return j;default:switch(j=j&&j.$$typeof,j){case o:case l:case m:case f:return j;case i:return j;default:return w}}case t:return w}}}return ur.ContextConsumer=i,ur.ContextProvider=o,ur.Element=e,ur.ForwardRef=l,ur.Fragment=r,ur.Lazy=m,ur.Memo=f,ur.Portal=t,ur.Profiler=a,ur.StrictMode=n,ur.Suspense=u,ur.SuspenseList=d,ur.isContextConsumer=function(j){return x(j)===i},ur.isContextProvider=function(j){return x(j)===o},ur.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},ur.isForwardRef=function(j){return x(j)===l},ur.isFragment=function(j){return x(j)===r},ur.isLazy=function(j){return x(j)===m},ur.isMemo=function(j){return x(j)===f},ur.isPortal=function(j){return x(j)===t},ur.isProfiler=function(j){return x(j)===a},ur.isStrictMode=function(j){return x(j)===n},ur.isSuspense=function(j){return x(j)===u},ur.isSuspenseList=function(j){return x(j)===d},ur.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===a||j===n||j===u||j===d||typeof j=="object"&&j!==null&&(j.$$typeof===m||j.$$typeof===f||j.$$typeof===o||j.$$typeof===i||j.$$typeof===l||j.$$typeof===v||j.getModuleId!==void 0)},ur.typeOf=x,ur}var QO;function Cwe(){return QO||(QO=1,N1.exports=kwe()),N1.exports}var Awe=Cwe(),XO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",JO=null,S1=null,fz=e=>{if(e===JO&&Array.isArray(S1))return S1;var t=[];return g.Children.forEach(e,r=>{Sr(r)||(Awe.isFragment(r)?t=t.concat(fz(r.props.children)):t.push(r))}),S1=t,JO=e,t};function tA(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>XO(a)):n=[XO(t)],fz(e).forEach(a=>{var i=bu(a,"type.displayName")||bu(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var rA=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,k1={},eR;function Iwe(){return eR||(eR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(k1)),k1}var C1,tR;function Pwe(){return tR||(tR=1,C1=Iwe().isPlainObject),C1}var Ewe=Pwe();const Twe=ua(Ewe);function rR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(r),!0).forEach(function(n){Mwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mwe(e,t,r){return(t=_we(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _we(e){var t=Dwe(e,"string");return typeof t=="symbol"?t:t+""}function Dwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(null,arguments)}var sR=(e,t,r,n,a)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},Owe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rwe=e=>{var t=qr(e,Owe),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:u,animationDuration:d,animationBegin:f,isUpdateAnimationActive:m}=t,p=g.useRef(null),[v,x]=g.useState(-1),j=g.useRef(a),w=g.useRef(i),S=g.useRef(o),P=g.useRef(r),k=g.useRef(n),R=vh(e,"trapezoid-");if(g.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var J=p.current.getTotalLength();J&&x(J)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var I=Kt("recharts-trapezoid",l);if(!m)return g.createElement("g",null,g.createElement("path",Kv({},cs(t),{className:I,d:sR(r,n,a,i,o)})));var L=j.current,E=w.current,C=S.current,F=P.current,_=k.current,T="0px ".concat(v===-1?1:v,"px"),M="".concat(v,"px 0px"),$=L$(["strokeDasharray"],d,u);return g.createElement(yh,{animationId:R,key:R,canBegin:v>0,duration:d,easing:u,isActive:m,begin:f},J=>{var q=nr(L,a,J),U=nr(E,i,J),X=nr(C,o,J),B=nr(F,r,J),Z=nr(_,n,J);p.current&&(j.current=q,w.current=U,S.current=X,P.current=B,k.current=Z);var ne=J>0?{transition:$,strokeDasharray:M}:{strokeDasharray:T};return g.createElement("path",Kv({},cs(t),{className:I,d:sR(B,Z,q,U,X),ref:p,style:nR(nR({},ne),t.style)}))})},Lwe=["option","shapeType","propTransformer","activeClassName"];function Fwe(e,t){if(e==null)return{};var r,n,a=$we(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $we(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){Bwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bwe(e,t,r){return(t=Vwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vwe(e){var t=zwe(e,"string");return typeof t=="symbol"?t:t+""}function zwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uwe(e,t){return Yv(Yv({},t),e)}function Wwe(e,t){return e==="symbols"}function iR(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(V$,r);case"trapezoid":return g.createElement(Rwe,r);case"sector":return g.createElement(H$,r);case"symbols":if(Wwe(t))return g.createElement(Sk,r);break;case"curve":return g.createElement(Vd,r);default:return null}}function Hwe(e){return g.isValidElement(e)?e.props:e}function nA(e){var{option:t,shapeType:r,propTransformer:n=Uwe,activeClassName:a="recharts-active-shape"}=e,i=Fwe(e,Lwe),o;if(g.isValidElement(t))o=g.cloneElement(t,Yv(Yv({},i),Hwe(t)));else if(typeof t=="function")o=t(i,i.index);else if(Twe(t)&&typeof t!="boolean"){var l=n(t,i);o=g.createElement(iR,{shapeType:r,elementProps:l})}else{var u=i;o=g.createElement(iR,{shapeType:r,elementProps:u})}return i.isActive?g.createElement(Hr,{className:a},o):o}var sA=(e,t,r)=>{var n=br();return(a,i)=>o=>{e?.(a,i,o),n(CV({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},aA=e=>{var t=br();return(r,n)=>a=>{e?.(r,n,a),t(sxe())}},iA=(e,t,r)=>{var n=br();return(a,i)=>o=>{e?.(a,i,o),n(axe({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function w0(e){var{tooltipEntrySettings:t}=e,r=br(),n=Dn(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(exe(t)):a.current!==t&&r(txe({prev:a.current,next:t})),a.current=t)},[t,r,n]),g.useLayoutEffect(()=>()=>{a.current&&(r(rxe(a.current)),a.current=null)},[r]),null}function oA(e){var{legendPayload:t}=e,r=br(),n=Dn(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(_$(t)):a.current!==t&&r(D$({prev:a.current,next:t})),a.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{a.current&&(r(O$(a.current)),a.current=null)},[r]),null}function qwe(e){var{legendPayload:t}=e,r=br(),n=st(Vt),a=g.useRef(null);return g.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(_$(t)):a.current!==t&&r(D$({prev:a.current,next:t})),a.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{a.current&&(r(O$(a.current)),a.current=null)},[r]),null}var A1,Gwe=()=>{var[e]=g.useState(()=>mm("uid-"));return e},Kwe=(A1=I7.useId)!==null&&A1!==void 0?A1:Gwe;function mz(e,t){var r=Kwe();return t||(e?"".concat(e,"-").concat(r):r)}var Ywe=g.createContext(void 0),j0=e=>{var{id:t,type:r,children:n}=e,a=mz("recharts-".concat(r),t);return g.createElement(Ywe.Provider,{value:a},n(a))},Zwe={cartesianItems:[],polarItems:[]},pz=Bs({name:"graphicalItems",initialState:Zwe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ir()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ci(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Ir()},removeCartesianGraphicalItem:{reducer(e,t){var r=ci(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ir()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ir()},removePolarGraphicalItem:{reducer(e,t){var r=ci(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ir()}}}),{addCartesianGraphicalItem:Qwe,replaceCartesianGraphicalItem:Xwe,removeCartesianGraphicalItem:Jwe,addPolarGraphicalItem:eje,removePolarGraphicalItem:tje}=pz.actions,rje=pz.reducer,nje=e=>{var t=br(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Qwe(e)):r.current!==e&&t(Xwe({prev:r.current,next:e})),r.current=e},[t,e]),g.useLayoutEffect(()=>()=>{r.current&&(t(Jwe(r.current)),r.current=null)},[t]),null},lA=g.memo(nje);function sje(e){var t=br();return g.useLayoutEffect(()=>(t(eje(e)),()=>{t(tje(e))}),[t,e]),null}var aje=["key"],ije=["onMouseEnter","onClick","onMouseLeave"],oje=["id"],lje=["id"];function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){cje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cje(e,t,r){return(t=uje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uje(e){var t=dje(e,"string");return typeof t=="symbol"?t:t+""}function dje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(null,arguments)}function N0(e,t){if(e==null)return{};var r,n,a=hje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fje(e){var t=g.useMemo(()=>tA(e.children,_u),[e.children]),r=st(n=>Nwe(n,e.id,t));return r==null?null:g.createElement(qwe,{legendPayload:r})}var mje=g.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:l,hide:u,tooltipType:d}=e,f={dataDefinedOnItem:n.map(m=>m.tooltipPayload),positions:n.map(m=>m.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:uc(l,t),hide:u,type:d,color:o,unit:""}};return g.createElement(w0,{tooltipEntrySettings:f})}),pje=(e,t)=>e>t?"start":e<t?"end":"middle",gje=(e,t,r)=>os(typeof t=="function"?t(e):t,r,r*.8),yje=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,l=z$(i,o),u=a+os(e.cx,i,i/2),d=n+os(e.cy,o,o/2),f=os(e.innerRadius,l,0),m=gje(r,e.outerRadius,l),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:m,maxRadius:p}},vje=(e,t)=>{var r=Mn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function xje(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var bje=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Kt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=N0(t,aje);return g.createElement(Vd,ac({},a,{type:"linear",className:r}))},wje=(e,t,r)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),g.isValidElement(n)))return n;var a=Kt("recharts-pie-label-text",xje(e));return g.createElement(y0,ac({},t,{alignmentBaseline:"middle",className:a}),n)};function jje(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var l=ws(r),u=xu(a),d=xu(i),f=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((p,v)=>{var x=(p.startAngle+p.endAngle)/2,j=on(p.cx,p.cy,p.outerRadius+f,x),w=zr(zr(zr(zr({},l),p),{},{stroke:"none"},u),{},{index:v,textAnchor:pje(j.x,p.cx)},j),S=zr(zr(zr(zr({},l),p),{},{fill:"none",stroke:p.fill},d),{},{index:v,points:[on(p.cx,p.cy,p.outerRadius,x),j],key:"line"});return g.createElement(Ss,{zIndex:Zr.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},g.createElement(Hr,null,i&&bje(i,S),wje(a,w,lr(p,o))))});return g.createElement(Hr,{className:"recharts-pie-labels"},m)}function Nje(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?g.createElement(v0,{label:a}):g.createElement(jje,{sectors:t,props:r,showLabels:n})}function Sje(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:i,id:o}=e,l=st(sc),u=st(qC),d=st(Wxe),{onMouseEnter:f,onClick:m,onMouseLeave:p}=a,v=N0(a,ije),x=sA(f,a.dataKey,o),j=aA(p),w=iA(m,a.dataKey,o);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((S,P)=>{if(S?.startAngle===0&&S?.endAngle===0&&t.length!==1)return null;var k=d==null||d===o,R=String(P)===l&&(u==null||a.dataKey===u)&&k,I=l?n:null,L=r&&R?r:I,E=zr(zr({},S),{},{stroke:S.stroke,tabIndex:-1,[x$]:P,[b$]:a.dataKey});return g.createElement(Hr,ac({key:"sector-".concat(S?.startAngle,"-").concat(S?.endAngle,"-").concat(S.midAngle,"-").concat(P),tabIndex:-1,className:"recharts-pie-sector"},ep(v,S,P),{onMouseEnter:x(S,P),onMouseLeave:j(S,P),onClick:w(S,P)}),g.createElement(nA,ac({option:i??L,index:P,shapeType:"sector",isActive:R},E)))}))}function kje(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:u,dataKey:d,nameKey:f,tooltipType:m}=r,p=Math.abs(r.minAngle),v=vje(l,u),x=Math.abs(v),j=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(L=>lr(L,d,0)!==0).length,S=(x>=360?w:w-1)*j,P=x-w*p-S,k=n.reduce((L,E)=>{var C=lr(E,d,0);return L+(nt(C)?C:0)},0),R;if(k>0){var I;R=n.map((L,E)=>{var C=lr(L,d,0),F=lr(L,f,E),_=yje(r,i,L),T=(nt(C)?C:0)/k,M,$=zr(zr({},L),a&&a[E]&&a[E].props);E?M=I.endAngle+Mn(v)*j*(C!==0?1:0):M=l;var J=M+Mn(v)*((C!==0?p:0)+T*P),q=(M+J)/2,U=(_.innerRadius+_.outerRadius)/2,X=[{name:F,value:C,payload:$,dataKey:d,type:m}],B=on(_.cx,_.cy,U,q);return I=zr(zr(zr(zr({},r.presentationProps),{},{percent:T,cornerRadius:typeof o=="string"?parseFloat(o):o,name:F,tooltipPayload:X,midAngle:q,middleRadius:U,tooltipPosition:B},$),_),{},{value:C,dataKey:d,startAngle:M,endAngle:J,payload:$,paddingAngle:Mn(v)*j}),I})}return R}function Cje(e){var{showLabels:t,sectors:r,children:n}=e,a=g.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return g.createElement(owe,{value:t?a:void 0},n)}function Aje(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u,activeShape:d,inactiveShape:f,onAnimationStart:m,onAnimationEnd:p}=t,v=vh(t,"recharts-pie-"),x=r.current,[j,w]=g.useState(!1),S=g.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),P=g.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return g.createElement(Cje,{showLabels:!j,sectors:a},g.createElement(yh,{animationId:v,begin:o,duration:l,isActive:i,easing:u,onAnimationStart:P,onAnimationEnd:S,key:v},k=>{var R=[],I=a&&a[0],L=I?.startAngle;return a?.forEach((E,C)=>{var F=x&&x[C],_=C>0?bu(E,"paddingAngle",0):0;if(F){var T=nr(F.endAngle-F.startAngle,E.endAngle-E.startAngle,k),M=zr(zr({},E),{},{startAngle:L+_,endAngle:L+T+_});R.push(M),L=M.endAngle}else{var{endAngle:$,startAngle:J}=E,q=nr(0,$-J,k),U=zr(zr({},E),{},{startAngle:L+_,endAngle:L+q+_});R.push(U),L=U.endAngle}}),r.current=R,g.createElement(Hr,null,g.createElement(Sje,{sectors:R,activeShape:d,inactiveShape:f,allOtherPieProps:t,shape:t.shape,id:n}))}),g.createElement(Nje,{showLabels:!j,sectors:a,props:t}),t.children)}var Ije={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Zr.area};function Pje(e){var{id:t}=e,r=N0(e,oje),{hide:n,className:a,rootTabIndex:i}=e,o=g.useMemo(()=>tA(e.children,_u),[e.children]),l=st(f=>Swe(f,t,o)),u=g.useRef(null),d=Kt("recharts-pie",a);return n||l==null?(u.current=null,g.createElement(Hr,{tabIndex:i,className:d})):g.createElement(Ss,{zIndex:e.zIndex},g.createElement(mje,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),g.createElement(Hr,{tabIndex:i,className:d},g.createElement(Aje,{props:zr(zr({},r),{},{sectors:l}),previousSectorsRef:u,id:t})))}function S0(e){var t=qr(e,Ije),{id:r}=t,n=N0(t,lje),a=ws(n);return g.createElement(j0,{id:r,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(sje,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),g.createElement(fje,ac({},n,{id:i})),g.createElement(Pje,ac({},n,{id:i}))))}S0.displayName="Pie";var Eje=["points"];function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){Tje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tje(e,t,r){return(t=Mje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mje(e){var t=_je(e,"string");return typeof t=="symbol"?t:t+""}function _je(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zv.apply(null,arguments)}function Dje(e,t){if(e==null)return{};var r,n,a=Oje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rje(e){var{option:t,dotProps:r,className:n}=e;if(g.isValidElement(t))return g.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Kt(n,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,l=Dje(i,Eje);return g.createElement(lz,Zv({},l,{className:a}))}function Lje(e,t){return e==null?!1:t?!0:e.length===1}function gz(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:o,needClip:l,clipPathId:u,zIndex:d=Zr.scatter}=e;if(!Lje(t,r))return null;var f=rA(r),m=cce(r),p=t.map((x,j)=>{var w,S,P=I1(I1(I1({r:3},o),m),{},{index:j,cx:(w=x.x)!==null&&w!==void 0?w:void 0,cy:(S=x.y)!==null&&S!==void 0?S:void 0,dataKey:i,value:x.value,payload:x.payload,points:t});return g.createElement(Rje,{key:"dot-".concat(j),option:r,dotProps:P,className:a})}),v={};return l&&u!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),g.createElement(Ss,{zIndex:d},g.createElement(Hr,Zv({className:n},v),p))}function cR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(r),!0).forEach(function(n){Fje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fje(e,t,r){return(t=$je(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $je(e){var t=Bje(e,"string");return typeof t=="symbol"?t:t+""}function Bje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vje={xAxis:{},yAxis:{},zAxis:{}},yz=Bs({name:"cartesianAxis",initialState:Vje,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ir()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ir()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ir()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ir()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ir()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ir()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ir()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ir()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ir()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=uR(uR({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:zje,replaceXAxis:Uje,removeXAxis:Wje,addYAxis:Hje,replaceYAxis:qje,removeYAxis:Gje,addZAxis:mIe,replaceZAxis:pIe,removeZAxis:gIe,updateYAxisWidth:Kje}=yz.actions,Yje=yz.reducer,Zje=Ce([bn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Qje=Ce([Zje,Jo,el],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),k0=()=>st(Qje),Xje=()=>st(Yxe);function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){Jje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jje(e,t,r){return(t=e1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e1e(e){var t=t1e(e,"string");return typeof t=="symbol"?t:t+""}function t1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r1e=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=P1(P1(P1({},l),xu(a)),kk(a)),d;return g.isValidElement(a)?d=g.cloneElement(a,u):typeof a=="function"?d=a(u):d=g.createElement(lz,u),g.createElement(Hr,{className:"recharts-active-dot",clipPath:o},d)};function I2(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:o=Zr.activeDot}=e,l=st(sc),u=Xje();if(t==null||u==null)return null;var d=t.find(f=>u.includes(f.payload));return Sr(d)?null:g.createElement(Ss,{zIndex:o},g.createElement(r1e,{point:d,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var n1e="Invariant failed";function s1e(e,t){throw new Error(n1e)}var a1e=["x","y"];function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P2.apply(null,arguments)}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ef(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){i1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i1e(e,t,r){return(t=o1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o1e(e){var t=l1e(e,"string");return typeof t=="symbol"?t:t+""}function l1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c1e(e,t){if(e==null)return{};var r,n,a=u1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function d1e(e,t){var{x:r,y:n}=e,a=c1e(e,a1e),i="".concat(r),o=parseInt(i,10),l="".concat(n),u=parseInt(l,10),d="".concat(t.height||a.height),f=parseInt(d,10),m="".concat(t.width||a.width),p=parseInt(m,10);return Ef(Ef(Ef(Ef(Ef({},t),a),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:p,name:t.name,radius:t.radius})}function Qv(e){return g.createElement(nA,P2({shapeType:"rectangle",propTransformer:d1e,activeClassName:"recharts-active-bar"},e))}var h1e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(nt(t))return t;var i=nt(n)||Sr(n);return i?t(n,a):(i||s1e(),r)}},f1e={},vz=Bs({name:"errorBars",initialState:f1e,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:yIe,replaceErrorBar:vIe,removeErrorBar:xIe}=vz.actions,m1e=vz.reducer,p1e=["children"];function g1e(e,t){if(e==null)return{};var r,n,a=y1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v1e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},x1e=g.createContext(v1e);function xz(e){var{children:t}=e,r=g1e(e,p1e);return g.createElement(x1e.Provider,{value:r},t)}function C0(e,t){var r,n,a=st(d=>rl(d,e)),i=st(d=>nl(d,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:An.allowDataOverflow,l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:In.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function cA(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=k0(),{needClipX:i,needClipY:o,needClip:l}=C0(t,r);if(!l||!a)return null;var{x:u,y:d,width:f,height:m}=a;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:i?u:u-f/2,y:o?d:d-m/2,width:i?f:f*2,height:o?m:m*2}))}function b1e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&kr(e.zIndex)?e.zIndex:t}var E1={exports:{}},T1={};var fR;function w1e(){if(fR)return T1;fR=1;var e=nh();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return T1.useSyncExternalStoreWithSelector=function(u,d,f,m,p){var v=a(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=o(function(){function w(I){if(!S){if(S=!0,P=I,I=m(I),p!==void 0&&x.hasValue){var L=x.value;if(p(L,I))return k=L}return k=I}if(L=k,r(P,I))return L;var E=m(I);return p!==void 0&&p(L,E)?(P=I,L):(P=I,k=E)}var S=!1,P,k,R=f===void 0?null:f;return[function(){return w(d())},R===null?void 0:function(){return w(R())}]},[d,f,m,p]);var j=n(u,v[0],v[1]);return i(function(){x.hasValue=!0,x.value=j},[j]),l(j),j},T1}var mR;function j1e(){return mR||(mR=1,E1.exports=w1e()),E1.exports}j1e();function N1e(e){e()}function S1e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){N1e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var pR={notify(){},get:()=>[]};function k1e(e,t){let r,n=pR,a=0,i=!1;function o(j){f();const w=n.subscribe(j);let S=!1;return()=>{S||(S=!0,w(),m())}}function l(){n.notify()}function u(){x.onStateChange&&x.onStateChange()}function d(){return i}function f(){a++,r||(r=e.subscribe(u),n=S1e())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=pR)}function p(){i||(i=!0,f())}function v(){i&&(i=!1,m())}const x={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:p,tryUnsubscribe:v,getListeners:()=>n};return x}var C1e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A1e=C1e(),I1e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",P1e=I1e(),E1e=()=>A1e||P1e?g.useLayoutEffect:g.useEffect,T1e=E1e();function gR(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function M1e(e,t){if(gR(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!gR(e[r[a]],t[r[a]]))return!1;return!0}var _1e=Symbol.for("react-redux-context"),D1e=typeof globalThis<"u"?globalThis:{};function O1e(){if(!g.createContext)return{};const e=D1e[_1e]??=new Map;let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var R1e=O1e();function L1e(e){const{children:t,context:r,serverState:n,store:a}=e,i=g.useMemo(()=>{const u=k1e(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),o=g.useMemo(()=>a.getState(),[a]);T1e(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const l=r||R1e;return g.createElement(l.Provider,{value:i},t)}var F1e=L1e,$1e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function B1e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function jp(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if($1e.has(n)){if(e[n]==null&&t[n]==null)continue;if(!M1e(e[n],t[n]))return!1}else if(!B1e(e[n],t[n]))return!1;return!0}var V1e=["onMouseEnter","onMouseLeave","onClick"],z1e=["value","background","tooltipPosition"],U1e=["id"],W1e=["onMouseEnter","onClick","onMouseLeave"];function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(null,arguments)}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){H1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H1e(e,t,r){return(t=q1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q1e(e){var t=G1e(e,"string");return typeof t=="symbol"?t:t+""}function G1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xv(e,t){if(e==null)return{};var r,n,a=K1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function K1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Y1e=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:uc(r,t),payload:e}]},Z1e=g.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l,tooltipType:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:uc(i,t),hide:o,type:u,color:a,unit:l}};return g.createElement(w0,{tooltipEntrySettings:d})});function Q1e(e){var t=st(sc),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:u}=i,d=Xv(i,V1e),f=sA(o,n),m=aA(l),p=iA(u,n);if(!a||r==null)return null;var v=xu(a);return g.createElement(Ss,{zIndex:b1e(a,Zr.barBackground)},r.map((x,j)=>{var{value:w,background:S,tooltipPosition:P}=x,k=Xv(x,z1e);if(!S)return null;var R=f(x,j),I=m(x,j),L=p(x,j),E=ps(ps(ps(ps(ps({option:a,isActive:String(j)===t},k),{},{fill:"#eee"},S),v),ep(d,x,j)),{},{onMouseEnter:R,onMouseLeave:I,onClick:L,dataKey:n,index:j,className:"recharts-bar-background-rectangle"});return g.createElement(Qv,Zo({key:"background-bar-".concat(j)},E))}))}function X1e(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return ps(ps({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return g.createElement(XC,{value:t?a:void 0},r)}function J1e(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=st(sc),u=st(qC),d=r&&String(i)===l&&(u==null||o===u),f=d?r:t;return d?g.createElement(Ss,{zIndex:Zr.activeBar},g.createElement(Qv,Zo({},n,{name:String(n.name)},a,{isActive:d,option:f,index:i,dataKey:o}))):g.createElement(Qv,Zo({},n,{name:String(n.name)},a,{isActive:d,option:f,index:i,dataKey:o}))}function eNe(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return g.createElement(Qv,Zo({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function tNe(e){var t,{data:r,props:n}=e,a=(t=ws(n))!==null&&t!==void 0?t:{},{id:i}=a,o=Xv(a,U1e),{shape:l,dataKey:u,activeBar:d}=n,{onMouseEnter:f,onClick:m,onMouseLeave:p}=n,v=Xv(n,W1e),x=sA(f,u),j=aA(p),w=iA(m,u);return r?g.createElement(g.Fragment,null,r.map((S,P)=>g.createElement(Hr,Zo({key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(P),className:"recharts-bar-rectangle"},ep(v,S,P),{onMouseEnter:x(S,P),onMouseLeave:j(S,P),onClick:w(S,P)}),d?g.createElement(J1e,{shape:l,activeBar:d,baseProps:o,entry:S,index:P,dataKey:u}):g.createElement(eNe,{shape:l,baseProps:o,entry:S,index:P,dataKey:u})))):null}function rNe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:f}=t,m=r.current,p=vh(t,"recharts-bar-"),[v,x]=g.useState(!1),j=!v,w=g.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),S=g.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return g.createElement(X1e,{showLabels:j,rects:n},g.createElement(yh,{animationId:p,begin:o,duration:l,isActive:i,easing:u,onAnimationEnd:w,onAnimationStart:S,key:p},P=>{var k=P===1?n:n?.map((R,I)=>{var L=m&&m[I];if(L)return ps(ps({},R),{},{x:nr(L.x,R.x,P),y:nr(L.y,R.y,P),width:nr(L.width,R.width,P),height:nr(L.height,R.height,P)});if(a==="horizontal"){var E=nr(0,R.height,P),C=nr(R.stackedBarStart,R.y,P);return ps(ps({},R),{},{y:C,height:E})}var F=nr(0,R.width,P),_=nr(R.stackedBarStart,R.x,P);return ps(ps({},R),{},{width:F,x:_})});return P>0&&(r.current=k??null),k==null?null:g.createElement(Hr,null,g.createElement(tNe,{props:t,data:k}))}),g.createElement(v0,{label:t.label}),t.children)}function nNe(e){var t=g.useRef(null);return g.createElement(rNe,{previousRectanglesRef:t,props:e})}var bz=0,sNe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:lr(e,t)}};class aNe extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:u,id:d}=this.props;if(t||r==null)return null;var f=Kt("recharts-bar",a),m=d;return g.createElement(Hr,{className:f,id:d},l&&g.createElement("defs",null,g.createElement(cA,{clipPathId:m,xAxisId:i,yAxisId:o})),g.createElement(Hr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},g.createElement(Q1e,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),g.createElement(nNe,this.props)))}}var iNe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:bz,xAxisId:0,yAxisId:0,zIndex:Zr.bar};function oNe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f}=e,{needClip:m}=C0(t,r),p=Eu(),v=Dn(),x=tA(e.children,_u),j=st(P=>ONe(P,t,r,v,e.id,x));if(p!=="vertical"&&p!=="horizontal")return null;var w,S=j?.[0];return S==null||S.height==null||S.width==null?w=0:w=p==="vertical"?S.height/2:S.width/2,g.createElement(xz,{xAxisId:t,yAxisId:r,data:j,dataPointFormatter:sNe,errorBarOffset:w},g.createElement(aNe,Zo({},e,{layout:p,needClip:m,data:j,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f})))}function lNe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:f,displayedData:m,offset:p,cells:v,parentViewBox:x,dataStartIndex:j}=e,w=t==="horizontal"?l:o,S=f?w.scale.domain():null,P=Phe({numericAxis:w}),k=w.scale(P);return m.map((R,I)=>{var L,E,C,F,_,T;f?L=She(f[I+j],S):(L=lr(R,r),Array.isArray(L)||(L=[P,L]));var M=h1e(n,bz)(L[1],I);if(t==="horizontal"){var $,[J,q]=[l.scale(L[0]),l.scale(L[1])];E=D4({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:R,index:I}),C=($=q??J)!==null&&$!==void 0?$:void 0,F=a.size;var U=J-q;if(_=Ma(U)?0:U,T={x:E,y:p.top,width:F,height:p.height},Math.abs(M)>0&&Math.abs(_)<Math.abs(M)){var X=Mn(_||M)*(Math.abs(M)-Math.abs(_));C-=X,_+=X}}else{var[B,Z]=[o.scale(L[0]),o.scale(L[1])];if(E=B,C=D4({axis:l,ticks:d,bandSize:i,offset:a.offset,entry:R,index:I}),F=Z-B,_=a.size,T={x:p.left,y:C,width:p.width,height:_},Math.abs(M)>0&&Math.abs(F)<Math.abs(M)){var ne=Mn(F||M)*(Math.abs(M)-Math.abs(F));F+=ne}}if(E==null||C==null||F==null||_==null)return null;var W=ps(ps({},R),{},{stackedBarStart:k,x:E,y:C,width:F,height:_,value:f?L:L[1],payload:R,background:T,tooltipPosition:{x:E+F/2,y:C+_/2},parentViewBox:x},v&&v[I]&&v[I].props);return W}).filter(Boolean)}function cNe(e){var t=qr(e,iNe),r=Dn();return g.createElement(j0,{id:t.id,type:"bar"},n=>g.createElement(g.Fragment,null,g.createElement(oA,{legendPayload:Y1e(t)}),g.createElement(Z1e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),g.createElement(lA,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:y$(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),g.createElement(Ss,{zIndex:t.zIndex},g.createElement(oNe,Zo({},t,{id:n})))))}var rh=g.memo(cNe,jp);rh.displayName="Bar";function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){uNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uNe(e,t,r){return(t=dNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dNe(e){var t=hNe(e,"string");return typeof t=="symbol"?t:t+""}function hNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fNe=(e,t)=>t,mNe=(e,t,r)=>r,pNe=(e,t,r,n)=>n,gNe=(e,t,r,n,a)=>a,Np=Ce([mp,gNe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),yNe=Ce([Np],e=>e?.maxBarSize),vNe=(e,t,r,n,a,i)=>i,xR=(e,t,r)=>{var n=r??e;if(!Sr(n))return os(n,t,0)},xNe=Ce([Vt,mp,fNe,mNe,pNe],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),bNe=(e,t,r,n)=>{var a=Vt(e);return a==="horizontal"?Am(e,"yAxis",r,n):Am(e,"xAxis",t,n)},wNe=(e,t,r)=>{var n=Vt(e);return n==="horizontal"?fO(e,"xAxis",t):fO(e,"yAxis",r)},jNe=(e,t,r)=>{var n={},a=e.filter(c0),i=e.filter(d=>d.stackId==null),o=a.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),n),l=Object.entries(o).map(d=>{var[f,m]=d,p=m.map(x=>x.dataKey),v=xR(t,r,m[0].barSize);return{stackId:f,dataKeys:p,barSize:v}}),u=i.map(d=>{var f=[d.dataKey].filter(p=>p!=null),m=xR(t,r,d.barSize);return{stackId:void 0,dataKeys:f,barSize:m}});return[...l,...u]},NNe=Ce([xNe,qye,wNe],jNe),SNe=(e,t,r,n,a)=>{var i,o,l=Np(e,t,r,n,a);if(l!=null){var u=Vt(e),d=VB(e),{maxBarSize:f}=l,m=Sr(f)?d:f,p,v;return u==="horizontal"?(p=ro(e,"xAxis",t,n),v=to(e,"xAxis",t,n)):(p=ro(e,"yAxis",r,n),v=to(e,"yAxis",r,n)),(i=(o=rc(p,v,!0))!==null&&o!==void 0?o:m)!==null&&i!==void 0?i:0}},wz=(e,t,r,n)=>{var a=Vt(e),i,o;return a==="horizontal"?(i=ro(e,"xAxis",t,n),o=to(e,"xAxis",t,n)):(i=ro(e,"yAxis",r,n),o=to(e,"yAxis",r,n)),rc(i,o)};function kNe(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=os(e,r,0,!0),l,u=[];if(kr(n[0].barSize)){var d=!1,f=r/i,m=n.reduce((S,P)=>S+(P.barSize||0),0);m+=(i-1)*o,m>=r&&(m-=(i-1)*o,o=0),m>=r&&f>0&&(d=!0,f*=.9,m=i*f);var p=(r-m)/2>>0,v={offset:p-o,size:0};l=n.reduce((S,P)=>{var k,R={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:v.offset+v.size+o,size:d?f:(k=P.barSize)!==null&&k!==void 0?k:0}},I=[...S,R];return v=I[I.length-1].position,I},u)}else{var x=os(t,r,0,!0);r-2*x-(i-1)*o<=0&&(o=0);var j=(r-2*x-(i-1)*o)/i;j>1&&(j>>=0);var w=kr(a)?Math.min(j,a):j;l=n.reduce((S,P,k)=>[...S,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:x+(j+o)*k+(j-w)/2,size:w}}],u)}return l}}var CNe=(e,t,r,n,a,i,o)=>{var l=Sr(o)?t:o,u=kNe(r,n,a!==i?a:i,e,l);return a!==i&&u!=null&&(u=u.map(d=>oy(oy({},d),{},{position:oy(oy({},d.position),{},{offset:d.position.offset-a/2})}))),u},ANe=Ce([NNe,VB,Hye,zB,SNe,wz,yNe],CNe),INe=(e,t,r,n)=>ro(e,"xAxis",t,n),PNe=(e,t,r,n)=>ro(e,"yAxis",r,n),ENe=(e,t,r,n)=>to(e,"xAxis",t,n),TNe=(e,t,r,n)=>to(e,"yAxis",r,n),MNe=Ce([ANe,Np],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),_Ne=(e,t)=>{var r=l0(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},DNe=Ce([bNe,Np],_Ne),ONe=Ce([bn,Rk,INe,PNe,ENe,TNe,MNe,Vt,up,wz,DNe,Np,vNe],(e,t,r,n,a,i,o,l,u,d,f,m,p)=>{var{chartData:v,dataStartIndex:x,dataEndIndex:j}=u;if(!(m==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||d==null)){var{data:w}=m,S;if(w!=null&&w.length>0?S=w:S=v?.slice(x,j+1),S!=null)return lNe({layout:l,barSettings:m,pos:o,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:f,displayedData:S,offset:e,cells:p,dataStartIndex:x})}}),jz=e=>{var{chartData:t}=e,r=br(),n=Dn();return g.useEffect(()=>n?()=>{}:(r(CO(t)),()=>{r(CO(void 0))}),[t,r,n]),null},bR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Nz=Bs({name:"brush",initialState:bR,reducers:{setBrushSettings(e,t){return t.payload==null?bR:t.payload}}}),{setBrushSettings:bIe}=Nz.actions,RNe=Nz.reducer;function LNe(e,t,r){return(t=FNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FNe(e){var t=$Ne(e,"string");return typeof t=="symbol"?t:t+""}function $Ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uA{static create(t){return new uA(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}LNe(uA,"EPS",1e-4);function BNe(e){return(e%180+180)%180}var VNe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=BNe(a),o=i*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},zNe={dots:[],areas:[],lines:[]},Sz=Bs({name:"referenceElements",initialState:zNe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ci(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ci(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ci(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:wIe,removeDot:jIe,addArea:NIe,removeArea:SIe,addLine:kIe,removeLine:CIe}=Sz.actions,UNe=Sz.reducer,WNe=g.createContext(void 0),HNe=e=>{var{children:t}=e,[r]=g.useState("".concat(mm("recharts"),"-clip")),n=k0();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return g.createElement(WNe.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function kz(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function qNe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return VNe(n,r)}function GNe(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Jv(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function KNe(e,t){return kz(e,t+1)}function YNe(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,u=0,d=1,f=o,m=function(){var x=n?.[u];if(x===void 0)return{v:kz(n,d)};var j=u,w,S=()=>(w===void 0&&(w=r(x,j)),w),P=x.coordinate,k=u===0||Jv(e,P,S,f,l);k||(u=0,f=o,d+=1),k&&(f=P+e*(S()/2+a),u+=d)},p;d<=i.length;)if(p=m(),p)return p.v;return[]}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){ZNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZNe(e,t,r){return(t=QNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QNe(e){var t=XNe(e,"string");return typeof t=="symbol"?t:t+""}function XNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JNe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:u}=t,d=function(p){var v=i[p],x,j=()=>(x===void 0&&(x=r(v,p)),x);if(p===o-1){var w=e*(v.coordinate+e*j()/2-u);i[p]=v=es(es({},v),{},{tickCoord:w>0?v.coordinate-w*e:v.coordinate})}else i[p]=v=es(es({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var S=Jv(e,v.tickCoord,j,l,u);S&&(u=v.tickCoord-e*(j()/2+a),i[p]=es(es({},v),{},{isShow:!0}))}},f=o-1;f>=0;f--)d(f);return i}function e2e(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:u,end:d}=t;if(i){var f=n[l-1],m=r(f,l-1),p=e*(f.coordinate+e*m/2-d);if(o[l-1]=f=es(es({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate}),f.tickCoord!=null){var v=Jv(e,f.tickCoord,()=>m,u,d);v&&(d=f.tickCoord-e*(m/2+a),o[l-1]=es(es({},f),{},{isShow:!0}))}}for(var x=i?l-1:l,j=function(P){var k=o[P],R,I=()=>(R===void 0&&(R=r(k,P)),R);if(P===0){var L=e*(k.coordinate-e*I()/2-u);o[P]=k=es(es({},k),{},{tickCoord:L<0?k.coordinate-L*e:k.coordinate})}else o[P]=k=es(es({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var E=Jv(e,k.tickCoord,I,u,d);E&&(u=k.tickCoord+e*(I()/2+a),o[P]=es(es({},k),{},{isShow:!0}))}},w=0;w<x;w++)j(w);return o}function dA(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:f,angle:m}=e;if(!a||!a.length||!n)return[];if(nt(u)||gh.isSsr){var p;return(p=KNe(a,nt(u)?u:0))!==null&&p!==void 0?p:[]}var v=[],x=l==="top"||l==="bottom"?"width":"height",j=f&&x==="width"?Yf(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(k,R)=>{var I=typeof d=="function"?d(k.value,R):k.value;return x==="width"?qNe(Yf(I,{fontSize:t,letterSpacing:r}),j,m):Yf(I,{fontSize:t,letterSpacing:r})[x]},S=a.length>=2?Mn(a[1].coordinate-a[0].coordinate):1,P=GNe(i,S,x);return u==="equidistantPreserveStart"?YNe(S,P,w,a,o):(u==="preserveStart"||u==="preserveStartEnd"?v=e2e(S,P,w,a,o,u==="preserveStartEnd"):v=JNe(S,P,w,a,o),v.filter(k=>k.isShow))}var t2e=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=r?r.getBoundingClientRect().width:0,u=a+i,d=o+u+l+(r?n:0);return Math.round(d)}return 0},r2e=["axisLine","width","height","className","hide","ticks","axisType"];function n2e(e,t){if(e==null)return{};var r,n,a=s2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function s2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(null,arguments)}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){a2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a2e(e,t,r){return(t=i2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i2e(e){var t=o2e(e,"string");return typeof t=="symbol"?t:t+""}function o2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Zr.axis};function l2e(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=sn(sn(sn({},u),ws(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!o||i==="bottom"&&o);d=sn(sn({},d),{},{x1:t,y1:r+f*a,x2:t+n,y2:r+f*a})}else{var m=+(i==="left"&&!o||i==="right"&&o);d=sn(sn({},d),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return g.createElement("line",Su({},d,{className:Kt("recharts-cartesian-axis-line",bu(l,"className"))}))}function c2e(e,t,r,n,a,i,o,l,u){var d,f,m,p,v,x,j=l?-1:1,w=e.tickSize||o,S=nt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=f=e.coordinate,p=r+ +!l*a,m=p-j*w,x=m-j*u,v=S;break;case"left":m=p=e.coordinate,f=t+ +!l*n,d=f-j*w,v=d-j*u,x=S;break;case"right":m=p=e.coordinate,f=t+ +l*n,d=f+j*w,v=d+j*u,x=S;break;default:d=f=e.coordinate,p=r+ +l*a,m=p+j*w,x=m+j*u,v=S;break}return{line:{x1:d,y1:m,x2:f,y2:p},tick:{x:v,y:x}}}function u2e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function d2e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function h2e(e){var{option:t,tickProps:r,value:n}=e,a,i=Kt(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,sn(sn({},r),{},{className:i}));else if(typeof t=="function")a=t(sn(sn({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Kt(o,t?.className)),a=g.createElement(y0,Su({},r,{className:o}),n)}return a}var f2e=g.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:m,x:p,y:v,width:x,height:j,tickSize:w,tickMargin:S,fontSize:P,letterSpacing:k,getTicksConfig:R,events:I,axisType:L}=e,E=dA(sn(sn({},R),{},{ticks:r}),P,k),C=u2e(f,m),F=d2e(f,m),_=ws(R),T=xu(n),M={};typeof a=="object"&&(M=a);var $=sn(sn({},_),{},{fill:"none"},M),J=E.map(X=>sn({entry:X},c2e(X,p,v,x,j,f,w,m,S))),q=J.map(X=>{var{entry:B,line:Z}=X;return g.createElement(Hr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},a&&g.createElement("line",Su({},$,Z,{className:Kt("recharts-cartesian-axis-tick-line",bu(a,"className"))})))}),U=J.map((X,B)=>{var{entry:Z,tick:ne}=X,W=sn(sn(sn(sn({textAnchor:C,verticalAnchor:F},_),{},{stroke:"none",fill:i},T),ne),{},{index:B,payload:Z,visibleTicksCount:E.length,tickFormatter:o,padding:u},d);return g.createElement(Hr,Su({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},ep(I,Z,B)),n&&g.createElement(h2e,{option:n,tickProps:W,value:"".concat(typeof o=="function"?o(Z.value,B):Z.value).concat(l||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},U.length>0&&g.createElement(Ss,{zIndex:Zr.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:t},U)),q.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},q))}),m2e=g.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l,axisType:u}=e,d=n2e(e,r2e),[f,m]=g.useState(""),[p,v]=g.useState(""),x=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return t2e({ticks:x.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=g.useCallback(w=>{if(w){var S=w.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=S;var P=S[0];if(P){var k=window.getComputedStyle(P),R=k.fontSize,I=k.letterSpacing;(R!==f||I!==p)&&(m(R),v(I))}}},[f,p]);return o||n!=null&&n<=0||a!=null&&a<=0?null:g.createElement(Ss,{zIndex:e.zIndex},g.createElement(Hr,{className:Kt("recharts-cartesian-axis",i)},g.createElement(l2e,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ws(e)}),g.createElement(f2e,{ref:j,axisType:u,events:d,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(Bbe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(Zbe,{label:e.label,labelRef:e.labelRef}),e.children)))}),hA=g.forwardRef((e,t)=>{var r=qr(e,Lo);return g.createElement(m2e,Su({},r,{ref:t}))});hA.displayName="CartesianAxis";var p2e=["x1","y1","x2","y2","key"],g2e=["offset"],y2e=["xAxisId","yAxisId"],v2e=["xAxisId","yAxisId"];function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){x2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x2e(e,t,r){return(t=b2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b2e(e){var t=w2e(e,"string");return typeof t=="symbol"?t:t+""}function w2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(null,arguments)}function ex(e,t){if(e==null)return{};var r,n,a=j2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function j2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var N2e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return g.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Cz(e){var{option:t,lineItemProps:r}=e,n;if(g.isValidElement(t))n=g.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:l,y2:u,key:d}=r,f=ex(r,p2e),m=(a=ws(f))!==null&&a!==void 0?a:{},{offset:p}=m,v=ex(m,g2e);n=g.createElement("line",tu({},v,{x1:i,y1:o,x2:l,y2:u,fill:"none",key:d}))}return n}function S2e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=ex(e,y2e),u=a.map((d,f)=>{var m=ts(ts({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(f),index:f});return g.createElement(Cz,{key:"line-".concat(f),option:n,lineItemProps:m})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function k2e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=ex(e,v2e),u=a.map((d,f)=>{var m=ts(ts({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(f),index:f});return g.createElement(Cz,{option:n,lineItemProps:m,key:"line-".concat(f)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function C2e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(m=>Math.round(m+a-a)).sort((m,p)=>m-p);a!==d[0]&&d.unshift(0);var f=d.map((m,p)=>{var v=!d[p+1],x=v?a+o-m:d[p+1]-m;if(x<=0)return null;var j=p%t.length;return g.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:x,width:i,stroke:"none",fill:t[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function A2e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var d=u.map(m=>Math.round(m+a-a)).sort((m,p)=>m-p);a!==d[0]&&d.unshift(0);var f=d.map((m,p)=>{var v=!d[p+1],x=v?a+o-m:d[p+1]-m;if(x<=0)return null;var j=p%r.length;return g.createElement("rect",{key:"react-".concat(p),x:m,y:i,width:x,height:l,stroke:"none",fill:r[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var I2e=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return p$(dA(ts(ts(ts({},Lo),r),{},{ticks:g$(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},P2e=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return p$(dA(ts(ts(ts({},Lo),r),{},{ticks:g$(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},E2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Zr.grid};function Hl(e){var t=Fk(),r=$k(),n=k$(),a=ts(ts({},qr(e,E2e)),{},{x:nt(e.x)?e.x:n.left,y:nt(e.y)?e.y:n.top,width:nt(e.width)?e.width:n.width,height:nt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:u,width:d,height:f,syncWithTicks:m,horizontalValues:p,verticalValues:v}=a,x=Dn(),j=st(F=>mO(F,"xAxis",i,x)),w=st(F=>mO(F,"yAxis",o,x));if(!Ji(d)||!Ji(f)||!nt(l)||!nt(u))return null;var S=a.verticalCoordinatesGenerator||I2e,P=a.horizontalCoordinatesGenerator||P2e,{horizontalPoints:k,verticalPoints:R}=a;if((!k||!k.length)&&typeof P=="function"){var I=p&&p.length,L=P({yAxis:w?ts(ts({},w),{},{ticks:I?p:w.ticks}):void 0,width:t??d,height:r??f,offset:n},I?!0:m);kv(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(k=L)}if((!R||!R.length)&&typeof S=="function"){var E=v&&v.length,C=S({xAxis:j?ts(ts({},j),{},{ticks:E?v:j.ticks}):void 0,width:t??d,height:r??f,offset:n},E?!0:m);kv(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(R=C)}return g.createElement(Ss,{zIndex:a.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(N2e,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(C2e,tu({},a,{horizontalPoints:k})),g.createElement(A2e,tu({},a,{verticalPoints:R})),g.createElement(S2e,tu({},a,{offset:n,horizontalPoints:k,xAxis:j,yAxis:w})),g.createElement(k2e,tu({},a,{offset:n,verticalPoints:R,xAxis:j,yAxis:w}))))}Hl.displayName="CartesianGrid";var Az=(e,t,r,n)=>ro(e,"xAxis",t,n),Iz=(e,t,r,n)=>to(e,"xAxis",t,n),Pz=(e,t,r,n)=>ro(e,"yAxis",r,n),Ez=(e,t,r,n)=>to(e,"yAxis",r,n),T2e=Ce([Vt,Az,Pz,Iz,Ez],(e,t,r,n,a)=>so(e,"xAxis")?rc(t,n,!1):rc(r,a,!1)),M2e=(e,t,r,n,a)=>a;function _2e(e){return e.type==="line"}var D2e=Ce([mp,M2e],(e,t)=>e.filter(_2e).find(r=>r.id===t)),O2e=Ce([Vt,Az,Pz,Iz,Ez,D2e,T2e,up],(e,t,r,n,a,i,o,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:p}=i,v;if(p!=null&&p.length>0?v=p:v=u?.slice(d,f+1),v!=null)return tSe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:o,displayedData:v})}});function Tz(e){var t=xu(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var R2e=["id"],L2e=["type","layout","connectNulls","needClip","shape"],F2e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(null,arguments)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){$2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $2e(e,t,r){return(t=B2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B2e(e){var t=V2e(e,"string");return typeof t=="symbol"?t:t+""}function V2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fA(e,t){if(e==null)return{};var r,n,a=z2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function z2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var U2e=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:uc(r,t),payload:e}]},W2e=g.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:u,tooltipType:d}=e,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:uc(o,t),hide:l,type:d,color:n,unit:u}};return g.createElement(w0,{tooltipEntrySettings:f})}),Mz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function H2e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var q2e=(e,t,r)=>{var n=r.reduce((m,p)=>m+p);if(!n)return Mz(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],u=0,d=0;u<r.length;d+=r[u],++u)if(d+r[u]>i){l=[...r.slice(0,u),i-d];break}var f=l.length%2===0?[0,o]:[o];return[...H2e(r,a),...l,...f].map(m=>"".concat(m,"px")).join(", ")};function G2e(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n,{id:l}=n,u=fA(n,R2e),d=ws(u);return g.createElement(gz,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:d,needClip:o,clipPathId:t})}function K2e(e){var{showLabels:t,children:r,points:n}=e,a=g.useMemo(()=>n?.map(i=>{var o,l,u={x:(o=i.x)!==null&&o!==void 0?o:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Oi(Oi({},u),{},{value:i.value,payload:i.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return g.createElement(XC,{value:t?a:void 0},r)}function kR(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:u,needClip:d,shape:f}=i,m=fA(i,L2e),p=Oi(Oi({},cs(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return g.createElement(g.Fragment,null,n?.length>1&&g.createElement(nA,Pm({shapeType:"curve",option:f},p,{pathRef:r})),g.createElement(G2e,{points:n,clipPathId:t,props:i}))}function Y2e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Z2e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:m,animateNewValues:p,width:v,height:x,onAnimationEnd:j,onAnimationStart:w}=r,S=a.current,P=vh(o,"recharts-line-"),k=g.useRef(P),[R,I]=g.useState(!1),L=!R,E=g.useCallback(()=>{typeof j=="function"&&j(),I(!1)},[j]),C=g.useCallback(()=>{typeof w=="function"&&w(),I(!0)},[w]),F=Y2e(n.current),_=g.useRef(0);k.current!==P&&(_.current=i.current,k.current=P);var T=_.current;return g.createElement(K2e,{points:o,showLabels:L},r.children,g.createElement(yh,{animationId:P,begin:d,duration:f,isActive:u,easing:m,onAnimationEnd:E,onAnimationStart:C,key:P},M=>{var $=nr(T,F+T,M),J=Math.min($,F),q;if(u)if(l){var U="".concat(l).split(/[,\s]+/gim).map(Z=>parseFloat(Z));q=q2e(J,F,U)}else q=Mz(F,J);else q=l==null?void 0:String(l);if(M>0&&F>0&&(a.current=o,i.current=Math.max(i.current,J)),S){var X=S.length/o.length,B=M===1?o:o.map((Z,ne)=>{var W=Math.floor(ne*X);if(S[W]){var z=S[W];return Oi(Oi({},Z),{},{x:nr(z.x,Z.x,M),y:nr(z.y,Z.y,M)})}return p?Oi(Oi({},Z),{},{x:nr(v*2,Z.x,M),y:nr(x/2,Z.y,M)}):Oi(Oi({},Z),{},{x:Z.x,y:Z.y})});return a.current=B,g.createElement(kR,{props:r,points:B,clipPathId:t,pathRef:n,strokeDasharray:q})}return g.createElement(kR,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:q})}),g.createElement(v0,{label:r.label}))}function Q2e(e){var{clipPathId:t,props:r}=e,n=g.useRef(null),a=g.useRef(0),i=g.useRef(null);return g.createElement(Z2e,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var X2e=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:lr(e.payload,t)}};class J2e extends g.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:o,top:l,left:u,width:d,height:f,id:m,needClip:p,zIndex:v}=this.props;if(t)return null;var x=Kt("recharts-line",a),j=m,{r:w,strokeWidth:S}=Tz(r),P=rA(r),k=w*2+S,R=p?"url(#clipPath-".concat(P?"":"dots-").concat(j,")"):void 0;return g.createElement(Ss,{zIndex:v},g.createElement(Hr,{className:x},p&&g.createElement("defs",null,g.createElement(cA,{clipPathId:j,xAxisId:i,yAxisId:o}),!P&&g.createElement("clipPath",{id:"clipPath-dots-".concat(j)},g.createElement("rect",{x:u-k/2,y:l-k/2,width:d+k,height:f+k}))),g.createElement(xz,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:X2e,errorBarOffset:0},g.createElement(Q2e,{props:this.props,clipPathId:j}))),g.createElement(I2,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:R}))}}var _z={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Zr.line,type:"linear"};function eSe(e){var t=qr(e,_z),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:u,hide:d,isAnimationActive:f,label:m,legendType:p,xAxisId:v,yAxisId:x,id:j}=t,w=fA(t,F2e),{needClip:S}=C0(v,x),P=k0(),k=Eu(),R=Dn(),I=st(_=>O2e(_,v,x,R,j));if(k!=="horizontal"&&k!=="vertical"||I==null||P==null)return null;var{height:L,width:E,x:C,y:F}=P;return g.createElement(J2e,Pm({},w,{id:j,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:f,hide:d,label:m,legendType:p,xAxisId:v,yAxisId:x,points:I,layout:k,height:L,width:E,left:C,top:F,needClip:S}))}function tSe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:u}=e;return u.map((d,f)=>{var m=lr(d,o);if(t==="horizontal"){var p=Sv({axis:r,ticks:a,bandSize:l,entry:d,index:f}),v=Sr(m)?null:n.scale(m);return{x:p,y:v,value:m,payload:d}}var x=Sr(m)?null:r.scale(m),j=Sv({axis:n,ticks:i,bandSize:l,entry:d,index:f});return x==null||j==null?null:{x,y:j,value:m,payload:d}}).filter(Boolean)}function rSe(e){var t=qr(e,_z),r=Dn();return g.createElement(j0,{id:t.id,type:"line"},n=>g.createElement(g.Fragment,null,g.createElement(oA,{legendPayload:U2e(t)}),g.createElement(W2e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),g.createElement(lA,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),g.createElement(eSe,Pm({},t,{id:n}))))}var mA=g.memo(rSe,jp);mA.displayName="Line";var Dz=(e,t,r,n)=>ro(e,"xAxis",t,n),Oz=(e,t,r,n)=>to(e,"xAxis",t,n),Rz=(e,t,r,n)=>ro(e,"yAxis",r,n),Lz=(e,t,r,n)=>to(e,"yAxis",r,n),nSe=Ce([Vt,Dz,Rz,Oz,Lz],(e,t,r,n,a)=>so(e,"xAxis")?rc(t,n,!1):rc(r,a,!1)),sSe=(e,t,r,n,a)=>a,Fz=Ce([mp,sSe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),aSe=(e,t,r,n,a)=>{var i,o=Fz(e,t,r,n,a);if(o!=null){var l=Vt(e),u=so(l,"xAxis"),d;if(u?d=Am(e,"yAxis",r,n):d=Am(e,"xAxis",t,n),d!=null){var{stackId:f}=o,m=l0(o);if(!(f==null||m==null)){var p=(i=d[f])===null||i===void 0?void 0:i.stackedData;return p?.find(v=>v.key===m)}}}},iSe=Ce([Vt,Dz,Rz,Oz,Lz,aSe,up,nSe,Fz,Gye],(e,t,r,n,a,i,o,l,u,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:p}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{data:v}=u,x;if(v&&v.length>0?x=v:x=f?.slice(m,p+1),x!=null)return kSe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:m,areaSettings:u,stackedData:i,displayedData:x,chartBaseValue:d,bandSize:l})}}),oSe=["id"],lSe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(null,arguments)}function $z(e,t){if(e==null)return{};var r,n,a=cSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){uSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uSe(e,t,r){return(t=dSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dSe(e){var t=hSe(e,"string");return typeof t=="symbol"?t:t+""}function hSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tx(e,t){return e&&e!=="none"?e:t}var fSe=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:tx(n,a),value:uc(r,t),payload:e}]},mSe=g.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:u,tooltipType:d}=e,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:uc(o,t),hide:l,type:d,color:tx(n,i),unit:u}};return g.createElement(w0,{tooltipEntrySettings:f})});function pSe(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:o}=n,l=ws(n);return g.createElement(gz,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:a,clipPathId:t})}function gSe(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var o,l,u={x:(o=i.x)!==null&&o!==void 0?o:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ed(Ed({},u),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return g.createElement(XC,{value:t?a:void 0},r)}function AR(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:o,type:l,stroke:u,connectNulls:d,isRange:f}=i,{id:m}=i,p=$z(i,oSe),v=ws(p),x=cs(p);return g.createElement(g.Fragment,null,t?.length>1&&g.createElement(Hr,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},g.createElement(Vd,du({},x,{id:m,points:t,connectNulls:d,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&g.createElement(Vd,du({},v,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&f&&g.createElement(Vd,du({},v,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:r}))),g.createElement(pSe,{points:t,props:p,clipPathId:a}))}function ySe(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,o=n[n.length-1].y;if(!kr(i)||!kr(o))return null;var l=t*Math.abs(i-o),u=Math.max(...n.map(d=>d.x||0));return nt(r)?u=Math.max(r,u):r&&Array.isArray(r)&&r.length&&(u=Math.max(...r.map(d=>d.x||0),u)),nt(u)?g.createElement("rect",{x:0,y:i<o?i:i-l,width:u+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function vSe(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,o=n[n.length-1].x;if(!kr(i)||!kr(o))return null;var l=t*Math.abs(i-o),u=Math.max(...n.map(d=>d.y||0));return nt(r)?u=Math.max(r,u):r&&Array.isArray(r)&&r.length&&(u=Math.max(...r.map(d=>d.y||0),u)),nt(u)?g.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(u+(a?parseInt("".concat(a),10):1))}):null}function xSe(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?g.createElement(ySe,{alpha:t,points:n,baseLine:a,strokeWidth:i}):g.createElement(vSe,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function bSe(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:m,onAnimationStart:p,onAnimationEnd:v}=n,x=g.useMemo(()=>({points:o,baseLine:l}),[o,l]),j=vh(x,"recharts-area-"),w=dfe(),[S,P]=g.useState(!1),k=!S,R=g.useCallback(()=>{typeof v=="function"&&v(),P(!1)},[v]),I=g.useCallback(()=>{typeof p=="function"&&p(),P(!0)},[p]);if(w==null)return null;var L=a.current,E=i.current;return g.createElement(gSe,{showLabels:k,points:o},n.children,g.createElement(yh,{animationId:j,begin:d,duration:f,isActive:u,easing:m,onAnimationEnd:R,onAnimationStart:I,key:j},C=>{if(L){var F=L.length/o.length,_=C===1?o:o.map((M,$)=>{var J=Math.floor($*F);if(L[J]){var q=L[J];return Ed(Ed({},M),{},{x:nr(q.x,M.x,C),y:nr(q.y,M.y,C)})}return M}),T;return nt(l)?T=nr(E,l,C):Sr(l)||Ma(l)?T=nr(E,0,C):T=l.map((M,$)=>{var J=Math.floor($*F);if(Array.isArray(E)&&E[J]){var q=E[J];return Ed(Ed({},M),{},{x:nr(q.x,M.x,C),y:nr(q.y,M.y,C)})}return M}),C>0&&(a.current=_,i.current=T),g.createElement(AR,{points:_,baseLine:T,needClip:t,clipPathId:r,props:n})}return C>0&&(a.current=o,i.current=l),g.createElement(Hr,null,u&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(r)},g.createElement(xSe,{alpha:C,points:o,baseLine:l,layout:w,strokeWidth:n.strokeWidth}))),g.createElement(Hr,{clipPath:"url(#animationClipPath-".concat(r,")")},g.createElement(AR,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),g.createElement(v0,{label:n.label}))}function wSe(e){var{needClip:t,clipPathId:r,props:n}=e,a=g.useRef(null),i=g.useRef();return g.createElement(bSe,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class jSe extends g.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:o,needClip:l,xAxisId:u,yAxisId:d,width:f,height:m,id:p,baseLine:v,zIndex:x}=this.props;if(t)return null;var j=Kt("recharts-area",a),w=p,{r:S,strokeWidth:P}=Tz(r),k=rA(r),R=S*2+P,I=l?"url(#clipPath-".concat(k?"":"dots-").concat(w,")"):void 0;return g.createElement(Ss,{zIndex:x},g.createElement(Hr,{className:j},l&&g.createElement("defs",null,g.createElement(cA,{clipPathId:w,xAxisId:u,yAxisId:d}),!k&&g.createElement("clipPath",{id:"clipPath-dots-".concat(w)},g.createElement("rect",{x:o-R/2,y:i-R/2,width:f+R,height:m+R}))),g.createElement(wSe,{needClip:l,clipPathId:w,props:this.props})),g.createElement(I2,{points:n,mainColor:tx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(v)&&g.createElement(I2,{points:v,mainColor:tx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var Bz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Zr.area};function NSe(e){var t,r=qr(e,Bz),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:u,fill:d,fillOpacity:f,hide:m,isAnimationActive:p,legendType:v,stroke:x,xAxisId:j,yAxisId:w}=r,S=$z(r,lSe),P=Eu(),k=zV(),{needClip:R}=C0(j,w),I=Dn(),{points:L,isRange:E,baseLine:C}=(t=st(J=>iSe(J,j,w,I,e.id)))!==null&&t!==void 0?t:{},F=k0();if(P!=="horizontal"&&P!=="vertical"||F==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:_,width:T,x:M,y:$}=F;return!L||!L.length?null:g.createElement(jSe,du({},S,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:C,connectNulls:l,dot:u,fill:d,fillOpacity:f,height:_,hide:m,layout:P,isAnimationActive:p==="auto"?!gh.isSsr:p,isRange:E,legendType:v,needClip:R,points:L,stroke:x,width:T,left:M,top:$,xAxisId:j,yAxisId:w}))}var SSe=(e,t,r,n,a)=>{var i=r??t;if(nt(i))return i;var o=e==="horizontal"?a:n,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function kSe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:f,xAxisTicks:m,yAxisTicks:p,bandSize:v}=e,x=a&&a.length,j=SSe(i,o,r,l,u),w=i==="horizontal",S=!1,P=d.map((R,I)=>{var L;x?L=a[f+I]:(L=lr(R,n),Array.isArray(L)?S=!0:L=[j,L]);var E=L[1]==null||x&&!t&&lr(R,n)==null;return w?{x:Sv({axis:l,ticks:m,bandSize:v,entry:R,index:I}),y:E?null:u.scale(L[1]),value:L,payload:R}:{x:E?null:l.scale(L[1]),y:Sv({axis:u,ticks:p,bandSize:v,entry:R,index:I}),value:L,payload:R}}),k;return x||S?k=P.map(R=>{var I=Array.isArray(R.value)?R.value[0]:null;return w?{x:R.x,y:I!=null&&R.y!=null?u.scale(I):null,payload:R.payload}:{x:I!=null?l.scale(I):null,y:R.y,payload:R.payload}}):k=w?u.scale(j):l.scale(j),{points:P,baseLine:k,isRange:S}}function CSe(e){var t=qr(e,Bz),r=Dn();return g.createElement(j0,{id:t.id,type:"area"},n=>g.createElement(g.Fragment,null,g.createElement(oA,{legendPayload:fSe(t)}),g.createElement(mSe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),g.createElement(lA,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:y$(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),g.createElement(NSe,du({},t,{id:n}))))}var E2=g.memo(CSe,jp);E2.displayName="Area";var ASe=["domain","range"],ISe=["domain","range"];function IR(e,t){if(e==null)return{};var r,n,a=PSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PR(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Vz(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=IR(e,ASe),{domain:i,range:o}=t,l=IR(t,ISe);return!PR(r,i)||!PR(n,o)?!1:jp(a,l)}var ESe=["dangerouslySetInnerHTML","ticks"],TSe=["id"];function T2(){return T2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T2.apply(null,arguments)}function ER(e,t){if(e==null)return{};var r,n,a=MSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _Se(e){var t=br(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(zje(e)):r.current!==e&&t(Uje({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(Wje(r.current)),r.current=null)},[t]),null}var DSe=e=>{var{xAxisId:t,className:r}=e,n=st(Rk),a=Dn(),i="xAxis",o=st(w=>kh(w,i,t,a)),l=st(w=>bV(w,i,t,a)),u=st(w=>gV(w,t)),d=st(w=>Wve(w,t)),f=st(w=>QB(w,t));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:p}=e,v=ER(e,ESe),{id:x}=f,j=ER(f,TSe);return g.createElement(hA,T2({},v,j,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:Kt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l,axisType:i}))},OSe={allowDataOverflow:An.allowDataOverflow,allowDecimals:An.allowDecimals,allowDuplicatedCategory:An.allowDuplicatedCategory,angle:An.angle,axisLine:Lo.axisLine,height:An.height,hide:!1,includeHidden:An.includeHidden,interval:An.interval,minTickGap:An.minTickGap,mirror:An.mirror,orientation:An.orientation,padding:An.padding,reversed:An.reversed,scale:An.scale,tick:An.tick,tickCount:An.tickCount,tickLine:Lo.tickLine,tickSize:Lo.tickSize,type:An.type,xAxisId:0},RSe=e=>{var t=qr(e,OSe);return g.createElement(g.Fragment,null,g.createElement(_Se,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(DSe,t))},ql=g.memo(RSe,Vz);ql.displayName="XAxis";var LSe=["dangerouslySetInnerHTML","ticks"],FSe=["id"];function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M2.apply(null,arguments)}function TR(e,t){if(e==null)return{};var r,n,a=$Se(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $Se(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BSe(e){var t=br(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Hje(e)):r.current!==e&&t(qje({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(Gje(r.current)),r.current=null)},[t]),null}var VSe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=g.useRef(null),o=g.useRef(null),l=st(Rk),u=Dn(),d=br(),f="yAxis",m=st(I=>kh(I,f,t,u)),p=st(I=>yV(I,t)),v=st(I=>qve(I,t)),x=st(I=>bV(I,f,t,u)),j=st(I=>XB(I,t));if(g.useLayoutEffect(()=>{if(!(n!=="auto"||!p||QC(a)||g.isValidElement(a)||j==null)){var I=i.current;if(I){var L=I.getCalculatedWidth();Math.round(p.width)!==Math.round(L)&&d(Kje({id:t,width:L}))}}},[x,p,d,a,t,n,j]),p==null||v==null||j==null)return null;var{dangerouslySetInnerHTML:w,ticks:S}=e,P=TR(e,LSe),{id:k}=j,R=TR(j,FSe);return g.createElement(hA,M2({},P,R,{ref:i,labelRef:o,scale:m,x:v.x,y:v.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Kt("recharts-".concat(f," ").concat(f),r),viewBox:l,ticks:x,axisType:f}))},zSe={allowDataOverflow:In.allowDataOverflow,allowDecimals:In.allowDecimals,allowDuplicatedCategory:In.allowDuplicatedCategory,angle:In.angle,axisLine:Lo.axisLine,hide:!1,includeHidden:In.includeHidden,interval:In.interval,minTickGap:In.minTickGap,mirror:In.mirror,orientation:In.orientation,padding:In.padding,reversed:In.reversed,scale:In.scale,tick:In.tick,tickCount:In.tickCount,tickLine:Lo.tickLine,tickSize:Lo.tickSize,type:In.type,width:In.width,yAxisId:0},USe=e=>{var t=qr(e,zSe);return g.createElement(g.Fragment,null,g.createElement(BSe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(VSe,t))},Gl=g.memo(USe,Vz);Gl.displayName="YAxis";var WSe=(e,t)=>t,pA=Ce([WSe,Vt,YB,jn,RV,sl,o0e,bn],m0e),gA=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},zz=_a("mouseClick"),Uz=np();Uz.startListening({actionCreator:zz,effect:(e,t)=>{var r=e.payload,n=pA(t.getState(),gA(r));n?.activeIndex!=null&&t.dispatch(ixe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var _2=_a("mouseMove"),Wz=np(),ly=null;Wz.startListening({actionCreator:_2,effect:(e,t)=>{var r=e.payload;ly!==null&&cancelAnimationFrame(ly);var n=gA(r);ly=requestAnimationFrame(()=>{var a=t.getState(),i=BC(a,a.tooltip.settings.shared);if(i==="axis"){var o=pA(a,n);o?.activeIndex!=null?t.dispatch(IV({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(AV())}ly=null})}});var MR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Hz=Bs({name:"rootProps",initialState:MR,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:MR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),HSe=Hz.reducer,{updateOptions:qSe}=Hz.actions,qz=Bs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:GSe}=qz.actions,KSe=qz.reducer,Gz=_a("keyDown"),Kz=_a("focus"),yA=np();yA.startListening({actionCreator:Gz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=VC(a,Ah(r),gp(r),bp(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=sl(r);if(i==="Enter"){var d=qv(r,"axis","hover",String(a.index));t.dispatch(j2({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var f=Zve(r),m=f==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,v=l+p*m;if(!(u==null||v>=u.length||v<0)){var x=qv(r,"axis","hover",String(v));t.dispatch(j2({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}}});yA.startListening({actionCreator:Kz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=qv(r,"axis","hover",String(i));t.dispatch(j2({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Na=_a("externalEvent"),Yz=np(),M1=new Map;Yz.startListening({actionCreator:Na,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=M1.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:qxe(l),activeDataKey:qC(l),activeIndex:sc(l),activeLabel:$V(l),activeTooltipIndex:sc(l),isTooltipActive:Gxe(l)};r(u,n)}finally{M1.delete(a)}});M1.set(a,o)}}});var YSe=Ce([Ch],e=>e.tooltipItemPayloads),ZSe=Ce([YSe,vp,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),Zz=_a("touchMove"),Qz=np();Qz.startListening({actionCreator:Zz,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=BC(n,n.tooltip.settings.shared);if(a==="axis"){var i=pA(n,gA({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(IV({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(x$),f=(o=u.getAttribute(b$))!==null&&o!==void 0?o:void 0,m=ZSe(t.getState(),d,f);t.dispatch(CV({activeDataKey:f,activeIndex:d,activeCoordinate:m}))}}}});var QSe=BF({brush:RNe,cartesianAxis:Yje,chartData:H0e,errorBars:m1e,graphicalItems:rje,layout:vhe,legend:Cfe,options:B0e,polarAxis:ywe,polarOptions:KSe,referenceElements:UNe,rootProps:HSe,tooltip:oxe,zIndex:I0e}),XSe=function(t){return Ude({reducer:QSe,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([Uz.middleware,Wz.middleware,yA.middleware,Yz.middleware,Qz.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(t$({type:"raf"}))},devTools:gh.devToolsEnabled})};function Xz(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Dn(),i=g.useRef(null);if(a)return r;i.current==null&&(i.current=XSe(t));var o=Ak;return g.createElement(F1e,{context:o,store:i.current},r)}function JSe(e){var{layout:t,margin:r}=e,n=br(),a=Dn();return g.useEffect(()=>{a||(n(phe(t)),n(mhe(r)))},[n,a,t,r]),null}var Jz=g.memo(JSe,jp);function e8(e){var t=br();return g.useEffect(()=>{t(qSe(e))},[t,e]),null}function _R(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=mz("".concat(n).concat(t)),i=br();return g.useLayoutEffect(()=>(i(C0e({zIndex:t,elementId:a,isPanorama:r})),()=>{i(A0e({zIndex:t,isPanorama:r}))}),[i,t,a,r]),g.createElement("g",{tabIndex:-1,id:a})}function DR(e){var{children:t,isPanorama:r}=e,n=st(g0e);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return g.createElement(g.Fragment,null,a.map(o=>g.createElement(_R,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>g.createElement(_R,{key:o,zIndex:o,isPanorama:r})))}var eke=["children"];function tke(e,t){if(e==null)return{};var r,n,a=rke(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rx.apply(null,arguments)}var nke={width:"100%",height:"100%",display:"block"},ske=g.forwardRef((e,t)=>{var r=Fk(),n=$k(),a=R$();if(!Ji(r)||!Ji(n))return null;var{children:i,otherAttributes:o,title:l,desc:u}=e,d,f;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=a?0:void 0,typeof o.role=="string"?f=o.role:f=a?"application":void 0),g.createElement(yk,rx({},o,{title:l,desc:u,role:f,tabIndex:d,width:r,height:n,style:nke,ref:t}),i)}),ake=e=>{var{children:t}=e,r=st(Kx);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return g.createElement(yk,{width:n,height:a,x:o,y:i},t)},OR=g.forwardRef((e,t)=>{var{children:r}=e,n=tke(e,eke),a=Dn();return a?g.createElement(ake,null,g.createElement(DR,{isPanorama:!0},r)):g.createElement(ske,rx({ref:t},n),g.createElement(DR,{isPanorama:!1},r))});function ike(){var e=br(),[t,r]=g.useState(null),n=st(Ohe);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;kr(i)&&i!==n&&e(yhe(i))}},[t,e,n]),r}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){lke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lke(e,t,r){return(t=cke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cke(e){var t=uke(e,"string");return typeof t=="symbol"?t:t+""}function uke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(null,arguments)}var dke=()=>(ebe(),null);function nx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var hke=g.forwardRef((e,t)=>{var r,n,a=g.useRef(null),[i,o]=g.useState({containerWidth:nx((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:nx((n=e.style)===null||n===void 0?void 0:n.height)}),l=g.useCallback((d,f)=>{o(m=>{var p=Math.round(d),v=Math.round(f);return m.containerWidth===p&&m.containerHeight===v?m:{containerWidth:p,containerHeight:v}})},[]),u=g.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:m}=d.getBoundingClientRect();l(f,m);var p=x=>{var{width:j,height:w}=x[0].contentRect;l(j,w)},v=new ResizeObserver(p);v.observe(d),a.current=v}},[t,l]);return g.useEffect(()=>()=>{var d=a.current;d?.disconnect()},[l]),g.createElement(g.Fragment,null,g.createElement(Zx,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",ku({ref:u},e)))}),fke=g.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=g.useState({containerWidth:nx(r),containerHeight:nx(n)}),o=g.useCallback((u,d)=>{i(f=>{var m=Math.round(u),p=Math.round(d);return f.containerWidth===m&&f.containerHeight===p?f:{containerWidth:m,containerHeight:p}})},[]),l=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();o(d,f)}},[t,o]);return g.createElement(g.Fragment,null,g.createElement(Zx,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",ku({ref:l},e)))}),mke=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return g.createElement(g.Fragment,null,g.createElement(Zx,{width:r,height:n}),g.createElement("div",ku({ref:t},e)))}),pke=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return Wo(r)||Wo(n)?g.createElement(fke,ku({},e,{ref:t})):g.createElement(mke,ku({},e,{ref:t}))});function gke(e){return e===!0?hke:pke}var yke=g.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:m,onMouseUp:p,onTouchEnd:v,onTouchMove:x,onTouchStart:j,style:w,width:S,responsive:P,dispatchTouchEvents:k=!0}=e,R=g.useRef(null),I=br(),[L,E]=g.useState(null),[C,F]=g.useState(null),_=ike(),T=Lk(),M=T?.width>0?T.width:S,$=T?.height>0?T.height:a,J=g.useCallback(re=>{_(re),typeof t=="function"&&t(re),E(re),F(re),re!=null&&(R.current=re)},[_,t,E,F]),q=g.useCallback(re=>{I(zz(re)),I(Na({handler:i,reactEvent:re}))},[I,i]),U=g.useCallback(re=>{I(_2(re)),I(Na({handler:d,reactEvent:re}))},[I,d]),X=g.useCallback(re=>{I(AV()),I(Na({handler:f,reactEvent:re}))},[I,f]),B=g.useCallback(re=>{I(_2(re)),I(Na({handler:m,reactEvent:re}))},[I,m]),Z=g.useCallback(()=>{I(Kz())},[I]),ne=g.useCallback(re=>{I(Gz(re.key))},[I]),W=g.useCallback(re=>{I(Na({handler:o,reactEvent:re}))},[I,o]),z=g.useCallback(re=>{I(Na({handler:l,reactEvent:re}))},[I,l]),pe=g.useCallback(re=>{I(Na({handler:u,reactEvent:re}))},[I,u]),oe=g.useCallback(re=>{I(Na({handler:p,reactEvent:re}))},[I,p]),Pe=g.useCallback(re=>{I(Na({handler:j,reactEvent:re}))},[I,j]),ke=g.useCallback(re=>{k&&I(Zz(re)),I(Na({handler:x,reactEvent:re}))},[I,k,x]),fe=g.useCallback(re=>{I(Na({handler:v,reactEvent:re}))},[I,v]),ue=gke(P);return g.createElement(GV.Provider,{value:L},g.createElement(rF.Provider,{value:C},g.createElement(ue,{width:M??w?.width,height:$??w?.height,className:Kt("recharts-wrapper",n),style:oke({position:"relative",cursor:"default",width:M,height:$},w),onClick:q,onContextMenu:W,onDoubleClick:z,onFocus:Z,onKeyDown:ne,onMouseDown:pe,onMouseEnter:U,onMouseLeave:X,onMouseMove:B,onMouseUp:oe,onTouchEnd:fe,onTouchMove:ke,onTouchStart:Pe,ref:J},g.createElement(dke,null),r)))}),vke=["width","height","responsive","children","className","style","compact","title","desc"];function xke(e,t){if(e==null)return{};var r,n,a=bke(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var t8=g.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:u,title:d,desc:f}=e,m=xke(e,vke),p=ws(m);return u?g.createElement(g.Fragment,null,g.createElement(Zx,{width:r,height:n}),g.createElement(OR,{otherAttributes:p,title:d,desc:f},i)):g.createElement(yke,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(OR,{otherAttributes:p,title:d,desc:f,ref:t},g.createElement(HNe,null,i)))});function D2(){return D2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D2.apply(null,arguments)}var wke={top:5,right:5,bottom:5,left:5},jke={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:wke,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},vA=g.forwardRef(function(t,r){var n,a=qr(t.categoricalChartProps,jke),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,f={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(Xz,{preloadedState:{options:f},reduxStoreName:(n=d.id)!==null&&n!==void 0?n:i},g.createElement(jz,{chartData:d.data}),g.createElement(Jz,{layout:a.layout,margin:a.margin}),g.createElement(e8,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),g.createElement(t8,D2({},a,{ref:r})))}),Nke=["axis"],r8=g.forwardRef((e,t)=>g.createElement(vA,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nke,tooltipPayloadSearcher:g0,categoricalChartProps:e,ref:t})),Ske=["axis","item"],sx=g.forwardRef((e,t)=>g.createElement(vA,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ske,tooltipPayloadSearcher:g0,categoricalChartProps:e,ref:t}));function kke(e){var t=br();return g.useEffect(()=>{t(GSe(e))},[t,e]),null}var Cke=["layout"];function O2(){return O2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O2.apply(null,arguments)}function Ake(e,t){if(e==null)return{};var r,n,a=Ike(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ike(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pke={top:5,right:5,bottom:5,left:5},n8={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Pke,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Eke=g.forwardRef(function(t,r){var n,a=qr(t.categoricalChartProps,n8),{layout:i}=a,o=Ake(a,Cke),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f}=t,m={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return g.createElement(Xz,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},g.createElement(jz,{chartData:a.data}),g.createElement(Jz,{layout:i,margin:a.margin}),g.createElement(e8,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),g.createElement(kke,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),g.createElement(t8,O2({},o,{ref:r})))});function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){Tke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tke(e,t,r){return(t=Mke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mke(e){var t=_ke(e,"string");return typeof t=="symbol"?t:t+""}function _ke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dke=["item"],Oke=FR(FR({},n8),{},{layout:"centric",startAngle:0,endAngle:360}),xA=g.forwardRef((e,t)=>{var r=qr(e,Oke);return g.createElement(Eke,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Dke,tooltipPayloadSearcher:g0,categoricalChartProps:r,ref:t})}),Rke=["axis"],Lke=g.forwardRef((e,t)=>g.createElement(vA,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rke,tooltipPayloadSearcher:g0,categoricalChartProps:e,ref:t}));const Tf=(e,t)=>!t||t.length===0?!1:t.includes("*")||t.includes("admin")?!0:t.includes(e),$R=["#8F61EF","#F9A826","#10B981","#EF4444","#3B82F6"],Fke=({title:e,value:t,icon:r,color:n="primary"})=>s.jsx(Bi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},transition:{duration:.3},children:s.jsx(Ot,{className:"h-full",children:s.jsx(gn,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:e}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t})]}),s.jsx("div",{className:`p-3 rounded-lg ${n==="primary"?"bg-primary/10":n==="blue"?"bg-blue-500/10":n==="green"?"bg-green-500/10":n==="purple"?"bg-purple-500/10":n==="yellow"?"bg-yellow-500/10":"bg-orange-500/10"}`,children:s.jsx(r,{className:`w-6 h-6 ${n==="primary"?"text-primary":n==="blue"?"text-blue-500":n==="green"?"text-green-500":n==="purple"?"text-purple-500":n==="yellow"?"text-yellow-500":"text-orange-500"}`})})]})})})}),$ke=()=>{const[e,t]=g.useState({users:0,vendors:0,venues:0,bookings:0,revenue:0,commission:0}),[r,n]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState(!0),u=g.useMemo(()=>{try{const p=localStorage.getItem("admin_permissions");if(p)return JSON.parse(p)}catch(p){console.error("Error parsing permissions:",p)}return[]},[]);g.useEffect(()=>{d()},[]);const d=async()=>{try{const v=(await rce.getStats()).data;t({users:v.users||0,vendors:v.vendors||0,venues:v.venues||0,bookings:v.bookings||0,revenue:v.revenue||0,commission:v.commission||0}),n(v.monthlyRevenue||[]),i(v.bookingStatus||[])}catch{G.error("Failed to load dashboard data")}finally{l(!1)}},f=g.useMemo(()=>[{id:"users",title:"Total Users",value:e.users.toLocaleString(),icon:Um,color:"primary",permission:"view_users"},{id:"vendors",title:"Vendors",value:e.vendors.toLocaleString(),icon:D5,color:"blue",permission:"view_vendors"},{id:"venues",title:"Venues",value:e.venues.toLocaleString(),icon:bs,color:"green",permission:"view_venues"},{id:"bookings",title:"Bookings",value:e.bookings.toLocaleString(),icon:Tn,color:"purple",permission:"view_bookings"},{id:"revenue",title:"Revenue",value:`${e.revenue.toLocaleString()}`,icon:wx,color:"yellow",permission:"view_revenue"},{id:"commission",title:"Commission",value:`${e.commission.toLocaleString()}`,icon:R5,color:"orange",permission:"view_payouts"}],[e]),m=g.useMemo(()=>f.filter(p=>!!(Tf(p.permission,u)||(p.id==="revenue"||p.id==="commission")&&Tf("view_analytics",u))),[f,u]);return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Welcome back! Here's your overview."})]}),m.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(p=>s.jsx(Fke,{title:p.title,value:p.value,icon:p.icon,change:p.change,color:p.color},p.id))}):s.jsx(Ot,{children:s.jsx(gn,{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No dashboard cards available. Please contact admin for permissions."})})}),Tf("view_analytics",u)&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Tf("view_revenue",u)&&s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsx(ms,{children:"Monthly Revenue"})}),s.jsx(gn,{children:s.jsx(Vi,{width:"100%",height:300,children:s.jsxs(r8,{data:r,children:[s.jsx(Hl,{strokeDasharray:"3 3"}),s.jsx(ql,{dataKey:"month"}),s.jsx(Gl,{}),s.jsx(Ui,{}),s.jsx(Ul,{}),s.jsx(mA,{type:"monotone",dataKey:"revenue",stroke:"#8F61EF",strokeWidth:2})]})})})]}),Tf("view_bookings",u)&&s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsx(ms,{children:"Bookings by Status"})}),s.jsx(gn,{children:s.jsx(Vi,{width:"100%",height:300,children:s.jsxs(xA,{children:[s.jsx(S0,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:p,percent:v})=>`${p} ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((p,v)=>s.jsx(_u,{fill:$R[v%$R.length]},`cell-${v}`))}),s.jsx(Ui,{})]})})})]})]})]})},Rn=({children:e,className:t})=>s.jsx("div",{className:"w-full",children:s.jsx("table",{className:En("w-full table-fixed",t),children:e})}),Ln=({children:e})=>s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:e}),Fn=({children:e})=>s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e}),vt=({children:e,className:t,onClick:r})=>s.jsx("tr",{className:En("hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",r&&"cursor-pointer",t),onClick:r,children:e}),Oe=({children:e,className:t})=>s.jsx("th",{className:En("px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",t),children:e}),Ae=({children:e,className:t})=>s.jsx("td",{className:En("px-4 py-3 text-sm text-gray-900 dark:text-gray-100",t),children:e}),wt=({children:e,variant:t="default",className:r})=>{const n={default:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200",success:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",warning:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200",danger:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200",info:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",primary:"bg-primary/20 text-primary"};return s.jsx("span",{className:En("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n[t],r),children:e})},He=({className:e,label:t,error:r,...n})=>s.jsxs("div",{className:"w-full",children:[t&&s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:t}),s.jsx("input",{className:En("w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600","bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed",r&&"border-red-500 focus:ring-red-500",e),...n}),r&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:r})]}),kt=({isOpen:e,onClose:t,title:r,children:n,size:a="md"})=>{const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return e?s.jsx(ase,{mode:"wait",children:e&&s.jsxs(Bi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[s.jsx(Bi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),s.jsxs(Bi.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:o=>o.stopPropagation(),className:En("relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-h-[90vh] flex flex-col z-10",i[a]),children:[r&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:r}),s.jsx("button",{onClick:t,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-label":"Close modal",children:s.jsx(dr,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"px-6 py-4 overflow-y-auto flex-1 min-h-0",children:n})]})]},"modal")}):null},$n=({currentPage:e=1,totalPages:t=1,totalItems:r=0,itemsPerPage:n=10,onPageChange:a,showTotal:i=!0})=>{if(t<=1)return null;const o=(e-1)*n+1,l=Math.min(e*n,r),u=()=>{e>1&&a(e-1)},d=()=>{e<t&&a(e+1)},f=p=>{p>=1&&p<=t&&p!==e&&a(p)},m=()=>{const p=[];if(t<=5)for(let x=1;x<=t;x++)p.push(x);else{p.push(1),e>3&&p.push("...");const x=Math.max(2,e-1),j=Math.min(t-1,e+1);for(let w=x;w<=j;w++)p.push(w);e<t-2&&p.push("..."),t>1&&p.push(t)}return p};return s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-4 border-t border-gray-200",children:[i&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",s.jsx("span",{className:"font-semibold text-gray-900",children:o})," to"," ",s.jsx("span",{className:"font-semibold text-gray-900",children:l})," of"," ",s.jsx("span",{className:"font-semibold text-gray-900",children:r})," items"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:u,disabled:e===1,className:"flex items-center gap-1 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(bx,{className:"w-4 h-4"}),s.jsx("span",{children:"Previous"})]}),s.jsx("div",{className:"flex items-center gap-1",children:m().map((p,v)=>p==="..."?s.jsx("span",{className:"px-2 py-1 text-gray-500",children:"..."},`ellipsis-${v}`):s.jsx("button",{onClick:()=>f(p),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p===e?"bg-primary-600 text-white hover:bg-primary-700":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:p},p))}),s.jsxs("button",{onClick:d,disabled:e===t,className:"flex items-center gap-1 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{children:"Next"}),s.jsx(Iu,{className:"w-4 h-4"})]})]})]})},Bke=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[o,l]=g.useState("all"),[u,d]=g.useState(null),[f,m]=g.useState(!1),[p,v]=g.useState(!1),[x,j]=g.useState(null),[w,S]=g.useState(!1),[P,k]=g.useState(1),R=10;g.useEffect(()=>{I()},[o]);const I=async()=>{try{const U=o!=="all"?{role:o}:{},X=await Wg.getAll(U);t(X.data||[])}catch{G.error("Failed to load users")}finally{n(!1)}},L=async U=>{v(!0),m(!0);try{const X=await Wg.getById(U);d(X.data)}catch(X){G.error(X.response?.data?.message||"Failed to load user details"),m(!1)}finally{v(!1)}},E=async(U,X=!1)=>{if(!X){const B=e.find(Z=>Z._id===U)||u;j({id:U,name:B?.name,type:B?.isBlocked?"unblock":"block"});return}S(!0);try{const B=await Wg.block(U);G.success(B.data?.message||"User blocked successfully"),I(),u&&u._id===U&&d({...u,isBlocked:!u.isBlocked})}catch(B){G.error(B.response?.data?.message||"Failed to block user")}finally{S(!1),j(null)}},C=async(U,{skipConfirm:X=!1,forceDelete:B=!1,userMeta:Z}={})=>{if(!X){j({id:U,name:Z?.name,type:B?"forceDelete":"delete",meta:Z});return}let ne=!0;S(!0);try{const W=B?{params:{forceDelete:"true"}}:{},z=await Wg.delete(U,W);G.success(z.data?.message||"User deleted successfully"),I(),u&&u._id===U&&(m(!1),d(null))}catch(W){const z=W.response?.data;z?.canForceDelete&&(z?.bookingsCount>0||z?.leadsCount>0)?(j({id:U,name:Z?.name||u?.name,type:"forceDelete",meta:{bookingsCount:z.bookingsCount||0,leadsCount:z.leadsCount||0}}),ne=!1):G.error(z?.message||"Failed to delete user");return}finally{S(!1),ne&&j(null)}},F=e.filter(U=>U.name?.toLowerCase().includes(a.toLowerCase())||U.email?.toLowerCase().includes(a.toLowerCase())||U.phone?.includes(a)),_=F.length,T=Math.ceil(_/R),M=(P-1)*R,$=M+R,J=F.slice(M,$);g.useEffect(()=>{k(1)},[a,o]);const q=U=>{const X={customer:"info",vendor:"warning",affiliate:"success",admin:"primary"};return s.jsx(wt,{variant:X[U]||"default",children:U})};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Users"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all users"})]})}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(He,{type:"text",placeholder:"Search users...",value:a,onChange:U=>i(U.target.value),className:"pl-10"})]})}),s.jsxs("select",{value:o,onChange:U=>l(U.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"customer",children:"Customer"}),s.jsx("option",{value:"vendor",children:"Vendor"}),s.jsx("option",{value:"affiliate",children:"Affiliate"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Users: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:_})]}),s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{children:"Email"}),s.jsx(Oe,{children:"Phone"}),s.jsx(Oe,{children:"Role"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:J.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No users found"})}):J.map((U,X)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:M+X+1}),s.jsx(Ae,{className:"font-medium",children:U.name}),s.jsx(Ae,{className:"whitespace-normal break-words max-w-[12rem] text-sm",children:U.email}),s.jsx(Ae,{children:U.phone||"N/A"}),s.jsx(Ae,{children:q(U.role)}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(wt,{variant:U.verified?"success":"warning",children:U.verified?"Verified":"Pending"}),U.isBlocked&&s.jsx(wt,{variant:"danger",children:"Blocked"})]})}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[sr("view_users")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>L(U._id),title:"View Details",children:s.jsx(Qr,{className:"w-4 h-4"})}),sr("edit_users")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>E(U._id),title:U.isBlocked?"Unblock User":"Block User",disabled:U.role==="admin",children:s.jsx(ST,{className:`w-4 h-4 ${U.isBlocked?"text-red-500":""}`})}),sr("delete_users")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>C(U._id,{userMeta:U}),title:"Delete User",disabled:U.role==="admin",children:s.jsx(Xr,{className:"w-4 h-4 text-red-500"})})]})})]},U._id))})]}),_>10&&s.jsx($n,{currentPage:P,totalPages:T,totalItems:_,itemsPerPage:R,onPageChange:k})]})}),s.jsx(kt,{isOpen:!!x,onClose:()=>{w||j(null)},title:x?.type==="unblock"?"Unblock User":"Block User",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:[x?.type==="unblock"&&`Are you sure you want to unblock ${x?.name||"this user"}?`,x?.type==="block"&&`Are you sure you want to block ${x?.name||"this user"}?`,x?.type==="delete"&&`Delete ${x?.name||"this user"}? This action cannot be undone.`,x?.type==="forceDelete"&&`This user has ${x?.meta?.bookingsCount||0} booking(s) and ${x?.meta?.leadsCount||0} lead(s). Do you want to delete the user along with all their bookings and leads?`]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>j(null),disabled:w,children:"Cancel"}),x?.type==="block"||x?.type==="unblock"?s.jsx(we,{variant:x?.type==="unblock"?"secondary":"danger",onClick:()=>E(x.id,!0),disabled:w,children:w?"Please wait...":x?.type==="unblock"?"Unblock":"Block"}):null,x?.type==="delete"||x?.type==="forceDelete"?s.jsx(we,{variant:"danger",onClick:()=>C(x.id,{skipConfirm:!0,forceDelete:x?.type==="forceDelete",userMeta:x?.meta}),disabled:w,children:w?"Please wait...":"Delete"}):null]})]})}),s.jsx(kt,{isOpen:f,onClose:()=>{m(!1),d(null)},title:"User Details",size:"lg",children:p?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):u?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(la,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.name||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(di,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.email||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx(lc,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Phone"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.phone||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx(oa,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Role"}),s.jsx("div",{className:"mt-1",children:q(u.role)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(Tn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Joined Date"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.createdAt?new Date(u.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:s.jsx(oa,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),s.jsxs("div",{className:"mt-1 flex gap-2",children:[s.jsx(wt,{variant:u.verified?"success":"warning",children:u.verified?"Verified":"Pending"}),u.isBlocked&&s.jsx(wt,{variant:"danger",children:"Blocked"})]})]})]})]}),(sr("edit_users")||sr("delete_users"))&&s.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[sr("edit_users")&&s.jsxs(we,{variant:"secondary",onClick:()=>{u.role!=="admin"?E(u._id):G.error("Cannot block admin user")},disabled:u.role==="admin",children:[s.jsx(ST,{className:"w-4 h-4 mr-2"}),u.isBlocked?"Unblock User":"Block User"]}),sr("delete_users")&&s.jsxs(we,{variant:"danger",onClick:()=>{u.role!=="admin"?C(u._id,!1):G.error("Cannot delete admin user")},disabled:u.role==="admin",children:[s.jsx(Xr,{className:"w-4 h-4 mr-2"}),"Delete User"]})]})]}):null})]})},Vke=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(null),[o,l]=g.useState(!1),[u,d]=g.useState(null),[f,m]=g.useState(null),[p,v]=g.useState(!1),[x,j]=g.useState(!1),[w,S]=g.useState(!1),[P,k]=g.useState(1),R=10,[I,L]=g.useState({name:"",email:"",phone:"",password:""}),[E,C]=g.useState(""),[F,_]=g.useState([]),[T,M]=g.useState(!1);g.useEffect(()=>{J(),$()},[]);const $=async()=>{try{const oe=await Of.getAll({activeOnly:"true"});_(oe.data.categories||[])}catch(oe){console.error("Failed to load categories:",oe)}},J=async()=>{try{const oe=await No.getAll();t(oe.data||[])}catch{G.error("Failed to load vendors")}finally{n(!1)}},q=async(oe,Pe=!1)=>{if(!Pe){const ke=e.find(fe=>fe._id===oe);i({id:oe,name:ke?.name,type:"approve"});return}l(!0);try{const ke=await No.approve(oe);G.success(ke.data?.message||"Vendor approved successfully"),J()}catch(ke){G.error(ke.response?.data?.message||"Failed to approve vendor")}finally{l(!1),i(null)}},U=async(oe,Pe=!1)=>{if(!Pe){const ke=e.find(fe=>fe._id===oe);i({id:oe,name:ke?.name,type:"reject"});return}l(!0);try{const ke=await No.reject(oe);G.success(ke.data?.message||"Vendor rejected successfully"),J()}catch(ke){G.error(ke.response?.data?.message||"Failed to reject vendor")}finally{l(!1),i(null)}},X=async(oe,Pe=!1)=>{if(!Pe){const ke=e.find(fe=>fe._id===oe);i({id:oe,name:ke?.name,type:"delete"});return}l(!0);try{const ke=await No.delete(oe);G.success(ke.data?.message||"Vendor deleted successfully"),J()}catch(ke){G.error(ke.response?.data?.message||"Failed to delete vendor")}finally{l(!1),i(null)}},B=async oe=>{d(oe),v(!0);try{const Pe=await No.getById(oe),ke=Pe.data?.vendor||Pe.data?.data||Pe.data;m(ke)}catch(Pe){G.error(Pe.response?.data?.message||"Failed to load vendor details"),d(null)}finally{v(!1)}},Z=e.length,ne=Math.ceil(Z/R),W=(P-1)*R,z=W+R,pe=e.slice(W,z);return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Vendors"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all vendors"})]}),sr("create_vendors")&&s.jsxs(we,{onClick:()=>j(!0),className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-4 h-4"}),"Add Vendor"]})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Vendors: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:Z})]}),s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{className:"max-w-[200px]",children:"Email"}),s.jsx(Oe,{children:"Phone"}),s.jsx(Oe,{children:"Category"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Revenue"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:pe.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:8,className:"text-center py-8 text-gray-500",children:"No vendors found"})}):pe.map((oe,Pe)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:W+Pe+1}),s.jsx(Ae,{className:"font-medium",children:oe.name}),s.jsx(Ae,{className:"max-w-[200px]",children:s.jsx("div",{className:"truncate",title:oe.email,style:{maxWidth:"200px"},children:oe.email})}),s.jsx(Ae,{children:oe.phone||"N/A"}),s.jsx(Ae,{children:oe.vendorCategory?s.jsx(wt,{variant:"default",children:oe.vendorCategory.name}):s.jsx("span",{className:"text-gray-400 text-sm",children:"No category"})}),s.jsx(Ae,{children:s.jsx(wt,{variant:oe.status==="approved"?"success":oe.status==="pending"?"warning":"danger",children:oe.status||"pending"})}),s.jsxs(Ae,{children:["",oe.totalRevenue||0]}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[sr("view_vendors")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>B(oe._id),title:"View Details",children:s.jsx(Qr,{className:"w-4 h-4"})}),sr("edit_vendors")&&oe.status!=="approved"&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>q(oe._id),children:s.jsx(Ql,{className:"w-4 h-4 text-green-500"})}),sr("edit_vendors")&&oe.status!=="rejected"&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>U(oe._id),children:s.jsx(dr,{className:"w-4 h-4 text-red-500"})}),sr("delete_vendors")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>X(oe._id),children:s.jsx(Xr,{className:"w-4 h-4 text-red-600"})})]})})]},oe._id))})]}),Z>10&&s.jsx($n,{currentPage:P,totalPages:ne,totalItems:Z,itemsPerPage:R,onPageChange:k})]})}),s.jsx(kt,{isOpen:!!a,onClose:()=>{o||i(null)},title:a?.type==="approve"?"Approve Vendor":a?.type==="reject"?"Reject Vendor":"Delete Vendor",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-700 dark:text-gray-200",children:a?.type==="approve"?`Approve ${a?.name||"this vendor"}?`:a?.type==="reject"?`Reject ${a?.name||"this vendor"}? This will also reject all their venues.`:`Delete ${a?.name||"this vendor"}? This action cannot be undone. All their venues will be rejected.`}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>i(null),disabled:o,children:"Cancel"}),s.jsx(we,{variant:a?.type==="approve"?"secondary":"danger",onClick:()=>{a?.type==="approve"?q(a.id,!0):a?.type==="reject"?U(a.id,!0):a?.type==="delete"&&X(a.id,!0)},disabled:o,children:o?"Please wait...":a?.type==="approve"?"Approve":a?.type==="reject"?"Reject":"Delete"})]})]})}),s.jsx(kt,{isOpen:x,onClose:()=>{w||(j(!1),L({name:"",email:"",phone:"",password:""}),C(""))},title:"Add Vendor",size:"md",children:s.jsxs("form",{className:"space-y-4",onSubmit:async oe=>{if(oe.preventDefault(),I.phone){const ke=String(I.phone).trim().replace(/\D/g,"");if(ke.length<10||ke.length>15){C("Phone number must be between 10 and 15 digits");return}C("")}S(!0);try{await No.create(I),G.success("Vendor created successfully"),j(!1),L({name:"",email:"",phone:"",password:""}),C(""),J()}catch(Pe){G.error(Pe.response?.data?.message||"Failed to create vendor")}finally{S(!1)}},children:[s.jsx(He,{label:"Name",value:I.name,onChange:oe=>L(Pe=>({...Pe,name:oe.target.value})),disabled:w,required:!0}),s.jsx(He,{label:"Email",type:"email",value:I.email,onChange:oe=>L(Pe=>({...Pe,email:oe.target.value})),disabled:w,required:!0}),s.jsxs("div",{children:[s.jsx(He,{label:"Phone",type:"tel",value:I.phone,onChange:oe=>{const ke=oe.target.value.replace(/\D/g,"");ke.length<=15&&(L(fe=>({...fe,phone:ke})),ke.length>0&&(ke.length<10||ke.length>15)?C("Phone number must be between 10 and 15 digits"):C(""))},disabled:w,placeholder:"Enter 10-15 digit phone number",maxLength:15}),E&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:E}),!E&&I.phone&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[I.phone.replace(/\D/g,"").length," digits"]})]}),s.jsx(He,{label:"Password",type:"password",value:I.password,onChange:oe=>L(Pe=>({...Pe,password:oe.target.value})),disabled:w,required:!0}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(we,{type:"button",variant:"outline",onClick:()=>j(!1),disabled:w,children:"Cancel"}),s.jsx(we,{type:"submit",disabled:w,children:w?"Creating...":"Create Vendor"})]})]})}),s.jsx(kt,{isOpen:!!u,onClose:()=>{d(null),m(null)},title:"Vendor Details",size:"lg",children:p?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):f?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Name"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:f.name||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Email"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:f.email||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Phone"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:f.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(wt,{variant:f.vendorStatus==="approved"?"success":f.vendorStatus==="pending"?"warning":"danger",children:f.vendorStatus||f.status||"pending"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Category"}),s.jsx("div",{className:"mt-1 flex items-center gap-2",children:sr("edit_vendors")?s.jsxs("select",{value:f.vendorCategory?._id||f.vendorCategory||"",onChange:async oe=>{const Pe=oe.target.value||null;M(!0);try{await No.updateCategory(u,Pe),G.success("Category updated successfully");const ke=await No.getById(u),fe=ke.data?.vendor||ke.data?.data||ke.data;m(fe),J()}catch(ke){G.error(ke.response?.data?.message||"Failed to update category")}finally{M(!1)}},disabled:T,className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"No category"}),F.map(oe=>s.jsx("option",{value:oe._id,children:oe.name},oe._id))]}):s.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:f.vendorCategory?.name||"No category"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Role"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:f.role||"vendor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Verified"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:f.verified?"Yes":"No"})]}),f.createdAt&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Created At"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:new Date(f.createdAt).toLocaleDateString()})]}),f.updatedAt&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Last Updated"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:new Date(f.updatedAt).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Revenue"}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["",f.totalRevenue||0]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Total Revenue"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Venues"}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:f.venueCount||(Array.isArray(f.venues)?f.venues.length:0)}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Total Venues"})]})]})]}),f.venueStatusCounts&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Venue Status Breakdown"}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:f.venueStatusCounts.pending||0}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Pending"})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f.venueStatusCounts.approved||0}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Approved"})]}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:f.venueStatusCounts.rejected||0}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Rejected"})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:f.venueStatusCounts.active||0}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Active"})]})]})]}),f.venues&&Array.isArray(f.venues)&&f.venues.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Venues List"}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:f.venues.map(oe=>s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:oe.name}),oe.location&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:typeof oe.location=="string"?oe.location:`${oe.location.city||""}${oe.location.state?`, ${oe.location.state}`:""}`})]}),s.jsx(wt,{variant:oe.status==="approved"?"success":oe.status==="pending"?"warning":"danger",children:oe.status})]}),oe.price&&s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["",oe.price]})]},oe._id))})]}),s.jsxs("details",{className:"mt-4",children:[s.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:"View Raw Data"}),s.jsx("pre",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg overflow-auto text-xs",children:JSON.stringify(f,null,2)})]})]}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No vendor details available"})})]})},BR=()=>"https://shubhvenue.com/api".replace("/api",""),_n=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/uploads/")||e.startsWith("/uploads")?`${BR()}${e}`:e.startsWith("uploads/")?`${BR()}/${e}`:e:"",zke=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(!1),[o,l]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState(null),[p,v]=g.useState({name:"",description:"",isActive:!0,image:null}),[x,j]=g.useState(null),[w,S]=g.useState(null),[P,k]=g.useState(!1);g.useEffect(()=>{R()},[]);const R=async()=>{try{n(!0);const T=await Of.getAll();t(T.data.categories||[])}catch{G.error("Failed to load categories")}finally{n(!1)}},I=async T=>{T.preventDefault(),k(!0);try{if(!p.name||!p.name.trim()){G.error("Category name is required"),k(!1);return}const M=new FormData;M.append("name",p.name.trim()),M.append("description",p.description||""),M.append("isActive",p.isActive?"true":"false"),w&&M.append("image",w),console.log("Sending FormData:",{name:p.name.trim(),description:p.description||"",isActive:p.isActive,hasImage:!!w}),await Of.create(M),G.success("Category created successfully"),i(!1),v({name:"",description:"",isActive:!0,image:null}),j(null),S(null),R()}catch(M){G.error(M.response?.data?.message||"Failed to create category")}finally{k(!1)}},L=T=>{m(T),v({name:T.name,description:T.description||"",isActive:T.isActive,image:T.image||null}),j(T.image?_n(T.image):null),S(null),l(!0)},E=async T=>{T.preventDefault(),k(!0);try{const M=new FormData;M.append("name",p.name),M.append("description",p.description||""),M.append("isActive",p.isActive),w?M.append("image",w):p.image&&M.append("image",p.image),await Of.update(f._id,M),G.success("Category updated successfully"),l(!1),m(null),v({name:"",description:"",isActive:!0,image:null}),j(null),S(null),R()}catch(M){G.error(M.response?.data?.message||"Failed to update category")}finally{k(!1)}},C=T=>{const M=T.target.files[0];if(M){S(M);const $=new FileReader;$.onloadend=()=>{j($.result)},$.readAsDataURL(M)}},F=()=>{S(null),j(null),v({...p,image:null})},_=async()=>{k(!0);try{await Of.delete(f._id),G.success("Category deleted successfully"),d(!1),m(null),R()}catch(T){G.error(T.response?.data?.message||"Failed to delete category")}finally{k(!1)}};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Vendor Categories"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage vendor categories"})]}),sr("edit_vendors")&&s.jsxs(we,{onClick:()=>i(!0),className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-4 h-4"}),"Add Category"]})]}),s.jsx(Ot,{children:s.jsx("div",{className:"p-6",children:s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"S.No"}),s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{children:"Description"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Created At"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:e.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No categories found"})}):e.map((T,M)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"font-medium",children:M+1}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[T.image?s.jsx("img",{src:_n(T.image),alt:T.name,className:"w-10 h-10 object-cover rounded-lg flex-shrink-0",onError:$=>{$.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAzMkMyNy4zMTM3IDMyIDMwIDI5LjMxMzcgMzAgMjZDMzAgMjIuNjg2MyAyNy4zMTM3IDIwIDI0IDIwQzIwLjY4NjMgMjAgMTggMjIuNjg2MyAxOCAyNkMxOCAyOS4zMTM3IDIwLjY4NjMgMzIgMjQgMzJaIiBmaWxsPSIjOUI5Q0E0Ii8+CjxwYXRoIGQ9Ik0xMiA0MEMxMiA0MCAxNiAzNCAyNCAzNEMzMiAzNCAzNiA0MCAzNiA0MEgxMloiIGZpbGw9IiM5QjlDQTQiLz4KPC9zdmc+"}}):s.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Wf,{className:"w-5 h-5 text-gray-400"})}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:T.name})]})}),s.jsx(Ae,{children:T.description||"N/A"}),s.jsx(Ae,{children:s.jsx(wt,{variant:T.isActive?"success":"danger",children:T.isActive?"Active":"Inactive"})}),s.jsx(Ae,{children:T.createdAt?new Date(T.createdAt).toLocaleDateString():"N/A"}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[sr("edit_vendors")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>L(T),title:"Edit",children:s.jsx(ls,{className:"w-4 h-4"})}),sr("edit_vendors")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>{m(T),d(!0)},title:"Delete",children:s.jsx(Xr,{className:"w-4 h-4 text-red-600"})})]})})]},T._id))})]})})}),s.jsx(kt,{isOpen:a,onClose:()=>{P||(i(!1),v({name:"",description:"",isActive:!0,image:null}),j(null),S(null))},title:"Create Vendor Category",size:"md",children:s.jsxs("form",{onSubmit:I,className:"space-y-4",children:[s.jsx(He,{label:"Category Name",value:p.name,onChange:T=>v({...p,name:T.target.value}),disabled:P,required:!0,placeholder:"e.g., Wedding Venues, Catering, Photography"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),s.jsx("textarea",{value:p.description,onChange:T=>v({...p,description:T.target.value}),disabled:P,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"Optional description"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[x?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:x,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),s.jsx("button",{type:"button",onClick:F,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(dr,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[s.jsx(Wf,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"No image selected"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:C,disabled:P,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Recommended: Square image, max 5MB"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:p.isActive,onChange:T=>v({...p,isActive:T.target.checked}),disabled:P,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium",children:"Active (visible in registration)"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(we,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:P,children:"Cancel"}),s.jsx(we,{type:"submit",disabled:P,children:P?"Creating...":"Create Category"})]})]})}),s.jsx(kt,{isOpen:o,onClose:()=>{P||(l(!1),m(null),v({name:"",description:"",isActive:!0,image:null}),j(null),S(null))},title:"Edit Vendor Category",size:"md",children:s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsx(He,{label:"Category Name",value:p.name,onChange:T=>v({...p,name:T.target.value}),disabled:P,required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),s.jsx("textarea",{value:p.description,onChange:T=>v({...p,description:T.target.value}),disabled:P,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[x?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:x,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),s.jsx("button",{type:"button",onClick:F,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(dr,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[s.jsx(Wf,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"No image selected"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:C,disabled:P,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Recommended: Square image, max 5MB"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActiveEdit",checked:p.isActive,onChange:T=>v({...p,isActive:T.target.checked}),disabled:P,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),s.jsx("label",{htmlFor:"isActiveEdit",className:"text-sm font-medium",children:"Active (visible in registration)"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(we,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:P,children:"Cancel"}),s.jsx(we,{type:"submit",disabled:P,children:P?"Updating...":"Update Category"})]})]})}),s.jsx(kt,{isOpen:u,onClose:()=>{P||(d(!1),m(null))},title:"Delete Category",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Are you sure you want to delete ",s.jsx("strong",{children:f?.name}),"? This action cannot be undone."]}),s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Note: You cannot delete a category if any vendors are using it."}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>d(!1),disabled:P,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:_,disabled:P,children:P?"Deleting...":"Delete"})]})]})})]})},Uke=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState("all"),[o,l]=g.useState(null),[u,d]=g.useState(!1),[f,m]=g.useState(!1),[p,v]=g.useState(0),[x,j]=g.useState(!1),[w,S]=g.useState(1),P=10,[k,R]=g.useState({vendorId:"",name:"",address:"",city:"",state:"",price:"",capacity:"",description:"",categoryId:"",menuId:"",subMenuId:"",amenities:[],highlights:[],rooms:"",openTime:"",closeTime:"",openDays:[]}),[I,L]=g.useState(null),[E,C]=g.useState([]),[F,_]=g.useState([]),[T,M]=g.useState([]),[$,J]=g.useState(null),[q,U]=g.useState([]),[X,B]=g.useState([]),[Z,ne]=g.useState([]),[W,z]=g.useState([]),[pe,oe]=g.useState([]),[Pe,ke]=g.useState([]),[fe,ue]=g.useState(!1),re=["Parking","AC","WiFi","Catering","Decoration","Sound System","Stage","Dance Floor","Photography","Videography","Bridal Room","Groom Room","Garden","Pool","Bar"],K=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];g.useEffect(()=>{de(),te(),ye(),ae(),be()},[a]),g.useEffect(()=>{k.state&&k.state.trim()?he(k.state):ke([])},[k.state]),g.useEffect(()=>{k.menuId?ee(k.menuId):(z([]),k.subMenuId&&R(se=>({...se,subMenuId:""})))},[k.menuId]);const de=async()=>{try{const se=a!=="all"?{status:a}:{},_e=await Al.getAll(se);t(_e.data||[])}catch{G.error("Failed to load venues")}finally{n(!1)}},te=async()=>{try{const se=await No.getAll();U(se.data||[])}catch(se){console.error("Failed to load vendors:",se),U([])}},ye=async()=>{try{const se=await wd.getAll(),_e=se.data?.categories||se.data?.data||se.data||[];B(Array.isArray(_e)?_e:[])}catch(se){console.error("Failed to load categories:",se),B([])}},ae=async()=>{try{const se=await Xa.getAll({active:"all"});let _e=[];se&&se.data&&(se.data.menus&&Array.isArray(se.data.menus)?_e=se.data.menus:Array.isArray(se.data)?_e=se.data:se.data.success&&se.data.menus&&(_e=se.data.menus));const Ye=Array.isArray(_e)?_e.map(Rt=>({...Rt,_id:String(Rt._id||Rt.id||""),id:String(Rt._id||Rt.id||"")})):[];ne(Ye)}catch(se){console.error("Failed to load menus:",se),ne([])}},ee=async se=>{if(!se){z([]);return}try{const _e=await Xa.getAll({parentMenuId:se,active:"all"}),Ye=_e.data?.menus||_e.data||[],Rt=Array.isArray(Ye)?Ye.map(Lt=>({...Lt,_id:String(Lt._id||Lt.id||""),id:String(Lt._id||Lt.id||"")})):[];z(Rt)}catch(_e){console.error("Failed to load submenus:",_e),z([])}},be=async()=>{try{const se=await Al.getStates();se.data?.success&&se.data?.states||se.data?.states?oe(se.data.states):oe([])}catch(se){console.error("Failed to load states:",se),oe([])}},he=async se=>{if(!se||!se.trim()){ke([]);return}try{ue(!0);const _e=await Al.getCities(se.trim());_e.data?.success&&_e.data?.cities?(ke(_e.data.cities),k.city&&!_e.data.cities.some(Ye=>Ye.toLowerCase()===k.city.toLowerCase())&&R(Ye=>({...Ye,city:""}))):_e.data?.cities?ke(_e.data.cities):ke([])}catch(_e){console.error("Failed to load cities:",_e),ke([])}finally{ue(!1)}},xe=se=>{const{name:_e,value:Ye}=se.target;if(_e==="state")R({...k,[_e]:Ye,city:""});else if(_e==="menuId"){const Rt=Ye?String(Ye):"";R({...k,[_e]:Rt,subMenuId:""}),Rt?ee(Rt):z([])}else R({...k,[_e]:Ye})},Be=se=>{R({...k,amenities:k.amenities.includes(se)?k.amenities.filter(_e=>_e!==se):[...k.amenities,se]})},ut=se=>{R({...k,openDays:k.openDays.includes(se)?k.openDays.filter(_e=>_e!==se):[...k.openDays,se]})},_t=se=>{const _e=Array.from(se.target.files);C([...E,..._e])},je=se=>{const _e=Array.from(se.target.files);_([...F,..._e])},De=()=>{const se=document.getElementById("videoUrlInput");if(se&&se.value.trim()){const _e=se.value.trim();try{new URL(_e),M([...T,_e]),se.value=""}catch{G.error("Please enter a valid URL")}}},rt=se=>{_(F.filter((_e,Ye)=>Ye!==se))},xt=se=>{M(T.filter((_e,Ye)=>Ye!==se))},Qe=()=>{R({vendorId:"",name:"",address:"",city:"",state:"",price:"",capacity:"",description:"",categoryId:"",menuId:"",subMenuId:"",amenities:[],highlights:[],rooms:"",openTime:"",closeTime:"",openDays:[]}),L(null),C([]),_([]),M([]),v(0)},jt=async se=>{se.preventDefault(),j(!0);try{if(!k.vendorId){G.error("Please select a vendor"),j(!1);return}if(!k.name||!k.name.trim()){G.error("Venue name is required"),j(!1);return}if(!k.capacity||k.capacity<=0){G.error("Capacity is required and must be greater than 0"),j(!1);return}if(!k.state||!k.state.trim()){G.error("State is required"),j(!1);return}if(!k.city||!k.city.trim()){G.error("City is required"),j(!1);return}const _e=new FormData;_e.append("vendorId",k.vendorId),_e.append("name",k.name.trim()),_e.append("capacity",k.capacity.toString());const Ye={address:k.address||"",city:k.city||"",state:k.state||""};_e.append("location",JSON.stringify(Ye)),_e.append("price",k.price||"0"),_e.append("description",k.description||""),k.categoryId&&_e.append("categoryId",k.categoryId),_e.append("menuId",k.menuId||""),_e.append("subMenuId",k.subMenuId||""),k.amenities&&k.amenities.length>0&&k.amenities.forEach(Lt=>_e.append("amenities",Lt)),k.highlights&&k.highlights.length>0&&k.highlights.filter(Lt=>Lt.trim()).forEach(Lt=>_e.append("highlights",Lt.trim())),k.rooms!==void 0&&k.rooms!==""&&_e.append("rooms",k.rooms.toString());const Rt={status:"Open",openTime:k.openTime||"",closeTime:k.closeTime||"",openDays:k.openDays||[]};_e.append("availability",JSON.stringify(Rt)),E&&E.length>0&&E.forEach(Lt=>_e.append("gallery",Lt)),F&&F.length>0&&F.forEach(Lt=>_e.append("videos",Lt)),T&&T.length>0&&T.forEach(Lt=>_e.append("videos",Lt)),_e.append("status","approved"),await Al.create(_e),G.success("Venue added successfully!"),m(!1),Qe(),de()}catch(_e){console.error("Save venue error:",_e);const Ye=_e.response?.data?.error||_e.response?.data?.message||_e.message||"Failed to save venue";G.error(Ye)}finally{j(!1)}},Xe=async(se,_e=!1)=>{if(!_e){const Ye=e.find(Rt=>Rt._id===se);l({id:se,name:Ye?.name,type:"approve"});return}d(!0);try{await Al.approve(se),G.success("Venue approved successfully"),de()}catch{G.error("Failed to approve venue")}finally{d(!1),l(null)}},ce=async(se,_e=!1)=>{if(!_e){const Ye=e.find(Rt=>Rt._id===se);l({id:se,name:Ye?.name,type:"reject"});return}d(!0);try{await Al.reject(se),G.success("Venue rejected"),de()}catch{G.error("Failed to reject venue")}finally{d(!1),l(null)}},Fe=async(se,_e)=>{try{await Al.updateButtonSettings(se,{bookingButtonEnabled:!_e}),G.success(`Booking button ${_e?"disabled":"enabled"}`),de()}catch{G.error("Failed to update booking button setting")}},Ve=async(se,_e)=>{try{await Al.updateButtonSettings(se,{leadsButtonEnabled:!_e}),G.success(`Leads button ${_e?"disabled":"enabled"}`),de()}catch{G.error("Failed to update leads button setting")}},It=se=>{if(!se)return"N/A";if(typeof se=="string")return se;if(typeof se=="object"){const _e=[];return se.address&&_e.push(se.address),se.city&&_e.push(se.city),se.state&&_e.push(se.state),se.pincode&&_e.push(se.pincode),_e.length>0?_e.join(", "):"N/A"}return"N/A"},Le=se=>{if(!se)return"N/A";if(typeof se=="number")return se.toString();if(typeof se=="object"){if(se.minGuests&&se.maxGuests)return`${se.minGuests} - ${se.maxGuests}`;if(se.maxGuests)return se.maxGuests.toString();if(se.minGuests)return se.minGuests.toString()}return"N/A"},$e=a==="all"?e:e.filter(se=>se.status===a),Bt=$e.length,Ut=Math.ceil(Bt/P),mr=(w-1)*P,Tt=mr+P,et=$e.slice(mr,Tt);return g.useEffect(()=>{S(1)},[a]),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Venues"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all venues"})]}),s.jsxs("div",{className:"flex gap-2",children:[sr("create_venues")&&s.jsxs(we,{onClick:()=>m(!0),children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add Venue"]}),s.jsxs("select",{value:a,onChange:se=>i(se.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Venues: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:Bt})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:et.length===0?s.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No venues found"}):et.map((se,_e)=>s.jsxs(Ot,{className:"overflow-hidden relative",children:[s.jsx("span",{className:"absolute top-3 left-3 z-10 px-2 py-1 rounded-md text-xs font-semibold bg-white/80 dark:bg-gray-800/80 text-gray-700 dark:text-gray-200",children:mr+_e+1}),s.jsx("div",{className:"h-48 bg-gradient-primary flex items-center justify-center",children:se.images&&se.images.length>0?s.jsx("img",{src:_n(se.images[0]),alt:se.name,className:"w-full h-full object-cover",onError:Ye=>{Ye.target.style.display="none"}}):se.coverImage?s.jsx("img",{src:_n(se.coverImage),alt:se.name,className:"w-full h-full object-cover",onError:Ye=>{Ye.target.style.display="none"}}):s.jsx(bs,{className:"w-16 h-16 text-white opacity-50"})}),s.jsxs(gn,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:se.name}),s.jsx(wt,{variant:se.status==="approved"?"success":se.status==="pending"?"warning":"danger",children:se.status})]}),(se.vendorId||se.vendor)&&s.jsxs("div",{className:"mb-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(la,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Vendor:"}),s.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:se.vendorId?.name||se.vendor?.name||se.vendorId?.email||se.vendor?.email||"N/A"})]}),se.vendorId?.email||se.vendor?.email?s.jsx("div",{className:"flex items-center gap-2 text-xs mt-1 text-blue-600 dark:text-blue-400 ml-6",children:se.vendorId?.email||se.vendor?.email}):null]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(bs,{className:"w-4 h-4"}),s.jsx("span",{children:It(se.location)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(Um,{className:"w-4 h-4"}),s.jsxs("span",{children:["Capacity: ",Le(se.capacity)]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(wx,{className:"w-4 h-4"}),s.jsxs("span",{children:["",se.price?.toLocaleString()||se.pricingInfo?.rentalPrice?.toLocaleString()||"0"]})]})]}),s.jsxs("div",{className:"mb-4 space-y-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Tn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Booking Button"})]}),s.jsx("button",{onClick:()=>Fe(se._id,se.bookingButtonEnabled!==!1),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${se.bookingButtonEnabled!==!1?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${se.bookingButtonEnabled!==!1?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Qi,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Leads Button"})]}),s.jsx("button",{onClick:()=>Ve(se._id,se.leadsButtonEnabled!==!1),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${se.leadsButtonEnabled!==!1?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${se.leadsButtonEnabled!==!1?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[sr("edit_venues")&&se.status!=="approved"&&s.jsx(we,{size:"sm",onClick:()=>Xe(se._id),className:"flex-1",children:"Approve"}),sr("edit_venues")&&se.status!=="rejected"&&s.jsx(we,{size:"sm",variant:"danger",onClick:()=>ce(se._id),className:"flex-1",children:"Reject"})]})]})]},se._id))}),Bt>10&&s.jsx($n,{currentPage:w,totalPages:Ut,totalItems:Bt,itemsPerPage:P,onPageChange:S}),s.jsx(kt,{isOpen:f,onClose:()=>{x||(m(!1),Qe())},title:`Add New Venue (${p+1}/4)`,size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex space-x-2",children:[0,1,2,3].map(se=>s.jsx("div",{className:`flex-1 h-2 rounded ${se<=p?"bg-primary-600":"bg-gray-300"}`},se))}),s.jsxs("form",{onSubmit:jt,children:[p===0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vendor *"}),s.jsxs("select",{name:"vendorId",value:k.vendorId,onChange:xe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select Vendor"}),q.map(se=>s.jsxs("option",{value:se._id||se.id,children:[se.name||se.email," ",se.email?`(${se.email})`:""]},se._id||se.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue Name *"}),s.jsx("input",{type:"text",name:"name",value:k.name,onChange:xe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-md font-semibold mb-4",children:"Location *"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("input",{type:"text",name:"address",value:k.address,onChange:xe,placeholder:"Street address, building name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),s.jsxs("select",{name:"state",value:k.state,onChange:xe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select State"}),pe.map(se=>s.jsx("option",{value:se,children:se},se))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsxs("select",{name:"city",value:k.city,onChange:xe,disabled:!k.state||fe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:k.state?fe?"Loading Cities...":"Select City":"Select State First"}),Pe.map(se=>s.jsx("option",{value:se,children:se},se))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price () *"}),s.jsx("input",{type:"number",name:"price",value:k.price,onChange:xe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity *"}),s.jsx("input",{type:"number",name:"capacity",value:k.capacity,onChange:xe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{name:"description",value:k.description,onChange:xe,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),p===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Images"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gallery Images"}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:_t,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),E.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selected Images:"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:E.map((se,_e)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:URL.createObjectURL(se),alt:`Gallery ${_e+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-300"}),s.jsx("button",{type:"button",onClick:()=>C(E.filter((Ye,Rt)=>Rt!==_e)),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",children:s.jsx(dr,{className:"w-3 h-3"})})]},_e))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Videos"}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Upload video files or add video URLs (max 5 videos, 100MB per file)"}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Upload Video Files:"}),s.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:je,className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm"}),F.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selected Video Files:"}),s.jsx("div",{className:"space-y-1",children:F.map((se,_e)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate flex-1",children:se.name}),s.jsx("button",{type:"button",onClick:()=>rt(_e),className:"ml-2 text-red-500 hover:text-red-700",children:s.jsx(dr,{className:"w-4 h-4"})})]},_e))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Or Add Video URL:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{id:"videoUrlInput",type:"url",placeholder:"https://example.com/video.mp4",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm",onKeyPress:se=>{se.key==="Enter"&&(se.preventDefault(),De())}}),s.jsx("button",{type:"button",onClick:De,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition text-sm",children:"Add"})]}),T.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Video URLs:"}),s.jsx("div",{className:"space-y-1",children:T.map((se,_e)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate flex-1",children:se}),s.jsx("button",{type:"button",onClick:()=>xt(_e),className:"ml-2 text-red-500 hover:text-red-700",children:s.jsx(dr,{className:"w-4 h-4"})})]},_e))})]})]})]})]}),p===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Category & Amenities"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsxs("select",{name:"categoryId",value:k.categoryId,onChange:xe,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"No Category"}),X.map(se=>s.jsx("option",{value:se.id||se._id,children:se.name},se.id||se._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Menu"}),s.jsxs("select",{name:"menuId",value:String(k.menuId||""),onChange:xe,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"No Menu"}),Z.map(se=>{const _e=String(se._id||se.id||"");return s.jsx("option",{value:_e,children:se.name},_e)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Submenu"}),s.jsxs("select",{name:"subMenuId",value:String(k.subMenuId||""),onChange:xe,disabled:!k.menuId,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:k.menuId?W.length===0?"No Submenus Available":"Select Submenu":"Select Menu First"}),W.map(se=>{const _e=String(se._id||se.id||"");return s.jsx("option",{value:_e,children:se.name},_e)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:re.map(se=>s.jsx("button",{type:"button",onClick:()=>Be(se),className:`px-3 py-1 rounded-full text-sm font-medium transition ${k.amenities.includes(se)?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:se},se))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Highlights"}),s.jsxs("div",{className:"space-y-2",children:[(k.highlights||[]).map((se,_e)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:se,onChange:Ye=>{const Lt=[...k.highlights||[]];Lt[_e]=Ye.target.value,R({...k,highlights:Lt})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter highlight"}),s.jsx("button",{type:"button",onClick:()=>{const Rt=(k.highlights||[]).filter((Lt,Gr)=>Gr!==_e);R({...k,highlights:Rt})},className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:s.jsx(dr,{className:"w-4 h-4"})})]},_e)),s.jsx("button",{type:"button",onClick:()=>R({...k,highlights:[...k.highlights||[],""]}),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"+ Add Highlight"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Rooms"}),s.jsx("input",{type:"number",name:"rooms",value:k.rooms,onChange:xe,min:"0",placeholder:"Enter number of rooms",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h4",{className:"text-md font-semibold mb-4",children:"Availability & Timing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opening Time"}),s.jsx("input",{type:"time",name:"openTime",value:k.openTime,onChange:xe,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Closing Time"}),s.jsx("input",{type:"time",name:"closeTime",value:k.closeTime,onChange:xe,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Open Days"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:K.map(se=>s.jsx("button",{type:"button",onClick:()=>ut(se),className:`px-3 py-1 rounded-full text-sm font-medium transition ${k.openDays.includes(se)?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:se},se))})]})]})]}),p===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Review & Submit"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Vendor:"}),s.jsx("span",{className:"font-medium",children:q.find(se=>(se._id||se.id)===k.vendorId)?.name||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Venue Name:"}),s.jsx("span",{className:"font-medium",children:k.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Location:"}),s.jsx("span",{className:"font-medium",children:`${k.address||""}${k.address&&k.city?", ":""}${k.city||""}${(k.address||k.city)&&k.state?", ":""}${k.state||""}`.trim()||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Price:"}),s.jsxs("span",{className:"font-medium",children:["",k.price]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Capacity:"}),s.jsxs("span",{className:"font-medium",children:[k.capacity," guests"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Category:"}),s.jsx("span",{className:"font-medium",children:k.categoryId?X.find(se=>(se.id||se._id)===k.categoryId)?.name||"N/A":"No Category"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Amenities:"}),s.jsxs("span",{className:"font-medium",children:[k.amenities.length," selected"]})]}),(k.openTime||k.closeTime)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Timing:"}),s.jsxs("span",{className:"font-medium",children:[k.openTime||"N/A"," - ",k.closeTime||"N/A"]})]}),k.openDays.length>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Open Days:"}),s.jsx("span",{className:"font-medium",children:k.openDays.join(", ")})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Status:"}),s.jsxs("span",{className:"inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[s.jsx(Ql,{className:"w-3 h-3"}),s.jsx("span",{children:"Approved (Admin Created)"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>{p>0?v(p-1):(m(!1),Qe())},className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",disabled:x,children:p===0?"Cancel":"Previous"}),p<3?s.jsx("button",{type:"button",onClick:()=>v(p+1),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"Next"}):s.jsx("button",{type:"submit",disabled:x,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50",children:x?"Submitting...":"Submit"})]})]})]})}),s.jsx(kt,{isOpen:!!o,onClose:()=>{u||l(null)},title:o?.type==="approve"?"Approve Venue":"Reject Venue",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-700 dark:text-gray-200",children:o?.type==="approve"?`Approve ${o?.name||"this venue"}?`:`Reject ${o?.name||"this venue"}?`}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>l(null),disabled:u,children:"Cancel"}),s.jsx(we,{variant:o?.type==="approve"?"secondary":"danger",onClick:()=>o?.type==="approve"?Xe(o.id,!0):ce(o.id,!0),disabled:u,children:u?"Please wait...":o?.type==="approve"?"Approve":"Reject"})]})]})})]})},Wke=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(null),[o,l]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState(""),[p,v]=g.useState(""),[x,j]=g.useState("all"),[w,S]=g.useState(null),[P,k]=g.useState(!1),[R,I]=g.useState(""),[L,E]=g.useState(1),C=10;g.useEffect(()=>{F()},[x]);const F=async()=>{try{n(!0);const z=x!=="all"?{status:x}:{},pe=await Hg.getAll(z);t(pe.data?.bookings||pe.data||[])}catch{G.error("Failed to load bookings")}finally{n(!1)}},_=async()=>{if(!(!a||!f))try{n(!0);const z=await Hg.updateStatus(a._id,f);console.log("Status update response:",z),z.data?.success||z.data?.message?G.success(z.data?.message||"Booking status updated successfully"):G.success("Booking status updated successfully"),d(!1),await F()}catch(z){console.error("Status update error:",z),console.error("Error response:",z.response);const pe=z.response?.data?.error||z.response?.data?.message||z.message||"Failed to update status";G.error(pe)}finally{n(!1)}},T=async(z,pe=!1)=>{const oe=typeof z=="object"?z:e.find(ke=>ke._id===z),Pe=oe?._id||z;if(!pe){S({id:Pe,type:"approve",venue:oe?.venueId?.name,customer:oe?.customerId?.name||oe?.customerName}),I("");return}k(!0);try{n(!0);const ke=await Hg.approve(Pe);console.log("Approve response:",ke),ke.data?.success||ke.data?.message?G.success(ke.data?.message||"Booking approved successfully"):G.success("Booking approved successfully"),await F()}catch(ke){console.error("Approve error:",ke),console.error("Error response:",ke.response);const fe=ke.response?.data?.error||ke.response?.data?.message||ke.message||"Failed to approve booking";G.error(fe)}finally{n(!1),k(!1),S(null)}},M=async(z,pe=!1)=>{const oe=typeof z=="object"?z:e.find(ke=>ke._id===z),Pe=oe?._id||z;if(!pe){S({id:Pe,type:"reject",venue:oe?.venueId?.name,customer:oe?.customerId?.name||oe?.customerName}),I("");return}if(!R.trim()){G.error("Rejection reason is required");return}k(!0);try{n(!0);const ke=await Hg.reject(Pe,R.trim());console.log("Reject response:",ke),ke.data?.success||ke.data?.message?G.success(ke.data?.message||"Booking rejected successfully"):G.success("Booking rejected successfully"),await F()}catch(ke){console.error("Reject error:",ke),console.error("Error response:",ke.response);const fe=ke.response?.data?.error||ke.response?.data?.message||ke.message||"Failed to reject booking";G.error(fe)}finally{n(!1),k(!1),S(null)}},$=z=>{i(z),m(z.status),d(!0)},J=z=>{i(z),l(!0)},q=z=>{switch(z?.toLowerCase()){case"pending":return"warning";case"confirmed":case"approved":return"success";case"rejected":case"cancelled":return"danger";case"completed":return"info";default:return"default"}},U=e.filter(z=>z._id?.toLowerCase().includes(p.toLowerCase())||z.customerId?.name?.toLowerCase().includes(p.toLowerCase())||z.customerId?.email?.toLowerCase().includes(p.toLowerCase())||z.venueId?.name?.toLowerCase().includes(p.toLowerCase())||z.phone?.includes(p)),X=U.length,B=Math.ceil(X/C),Z=(L-1)*C,ne=Z+C,W=U.slice(Z,ne);return g.useEffect(()=>{E(1)},[p,x]),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6 w-full max-w-none mx-auto px-2 sm:px-4 md:px-6 lg:px-8 overflow-x-hidden",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Bookings"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all venue bookings"})]})}),s.jsx(Ot,{className:"w-full max-w-none",children:s.jsxs("div",{className:"p-6 space-y-4 w-full",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(He,{type:"text",placeholder:"Search bookings...",value:p,onChange:z=>v(z.target.value),className:"pl-10"})]})}),s.jsxs("select",{value:x,onChange:z=>j(z.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"completed",children:"Completed"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Bookings: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:X})]}),s.jsx("div",{className:"w-full",children:s.jsxs(Rn,{className:"w-full table-auto text-xs md:text-sm leading-tight",children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-14 text-center",children:"S.No"}),s.jsx(Oe,{children:"Booking ID"}),s.jsx(Oe,{children:"Customer"}),s.jsx(Oe,{children:"Contact"}),s.jsx(Oe,{children:"Venue"}),s.jsx(Oe,{children:"Event Type"}),s.jsx(Oe,{children:"Date"}),s.jsx(Oe,{children:"Guests"}),s.jsx(Oe,{children:"Amount"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Payment"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:W.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:12,className:"text-center py-8 text-gray-500",children:"No bookings found"})}):W.map((z,pe)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium px-2 py-2",children:Z+pe+1}),s.jsx(Ae,{className:"font-mono text-xs md:text-sm break-words px-2 py-2",children:z._id?.slice(-8)||"N/A"}),s.jsx(Ae,{className:"whitespace-normal break-words max-w-[9rem] px-2 py-2",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:z.customerId?.name||z.customerName||"N/A"}),z.personName&&s.jsxs("div",{className:"text-xs text-gray-500",children:["For: ",z.personName]})]})}),s.jsx(Ae,{className:"whitespace-normal break-words max-w-[10rem] px-2 py-2",children:z.phone&&s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(lc,{className:"w-3 h-3 shrink-0"}),s.jsx("span",{className:"truncate",children:z.phone})]})}),s.jsx(Ae,{className:"whitespace-normal break-words max-w-[9rem] px-2 py-2",children:z.venueId?.name||z.venueName||"N/A"}),s.jsx(Ae,{className:"whitespace-normal break-words max-w-[8rem] px-2 py-2",children:s.jsx("span",{className:"capitalize",children:z.eventType||"N/A"})}),s.jsx(Ae,{className:"whitespace-normal break-words max-w-[10rem] px-2 py-2",children:s.jsx("div",{className:"space-y-1",children:z.dateFrom&&z.dateTo?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(Tn,{className:"w-3 h-3"}),s.jsx("span",{className:"font-medium",children:"From:"}),s.jsx("span",{children:new Date(z.dateFrom).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"To:"}),s.jsx("span",{children:new Date(z.dateTo).toLocaleDateString()})]})]}):z.date?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Tn,{className:"w-4 h-4"}),new Date(z.date).toLocaleDateString()]}):"N/A"})}),s.jsx(Ae,{className:"whitespace-nowrap px-2 py-1 text-center",children:z.guests||z.numberOfGuests||0}),s.jsxs(Ae,{className:"whitespace-nowrap px-2 py-1 text-center",children:["",z.totalAmount?.toLocaleString()||z.amount?.toLocaleString()||0]}),s.jsx(Ae,{className:"whitespace-nowrap px-2 py-1 text-center",children:s.jsx(wt,{variant:q(z.status),children:z.status||"pending"})}),s.jsx(Ae,{className:"whitespace-nowrap px-2 py-1 text-center",children:s.jsx(wt,{variant:z.paymentStatus==="paid"?"success":"warning",children:z.paymentStatus||"pending"})}),s.jsx(Ae,{className:"whitespace-nowrap px-2 py-1 text-center",children:s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[sr("view_bookings")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>J(z),children:s.jsx(Qr,{className:"w-4 h-4"})}),sr("edit_bookings")&&!z.adminApproved&&s.jsxs(s.Fragment,{children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>T(z),className:"text-green-600 hover:text-green-700",title:"Approve Booking",children:s.jsx(Pa,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>M(z),className:"text-red-600 hover:text-red-700",title:"Reject Booking",children:s.jsx(Xl,{className:"w-4 h-4"})})]}),sr("edit_bookings")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>$(z),children:"Edit"})]})})]},z._id))})]})}),X>10&&s.jsx($n,{currentPage:L,totalPages:B,totalItems:X,itemsPerPage:C,onPageChange:E})]})}),w&&s.jsx(kt,{isOpen:!!w,onClose:()=>{P||(S(null),I(""))},title:w?.type==="approve"?"Approve Booking":"Reject Booking",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-200",children:[s.jsx("p",{children:w?.type==="approve"?`Approve booking for ${w?.customer||"customer"} at ${w?.venue||"this venue"}?`:`Reject booking for ${w?.customer||"customer"} at ${w?.venue||"this venue"}?`}),w?.type==="reject"&&s.jsxs("div",{className:"space-y-2 pt-1",children:[s.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Reason"}),s.jsx("textarea",{value:R,onChange:z=>I(z.target.value),placeholder:"Provide rejection reason",rows:3,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>S(null),disabled:P,children:"Cancel"}),s.jsx(we,{variant:w?.type==="approve"?"secondary":"danger",onClick:()=>w?.type==="approve"?T(w.id,!0):M(w.id,!0),disabled:P,children:P?"Please wait...":w?.type==="approve"?"Approve":"Reject"})]})]})}),s.jsx(kt,{isOpen:o,onClose:()=>l(!1),title:"Booking Details",children:a&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking ID"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-mono text-sm",children:a._id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(wt,{variant:q(a.status),children:a.status||"pending"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Customer Name"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.customerId?.name||a.customerName||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.customerId?.email||a.email||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Venue"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.venueId?.name||a.venueName||"N/A"})]}),a.venueId?.location&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Venue Location"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:typeof a.venueId.location=="string"?a.venueId.location:a.venueId.location?.address?`${a.venueId.location.address}, ${a.venueId.location.city||""}, ${a.venueId.location.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Dates"}),s.jsx("div",{className:"text-gray-900 dark:text-gray-100 space-y-1",children:a.dateFrom&&a.dateTo?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"From: "}),new Date(a.dateFrom).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"To: "}),new Date(a.dateTo).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}):a.date?s.jsx("div",{children:new Date(a.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}):"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Guests"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.guests||a.numberOfGuests||0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),s.jsxs("p",{className:"text-gray-900 dark:text-gray-100",children:["",a.totalAmount?.toLocaleString()||a.amount?.toLocaleString()||0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(wt,{variant:a.paymentStatus==="paid"?"success":"warning",children:a.paymentStatus||"pending"})})]}),a.paymentId&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment ID"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-mono text-sm",children:a.paymentId})]}),a.eventType&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Event Type"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 capitalize",children:a.eventType})]}),a.personName&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Person Name"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.personName})]}),a.foodPreference&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Food Preference"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 capitalize",children:a.foodPreference})]}),a.createdAt&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booked On"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:new Date(a.createdAt).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),a.notes&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1 p-2 bg-gray-50 dark:bg-gray-800 rounded",children:a.notes})]}),s.jsx("div",{className:"flex gap-2 justify-end",children:s.jsx(we,{variant:"secondary",onClick:()=>l(!1),children:"Close"})})]})}),s.jsx(kt,{isOpen:u,onClose:()=>d(!1),title:"Update Booking Status",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),s.jsxs("select",{value:f,onChange:z=>m(z.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"completed",children:"Completed"})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(we,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"}),s.jsx(we,{onClick:_,children:"Update Status"})]})]})})]})},Hke=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(null),[o,l]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState(""),[p,v]=g.useState(""),[x,j]=g.useState("all"),[w,S]=g.useState(null),[P,k]=g.useState(!1),[R,I]=g.useState(""),[L,E]=g.useState(1),C=10;g.useEffect(()=>{F()},[x]);const F=async()=>{try{n(!0);const ne=x!=="all"?{status:x}:{},W=await Xw.getAll(ne);t(W.data?.leads||[])}catch{G.error("Failed to load leads")}finally{n(!1)}},_=async()=>{if(!(!a||!f))try{await Xw.updateStatus(a._id,{status:f,notes:p}),G.success("Lead status updated"),d(!1),v(""),F()}catch{G.error("Failed to update status")}},T=async(ne,W=!1)=>{if(!W){S({type:"convert",id:ne._id,name:ne.name||ne.customerId?.name}),I("");return}try{k(!0);const z=await Xw.convertToBooking(ne._id,R?.trim()||null);G.success(z.data?.message||"Lead converted to booking successfully"),F()}catch(z){G.error(z.response?.data?.message||"Failed to convert lead to booking")}finally{k(!1),S(null),I("")}},M=ne=>{i(ne),m(ne.status),v(ne.notes||""),d(!0)},$=ne=>{i(ne),l(!0)},J=ne=>{switch(ne){case"new":return"warning";case"contacted":return"info";case"qualified":return"success";case"converted":return"success";case"lost":return"danger";default:return"default"}},q=e.length,U=Math.ceil(q/C),X=(L-1)*C,B=X+C,Z=e.slice(X,B);return g.useEffect(()=>{E(1)},[x]),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Leads"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all customer inquiries and leads"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("select",{value:x,onChange:ne=>j(ne.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"new",children:"New"}),s.jsx("option",{value:"contacted",children:"Contacted"}),s.jsx("option",{value:"qualified",children:"Qualified"}),s.jsx("option",{value:"converted",children:"Converted"}),s.jsx("option",{value:"lost",children:"Lost"})]})})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Leads: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:q})]}),s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsxs(Rn,{className:"min-w-full table-auto",children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{className:"min-w-[80px]",children:"Lead ID"}),s.jsx(Oe,{className:"min-w-[120px]",children:"Customer"}),s.jsx(Oe,{className:"min-w-[100px]",children:"Contact"}),s.jsx(Oe,{className:"min-w-[150px]",children:"Venue"}),s.jsx(Oe,{className:"min-w-[140px] max-w-[160px]",children:"Date"}),s.jsx(Oe,{className:"w-20 text-center",children:"Guests"}),s.jsx(Oe,{className:"min-w-[100px]",children:"Status"}),s.jsx(Oe,{className:"min-w-[90px]",children:"Source"}),s.jsx(Oe,{className:"min-w-[120px]",children:"Actions"})]})}),s.jsx(Fn,{children:Z.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:10,className:"text-center py-8 text-gray-500",children:"No leads found"})}):Z.map((ne,W)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:X+W+1}),s.jsx(Ae,{className:"font-mono text-sm whitespace-nowrap",children:ne._id.slice(-8)}),s.jsx(Ae,{children:s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate",title:ne.name||ne.customerId?.name||"N/A",children:ne.name||ne.customerId?.name||"N/A"}),ne.personName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",title:`For: ${ne.personName}`,children:["For: ",ne.personName]})]})}),s.jsx(Ae,{children:ne.phone&&s.jsxs("div",{className:"flex items-center gap-1 text-sm whitespace-nowrap",children:[s.jsx(lc,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:ne.phone})]})}),s.jsx(Ae,{children:s.jsx("div",{className:"truncate max-w-[150px]",title:ne.venueId?.name||"N/A",children:ne.venueId?.name||"N/A"})}),s.jsx(Ae,{className:"max-w-[160px]",children:s.jsx("div",{className:"space-y-0.5 text-xs",children:ne.dateFrom&&ne.dateTo?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[s.jsx(Tn,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-[10px]",children:"From:"}),s.jsx("span",{className:"truncate",children:new Date(ne.dateFrom).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-600 whitespace-nowrap",children:[s.jsx("span",{className:"font-medium text-[10px]",children:"To:"}),s.jsx("span",{className:"truncate",children:new Date(ne.dateTo).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}):ne.date?s.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[s.jsx(Tn,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:new Date(ne.date).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})})]}):"N/A"})}),s.jsx(Ae,{className:"text-center whitespace-nowrap",children:ne.guests||0}),s.jsx(Ae,{children:s.jsx(wt,{variant:J(ne.status),children:ne.status})}),s.jsx(Ae,{children:s.jsx(wt,{variant:ne.source==="booking"?"success":"default",children:ne.source||"inquiry"})}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex gap-2 whitespace-nowrap",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>$(ne),title:"View Details",children:s.jsx(Qr,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>M(ne),title:"Edit Status",children:"Edit"}),!ne.bookingId&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>T(ne),className:"text-green-600 hover:text-green-700",title:"Convert to Booking",children:s.jsx(im,{className:"w-4 h-4"})})]})})]},ne._id))})]})}),q>10&&s.jsx($n,{currentPage:L,totalPages:U,totalItems:q,itemsPerPage:C,onPageChange:E})]})}),s.jsx(kt,{isOpen:!!w,onClose:()=>{P||S(null)},title:"Convert Lead to Booking",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Convert lead ",w?.name?`"${w.name}"`:""," to booking?"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment ID (optional)"}),s.jsx(He,{type:"text",value:R,onChange:ne=>I(ne.target.value),placeholder:"Razorpay Payment ID"})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>S(null),disabled:P,children:"Cancel"}),s.jsx(we,{variant:"secondary",onClick:()=>T({_id:w?.id},!0),disabled:P,children:P?"Please wait...":"Convert"})]})]})}),s.jsx(kt,{isOpen:o,onClose:()=>l(!1),title:"Lead Details",children:a&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.name||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.email||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx(wt,{variant:J(a.status),children:a.status})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Venue"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.venueId?.name||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Dates"}),s.jsx("div",{className:"text-gray-900 dark:text-gray-100 space-y-1",children:a.dateFrom&&a.dateTo?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"From: "}),new Date(a.dateFrom).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"To: "}),new Date(a.dateTo).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}):a.date?s.jsx("div",{children:new Date(a.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}):"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Guests"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.guests||0})]}),a.marriageFor&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Marriage For"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.marriageFor})]}),a.personName&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Person Name"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.personName})]}),a.eventType&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Event Type"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 capitalize",children:a.eventType})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Food Preference"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 capitalize",children:a.foodPreference||"both"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Source"}),s.jsx(wt,{variant:a.source==="booking"?"success":"default",children:a.source||"inquiry"})]})]}),a.notes&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1 p-2 bg-gray-50 dark:bg-gray-800 rounded",children:a.notes})]}),a.bookingId&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Linked Booking"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-mono text-sm",children:a.bookingId})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[!a.bookingId&&s.jsxs(we,{variant:"default",onClick:()=>{l(!1),T(a)},className:"bg-green-600 hover:bg-green-700",children:[s.jsx(im,{className:"w-4 h-4 mr-2"}),"Convert to Booking"]}),s.jsx(we,{variant:"secondary",onClick:()=>l(!1),children:"Close"})]})]})}),s.jsx(kt,{isOpen:u,onClose:()=>d(!1),title:"Update Lead Status",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),s.jsxs("select",{value:f,onChange:ne=>m(ne.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"new",children:"New"}),s.jsx("option",{value:"contacted",children:"Contacted"}),s.jsx("option",{value:"qualified",children:"Qualified"}),s.jsx("option",{value:"converted",children:"Converted"}),s.jsx("option",{value:"lost",children:"Lost"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),s.jsx("textarea",{value:p,onChange:ne=>v(ne.target.value),rows:4,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",placeholder:"Add notes about this lead..."})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(we,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"}),s.jsx(we,{onClick:_,children:"Update Status"})]})]})})]})},qke=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0);g.useEffect(()=>{a()},[]);const a=async()=>{try{const l=await c_.getAll();t(l.data||[])}catch{G.error("Failed to load payouts")}finally{n(!1)}},i=async l=>{if(window.confirm("Mark this payout as completed?"))try{await c_.markCompleted(l),G.success("Payout marked as completed"),a()}catch{G.error("Failed to update payout")}},o=e.map(l=>({vendor:l.vendorId?.name?.slice(0,10)||"N/A",commission:l.commission||0,payout:l.amount||0}));return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Payouts"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage vendor payouts"})]}),s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsx(ms,{children:"Commission vs Payout"})}),s.jsx(gn,{children:s.jsx(Vi,{width:"100%",height:300,children:s.jsxs(sx,{data:o,children:[s.jsx(Hl,{strokeDasharray:"3 3"}),s.jsx(ql,{dataKey:"vendor"}),s.jsx(Gl,{}),s.jsx(Ui,{}),s.jsx(Ul,{}),s.jsx(rh,{dataKey:"commission",fill:"#8F61EF",name:"Commission"}),s.jsx(rh,{dataKey:"payout",fill:"#F9A826",name:"Payout"})]})})})]}),s.jsx(Ot,{children:s.jsx("div",{className:"p-6",children:s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"Vendor"}),s.jsx(Oe,{children:"Amount"}),s.jsx(Oe,{children:"Commission"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Date"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:e.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No payouts found"})}):e.map(l=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"font-medium",children:l.vendorId?.name||"N/A"}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wx,{className:"w-4 h-4"}),"",l.amount?.toLocaleString()||0]})}),s.jsxs(Ae,{children:["",l.commission?.toLocaleString()||0]}),s.jsx(Ae,{children:s.jsx(wt,{variant:l.payment_status==="completed"?"success":l.payment_status==="pending"?"warning":"default",children:l.payment_status||"pending"})}),s.jsx(Ae,{children:new Date(l.createdAt).toLocaleDateString()}),s.jsx(Ae,{children:l.payment_status!=="completed"&&s.jsxs(we,{size:"sm",onClick:()=>i(l._id),children:[s.jsx(Ql,{className:"w-4 h-4 mr-1"}),"Mark Complete"]})})]},l._id))})]})})})]})},VR=["#8F61EF","#F9A826","#10B981","#EF4444","#3B82F6"],Gke=()=>{const[e,t]=g.useState({monthlyRevenue:[],bookingsTrend:[],topVendors:[],cityWise:[]}),[r,n]=g.useState(!0);g.useEffect(()=>{a()},[]);const a=async()=>{try{const i=await nce.getAnalytics();t(i.data||{monthlyRevenue:[],bookingsTrend:[],topVendors:[],cityWise:[]})}catch{G.error("Failed to load analytics")}finally{n(!1)}};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Analytics"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Detailed insights and reports"})]}),s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsx(ms,{children:"Monthly Revenue Trend"})}),s.jsx(gn,{children:s.jsx(Vi,{width:"100%",height:300,children:s.jsxs(r8,{data:e.monthlyRevenue,children:[s.jsx(Hl,{strokeDasharray:"3 3"}),s.jsx(ql,{dataKey:"month"}),s.jsx(Gl,{}),s.jsx(Ui,{}),s.jsx(Ul,{}),s.jsx(mA,{type:"monotone",dataKey:"revenue",stroke:"#8F61EF",strokeWidth:2})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsx(ms,{children:"Bookings Trend"})}),s.jsx(gn,{children:s.jsx(Vi,{width:"100%",height:300,children:s.jsxs(sx,{data:e.bookingsTrend,children:[s.jsx(Hl,{strokeDasharray:"3 3"}),s.jsx(ql,{dataKey:"month"}),s.jsx(Gl,{}),s.jsx(Ui,{}),s.jsx(Ul,{}),s.jsx(rh,{dataKey:"bookings",fill:"#F9A826"})]})})})]}),s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsx(ms,{children:"Top 5 Vendors Performance"})}),s.jsx(gn,{children:s.jsx(Vi,{width:"100%",height:300,children:s.jsxs(sx,{data:e.topVendors,layout:"vertical",children:[s.jsx(Hl,{strokeDasharray:"3 3"}),s.jsx(ql,{type:"number"}),s.jsx(Gl,{dataKey:"name",type:"category",width:100}),s.jsx(Ui,{}),s.jsx(Ul,{}),s.jsx(rh,{dataKey:"revenue",fill:"#10B981"})]})})})]})]}),s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsx(ms,{children:"City-wise Demand"})}),s.jsx(gn,{children:s.jsx(Vi,{width:"100%",height:300,children:s.jsxs(xA,{children:[s.jsx(S0,{data:e.cityWise,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:o})=>`${i} ${(o*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.cityWise.map((i,o)=>s.jsx(_u,{fill:VR[o%VR.length]},`cell-${o}`))}),s.jsx(Ui,{})]})})})]})]})},Kke=()=>{const[e,t]=g.useState({name:"",email:""}),[r,n]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,i]=g.useState(q2()),[o,l]=g.useState(!1),[u,d]=g.useState({razorpayKeyId:"",razorpayKeySecret:""}),[f,m]=g.useState(!1),[p,v]=g.useState(!1),[x,j]=g.useState({googleMapsApiKey:""}),[w,S]=g.useState(!1),[P,k]=g.useState(!1),[R,I]=g.useState({smtpUsername:"",smtpPassword:"",smtpHost:"",mailDriver:"",smtpPort:"",smtpSecurity:"",smtpAuthDomain:"",smtpAddress:"",emailFromAddress:"",emailFromName:"",replyEmailAddress:"",replyEmailName:"",adminNotificationEmail:""}),[L,E]=g.useState(!1),[C,F]=g.useState(!1),[_,T]=g.useState("privacy-policy"),[M,$]=g.useState({title:"",content:"",isActive:!0}),[J,q]=g.useState(!1),[U,X]=g.useState(!1),[B,Z]=g.useState(null),[ne,W]=g.useState(!1);g.useEffect(()=>{z(),re(),de(),ye(),ae()},[_]);const z=async()=>{try{const he=await Xc.getProfile();t(he.data||{})}catch{G.error("Failed to load profile")}},pe=async he=>{he.preventDefault(),l(!0);try{await Xc.updateProfile(e),G.success("Profile updated successfully")}catch{G.error("Failed to update profile")}finally{l(!1)}},oe=async he=>{if(he.preventDefault(),r.newPassword!==r.confirmPassword){G.error("Passwords do not match");return}l(!0);try{await Xc.changePassword({currentPassword:r.currentPassword,newPassword:r.newPassword}),G.success("Password changed successfully"),n({currentPassword:"",newPassword:"",confirmPassword:""})}catch{G.error("Failed to change password")}finally{l(!1)}},Pe=()=>{const he=a==="light"?"dark":"light";G2(he),i(he),G.success(`Theme changed to ${he}`)},ke=async()=>{try{await Xc.logout(),localStorage.removeItem("admin_token"),G.success("Logged out successfully"),window.location.href="/login"}catch{localStorage.removeItem("admin_token"),window.location.href="/login"}},fe=()=>{Z({type:"delete-account"})},ue=async()=>{B?.type==="delete-account"&&(W(!0),G.error("Account deletion not implemented"),W(!1),Z(null))},re=async()=>{try{const he=await u_.get();he.data?.config&&d({razorpayKeyId:he.data.config.razorpayKeyId||"",razorpayKeySecret:""})}catch(he){console.error("Failed to load payment config:",he)}},K=async he=>{if(he.preventDefault(),!u.razorpayKeyId||!u.razorpayKeySecret){G.error("Project Code and Secret are required");return}v(!0);try{const xe=await u_.update(u);xe.data?.success?(G.success("Payment configuration updated successfully"),d({...u,razorpayKeySecret:""}),m(!1),re()):G.error(xe.data?.message||"Failed to update payment configuration")}catch(xe){console.error("Payment config update error:",xe);const Be=xe.response?.data?.message||xe.message||"Failed to update payment configuration";G.error(Be)}finally{v(!1)}},de=async()=>{try{const he=await d_.get();if(console.log("Email config response:",he.data),he.data?.success&&he.data?.config){const xe=he.data.config,Be={smtpUsername:xe.smtpUsername||"",smtpPassword:"",smtpHost:xe.smtpHost||"",mailDriver:xe.mailDriver||"",smtpPort:xe.smtpPort?.toString()||"",smtpSecurity:xe.smtpSecurity||"",smtpAuthDomain:xe.smtpAuthDomain||"",smtpAddress:xe.smtpAddress||"",emailFromAddress:xe.emailFromAddress||"",emailFromName:xe.emailFromName||"",replyEmailAddress:xe.replyEmailAddress||"",replyEmailName:xe.replyEmailName||"",adminNotificationEmail:xe.adminNotificationEmail||""};console.log("Setting email config:",Be),I(Be)}else console.warn("Email config response format unexpected:",he.data)}catch(he){console.error("Failed to load email config:",he),console.error("Error details:",he.response?.data||he.message)}},te=async he=>{if(he.preventDefault(),!R.smtpUsername||!R.smtpHost||!R.mailDriver||!R.smtpPort||!R.smtpSecurity||!R.emailFromAddress||!R.emailFromName){G.error("Please fill all required fields");return}if(!(!R.adminNotificationEmail&&!window.confirm("Admin Notification Email is not set. Vendor registration emails will be sent to all admin users. Continue anyway?"))){F(!0);try{const xe=await d_.update(R);xe.data?.success?(G.success("Email configuration updated successfully"),I({...R,smtpPassword:""}),E(!1),de()):G.error(xe.data?.message||"Failed to update email configuration")}catch(xe){console.error("Email config update error:",xe);const Be=xe.response?.data?.message||xe.message||"Failed to update email configuration";G.error(Be)}finally{F(!1)}}},ye=async()=>{try{(await h_.get()).data?.config&&j({googleMapsApiKey:""})}catch(he){console.error("Failed to load Google Maps config:",he)}},ae=async()=>{try{q(!0);const he=await m_.getByType(_);he.data?.success&&he.data?.legalPage&&$({title:he.data.legalPage.title||"",content:he.data.legalPage.content||"",isActive:he.data.legalPage.isActive!==void 0?he.data.legalPage.isActive:!0})}catch(he){console.error("Failed to load legal page:",he),$({title:{"privacy-policy":"Privacy Policy","terms-of-service":"Terms of Service","cookie-policy":"Cookie Policy","about-us":"About VenueBook"}[_]||"",content:"",isActive:!0})}finally{q(!1)}},ee=async he=>{if(he.preventDefault(),!M.title||!M.title.trim()){G.error("Title is required");return}if(!M.content||!M.content.trim()){G.error("Content is required");return}X(!0);try{const xe=await m_.update(_,{title:M.title.trim(),content:M.content.trim(),isActive:M.isActive});xe.data?.success?(G.success("Legal page updated successfully"),ae()):G.error(xe.data?.message||"Failed to update legal page")}catch(xe){console.error("Legal page update error:",xe);const Be=xe.response?.data?.message||xe.message||"Failed to update legal page";G.error(Be)}finally{X(!1)}},be=async he=>{if(he.preventDefault(),!x.googleMapsApiKey||!x.googleMapsApiKey.trim()){G.error("Google Maps API Key is required");return}const xe=x.googleMapsApiKey.trim();if(!xe.startsWith("AIza")){G.error('Invalid Google Maps API Key format. Key should start with "AIza"');return}if(xe.length<30){G.error("Invalid Google Maps API Key. Key seems too short.");return}k(!0);try{const Be=await h_.update({googleMapsApiKey:xe});Be.data?.success?(G.success("Google Maps API key updated successfully"),j({googleMapsApiKey:""}),S(!1),ye()):G.error(Be.data?.message||"Failed to update Google Maps API key")}catch(Be){console.error("Google Maps config update error:",Be);const ut=Be.response?.data?.message||Be.message||"Failed to update Google Maps API key";G.error(ut)}finally{k(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Settings"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your account settings"})]}),s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsxs(ms,{className:"flex items-center gap-2",children:[s.jsx(la,{className:"w-5 h-5"}),"Profile Settings"]})}),s.jsx(gn,{children:s.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[s.jsx(He,{label:"Name",value:e.name,onChange:he=>t({...e,name:he.target.value})}),s.jsx(He,{label:"Email",type:"email",value:e.email,onChange:he=>t({...e,email:he.target.value})}),s.jsx(we,{type:"submit",loading:o,children:"Update Profile"})]})})]}),s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsxs(ms,{className:"flex items-center gap-2",children:[s.jsx(yu,{className:"w-5 h-5"}),"Change Password"]})}),s.jsx(gn,{children:s.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[s.jsx(He,{label:"Current Password",type:"password",value:r.currentPassword,onChange:he=>n({...r,currentPassword:he.target.value})}),s.jsx(He,{label:"New Password",type:"password",value:r.newPassword,onChange:he=>n({...r,newPassword:he.target.value})}),s.jsx(He,{label:"Confirm New Password",type:"password",value:r.confirmPassword,onChange:he=>n({...r,confirmPassword:he.target.value})}),s.jsx(we,{type:"submit",loading:o,children:"Change Password"})]})})]}),s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsxs(ms,{className:"flex items-center gap-2",children:[s.jsx(im,{className:"w-5 h-5"}),"Payment Configuration (Razorpay)"]})}),s.jsx(gn,{children:s.jsxs("form",{onSubmit:K,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Razorpay Key ID"}),s.jsx(He,{type:"text",value:u.razorpayKeyId,onChange:he=>d({...u,razorpayKeyId:he.target.value}),placeholder:"rzp_test_xxxxxxxxxxxxx",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Razorpay Key Secret"}),s.jsxs("div",{className:"relative",children:[s.jsx(He,{type:f?"text":"password",value:u.razorpayKeySecret,onChange:he=>d({...u,razorpayKeySecret:he.target.value}),placeholder:"Enter full Razorpay Key Secret to update",required:!0}),s.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:f?s.jsx(Oo,{className:"w-5 h-5"}):s.jsx(Qr,{className:"w-5 h-5"})})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Enter the full secret key to update. For security, the saved key is not displayed.",u.razorpayKeySecret&&s.jsxs("span",{className:"block mt-1 text-green-600 dark:text-green-400",children:[" Secret key entered (",u.razorpayKeySecret.length," characters)"]})]})]}),s.jsx(we,{type:"submit",loading:p,children:"Update Payment Configuration"})]})})]}),s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsxs(ms,{className:"flex items-center gap-2",children:[s.jsx(di,{className:"w-5 h-5"}),"Email Configuration (SMTP)"]})}),s.jsx(gn,{children:s.jsxs("form",{onSubmit:te,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Username"}),s.jsx(He,{type:"text",value:R.smtpUsername,onChange:he=>I({...R,smtpUsername:he.target.value}),placeholder:"emailapikey",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(He,{type:L?"text":"password",value:R.smtpPassword,onChange:he=>I({...R,smtpPassword:he.target.value}),placeholder:"Enter full SMTP Password to update",required:!R.smtpPassword}),s.jsx("button",{type:"button",onClick:()=>E(!L),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:L?s.jsx(Oo,{className:"w-5 h-5"}):s.jsx(Qr,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Enter the full password to update. For security, the saved password is not displayed."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Host"}),s.jsx(He,{type:"text",value:R.smtpHost,onChange:he=>I({...R,smtpHost:he.target.value}),placeholder:"smtp.zeptomail.in",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mail Driver"}),s.jsx(He,{type:"text",value:R.mailDriver,onChange:he=>I({...R,mailDriver:he.target.value}),placeholder:"smtp",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Port"}),s.jsx(He,{type:"number",value:R.smtpPort,onChange:he=>I({...R,smtpPort:he.target.value}),placeholder:"465",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Security"}),s.jsx(He,{type:"text",value:R.smtpSecurity,onChange:he=>I({...R,smtpSecurity:he.target.value}),placeholder:"ssl",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Authentication Domain"}),s.jsx(He,{type:"text",value:R.smtpAuthDomain,onChange:he=>I({...R,smtpAuthDomain:he.target.value}),placeholder:"true"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"SMTP Address"}),s.jsx(He,{type:"email",value:R.smtpAddress,onChange:he=>I({...R,smtpAddress:he.target.value}),placeholder:"noreply@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email From Address *"}),s.jsx(He,{type:"email",value:R.emailFromAddress,onChange:he=>I({...R,emailFromAddress:he.target.value}),placeholder:"noreply@shubhvenue.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email From Name *"}),s.jsx(He,{type:"text",value:R.emailFromName,onChange:he=>I({...R,emailFromName:he.target.value}),placeholder:"ShubhVenue",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Reply Email Address"}),s.jsx(He,{type:"email",value:R.replyEmailAddress,onChange:he=>I({...R,replyEmailAddress:he.target.value}),placeholder:"support@shubhvenue.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Reply Email Name"}),s.jsx(He,{type:"text",value:R.replyEmailName,onChange:he=>I({...R,replyEmailName:he.target.value}),placeholder:"ShubhVenue Support"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Admin Notification Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{type:"email",value:R.adminNotificationEmail,onChange:he=>I({...R,adminNotificationEmail:he.target.value}),placeholder:"admin@example.com",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This email will receive notifications when vendors register. If not set, all admin users will receive emails."})]})]}),s.jsx(we,{type:"submit",loading:C,children:"Update Email Configuration"})]})})]}),s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsxs(ms,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"w-5 h-5"}),"Google Maps Configuration"]})}),s.jsx(gn,{children:s.jsxs("form",{onSubmit:be,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Google Maps API Key"}),s.jsxs("div",{className:"relative",children:[s.jsx(He,{type:w?"text":"password",value:x.googleMapsApiKey,onChange:he=>j({...x,googleMapsApiKey:he.target.value}),placeholder:"AIzaSyCUEfJCSWFJNz7tUZMR7G77avJoSnq-dRA",required:!0}),s.jsx("button",{type:"button",onClick:()=>S(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:w?s.jsx(Oo,{className:"w-5 h-5"}):s.jsx(Qr,{className:"w-5 h-5"})})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Enter the full API key to update. For security, the saved key is not displayed.",x.googleMapsApiKey&&s.jsxs("span",{className:"block mt-1 text-green-600 dark:text-green-400",children:[" API key entered (",x.googleMapsApiKey.length," characters)"]})]}),s.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2",children:[" Get your API key from"," ",s.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-800 dark:hover:text-blue-300",children:"Google Cloud Console"}),". Enable Places API and Maps JavaScript API."]})]}),s.jsx(we,{type:"submit",loading:P,children:"Update Google Maps API Key"})]})})]}),s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsxs(ms,{className:"flex items-center gap-2",children:[s.jsx(Hee,{className:"w-5 h-5"}),"Legal Pages"]})}),s.jsx(gn,{children:s.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Page"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:_,onChange:he=>T(he.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 appearance-none",disabled:J,children:[s.jsx("option",{value:"privacy-policy",children:"Privacy Policy"}),s.jsx("option",{value:"terms-of-service",children:"Terms of Service"}),s.jsx("option",{value:"cookie-policy",children:"Cookie Policy"}),s.jsx("option",{value:"about-us",children:"About Us"})]}),s.jsx(zm,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500 pointer-events-none"})]})]}),J?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Loading..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),s.jsx(He,{type:"text",value:M.title,onChange:he=>$({...M,title:he.target.value}),placeholder:"Enter page title",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Content"}),s.jsx("textarea",{value:M.content,onChange:he=>$({...M,content:he.target.value}),placeholder:"Enter page content (supports line breaks)",required:!0,rows:15,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-y"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Use line breaks to separate paragraphs. HTML formatting is supported."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"legalPageActive",checked:M.isActive,onChange:he=>$({...M,isActive:he.target.checked}),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx("label",{htmlFor:"legalPageActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active (visible to users)"})]}),s.jsx(we,{type:"submit",loading:U,children:"Update Legal Page"})]})]})})]}),s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsxs(ms,{className:"flex items-center gap-2",children:[a==="light"?s.jsx(O5,{className:"w-5 h-5"}):s.jsx(M5,{className:"w-5 h-5"}),"Appearance"]})}),s.jsx(gn,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Theme"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Switch between light and dark mode"})]}),s.jsx(we,{onClick:Pe,variant:"secondary",children:a==="light"?"Switch to Dark":"Switch to Light"})]})})]}),s.jsxs(Ot,{children:[s.jsx(fs,{children:s.jsx(ms,{className:"text-red-500",children:"Danger Zone"})}),s.jsxs(gn,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 dark:border-red-800 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-600 dark:text-red-400",children:"Logout"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sign out from your account"})]}),s.jsxs(we,{variant:"danger",onClick:ke,children:[s.jsx(IS,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 dark:border-red-800 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-600 dark:text-red-400",children:"Delete Account"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Permanently delete your account and all data"})]}),s.jsxs(we,{variant:"danger",onClick:fe,children:[s.jsx(Xr,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]}),s.jsx(kt,{isOpen:!!B,onClose:()=>{ne||Z(null)},title:"Delete Account",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-700 dark:text-gray-200",children:"Are you sure you want to delete your account? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>Z(null),disabled:ne,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:ue,disabled:ne,children:ne?"Please wait...":"Delete"})]})]})})]})},Yke=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[o,l]=g.useState("all"),[u,d]=g.useState(!1),[f,m]=g.useState(null),[p,v]=g.useState(null),[x,j]=g.useState(!1),[w,S]=g.useState(1),P=10,[k,R]=g.useState({name:"",description:"",image:"",isActive:!0}),[I,L]=g.useState(null),[E,C]=g.useState(null);g.useEffect(()=>{F()},[]);const F=async()=>{try{n(!0),console.log("Fetching categories...");const z=await wd.getAll({active:"all"});console.log("Full API Response:",z),console.log("Response Data:",z.data),console.log("Response Status:",z.status);let pe=[];z&&z.data?z.data.categories&&Array.isArray(z.data.categories)?(pe=z.data.categories,console.log("Found categories in response.data.categories:",pe.length)):Array.isArray(z.data)?(pe=z.data,console.log("Found categories in response.data (array):",pe.length)):z.data.data&&Array.isArray(z.data.data)?(pe=z.data.data,console.log("Found categories in response.data.data:",pe.length)):z.data.success&&z.data.categories?(pe=z.data.categories,console.log("Found categories in success response:",pe.length)):console.warn("Unexpected response structure:",z.data):console.warn("No response.data found:",z),console.log("Final parsed categories:",pe),console.log("Categories count:",pe.length),pe.length>0&&(console.log("Sample category:",pe[0]),console.log("Categories with isActive:",pe.map(oe=>({name:oe.name,isActive:oe.isActive,_id:oe._id})))),t(pe),pe.length===0?console.log('No categories found in database. You can create a new category using the "Add Category" button.'):console.log(`Successfully loaded ${pe.length} categories`)}catch(z){console.error("Error fetching categories:",z),console.error("Error details:",{message:z.message,response:z.response,status:z.response?.status,data:z.response?.data});const pe=z.response?.data?.error||z.response?.data?.message||z.message||"Failed to load categories";G.error(`Failed to load categories: ${pe}`),t([])}finally{n(!1)}},_=(z=null)=>{if(z){m(z),R({name:z.name||"",description:z.description||"",image:z.image||"",isActive:z.isActive!==void 0?z.isActive:!0});const pe=z.image?_n(z.image):null;C(pe),L(null)}else m(null),R({name:"",description:"",image:"",isActive:!0}),C(null),L(null);d(!0)},T=()=>{d(!1),m(null),R({name:"",description:"",image:"",isActive:!0}),L(null),C(null)},M=z=>{const pe=z.target.files[0];if(pe){L(pe);const oe=new FileReader;oe.onloadend=()=>{C(oe.result)},oe.readAsDataURL(pe)}},$=async z=>{if(z.preventDefault(),!k.name.trim()){G.error("Category name is required");return}try{const pe=new FormData;pe.append("name",k.name),pe.append("description",k.description||""),pe.append("isActive",k.isActive),I&&pe.append("image",I),f?(await wd.update(f._id,pe),G.success("Category updated successfully")):(await wd.create(pe),G.success("Category created successfully")),T(),F()}catch(pe){const oe=pe.response?.data?.error||pe.response?.data?.message||"Failed to save category";G.error(oe)}},J=async(z,pe=!1,oe={})=>{if(!pe){v({id:z,name:oe.name,type:"delete"});return}j(!0);try{await wd.delete(z),G.success("Category deleted successfully"),F()}catch(Pe){const ke=Pe.response?.data?.error||Pe.response?.data?.message||"Failed to delete category";G.error(ke)}finally{j(!1),v(null)}},q=async z=>{try{const pe={name:z.name,description:z.description||"",image:z.image||"",isActive:!z.isActive};await wd.update(z._id,pe),G.success(`Category ${z.isActive?"deactivated":"activated"} successfully`),F()}catch(pe){const oe=pe.response?.data?.error||pe.response?.data?.message||"Failed to update category status";G.error(oe),console.error("Toggle active error:",pe)}},U=e.filter(z=>{const pe=!a||z.name?.toLowerCase().includes(a.toLowerCase())||z.description?.toLowerCase().includes(a.toLowerCase()),oe=z.isActive!==!1;let Pe=!0;return o==="active"?Pe=oe:o==="inactive"&&(Pe=!oe),pe&&Pe}),X=U.length,B=Math.ceil(X/P),Z=(w-1)*P,ne=Z+P,W=U.slice(Z,ne);return g.useEffect(()=>{S(1)},[a,o]),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Categories"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage venue categories"})]}),s.jsxs(we,{onClick:()=>_(),children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add Category"]})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(He,{type:"text",placeholder:"Search categories...",value:a,onChange:z=>i(z.target.value),className:"pl-10"})]}),s.jsxs("select",{value:o,onChange:z=>l(z.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active Only"}),s.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Categories: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:X})]}),s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{children:"Description"}),s.jsx(Oe,{children:"Image"}),s.jsx(Oe,{children:"Venues"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:W.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No categories found"})}):W.map((z,pe)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:Z+pe+1}),s.jsx(Ae,{className:"font-medium",children:z.name}),s.jsx(Ae,{className:"max-w-xs truncate",children:z.description||"N/A"}),s.jsx(Ae,{children:z.image?s.jsx("img",{src:_n(z.image),alt:z.name,className:"w-12 h-12 object-cover rounded",onError:oe=>{oe.target.style.display="none"}}):s.jsx("span",{className:"text-gray-400",children:"N/A"})}),s.jsx(Ae,{children:s.jsx(wt,{variant:"info",children:z.venueCount||0})}),s.jsx(Ae,{children:s.jsx(wt,{variant:z.isActive?"success":"danger",className:"cursor-pointer",onClick:()=>q(z),children:z.isActive?"Active":"Inactive"})}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>_(z),children:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>J(z._id,!1,{name:z.name}),children:s.jsx(Xr,{className:"w-4 h-4 text-red-500"})})]})})]},z._id))})]}),X>10&&s.jsx($n,{currentPage:w,totalPages:B,totalItems:X,itemsPerPage:P,onPageChange:S})]})}),s.jsx(kt,{isOpen:!!p,onClose:()=>{x||v(null)},title:"Delete Category",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Delete ",p?.name||"this category","? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>v(null),disabled:x,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:()=>J(p.id,!0),disabled:x,children:x?"Please wait...":"Delete"})]})]})}),s.jsx(kt,{isOpen:u,onClose:T,title:f?"Edit Category":"Add New Category",size:"md",children:s.jsxs("form",{onSubmit:$,className:"space-y-4",children:[s.jsx(He,{label:"Category Name *",value:k.name,onChange:z=>R({...k,name:z.target.value}),placeholder:"e.g., Banquet Hall, Garden, Resort",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Description"}),s.jsx("textarea",{value:k.description,onChange:z=>R({...k,description:z.target.value}),placeholder:"Category description...",rows:3,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Category Image"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:"image/*",onChange:M,className:`block w-full text-sm text-gray-500
                    file:mr-4 file:py-2 file:px-4
                    file:rounded-lg file:border-0
                    file:text-sm file:font-semibold
                    file:bg-primary file:text-white
                    hover:file:bg-primary/90
                    cursor-pointer`}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Upload an image file (JPG, PNG, GIF, WEBP - Max 5MB)"})]}),E&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:_n(E),alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-300",onError:z=>{z.target.style.display="none"}})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:k.isActive,onChange:z=>R({...k,isActive:z.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(we,{type:"submit",className:"flex-1",children:f?"Update Category":"Create Category"}),s.jsx(we,{type:"button",variant:"ghost",onClick:T,className:"flex-1",children:"Cancel"})]})]})})]})},Zke=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[o,l]=g.useState("all"),[u,d]=g.useState(!1),[f,m]=g.useState(null),[p,v]=g.useState(new Set),[x,j]=g.useState(null),[w,S]=g.useState(!1),[P,k]=g.useState(1),R=10,[I,L]=g.useState({name:"",description:"",icon:"",image:"",parentMenuId:null,isActive:!0,sortOrder:0}),[E,C]=g.useState(null),[F,_]=g.useState(null),[T,M]=g.useState(!1),[$,J]=g.useState(null),[q,U]=g.useState([]);g.useEffect(()=>{X()},[]);const X=async()=>{try{n(!0);const ee=await Xa.getAll({active:"all"});let be=[],he=[];ee&&ee.data&&(ee.data.menus&&Array.isArray(ee.data.menus)?be=ee.data.menus:Array.isArray(ee.data)?be=ee.data:ee.data.success&&ee.data.menus&&(be=ee.data.menus)),be.forEach(xe=>{he.push(xe),xe.submenus&&Array.isArray(xe.submenus)&&xe.submenus.forEach(Be=>{he.push(Be)})}),t(be),be.length}catch(ee){console.error("Error fetching menus:",ee);const be=ee.response?.data?.error||ee.response?.data?.message||ee.message||"Failed to load menus";G.error(`Failed to load menus: ${be}`),t([])}finally{n(!1)}},B=(ee=null,be=!1,he=null)=>{if(ee){m(ee),L({name:ee.name||"",description:ee.description||"",icon:ee.icon||"",image:ee.image||"",parentMenuId:ee.parentMenuId||null,isActive:ee.isActive!==void 0?ee.isActive:!0,sortOrder:ee.sortOrder||0});const xe=ee.image?_n(ee.image):null;if(_(xe),C(null),M(!!ee.parentMenuId),J(he||null),ee.parentMenuId)U([]);else{const ut=e.find(_t=>_t._id===ee._id)?.submenus||[];U(ut.map(_t=>({name:_t.name||"",description:_t.description||"",icon:_t.icon||"",isActive:_t.isActive!==void 0?_t.isActive:!0,sortOrder:_t.sortOrder||0,_id:_t._id})))}}else m(null),L({name:"",description:"",icon:"",image:"",parentMenuId:be&&he?._id||null,isActive:!0,sortOrder:0}),_(null),C(null),M(be),J(he),U([]);d(!0)},Z=()=>{d(!1),m(null),L({name:"",description:"",icon:"",image:"",parentMenuId:null,isActive:!0,sortOrder:0}),C(null),_(null),M(!1),J(null),U([])},ne=()=>{U([...q,{name:"",description:"",icon:"",isActive:!0,sortOrder:q.length}])},W=ee=>{U(q.filter((be,he)=>he!==ee))},z=(ee,be,he)=>{const xe=[...q];xe[ee]={...xe[ee],[be]:he},U(xe)},pe=ee=>{const be=ee.target.files[0];if(be){C(be);const he=new FileReader;he.onloadend=()=>{_(he.result)},he.readAsDataURL(be)}},oe=async ee=>{if(ee.preventDefault(),!I.name.trim()){G.error("Menu name is required");return}if(!T&&q.length>0){for(let be=0;be<q.length;be++)if(!q[be].name.trim()){G.error(`Submenu ${be+1} name is required`);return}}try{let be;if(T){const he=new FormData;he.append("name",I.name),he.append("description",I.description||""),he.append("icon",I.icon||""),he.append("isActive",I.isActive),he.append("sortOrder",I.sortOrder||0),he.append("parentMenuId",I.parentMenuId),E?he.append("image",E):I.image&&!E&&he.append("image",I.image),f?(await Xa.update(f._id,he),G.success("Submenu updated successfully")):(await Xa.create(he),G.success("Submenu created successfully"))}else{const he=new FormData;if(he.append("name",I.name),he.append("description",I.description||""),he.append("icon",I.icon||""),he.append("isActive",I.isActive),he.append("sortOrder",I.sortOrder||0),he.append("parentMenuId","null"),E?he.append("image",E):I.image&&!E&&he.append("image",I.image),f?(await Xa.update(f._id,he),be=f._id,G.success("Menu updated successfully")):(be=(await Xa.create(he)).data.menu._id,G.success("Menu created successfully")),q.length>0&&be){for(let xe=0;xe<q.length;xe++){const Be=q[xe],ut=new FormData;ut.append("name",Be.name),ut.append("description",Be.description||""),ut.append("icon",Be.icon||""),ut.append("isActive",Be.isActive),ut.append("sortOrder",Be.sortOrder||xe),ut.append("parentMenuId",be),Be._id?await Xa.update(Be._id,ut):await Xa.create(ut)}G.success(`${q.length} submenu(s) ${f?"updated":"created"} successfully`)}}Z(),X()}catch(be){const he=be.response?.data?.error||be.response?.data?.message||"Failed to save menu";G.error(he)}},Pe=async(ee,be=!1,he={})=>{if(!be){j({id:ee,name:he.name,type:"delete"});return}S(!0);try{await Xa.delete(ee),G.success("Menu deleted successfully"),X()}catch(xe){const Be=xe.response?.data?.error||xe.response?.data?.message||"Failed to delete menu";G.error(Be)}finally{S(!1),j(null)}},ke=async ee=>{try{const be={name:ee.name,description:ee.description||"",icon:ee.icon||"",image:ee.image||"",parentMenuId:ee.parentMenuId||null,isActive:!ee.isActive,sortOrder:ee.sortOrder||0};await Xa.update(ee._id,be),G.success(`Menu ${ee.isActive?"deactivated":"activated"} successfully`),X()}catch(be){const he=be.response?.data?.error||be.response?.data?.message||"Failed to update menu status";G.error(he)}},fe=ee=>{const be=new Set(p);be.has(ee)?be.delete(ee):be.add(ee),v(be)},ue=e.filter(ee=>{const be=!a||ee.name?.toLowerCase().includes(a.toLowerCase())||ee.description?.toLowerCase().includes(a.toLowerCase()),he=ee.isActive!==!1;let xe=!0;o==="active"?xe=he:o==="inactive"&&(xe=!he);const Be=!ee.parentMenuId;return be&&xe&&Be}),re=ue.length,K=Math.ceil(re/R),de=(P-1)*R,te=de+R,ye=ue.slice(de,te);g.useEffect(()=>{k(1)},[a,o]);const ae=ee=>e.find(he=>he._id===ee)?.submenus||[];return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):(e.filter(ee=>!ee.parentMenuId),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Menus & Submenus"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage menu structure and submenus"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(we,{onClick:()=>B(),children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add Main Menu"]})})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(He,{type:"text",placeholder:"Search menus...",value:a,onChange:ee=>i(ee.target.value),className:"pl-10"})]}),s.jsxs("select",{value:o,onChange:ee=>l(ee.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active Only"}),s.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Menus: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:re})]}),s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12"}),s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{children:"Description"}),s.jsx(Oe,{children:"Image"}),s.jsx(Oe,{children:"Submenus"}),s.jsx(Oe,{children:"Venues"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:ye.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:9,className:"text-center py-8 text-gray-500",children:"No menus found"})}):ye.map((ee,be)=>{const he=ae(ee._id),xe=p.has(ee._id);return s.jsxs(rr.Fragment,{children:[s.jsxs(vt,{children:[s.jsx(Ae,{children:he.length>0&&s.jsx("button",{onClick:()=>fe(ee._id),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:xe?s.jsx(zm,{className:"w-4 h-4"}):s.jsx(Iu,{className:"w-4 h-4"})})}),s.jsx(Ae,{className:"text-center font-medium",children:de+be+1}),s.jsx(Ae,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jx,{className:"w-4 h-4 text-primary"}),ee.name]})}),s.jsx(Ae,{className:"max-w-xs truncate",children:ee.description||"N/A"}),s.jsx(Ae,{children:ee.image?s.jsx("img",{src:_n(ee.image),alt:ee.name,className:"w-12 h-12 object-cover rounded",onError:Be=>{Be.target.style.display="none"}}):s.jsx("span",{className:"text-gray-400",children:"N/A"})}),s.jsx(Ae,{children:s.jsx(wt,{variant:"info",children:he.length})}),s.jsx(Ae,{children:s.jsx(wt,{variant:"info",children:ee.venueCount||0})}),s.jsx(Ae,{children:s.jsx(wt,{variant:ee.isActive?"success":"danger",className:"cursor-pointer",onClick:()=>ke(ee),children:ee.isActive?"Active":"Inactive"})}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>B(null,!0,ee),title:"Add Submenu",children:s.jsx(Ur,{className:"w-4 h-4 text-green-500"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>B(ee),children:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>Pe(ee._id,!1,{name:ee.name}),children:s.jsx(Xr,{className:"w-4 h-4 text-red-500"})})]})})]}),xe&&he.map((Be,ut)=>s.jsxs(vt,{className:"bg-gray-50 dark:bg-gray-800/50",children:[s.jsx(Ae,{}),s.jsxs(Ae,{className:"text-center text-sm text-gray-500",children:[be+1,".",ut+1]}),s.jsx(Ae,{className:"font-medium pl-8",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-4 bg-primary"}),Be.name]})}),s.jsx(Ae,{className:"max-w-xs truncate text-sm",children:Be.description||"N/A"}),s.jsx(Ae,{children:Be.image?s.jsx("img",{src:_n(Be.image),alt:Be.name,className:"w-10 h-10 object-cover rounded",onError:_t=>{_t.target.style.display="none"}}):s.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})}),s.jsx(Ae,{children:s.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),s.jsx(Ae,{children:s.jsx(wt,{variant:"info",className:"text-xs",children:Be.venueCount||0})}),s.jsx(Ae,{children:s.jsx(wt,{variant:Be.isActive?"success":"danger",className:"cursor-pointer text-xs",onClick:()=>ke(Be),children:Be.isActive?"Active":"Inactive"})}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>B(Be,!1,ee),children:s.jsx(ls,{className:"w-3 h-3"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>Pe(Be._id,!1,{name:Be.name}),children:s.jsx(Xr,{className:"w-3 h-3 text-red-500"})})]})})]},Be._id))]},ee._id)})})]}),re>10&&s.jsx($n,{currentPage:P,totalPages:K,totalItems:re,itemsPerPage:R,onPageChange:k})]})}),s.jsx(kt,{isOpen:!!x,onClose:()=>{w||j(null)},title:"Delete Menu",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Delete ",x?.name||"this item","? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>j(null),disabled:w,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:()=>Pe(x.id,!0),disabled:w,children:w?"Please wait...":"Delete"})]})]})}),s.jsx(kt,{isOpen:u,onClose:Z,title:f?`Edit ${T?"Submenu":"Menu"}`:`Add New ${T?"Submenu":"Menu"}`,size:"xl",children:s.jsxs("form",{onSubmit:oe,className:"space-y-4 max-h-full",children:[T&&$&&s.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[s.jsx("strong",{children:"Parent Menu:"})," ",$.name]})}),s.jsx(He,{label:`${T?"Submenu":"Menu"} Name *`,value:I.name,onChange:ee=>L({...I,name:ee.target.value}),placeholder:T?"e.g., Tent Booking, DJ Booking":"e.g., Event Services, Venue & Hall Bookings",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Description"}),s.jsx("textarea",{value:I.description,onChange:ee=>L({...I,description:ee.target.value}),placeholder:"Menu description...",rows:3,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsx(He,{label:"Icon",value:I.icon,onChange:ee=>L({...I,icon:ee.target.value}),placeholder:"Icon name or URL"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Menu Image"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:"image/*",onChange:pe,className:`block w-full text-sm text-gray-500
                    file:mr-4 file:py-2 file:px-4
                    file:rounded-lg file:border-0
                    file:text-sm file:font-semibold
                    file:bg-primary file:text-white
                    hover:file:bg-primary/90
                    cursor-pointer`}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Upload an image file (JPG, PNG, GIF, WEBP - Max 5MB)"})]}),F&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:_n(F),alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-300",onError:ee=>{ee.target.style.display="none"}})})]})]}),s.jsx(He,{label:"Sort Order",type:"number",value:I.sortOrder,onChange:ee=>L({...I,sortOrder:parseInt(ee.target.value)||0}),placeholder:"0"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:I.isActive,onChange:ee=>L({...I,isActive:ee.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),!T&&s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Submenus (",q.length,")"]}),s.jsxs(we,{type:"button",variant:"ghost",size:"sm",onClick:ne,className:"text-primary",children:[s.jsx(Ur,{className:"w-4 h-4 mr-1"}),"Add Submenu"]})]}),q.length===0?s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:'No submenus added. Click "Add Submenu" to add one.'}):s.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:q.map((ee,be)=>s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Submenu ",be+1]}),s.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>W(be),className:"text-red-500 hover:text-red-700",children:s.jsx(dr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(He,{label:"Submenu Name *",value:ee.name,onChange:he=>z(be,"name",he.target.value),placeholder:"e.g., Tent Booking, DJ Booking",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-600 dark:text-gray-400",children:"Description"}),s.jsx("textarea",{value:ee.description,onChange:he=>z(be,"description",he.target.value),placeholder:"Submenu description...",rows:2,className:"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(He,{label:"Icon",value:ee.icon,onChange:he=>z(be,"icon",he.target.value),placeholder:"Icon name",className:"text-sm"}),s.jsx(He,{label:"Sort Order",type:"number",value:ee.sortOrder,onChange:he=>z(be,"sortOrder",parseInt(he.target.value)||0),placeholder:"0",className:"text-sm"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:`submenu-active-${be}`,checked:ee.isActive,onChange:he=>z(be,"isActive",he.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("label",{htmlFor:`submenu-active-${be}`,className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Active"})]})]})]},be))})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx(we,{type:"submit",className:"flex-1",children:f?`Update ${T?"Submenu":"Menu"}`:`Create ${T?"Submenu":"Menu"}`}),s.jsx(we,{type:"button",variant:"ghost",onClick:Z,className:"flex-1",children:"Cancel"})]})]})})]}))},Qke=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[o,l]=g.useState(!1),[u,d]=g.useState(null),[f,m]=g.useState(null),[p,v]=g.useState(!1),[x,j]=g.useState(1),w=10,[S,P]=g.useState({title:"",description:"",video:"",thumbnail:"",link:"",isActive:!0,sortOrder:0,startDate:"",endDate:""}),[k,R]=g.useState(null),[I,L]=g.useState(null),E=W=>W?W.startsWith("/uploads/")?_n(W):W.startsWith("http://")||W.startsWith("https://")?W:_n(`/uploads/videos/${W}`):null;g.useEffect(()=>{C()},[]);const C=async()=>{try{n(!0),console.log("Fetching videos...");const W=await xf.getAll();console.log("Videos API Full Response:",W),console.log("Videos API Response Data:",W?.data);let z=[];W&&W.data?W.data.videos&&Array.isArray(W.data.videos)?(z=W.data.videos,console.log("Found videos in response.data.videos:",z.length)):Array.isArray(W.data)?(z=W.data,console.log("Found videos in response.data (array):",z.length)):W.data.data&&Array.isArray(W.data.data)?(z=W.data.data,console.log("Found videos in response.data.data:",z.length)):console.warn("Unexpected response structure:",W.data):console.warn("No response data found"),console.log("Final parsed videos:",z),console.log("Total videos found:",z.length),t(z),z.length===0&&console.log('No videos found. You can create a new video using the "Add Video" button.')}catch(W){console.error("Error fetching videos:",W),console.error("Error response:",W.response),console.error("Error details:",W.response?.data);const z=W.response?.data?.error||W.response?.data?.message||W.message||"Failed to load videos";G.error(z),t([])}finally{n(!1)}},F=(W=null)=>{if(W){d(W),P({title:W.title||"",description:W.description||"",video:W.video||"",thumbnail:W.thumbnail||"",link:W.link||"",isActive:W.isActive!==void 0?W.isActive:!0,sortOrder:W.sortOrder||0,startDate:W.startDate?new Date(W.startDate).toISOString().split("T")[0]:"",endDate:W.endDate?new Date(W.endDate).toISOString().split("T")[0]:""});const z=W.video?E(W.video):null;L(z),R(null)}else d(null),P({title:"",description:"",video:"",thumbnail:"",link:"",isActive:!0,sortOrder:0,startDate:"",endDate:""}),L(null),R(null);l(!0)},_=()=>{l(!1),d(null),P({title:"",description:"",video:"",thumbnail:"",link:"",isActive:!0,sortOrder:0,startDate:"",endDate:""}),R(null),L(null)},T=W=>{const z=W.target.files[0];if(z){R(z);const pe=URL.createObjectURL(z);L(pe)}},M=async W=>{if(W.preventDefault(),!S.title.trim()){G.error("Video title is required");return}if(!u&&!k){G.error("Video file is required");return}try{const z=new FormData;z.append("title",S.title),z.append("description",S.description||""),z.append("link",S.link||""),z.append("thumbnail",S.thumbnail||""),z.append("isActive",S.isActive),z.append("sortOrder",S.sortOrder),S.startDate&&z.append("startDate",S.startDate),S.endDate&&z.append("endDate",S.endDate),k?z.append("video",k):u&&S.video&&S.video.trim()&&z.append("video",S.video.trim()),u?(await xf.update(u._id,z),G.success("Video updated successfully")):(await xf.create(z),G.success("Video created successfully")),_(),C()}catch(z){const pe=z.response?.data?.error||z.response?.data?.message||"Failed to save video";G.error(pe)}},$=async(W,z=!1,pe={})=>{if(!z){m({id:W,name:pe.title});return}v(!0);try{await xf.delete(W),G.success("Video deleted successfully"),C()}catch(oe){const Pe=oe.response?.data?.error||oe.response?.data?.message||"Failed to delete video";G.error(Pe)}finally{v(!1),m(null)}},J=async W=>{try{await xf.toggleActive(W._id),G.success(`Video ${W.isActive?"deactivated":"activated"} successfully`),C()}catch{G.error("Failed to update video status")}},q=e.filter(W=>W.title?.toLowerCase().includes(a.toLowerCase())||W.description?.toLowerCase().includes(a.toLowerCase())),U=q.length,X=Math.ceil(U/w),B=(x-1)*w,Z=B+w,ne=q.slice(B,Z);return g.useEffect(()=>{j(1)},[a]),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Videos"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage and upload videos"})]}),s.jsxs(we,{onClick:()=>F(),children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add Video"]})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(He,{type:"text",placeholder:"Search videos...",value:a,onChange:W=>i(W.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Videos: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:U})]}),s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"Video"}),s.jsx(Oe,{children:"Title"}),s.jsx(Oe,{children:"Description"}),s.jsx(Oe,{children:"Link"}),s.jsx(Oe,{children:"Sort Order"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:ne.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:8,className:"text-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:s.jsx(om,{className:"w-8 h-8 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-1",children:a?"No videos match your search":"No videos yet"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:a?"Try adjusting your search terms":"Create your first video to showcase your services"}),!a&&s.jsxs(we,{onClick:()=>F(),size:"sm",children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add Your First Video"]})]})]})})}):ne.map((W,z)=>{const pe=E(W.video);return s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:B+z+1}),s.jsx(Ae,{children:pe?s.jsx("div",{className:"relative w-32 h-20 bg-gray-900 rounded overflow-hidden",children:s.jsx("video",{src:pe,className:"w-full h-full object-cover",poster:W.thumbnail?E(W.thumbnail):void 0,controls:!0,preload:"metadata",onError:oe=>{console.error("Video load error:",pe,oe),oe.target.style.display="none"},children:"Your browser does not support the video tag."})}):s.jsx("div",{className:"w-32 h-20 bg-gray-100 dark:bg-gray-800 rounded flex items-center justify-center",children:s.jsx(om,{className:"w-8 h-8 text-gray-400"})})}),s.jsx(Ae,{className:"font-medium",children:W.title}),s.jsx(Ae,{className:"max-w-xs truncate",children:W.description||"N/A"}),s.jsx(Ae,{children:W.link?s.jsx("a",{href:W.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline truncate max-w-xs block",children:W.link}):s.jsx("span",{className:"text-gray-400",children:"N/A"})}),s.jsx(Ae,{children:W.sortOrder||0}),s.jsx(Ae,{children:s.jsx(wt,{variant:W.isActive?"success":"danger",className:"cursor-pointer",onClick:()=>J(W),children:W.isActive?"Active":"Inactive"})}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>F(W),children:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>$(W._id,!1,{title:W.title}),children:s.jsx(Xr,{className:"w-4 h-4 text-red-500"})})]})})]},W._id)})})]}),U>10&&s.jsx($n,{currentPage:x,totalPages:X,totalItems:U,itemsPerPage:w,onPageChange:j})]})}),s.jsx(kt,{isOpen:!!f,onClose:()=>{p||m(null)},title:"Delete Video",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Delete ",f?.name||"this video","? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>m(null),disabled:p,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:()=>$(f.id,!0),disabled:p,children:p?"Please wait...":"Delete"})]})]})}),s.jsx(kt,{isOpen:o,onClose:_,title:u?"Edit Video":"Add New Video",size:"md",children:s.jsxs("form",{onSubmit:M,className:"space-y-2.5 max-h-[75vh] overflow-y-auto px-1",children:[s.jsx(He,{label:"Video Title *",value:S.title,onChange:W=>P({...S,title:W.target.value}),placeholder:"e.g., Venue Tour, Wedding Highlights",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"Description"}),s.jsx("textarea",{value:S.description,onChange:W=>P({...S,description:W.target.value}),placeholder:"Video description...",rows:2,className:"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"Video *"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:"video/*",onChange:T,className:`block w-full text-sm text-gray-500
                    file:mr-4 file:py-2 file:px-4
                    file:rounded-lg file:border-0
                    file:text-sm file:font-semibold
                    file:bg-primary file:text-white
                    hover:file:bg-primary/90
                    cursor-pointer`}),s.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Upload a video file (MP4, WebM, MOV, AVI, MKV - Max 100MB)"})]}),I&&s.jsx("div",{className:"mt-1.5",children:s.jsx("video",{src:I,controls:!0,className:"w-full h-24 object-contain rounded border border-gray-300 dark:border-gray-600",style:{maxHeight:"96px"},children:"Your browser does not support the video tag."})})]})]}),s.jsx(He,{label:"Thumbnail URL (Optional)",value:S.thumbnail,onChange:W=>P({...S,thumbnail:W.target.value}),placeholder:"https://example.com/thumbnail.jpg",type:"url"}),s.jsx(He,{label:"Link (Optional)",value:S.link,onChange:W=>P({...S,link:W.target.value}),placeholder:"https://example.com",type:"url"}),s.jsx(He,{label:"Sort Order",value:S.sortOrder,onChange:W=>P({...S,sortOrder:parseInt(W.target.value)||0}),type:"number",min:"0"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(He,{label:"Start Date (Optional)",value:S.startDate,onChange:W=>P({...S,startDate:W.target.value}),type:"date"}),s.jsx(He,{label:"End Date (Optional)",value:S.endDate,onChange:W=>P({...S,endDate:W.target.value}),type:"date"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:S.isActive,onChange:W=>P({...S,isActive:W.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx(we,{type:"submit",className:"flex-1",children:u?"Update Video":"Create Video"}),s.jsx(we,{type:"button",variant:"ghost",onClick:_,className:"flex-1",children:"Cancel"})]})]})})]})},Xke=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[o,l]=g.useState(!1),[u,d]=g.useState(null),[f,m]=g.useState(null),[p,v]=g.useState(!1),[x,j]=g.useState(1),w=10,[S,P]=g.useState({name:"",text:"",event:"",rating:5,image:"",isActive:!0,sortOrder:0});g.useEffect(()=>{k()},[]);const k=async()=>{try{n(!0);const q=await bf.getAll();console.log("Testimonials API Response:",q),console.log("Testimonials API Response Data:",q.data);let U=[];q.data&&(q.data.success&&q.data.testimonials&&Array.isArray(q.data.testimonials)||q.data.testimonials&&Array.isArray(q.data.testimonials)?U=q.data.testimonials:Array.isArray(q.data)?U=q.data:q.data.data&&Array.isArray(q.data.data)&&(U=q.data.data)),console.log("Parsed testimonials:",U),console.log("Testimonials count:",U.length),t(U),U.length===0&&console.log('No testimonials found. You can create a new testimonial using the "Add Testimonial" button.')}catch(q){console.error("Error fetching testimonials:",q),console.error("Error response:",q.response);const U=q.response?.data?.error||q.response?.data?.message||q.message||"Failed to load testimonials";G.error(U),t([])}finally{n(!1)}},R=(q=null)=>{q?(d(q),P({name:q.name||"",text:q.text||"",event:q.event||"",rating:q.rating||5,image:q.image||"",isActive:q.isActive!==void 0?q.isActive:!0,sortOrder:q.sortOrder||0})):(d(null),P({name:"",text:"",event:"",rating:5,image:"",isActive:!0,sortOrder:0})),l(!0)},I=()=>{l(!1),d(null),P({name:"",text:"",event:"",rating:5,image:"",isActive:!0,sortOrder:0})},L=async q=>{if(q.preventDefault(),!S.name.trim()){G.error("Name is required");return}if(!S.text.trim()){G.error("Testimonial text is required");return}try{u?(await bf.update(u._id,S),G.success("Testimonial updated successfully")):(await bf.create(S),G.success("Testimonial created successfully")),I(),k()}catch(U){const X=U.response?.data?.error||U.response?.data?.message||"Failed to save testimonial";G.error(X)}},E=async(q,U=!1,X={})=>{if(!U){m({id:q,name:X.name});return}v(!0);try{await bf.delete(q),G.success("Testimonial deleted successfully"),k()}catch(B){const Z=B.response?.data?.error||B.response?.data?.message||"Failed to delete testimonial";G.error(Z)}finally{v(!1),m(null)}},C=async q=>{try{await bf.toggleActive(q._id),G.success(`Testimonial ${q.isActive?"deactivated":"activated"} successfully`),k()}catch{G.error("Failed to update testimonial status")}},F=e.filter(q=>q.name?.toLowerCase().includes(a.toLowerCase())||q.text?.toLowerCase().includes(a.toLowerCase())||q.event?.toLowerCase().includes(a.toLowerCase())),_=F.length,T=Math.ceil(_/w),M=(x-1)*w,$=M+w,J=F.slice(M,$);return g.useEffect(()=>{j(1)},[a]),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Testimonials"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage customer testimonials"})]}),s.jsxs(we,{onClick:()=>R(),children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add Testimonial"]})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(He,{type:"text",placeholder:"Search testimonials...",value:a,onChange:q=>i(q.target.value),className:"pl-10"})]})}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Testimonials: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:_})]}),J.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Qi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a?"No testimonials found matching your search":"No testimonials found. Create your first testimonial!"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{children:"Text"}),s.jsx(Oe,{children:"Event"}),s.jsx(Oe,{children:"Rating"}),s.jsx(Oe,{children:"Sort Order"}),s.jsx(Oe,{className:"min-w-[100px]",children:"Status"}),s.jsx(Oe,{className:"text-right min-w-[180px]",children:"Actions"})]})}),s.jsx(Fn,{children:J.map((q,U)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:M+U+1}),s.jsx(Ae,{className:"font-medium",children:q.name}),s.jsx(Ae,{className:"max-w-md",children:s.jsx("div",{className:"truncate",title:q.text,children:q.text})}),s.jsx(Ae,{children:q.event||"-"}),s.jsx(Ae,{children:s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((X,B)=>s.jsx("span",{className:B<(q.rating||5)?"text-yellow-400":"text-gray-300",children:""},B))})}),s.jsx(Ae,{children:q.sortOrder||0}),s.jsx(Ae,{className:"min-w-[100px]",children:s.jsx(wt,{variant:q.isActive?"success":"secondary",className:"whitespace-nowrap",children:q.isActive?"Active":"Inactive"})}),s.jsx(Ae,{className:"text-right min-w-[180px]",children:s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>C(q),className:"whitespace-nowrap text-xs px-2",children:q.isActive?"Deactivate":"Activate"}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>R(q),className:"p-2",children:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>E(q._id,!1,{name:q.name}),className:"p-2",children:s.jsx(Xr,{className:"w-4 h-4 text-red-500"})})]})})]},q._id))})]})}),_>10&&s.jsx($n,{currentPage:x,totalPages:T,totalItems:_,itemsPerPage:w,onPageChange:j})]})}),s.jsx(kt,{isOpen:!!f,onClose:()=>{p||m(null)},title:"Delete Testimonial",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Delete ",f?.name||"this testimonial","? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>m(null),disabled:p,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:()=>E(f.id,!0),disabled:p,children:p?"Please wait...":"Delete"})]})]})}),s.jsx(kt,{isOpen:o,onClose:I,title:u?"Edit Testimonial":"Add Testimonial",children:s.jsxs("form",{onSubmit:L,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{type:"text",value:S.name,onChange:q=>P({...S,name:q.target.value}),placeholder:"Customer name",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Testimonial Text ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:S.text,onChange:q=>P({...S,text:q.target.value}),placeholder:"Enter testimonial text",required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event"}),s.jsx(He,{type:"text",value:S.event,onChange:q=>P({...S,event:q.target.value}),placeholder:"e.g., Booked a Wedding Venue"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rating"}),s.jsx(He,{type:"number",min:"1",max:"5",value:S.rating,onChange:q=>P({...S,rating:parseInt(q.target.value)||5}),placeholder:"Rating (1-5)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Image URL"}),s.jsx(He,{type:"text",value:S.image,onChange:q=>P({...S,image:q.target.value}),placeholder:"Optional image URL"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sort Order"}),s.jsx(He,{type:"number",value:S.sortOrder,onChange:q=>P({...S,sortOrder:parseInt(q.target.value)||0}),placeholder:"Sort order (lower numbers appear first)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:S.isActive,onChange:q=>P({...S,isActive:q.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(we,{type:"button",variant:"secondary",onClick:I,children:"Cancel"}),s.jsxs(we,{type:"submit",children:[u?"Update":"Create"," Testimonial"]})]})]})})]})},Jke=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[o,l]=g.useState(!1),[u,d]=g.useState(null),[f,m]=g.useState(null),[p,v]=g.useState(!1),[x,j]=g.useState(1),w=10,[S,P]=g.useState({question:"",answer:"",category:"",isActive:!0,sortOrder:0});g.useEffect(()=>{k()},[]);const k=async()=>{try{n(!0);const q=await wf.getAll();console.log("FAQs API Response:",q),console.log("FAQs API Response Data:",q.data);let U=[];q.data&&(q.data.success&&q.data.faqs&&Array.isArray(q.data.faqs)||q.data.faqs&&Array.isArray(q.data.faqs)?U=q.data.faqs:Array.isArray(q.data)?U=q.data:q.data.data&&Array.isArray(q.data.data)&&(U=q.data.data)),console.log("Parsed FAQs:",U),console.log("FAQs count:",U.length),t(U),U.length===0&&console.log('No FAQs found. You can create a new FAQ using the "Add FAQ" button.')}catch(q){console.error("Error fetching FAQs:",q),console.error("Error response:",q.response);const U=q.response?.data?.error||q.response?.data?.message||q.message||"Failed to load FAQs";G.error(U),t([])}finally{n(!1)}},R=(q=null)=>{q?(d(q),P({question:q.question||"",answer:q.answer||"",category:q.category||"",isActive:q.isActive!==void 0?q.isActive:!0,sortOrder:q.sortOrder||0})):(d(null),P({question:"",answer:"",category:"",isActive:!0,sortOrder:0})),l(!0)},I=()=>{l(!1),d(null)},L=async q=>{if(q.preventDefault(),!S.question.trim()){G.error("Question is required");return}if(!S.answer.trim()){G.error("Answer is required");return}try{u?(await wf.update(u._id,S),G.success("FAQ updated successfully")):(await wf.create(S),G.success("FAQ created successfully")),I(),k()}catch(U){console.error("Error saving FAQ:",U);const X=U.response?.data?.message||U.response?.data?.error||"Failed to save FAQ";G.error(X)}},E=async(q,U=!1,X={})=>{if(!U){m({id:q,name:X.question});return}v(!0);try{await wf.delete(q),G.success("FAQ deleted successfully"),k()}catch(B){console.error("Error deleting FAQ:",B);const Z=B.response?.data?.message||B.response?.data?.error||"Failed to delete FAQ";G.error(Z)}finally{v(!1),m(null)}},C=async q=>{try{await wf.toggleActive(q._id),G.success(`FAQ ${q.isActive?"deactivated":"activated"} successfully`),k()}catch(U){console.error("Error toggling FAQ active status:",U);const X=U.response?.data?.message||U.response?.data?.error||"Failed to update FAQ status";G.error(X)}},F=e.filter(q=>{const U=a.toLowerCase();return q.question.toLowerCase().includes(U)||q.answer.toLowerCase().includes(U)||q.category&&q.category.toLowerCase().includes(U)}),_=F.length,T=Math.ceil(_/w),M=(x-1)*w,$=M+w,J=F.slice(M,$);return g.useEffect(()=>{j(1)},[a]),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading FAQs..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"FAQs"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage frequently asked questions"})]}),s.jsxs(we,{onClick:()=>R(),children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add FAQ"]})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 w-full",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(He,{type:"text",placeholder:"Search FAQs...",value:a,onChange:q=>i(q.target.value),className:"pl-10"})]})}),s.jsxs("div",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:["Total FAQs: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:_})]}),J.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(E5,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a?"No FAQs found matching your search":"No FAQs found. Create your first FAQ!"})]}):s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"Question"}),s.jsx(Oe,{children:"Answer"}),s.jsx(Oe,{children:"Category"}),s.jsx(Oe,{children:"Sort Order"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{className:"text-right",children:"Actions"})]})}),s.jsx(Fn,{children:J.map((q,U)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:M+U+1}),s.jsx(Ae,{className:"font-medium",children:s.jsx("div",{className:"break-words",title:q.question,children:q.question})}),s.jsx(Ae,{children:s.jsx("div",{className:"break-words line-clamp-2",title:q.answer,children:q.answer})}),s.jsx(Ae,{className:"whitespace-nowrap",children:q.category||"-"}),s.jsx(Ae,{className:"whitespace-nowrap",children:q.sortOrder||0}),s.jsx(Ae,{className:"whitespace-nowrap",children:s.jsx(wt,{variant:q.isActive?"success":"secondary",children:q.isActive?"Active":"Inactive"})}),s.jsx(Ae,{className:"text-right whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>C(q),title:q.isActive?"Deactivate":"Activate",className:"whitespace-nowrap min-w-[90px] text-center",children:s.jsx("span",{className:"block w-full",children:q.isActive?"Deactivate":"Activate"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>R(q),title:"Edit",children:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>E(q._id,!1,{question:q.question}),title:"Delete",children:s.jsx(Xr,{className:"w-4 h-4 text-red-500"})})]})})]},q._id))})]})}),_>10&&s.jsx($n,{currentPage:x,totalPages:T,totalItems:_,itemsPerPage:w,onPageChange:j})]})}),s.jsx(kt,{isOpen:!!f,onClose:()=>{p||m(null)},title:"Delete FAQ",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Delete ",f?.name||"this FAQ","? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>m(null),disabled:p,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:()=>E(f.id,!0),disabled:p,children:p?"Please wait...":"Delete"})]})]})}),s.jsx(kt,{isOpen:o,onClose:I,title:u?"Edit FAQ":"Add FAQ",children:s.jsxs("form",{onSubmit:L,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Question ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{type:"text",value:S.question,onChange:q=>P({...S,question:q.target.value}),placeholder:"Enter question",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Answer ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:S.answer,onChange:q=>P({...S,answer:q.target.value}),placeholder:"Enter answer",required:!0,rows:6,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),s.jsx(He,{type:"text",value:S.category,onChange:q=>P({...S,category:q.target.value}),placeholder:"e.g., Booking, Payment, Cancellation"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sort Order"}),s.jsx(He,{type:"number",value:S.sortOrder,onChange:q=>P({...S,sortOrder:parseInt(q.target.value)||0}),placeholder:"Sort order (lower numbers appear first)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:S.isActive,onChange:q=>P({...S,isActive:q.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(we,{type:"button",variant:"secondary",onClick:I,children:"Cancel"}),s.jsxs(we,{type:"submit",children:[u?"Update":"Create"," FAQ"]})]})]})})]})},eCe=()=>{const[e,t]=g.useState(!0),[r,n]=g.useState(!1),[a,i]=g.useState({companyName:"",description:"",address:"",phone:"",email:"",facebook:"",twitter:"",instagram:"",linkedin:"",copyright:"",isActive:!0});g.useEffect(()=>{o()},[]);const o=async()=>{try{t(!0);const u=await f_.get();console.log("Company API Response:",u),u.data?.success&&u.data?.company&&i({companyName:u.data.company.companyName||"",description:u.data.company.description||"",address:u.data.company.address||"",phone:u.data.company.phone||"",email:u.data.company.email||"",facebook:u.data.company.facebook||"",twitter:u.data.company.twitter||"",instagram:u.data.company.instagram||"",linkedin:u.data.company.linkedin||"",copyright:u.data.company.copyright||"",isActive:u.data.company.isActive!==void 0?u.data.company.isActive:!0})}catch(u){console.error("Error fetching company data:",u);const d=u.response?.data?.message||u.response?.data?.error||"Failed to load company data";G.error(d)}finally{t(!1)}},l=async u=>{if(u.preventDefault(),!a.companyName.trim()){G.error("Company name is required");return}try{n(!0),await f_.update(a),G.success("Company data updated successfully"),o()}catch(d){console.error("Error updating company data:",d);const f=d.response?.data?.message||d.response?.data?.error||"Failed to update company data";G.error(f)}finally{n(!1)}};return e?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading company data..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Company Information"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your company details for the footer"})]}),s.jsx("div",{className:"flex items-center gap-2 text-primary",children:s.jsx(P5,{className:"w-8 h-8"})})]}),s.jsx(Ot,{children:s.jsx("div",{className:"p-6",children:s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Company Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{type:"text",value:a.companyName,onChange:u=>i({...a,companyName:u.target.value}),placeholder:"Enter company name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{value:a.description,onChange:u=>i({...a,description:u.target.value}),placeholder:"Enter company description",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),s.jsx(He,{type:"text",value:a.address,onChange:u=>i({...a,address:u.target.value}),placeholder:"Enter company address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),s.jsx(He,{type:"text",value:a.phone,onChange:u=>i({...a,phone:u.target.value}),placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),s.jsx(He,{type:"email",value:a.email,onChange:u=>i({...a,email:u.target.value}),placeholder:"Enter email address"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Social Media Links"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook URL"}),s.jsx(He,{type:"url",value:a.facebook,onChange:u=>i({...a,facebook:u.target.value}),placeholder:"https://facebook.com/yourpage"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Twitter URL"}),s.jsx(He,{type:"url",value:a.twitter,onChange:u=>i({...a,twitter:u.target.value}),placeholder:"https://twitter.com/yourhandle"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Instagram URL"}),s.jsx(He,{type:"url",value:a.instagram,onChange:u=>i({...a,instagram:u.target.value}),placeholder:"https://instagram.com/yourhandle"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LinkedIn URL"}),s.jsx(He,{type:"url",value:a.linkedin,onChange:u=>i({...a,linkedin:u.target.value}),placeholder:"https://linkedin.com/company/yourcompany"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Copyright Text"}),s.jsx(He,{type:"text",value:a.copyright,onChange:u=>i({...a,copyright:u.target.value}),placeholder:" 2024 Your Company. All rights reserved."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:a.isActive,onChange:u=>i({...a,isActive:u.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active (Show company data in footer)"})]}),s.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:s.jsxs(we,{type:"submit",disabled:r,children:[s.jsx(_5,{className:"w-4 h-4 mr-2"}),r?"Saving...":"Save Changes"]})})]})})})]})},tCe=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!1),[a,i]=g.useState(null),[o,l]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState(""),[p,v]=g.useState("all"),[x,j]=g.useState({page:1,limit:20,total:0,pages:0}),[w,S]=g.useState(null),[P,k]=g.useState(!1);g.useEffect(()=>{R()},[p,x.page]);const R=async()=>{try{n(!0);const _={page:x.page,limit:x.limit};p!=="all"&&(_.status=p);const T=await Il.getAll(_);T.data?.success&&(t(T.data.contacts||[]),j(M=>({...M,total:T.data.pagination?.total||0,pages:T.data.pagination?.pages||0})))}catch(_){console.error("Error fetching contacts:",_),G.error("Failed to load contact submissions")}finally{n(!1)}},I=async _=>{try{const T=await Il.getById(_);T.data?.success&&(i(T.data.contact),l(!0),T.data.contact.status==="new"&&(await Il.updateStatus(_,{status:"read"}),R()))}catch(T){console.error("Error fetching contact:",T),G.error("Failed to load contact details")}},L=async(_,T)=>{try{if(await Il.updateStatus(_,{status:T}),G.success("Status updated successfully"),R(),o){const M=await Il.getById(_);M.data?.success&&i(M.data.contact)}}catch(M){console.error("Error updating status:",M),G.error("Failed to update status")}},E=async()=>{if(!f.trim()){G.error("Please enter a reply message");return}try{if(await Il.updateStatus(a._id,{status:"replied",replyMessage:f.trim()}),G.success("Reply sent successfully"),d(!1),m(""),R(),o){const _=await Il.getById(a._id);_.data?.success&&i(_.data.contact)}}catch(_){console.error("Error sending reply:",_),G.error("Failed to send reply")}},C=async(_,T=!1)=>{if(!T){const M=e.find($=>$._id===_)||a;S({id:_,name:M?.name||M?.email});return}k(!0);try{await Il.delete(_),G.success("Contact submission deleted successfully"),R(),o&&a?._id===_&&(l(!1),i(null))}catch(M){console.error("Error deleting contact:",M),G.error("Failed to delete contact submission")}finally{k(!1),S(null)}},F=_=>{const T={new:{label:"New",color:"blue",icon:Ea},read:{label:"Read",color:"yellow",icon:Qr},replied:{label:"Replied",color:"green",icon:Pa},resolved:{label:"Resolved",color:"gray",icon:Xl}},M=T[_]||T.new,$=M.icon;return s.jsxs(wt,{color:M.color,children:[s.jsx($,{className:"w-3 h-3 mr-1"}),M.label]})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Contact Submissions"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage customer contact form submissions"})]})}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-4 flex gap-2 flex-wrap",children:[s.jsx(we,{variant:p==="all"?"primary":"secondary",onClick:()=>v("all"),size:"sm",children:"All"}),s.jsx(we,{variant:p==="new"?"primary":"secondary",onClick:()=>v("new"),size:"sm",children:"New"}),s.jsx(we,{variant:p==="read"?"primary":"secondary",onClick:()=>v("read"),size:"sm",children:"Read"}),s.jsx(we,{variant:p==="replied"?"primary":"secondary",onClick:()=>v("replied"),size:"sm",children:"Replied"}),s.jsx(we,{variant:p==="resolved"?"primary":"secondary",onClick:()=>v("resolved"),size:"sm",children:"Resolved"})]})}),s.jsx(Ot,{children:s.jsx(gn,{children:r?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Loading contacts..."})]}):e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Qi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No contact submissions found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{children:"Email"}),s.jsx(Oe,{children:"Phone"}),s.jsx(Oe,{children:"Subject"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Date"}),s.jsx(Oe,{className:"text-right",children:"Actions"})]})}),s.jsx(Fn,{children:e.map((_,T)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:T+1}),s.jsx(Ae,{className:"font-medium",children:_.name}),s.jsx(Ae,{children:s.jsx("a",{href:`mailto:${_.email}`,className:"text-purple-600 hover:underline",children:_.email})}),s.jsx(Ae,{children:_.phone||"-"}),s.jsx(Ae,{children:_.subject||"-"}),s.jsx(Ae,{children:F(_.status)}),s.jsx(Ae,{children:new Date(_.createdAt).toLocaleDateString()}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(we,{variant:"secondary",size:"sm",onClick:()=>I(_._id),children:s.jsx(Qr,{className:"w-4 h-4"})}),s.jsx(we,{variant:"danger",size:"sm",onClick:()=>C(_._id),children:s.jsx(Xr,{className:"w-4 h-4"})})]})})]},_._id))})]})}),x.pages>1&&s.jsxs("div",{className:"p-4 flex items-center justify-between border-t",children:[s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(x.page-1)*x.limit+1," to ",Math.min(x.page*x.limit,x.total)," of ",x.total," contacts"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(we,{variant:"secondary",size:"sm",onClick:()=>j(_=>({..._,page:_.page-1})),disabled:x.page===1,children:"Previous"}),s.jsx(we,{variant:"secondary",size:"sm",onClick:()=>j(_=>({..._,page:_.page+1})),disabled:x.page>=x.pages,children:"Next"})]})]})]})})}),s.jsx(kt,{isOpen:!!w,onClose:()=>{P||S(null)},title:"Delete Contact Submission",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Delete ",w?.name||"this contact submission","? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>S(null),disabled:P,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:()=>C(w.id,!0),disabled:P,children:P?"Please wait...":"Delete"})]})]})}),s.jsx(kt,{isOpen:o,onClose:()=>{l(!1),i(null)},title:"Contact Submission Details",size:"lg",children:a&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("a",{href:`mailto:${a.email}`,className:"text-purple-600 hover:underline",children:a.email})]}),a.phone&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),s.jsx("a",{href:`tel:${a.phone}`,className:"text-gray-900 dark:text-gray-100",children:a.phone})]}),a.subject&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subject"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.subject})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Message"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:a.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),F(a.status)]}),a.replyMessage&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Reply"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 whitespace-pre-wrap bg-gray-50 dark:bg-gray-800 p-3 rounded",children:a.replyMessage}),a.repliedBy&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Replied by ",a.repliedBy.name," on ",new Date(a.repliedAt).toLocaleString()]})]}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.status!=="replied"&&s.jsxs(we,{variant:"primary",onClick:()=>{m(""),d(!0)},children:[s.jsx(di,{className:"w-4 h-4 mr-2"}),"Reply"]}),s.jsx(we,{variant:"secondary",onClick:()=>L(a._id,"read"),disabled:a.status==="read",children:"Mark as Read"}),s.jsx(we,{variant:"secondary",onClick:()=>L(a._id,"resolved"),disabled:a.status==="resolved",children:"Mark as Resolved"})]})]})}),s.jsx(kt,{isOpen:u,onClose:()=>{d(!1),m("")},title:"Reply to Contact",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Reply Message"}),s.jsx("textarea",{value:f,onChange:_=>m(_.target.value),placeholder:"Enter your reply message...",rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-y"})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(we,{variant:"secondary",onClick:()=>{d(!1),m("")},children:"Cancel"}),s.jsx(we,{variant:"primary",onClick:E,children:"Send Reply"})]})]})})]})},rCe=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[o,l]=g.useState(!1),[u,d]=g.useState(null),[f,m]=g.useState({title:"",description:"",image:"",link:"",isActive:!0,sortOrder:0,startDate:"",endDate:""}),[p,v]=g.useState(null),[x,j]=g.useState(null);g.useEffect(()=>{w()},[]);const w=async()=>{try{n(!0);const C=await vf.getAll({active:"all"});console.log("Banners API Response:",C.data);let F=[];C.data&&(C.data.banners&&Array.isArray(C.data.banners)?F=C.data.banners:Array.isArray(C.data)?F=C.data:C.data.data&&Array.isArray(C.data.data)&&(F=C.data.data)),console.log("Parsed banners:",F),t(F),F.length===0&&console.log('No banners found. You can create a new banner using the "Add Banner" button.')}catch(C){console.error("Error fetching banners:",C);const F=C.response?.data?.error||C.response?.data?.message||C.message||"Failed to load banners";G.error(F),t([])}finally{n(!1)}},S=(C=null)=>{if(C){d(C),m({title:C.title||"",description:C.description||"",image:C.image||"",link:C.link||"",isActive:C.isActive!==void 0?C.isActive:!0,sortOrder:C.sortOrder||0,startDate:C.startDate?new Date(C.startDate).toISOString().split("T")[0]:"",endDate:C.endDate?new Date(C.endDate).toISOString().split("T")[0]:""});const F=C.image?_n(C.image):null;j(F),v(null)}else d(null),m({title:"",description:"",image:"",link:"",isActive:!0,sortOrder:0,startDate:"",endDate:""}),j(null),v(null);l(!0)},P=()=>{l(!1),d(null),m({title:"",description:"",image:"",link:"",isActive:!0,sortOrder:0,startDate:"",endDate:""}),v(null),j(null)},k=C=>{const F=C.target.files[0];if(F){v(F);const _=new FileReader;_.onloadend=()=>{j(_.result)},_.readAsDataURL(F),m({...f,image:""})}},R=async C=>{if(C.preventDefault(),!f.title.trim()){G.error("Banner title is required");return}if(!p&&!f.image&&!u){G.error("Banner image is required");return}try{const F=new FormData;F.append("title",f.title),F.append("description",f.description||""),F.append("link",f.link||""),F.append("isActive",f.isActive),F.append("sortOrder",f.sortOrder),f.startDate&&F.append("startDate",f.startDate),f.endDate&&F.append("endDate",f.endDate),p?F.append("image",p):f.image&&u&&F.append("image",f.image),u?(await vf.update(u._id,F),G.success("Banner updated successfully")):(await vf.create(F),G.success("Banner created successfully")),P(),w()}catch(F){const _=F.response?.data?.error||F.response?.data?.message||"Failed to save banner";G.error(_)}},I=async C=>{if(window.confirm("Are you sure you want to delete this banner? This action cannot be undone."))try{await vf.delete(C),G.success("Banner deleted successfully"),w()}catch(F){const _=F.response?.data?.error||F.response?.data?.message||"Failed to delete banner";G.error(_)}},L=async C=>{try{await vf.toggleActive(C._id),G.success(`Banner ${C.isActive?"deactivated":"activated"} successfully`),w()}catch{G.error("Failed to update banner status")}},E=e.filter(C=>C.title?.toLowerCase().includes(a.toLowerCase())||C.description?.toLowerCase().includes(a.toLowerCase()));return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Banners"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage promotional banners"})]}),s.jsxs(we,{onClick:()=>S(),children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add Banner"]})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(He,{type:"text",placeholder:"Search banners...",value:a,onChange:C=>i(C.target.value),className:"pl-10"})]}),s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"Image"}),s.jsx(Oe,{children:"Title"}),s.jsx(Oe,{children:"Description"}),s.jsx(Oe,{children:"Link"}),s.jsx(Oe,{children:"Sort Order"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:E.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:7,className:"text-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:s.jsx(Wf,{className:"w-8 h-8 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-1",children:a?"No banners match your search":"No banners yet"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:a?"Try adjusting your search terms":"Create your first banner to promote your services"}),!a&&s.jsxs(we,{onClick:()=>S(),size:"sm",children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add Your First Banner"]})]})]})})}):E.map(C=>s.jsxs(vt,{children:[s.jsx(Ae,{children:C.image?s.jsx("img",{src:_n(C.image),alt:C.title,className:"w-20 h-12 object-cover rounded",onError:F=>{F.target.style.display="none"}}):s.jsx("span",{className:"text-gray-400",children:"N/A"})}),s.jsx(Ae,{className:"font-medium",children:C.title}),s.jsx(Ae,{className:"max-w-xs truncate",children:C.description||"N/A"}),s.jsx(Ae,{children:C.link?s.jsx("a",{href:C.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline truncate max-w-xs block",children:C.link}):s.jsx("span",{className:"text-gray-400",children:"N/A"})}),s.jsx(Ae,{children:C.sortOrder||0}),s.jsx(Ae,{children:s.jsx(wt,{variant:C.isActive?"success":"danger",className:"cursor-pointer",onClick:()=>L(C),children:C.isActive?"Active":"Inactive"})}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>S(C),children:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>I(C._id),children:s.jsx(Xr,{className:"w-4 h-4 text-red-500"})})]})})]},C._id))})]})]})}),s.jsx(kt,{isOpen:o,onClose:P,title:u?"Edit Banner":"Add New Banner",size:"md",children:s.jsxs("form",{onSubmit:R,className:"space-y-4",children:[s.jsx(He,{label:"Banner Title *",value:f.title,onChange:C=>m({...f,title:C.target.value}),placeholder:"e.g., Summer Sale, New Venue Launch",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Description"}),s.jsx("textarea",{value:f.description,onChange:C=>m({...f,description:C.target.value}),placeholder:"Banner description...",rows:3,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Banner Image *"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:"image/*",onChange:k,className:`block w-full text-sm text-gray-500
                    file:mr-4 file:py-2.5 file:px-4
                    file:rounded-lg file:border-0
                    file:text-sm file:font-semibold
                    file:bg-gradient-to-r file:from-purple-600 file:to-orange-600 file:text-white
                    hover:file:from-purple-700 hover:file:to-orange-700
                    cursor-pointer transition-colors`}),s.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Upload an image file (JPG, PNG, GIF, WEBP - Max 5MB)"})]}),x&&s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative w-full max-w-xs mx-auto",children:[s.jsx("img",{src:_n(x),alt:"Banner Preview",className:"w-full h-40 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-700 shadow-sm",onError:C=>{C.target.style.display="none"}}),p&&s.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded",children:"New"})]}),p&&s.jsx("p",{className:"mt-2 text-xs text-center text-gray-500 dark:text-gray-400",children:"New image will replace the current one"})]})]})]}),s.jsx(He,{label:"Link (Optional)",value:f.link,onChange:C=>m({...f,link:C.target.value}),placeholder:"https://example.com",type:"url"}),s.jsx(He,{label:"Sort Order",value:f.sortOrder,onChange:C=>m({...f,sortOrder:parseInt(C.target.value)||0}),type:"number",min:"0"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(He,{label:"Start Date (Optional)",value:f.startDate,onChange:C=>m({...f,startDate:C.target.value}),type:"date"}),s.jsx(He,{label:"End Date (Optional)",value:f.endDate,onChange:C=>m({...f,endDate:C.target.value}),type:"date"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:f.isActive,onChange:C=>m({...f,isActive:C.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(we,{type:"submit",className:"flex-1",children:u?"Update Banner":"Create Banner"}),s.jsx(we,{type:"button",variant:"ghost",onClick:P,className:"flex-1",children:"Cancel"})]})]})})]})},nCe=()=>{const[e,t]=g.useState([]),[r,n]=g.useState([]),[a,i]=g.useState(!0),[o,l]=g.useState(""),[u,d]=g.useState("all"),[f,m]=g.useState("all"),[p,v]=g.useState(null),[x,j]=g.useState(!1),[w,S]=g.useState(!1),[P,k]=g.useState(!1),[R,I]=g.useState(!1),[L,E]=g.useState(null),[C,F]=g.useState(!1),[_,T]=g.useState(1),M=10,[$,J]=g.useState({name:"",email:"",phone:"",password:"",location:"",gender:"",role:"",isActive:!0}),[q,U]=g.useState(null),[X,B]=g.useState(null);g.useEffect(()=>{Z(),ne()},[u,f]);const Z=async()=>{try{const ae={};u!=="all"&&(ae.role=u),f!=="all"&&(ae.isActive=f==="true");const ee=await pd.getAll(ae);t(ee.data?.staff||[])}catch{G.error("Failed to load staff")}finally{i(!1)}},ne=async()=>{try{const ae=await Tl.getAll({isActive:"true"});n(ae.data?.roles||[])}catch(ae){console.error("Failed to load roles:",ae)}},W=async ae=>{I(!0),j(!0);try{const ee=await pd.getById(ae);v(ee.data?.staff)}catch(ee){G.error(ee.response?.data?.error||"Failed to load staff details"),j(!1)}finally{I(!1)}},z=async ae=>{I(!0),k(!0);try{const be=(await pd.getById(ae)).data?.staff;J({name:be.name||"",email:be.email||"",phone:be.phone||"",password:"",location:be.location||"",gender:be.gender||"",role:be.role?._id||be.role||"",isActive:be.isActive!==void 0?be.isActive:!0}),B(be.img?_n(be.img):null),v(be)}catch(ee){G.error(ee.response?.data?.error||"Failed to load staff details"),k(!1)}finally{I(!1)}},pe=async(ae,ee=!1)=>{if(!ee){const be=e.find(he=>he._id===ae)||p;E({id:ae,name:be?.name,type:"delete"});return}F(!0);try{await pd.delete(ae),G.success("Staff deleted successfully"),Z(),p&&p._id===ae&&(j(!1),v(null))}catch(be){G.error(be.response?.data?.error||"Failed to delete staff")}finally{F(!1),E(null)}},oe=async()=>{if(!$.name||!$.email||!$.phone||!$.password||!$.role){G.error("Please fill all required fields");return}if($.phone.length<10||$.phone.length>15){G.error("Phone number must be between 10 and 15 digits");return}F(!0);try{const ae=new FormData;ae.append("name",$.name),ae.append("email",$.email),ae.append("phone",$.phone),ae.append("password",$.password),ae.append("role",$.role),$.location&&ae.append("location",$.location),$.gender&&ae.append("gender",$.gender),q&&ae.append("img",q),await pd.create(ae),G.success("Staff created successfully"),S(!1),ke(),Z()}catch(ae){G.error(ae.response?.data?.error||"Failed to create staff")}finally{F(!1)}},Pe=async()=>{if(!$.name||!$.email||!$.phone||!$.role){G.error("Please fill all required fields");return}if($.phone.length<10||$.phone.length>15){G.error("Phone number must be between 10 and 15 digits");return}F(!0);try{const ae=new FormData;ae.append("name",$.name),ae.append("email",$.email),ae.append("phone",$.phone),ae.append("role",$.role),$.location&&ae.append("location",$.location),$.gender&&ae.append("gender",$.gender),$.password&&ae.append("password",$.password),$.isActive!==void 0&&ae.append("isActive",$.isActive),q&&ae.append("img",q),await pd.update(p._id,ae),G.success("Staff updated successfully"),k(!1),ke(),Z()}catch(ae){G.error(ae.response?.data?.error||"Failed to update staff")}finally{F(!1)}},ke=()=>{J({name:"",email:"",phone:"",password:"",location:"",gender:"",role:"",isActive:!0}),U(null),B(null),v(null)},fe=ae=>{const ee=ae.target.files[0];if(ee){U(ee);const be=new FileReader;be.onloadend=()=>{B(be.result)},be.readAsDataURL(ee)}},ue=e.filter(ae=>ae.name?.toLowerCase().includes(o.toLowerCase())||ae.email?.toLowerCase().includes(o.toLowerCase())||ae.phone?.includes(o)),re=ue.length,K=Math.ceil(re/M),de=(_-1)*M,te=de+M,ye=ue.slice(de,te);return g.useEffect(()=>{T(1)},[o,u,f]),a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Staff"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all staff members"})]}),sr("create_staff")&&s.jsxs(we,{onClick:()=>S(!0),children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add Staff"]})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(He,{type:"text",placeholder:"Search staff...",value:o,onChange:ae=>l(ae.target.value),className:"pl-10"})]})}),s.jsxs("select",{value:u,onChange:ae=>d(ae.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"all",children:"All Roles"}),r.map(ae=>s.jsx("option",{value:ae._id,children:ae.name},ae._id))]}),s.jsxs("select",{value:f,onChange:ae=>m(ae.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"true",children:"Active"}),s.jsx("option",{value:"false",children:"Inactive"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Staff: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:re})]}),s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{children:"Email"}),s.jsx(Oe,{children:"Phone"}),s.jsx(Oe,{children:"Role"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:ye.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No staff found"})}):ye.map((ae,ee)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:de+ee+1}),s.jsx(Ae,{className:"font-medium",children:ae.name}),s.jsx(Ae,{className:"whitespace-normal break-words max-w-[12rem] text-sm",children:ae.email}),s.jsx(Ae,{children:ae.phone||"N/A"}),s.jsx(Ae,{children:s.jsx(wt,{variant:"info",children:ae.role?.name||"N/A"})}),s.jsx(Ae,{children:s.jsx(wt,{variant:ae.isActive?"success":"warning",children:ae.isActive?"Active":"Inactive"})}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[sr("view_staff")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>W(ae._id),title:"View Details",children:s.jsx(Qr,{className:"w-4 h-4"})}),sr("edit_staff")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>z(ae._id),title:"Edit Staff",children:s.jsx(ls,{className:"w-4 h-4"})}),sr("delete_staff")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>pe(ae._id),title:"Delete Staff",children:s.jsx(Xr,{className:"w-4 h-4 text-red-500"})})]})})]},ae._id))})]}),re>10&&s.jsx($n,{currentPage:_,totalPages:K,totalItems:re,itemsPerPage:M,onPageChange:T})]})}),s.jsx(kt,{isOpen:w,onClose:()=>{C||(S(!1),ke())},title:"Add New Staff",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),s.jsx(He,{value:$.name,onChange:ae=>J({...$,name:ae.target.value}),placeholder:"Enter name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),s.jsx(He,{type:"email",value:$.email,onChange:ae=>J({...$,email:ae.target.value}),placeholder:"Enter email",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),s.jsx(He,{type:"tel",value:$.phone,onChange:ae=>{const ee=ae.target.value.replace(/\D/g,"");ee.length<=15&&J({...$,phone:ee})},placeholder:"Enter phone (10-15 digits)",minLength:10,maxLength:15,autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password *"}),s.jsx(He,{type:"password",value:$.password,onChange:ae=>J({...$,password:ae.target.value}),placeholder:"Enter password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role *"}),s.jsxs("select",{value:$.role,onChange:ae=>J({...$,role:ae.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"",children:"Select role"}),r.map(ae=>s.jsx("option",{value:ae._id,children:ae.name},ae._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),s.jsxs("select",{value:$.gender,onChange:ae=>J({...$,gender:ae.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"",children:"Select gender"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),s.jsx(He,{value:$.location,onChange:ae=>J({...$,location:ae.target.value}),placeholder:"Enter location"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"cursor-pointer",children:[s.jsxs("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2",children:[s.jsx(ev,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload Image"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:fe,className:"hidden"})]}),X&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:X,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),s.jsx("button",{onClick:()=>{B(null),U(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:s.jsx(dr,{className:"w-3 h-3"})})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(we,{variant:"outline",onClick:()=>{S(!1),ke()},disabled:C,children:"Cancel"}),s.jsx(we,{onClick:oe,disabled:C,children:C?"Creating...":"Create Staff"})]})]})}),s.jsx(kt,{isOpen:P,onClose:()=>{C||(k(!1),ke())},title:"Edit Staff",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),s.jsx(He,{value:$.name,onChange:ae=>J({...$,name:ae.target.value}),placeholder:"Enter name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),s.jsx(He,{type:"email",value:$.email,onChange:ae=>J({...$,email:ae.target.value}),placeholder:"Enter email",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),s.jsx(He,{type:"tel",value:$.phone,onChange:ae=>{const ee=ae.target.value.replace(/\D/g,"");ee.length<=15&&J({...$,phone:ee})},placeholder:"Enter phone (10-15 digits)",minLength:10,maxLength:15,autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password (leave blank to keep current)"}),s.jsx(He,{type:"password",value:$.password,onChange:ae=>J({...$,password:ae.target.value}),placeholder:"Enter new password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role *"}),s.jsxs("select",{value:$.role,onChange:ae=>J({...$,role:ae.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"",children:"Select role"}),r.map(ae=>s.jsx("option",{value:ae._id,children:ae.name},ae._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),s.jsxs("select",{value:$.gender,onChange:ae=>J({...$,gender:ae.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"",children:"Select gender"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),s.jsx(He,{value:$.location,onChange:ae=>J({...$,location:ae.target.value}),placeholder:"Enter location"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),s.jsxs("select",{value:$.isActive,onChange:ae=>J({...$,isActive:ae.target.value==="true"}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:!0,children:"Active"}),s.jsx("option",{value:!1,children:"Inactive"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"cursor-pointer",children:[s.jsxs("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2",children:[s.jsx(ev,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload Image"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:fe,className:"hidden"})]}),X&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:X,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),s.jsx("button",{onClick:()=>{B(null),U(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:s.jsx(dr,{className:"w-3 h-3"})})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(we,{variant:"outline",onClick:()=>{k(!1),ke()},disabled:C,children:"Cancel"}),s.jsx(we,{onClick:Pe,disabled:C,children:C?"Updating...":"Update Staff"})]})]})}),s.jsx(kt,{isOpen:!!L,onClose:()=>{C||E(null)},title:"Delete Staff",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Are you sure you want to delete ",L?.name||"this staff member","? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>E(null),disabled:C,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:()=>pe(L.id,!0),disabled:C,children:C?"Please wait...":"Delete"})]})]})}),s.jsx(kt,{isOpen:x,onClose:()=>{j(!1),v(null)},title:"Staff Details",size:"lg",children:R?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):p?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(la,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:p.name||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(di,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:p.email||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx(lc,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Phone"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:p.phone||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx(oa,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Role"}),s.jsx("div",{className:"mt-1",children:s.jsx(wt,{variant:"info",children:p.role?.name||"N/A"})})]})]}),p.location&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:s.jsx(bs,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Location"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:p.location})]})]}),p.gender&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-pink-100 dark:bg-pink-900/30 rounded-lg",children:s.jsx(la,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gender"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 capitalize",children:p.gender})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/30 rounded-lg",children:s.jsx(oa,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(wt,{variant:p.isActive?"success":"warning",children:p.isActive?"Active":"Inactive"})})]})]})]}),p.img&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Image"}),s.jsx("img",{src:_n(p.img),alt:p.name,className:"w-32 h-32 rounded-lg object-cover"})]})]}):null})]})},sCe=()=>{const e=xr(),[t]=xL(),[r,n]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState({}),[u,d]=g.useState(!0),[f,m]=g.useState(""),[p,v]=g.useState("all"),[x,j]=g.useState(null),[w,S]=g.useState(!1),[P,k]=g.useState(!1),[R,I]=g.useState(null),[L,E]=g.useState(!1),[C,F]=g.useState(1),_=10,[T,M]=g.useState({name:"",description:"",permissions:[],isActive:!0}),$=t.get("mode")==="create"||t.get("mode")==="edit",J=t.get("mode")==="create",q=t.get("mode")==="edit",U=t.get("id");g.useEffect(()=>{X(),B()},[p]),g.useEffect(()=>{q&&U?Z():J&&Pe()},[q,J,U]);const X=async()=>{try{const ee={};p!=="all"&&(ee.isActive=p==="true");const be=await Tl.getAll(ee);n(be.data?.roles||[])}catch{G.error("Failed to load roles")}finally{d(!1)}},B=async()=>{try{const ee=await Tl.getAvailablePermissions();i(ee.data?.allPermissions||[]),l(ee.data?.permissionsByCategory||{})}catch(ee){console.error("Failed to load available permissions:",ee),i(["view_dashboard","view_users","create_users","edit_users","delete_users","view_vendors","create_vendors","edit_vendors","delete_vendors","view_venues","create_venues","edit_venues","delete_venues","view_bookings","edit_bookings","view_leads","edit_leads","view_payouts","view_analytics","view_settings","edit_settings","view_banners","create_banners","edit_banners","delete_banners","view_videos","create_videos","edit_videos","delete_videos","view_testimonials","create_testimonials","edit_testimonials","delete_testimonials","view_faqs","create_faqs","edit_faqs","delete_faqs","view_company","edit_company","view_contacts","edit_contacts","delete_contacts","view_roles","create_roles","edit_roles","delete_roles","view_staff","create_staff","edit_staff","delete_staff"])}},Z=async()=>{k(!0);try{const be=(await Tl.getById(U)).data?.role;M({name:be.name||"",description:be.description||"",permissions:be.permissions||[],isActive:be.isActive!==void 0?be.isActive:!0}),j(be)}catch(ee){G.error(ee.response?.data?.error||"Failed to load role details"),e("/admin/roles")}finally{k(!1)}},ne=async ee=>{k(!0),S(!0);try{const be=await Tl.getById(ee);j(be.data?.role)}catch(be){G.error(be.response?.data?.error||"Failed to load role details"),S(!1)}finally{k(!1)}},W=ee=>{e(`/admin/roles?mode=edit&id=${ee}`)},z=async(ee,be=!1)=>{if(!be){const he=r.find(xe=>xe._id===ee)||x;I({id:ee,name:he?.name,type:"delete"});return}E(!0);try{await Tl.delete(ee),G.success("Role deleted successfully"),X(),x&&x._id===ee&&(S(!1),j(null))}catch(he){G.error(he.response?.data?.error||"Failed to delete role")}finally{E(!1),I(null)}},pe=async()=>{if(!T.name||T.permissions.length===0){G.error("Please fill name and select at least one permission");return}E(!0);try{await Tl.create(T),G.success("Role created successfully"),e("/admin/roles"),Pe(),X()}catch(ee){G.error(ee.response?.data?.error||"Failed to create role")}finally{E(!1)}},oe=async()=>{if(!T.name||T.permissions.length===0){G.error("Please fill name and select at least one permission");return}E(!0);try{await Tl.update(x._id,T),G.success("Role updated successfully"),e("/admin/roles"),Pe(),X()}catch(ee){G.error(ee.response?.data?.error||"Failed to update role")}finally{E(!1)}},Pe=()=>{M({name:"",description:"",permissions:[],isActive:!0}),j(null)},ke=ee=>{T.permissions.includes(ee)?M({...T,permissions:T.permissions.filter(be=>be!==ee)}):M({...T,permissions:[...T.permissions,ee]})},fe=ee=>{const be=o[ee]||[];if(be.every(xe=>T.permissions.includes(xe)))M({...T,permissions:T.permissions.filter(xe=>!be.includes(xe))});else{const xe=[...T.permissions];be.forEach(Be=>{xe.includes(Be)||xe.push(Be)}),M({...T,permissions:xe})}},ue=r.filter(ee=>ee.name?.toLowerCase().includes(f.toLowerCase())||ee.description?.toLowerCase().includes(f.toLowerCase())),re=ue.length,K=Math.ceil(re/_),de=(C-1)*_,te=de+_,ye=ue.slice(de,te);g.useEffect(()=>{F(1)},[f,p]);const ae=ee=>({dashboard:"Dashboard",users:"Users Management",vendors:"Vendors Management",venues:"Venues Management",bookings:"Bookings Management",leads:"Leads Management",payouts:"Payouts Management",analytics:"Analytics",settings:"Settings",banners:"Banners Management",videos:"Videos Management",testimonials:"Testimonials Management",faqs:"FAQs Management",company:"Company Management",legal_pages:"Legal Pages Management",contacts:"Contact Submissions",roles:"Roles Management",staff:"Staff Management"})[ee]||ee;return $?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(we,{variant:"ghost",onClick:()=>e("/admin/roles"),className:"flex items-center gap-2",children:[s.jsx(I5,{className:"w-4 h-4"}),"Back to Roles"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:J?"Create New Role":"Edit Role"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:J?"Add a new role with permissions":"Update role details and permissions"})]})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Role Name *"}),s.jsx(He,{value:T.name,onChange:ee=>M({...T,name:ee.target.value}),placeholder:"Enter role name (e.g., Manager, Support Staff)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),s.jsx("textarea",{value:T.description,onChange:ee=>M({...T,description:ee.target.value}),placeholder:"Enter role description",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",rows:"3"})]}),q&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),s.jsxs("select",{value:T.isActive,onChange:ee=>M({...T,isActive:ee.target.value==="true"}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:!0,children:"Active"}),s.jsx("option",{value:!1,children:"Inactive"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium",children:["Permissions * (",T.permissions.length," selected)"]}),s.jsx(we,{variant:"outline",size:"sm",onClick:()=>{T.permissions.length===a.length?M({...T,permissions:[]}):M({...T,permissions:[...a]})},children:T.permissions.length===a.length?"Deselect All":"Select All"})]}),s.jsx("div",{className:"space-y-4",children:Object.keys(o).length>0?Object.keys(o).map(ee=>{const be=o[ee]||[],he=be.filter(Be=>T.permissions.includes(Be)).length,xe=be.length>0&&he===be.length;return s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:ae(ee)}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>fe(ee),children:xe?"Deselect All":"Select All"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:be.map(Be=>{const ut=T.permissions.includes(Be);return s.jsxs("button",{type:"button",onClick:()=>ke(Be),className:`flex items-center gap-2 p-2 rounded-lg border transition-all ${ut?"bg-primary/10 border-primary text-primary":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-primary/50"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${ut?"bg-primary border-primary":"border-gray-300 dark:border-gray-600"}`,children:ut&&s.jsx(Ql,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"text-sm font-medium",children:Be})]},Be)})})]},ee)}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:a.map(ee=>{const be=T.permissions.includes(ee);return s.jsxs("button",{type:"button",onClick:()=>ke(ee),className:`flex items-center gap-2 p-2 rounded-lg border transition-all ${be?"bg-primary/10 border-primary text-primary":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-primary/50"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${be?"bg-primary border-primary":"border-gray-300 dark:border-gray-600"}`,children:be&&s.jsx(Ql,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"text-sm font-medium",children:ee})]},ee)})})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx(we,{variant:"outline",onClick:()=>e("/admin/roles"),disabled:L,children:"Cancel"}),s.jsx(we,{onClick:J?pe:oe,disabled:L,children:L?J?"Creating...":"Updating...":J?"Create Role":"Update Role"})]})]})})]}):u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Roles"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage user roles and permissions"})]}),s.jsxs(we,{onClick:()=>e("/admin/roles?mode=create"),children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add Role"]})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(He,{type:"text",placeholder:"Search roles...",value:f,onChange:ee=>m(ee.target.value),className:"pl-10"})]})}),s.jsxs("select",{value:p,onChange:ee=>v(ee.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"true",children:"Active"}),s.jsx("option",{value:"false",children:"Inactive"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Roles: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:re})]}),s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{children:"Description"}),s.jsx(Oe,{children:"Permissions"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:ye.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No roles found"})}):ye.map((ee,be)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:de+be+1}),s.jsx(Ae,{className:"font-medium",children:ee.name}),s.jsx(Ae,{className:"max-w-xs truncate",children:ee.description||"N/A"}),s.jsx(Ae,{children:s.jsxs(wt,{variant:"info",children:[ee.permissions?.length||0," permissions"]})}),s.jsx(Ae,{children:s.jsx(wt,{variant:ee.isActive?"success":"warning",children:ee.isActive?"Active":"Inactive"})}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>ne(ee._id),title:"View Details",children:s.jsx(Qr,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>W(ee._id),title:"Edit Role",children:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>z(ee._id),title:"Delete Role",children:s.jsx(Xr,{className:"w-4 h-4 text-red-500"})})]})})]},ee._id))})]}),re>10&&s.jsx($n,{currentPage:C,totalPages:K,totalItems:re,itemsPerPage:_,onPageChange:F})]})}),s.jsx(kt,{isOpen:!!R,onClose:()=>{L||I(null)},title:"Delete Role",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Are you sure you want to delete ",R?.name||"this role","? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>I(null),disabled:L,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:()=>z(R.id,!0),disabled:L,children:L?"Please wait...":"Delete"})]})]})}),s.jsx(kt,{isOpen:w,onClose:()=>{S(!1),j(null)},title:"Role Details",size:"lg",children:P?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):x?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(oa,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:x.name||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/30 rounded-lg",children:s.jsx(oa,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(wt,{variant:x.isActive?"success":"warning",children:x.isActive?"Active":"Inactive"})})]})]})]}),x.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Description"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:x.description})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:["Permissions (",x.permissions?.length||0,")"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:x.permissions?.map(ee=>s.jsx(wt,{variant:"info",children:ee},ee))})]})]}):null})]})},aCe=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[o,l]=g.useState("all"),[u,d]=g.useState(null),[f,m]=g.useState(!1),[p,v]=g.useState(!1),[x,j]=g.useState(!1),[w,S]=g.useState(null),[P,k]=g.useState(!1),[R,I]=g.useState(1),L=10,[E,C]=g.useState({rating:"",comment:""});g.useEffect(()=>{F()},[o]);const F=async()=>{try{const z={};o!=="all"&&(z.rating=o);const pe=await jf.getAll(z);t(pe.data?.reviews||[])}catch{G.error("Failed to load reviews")}finally{n(!1)}},_=async z=>{j(!0),m(!0);try{const pe=await jf.getById(z);d(pe.data?.review)}catch(pe){G.error(pe.response?.data?.error||"Failed to load review details"),m(!1)}finally{j(!1)}},T=async z=>{j(!0),v(!0);try{const oe=(await jf.getById(z)).data?.review;C({rating:oe.rating||"",comment:oe.comment||""}),d(oe)}catch(pe){G.error(pe.response?.data?.error||"Failed to load review details"),v(!1)}finally{j(!1)}},M=async(z,pe=!1)=>{if(!pe){const oe=e.find(Pe=>Pe._id===z)||u;S({id:z,name:oe?.comment?.substring(0,30)||"this review",type:"delete"});return}k(!0);try{await jf.delete(z),G.success("Review deleted successfully"),F(),u&&u._id===z&&(m(!1),d(null))}catch(oe){G.error(oe.response?.data?.error||"Failed to delete review")}finally{k(!1),S(null)}},$=async()=>{if(!E.rating||!E.comment){G.error("Please fill all fields");return}k(!0);try{await jf.update(u._id,E),G.success("Review updated successfully"),v(!1),J(),F()}catch(z){G.error(z.response?.data?.error||"Failed to update review")}finally{k(!1)}},J=()=>{C({rating:"",comment:""}),d(null)},q=z=>Array.from({length:5},(pe,oe)=>s.jsx(Ri,{className:`w-4 h-4 ${oe<z?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`},oe)),U=e.filter(z=>z.comment?.toLowerCase().includes(a.toLowerCase())||z.userId?.name?.toLowerCase().includes(a.toLowerCase())||z.venueId?.name?.toLowerCase().includes(a.toLowerCase())),X=U.length,B=Math.ceil(X/L),Z=(R-1)*L,ne=Z+L,W=U.slice(Z,ne);return g.useEffect(()=>{I(1)},[a,o]),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Reviews"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all venue reviews"})]})}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(He,{type:"text",placeholder:"Search reviews...",value:a,onChange:z=>i(z.target.value),className:"pl-10"})]})}),s.jsxs("select",{value:o,onChange:z=>l(z.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"all",children:"All Ratings"}),s.jsx("option",{value:"5",children:"5 Stars"}),s.jsx("option",{value:"4",children:"4 Stars"}),s.jsx("option",{value:"3",children:"3 Stars"}),s.jsx("option",{value:"2",children:"2 Stars"}),s.jsx("option",{value:"1",children:"1 Star"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Reviews: ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:X})]}),s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"User"}),s.jsx(Oe,{children:"Venue"}),s.jsx(Oe,{children:"Rating"}),s.jsx(Oe,{children:"Comment"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:W.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No reviews found"})}):W.map((z,pe)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:Z+pe+1}),s.jsx(Ae,{className:"font-medium",children:z.userId?.name||"Unknown User"}),s.jsx(Ae,{children:z.venueId?.name||"Unknown Venue"}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[q(z.rating),s.jsxs("span",{className:"ml-1 text-sm text-gray-600 dark:text-gray-400",children:["(",z.rating,")"]})]})}),s.jsx(Ae,{className:"max-w-xs truncate",children:z.comment||"N/A"}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[sr("view_reviews")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>_(z._id),title:"View Details",children:s.jsx(Qr,{className:"w-4 h-4"})}),sr("edit_reviews")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>T(z._id),title:"Edit Review",children:s.jsx(ls,{className:"w-4 h-4"})}),sr("delete_reviews")&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>M(z._id),title:"Delete Review",children:s.jsx(Xr,{className:"w-4 h-4 text-red-500"})})]})})]},z._id))})]}),X>10&&s.jsx($n,{currentPage:R,totalPages:B,totalItems:X,itemsPerPage:L,onPageChange:I})]})}),sr("edit_reviews")&&s.jsx(kt,{isOpen:p,onClose:()=>{P||(v(!1),J())},title:"Edit Review",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rating *"}),s.jsxs("select",{value:E.rating,onChange:z=>C({...E,rating:z.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"",children:"Select rating"}),s.jsx("option",{value:"5",children:"5 Stars"}),s.jsx("option",{value:"4",children:"4 Stars"}),s.jsx("option",{value:"3",children:"3 Stars"}),s.jsx("option",{value:"2",children:"2 Stars"}),s.jsx("option",{value:"1",children:"1 Star"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Comment *"}),s.jsx("textarea",{value:E.comment,onChange:z=>C({...E,comment:z.target.value}),placeholder:"Enter review comment",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",rows:"4"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(we,{variant:"outline",onClick:()=>{v(!1),J()},disabled:P,children:"Cancel"}),s.jsx(we,{onClick:$,disabled:P,children:P?"Updating...":"Update Review"})]})]})}),s.jsx(kt,{isOpen:!!w,onClose:()=>{P||S(null)},title:"Delete Review",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Are you sure you want to delete ",w?.name||"this review","? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>S(null),disabled:P,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:()=>M(w.id,!0),disabled:P,children:P?"Please wait...":"Delete"})]})]})}),s.jsx(kt,{isOpen:f,onClose:()=>{m(!1),d(null)},title:"Review Details",size:"lg",children:x?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):u?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(la,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"User"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.userId?.name||"Unknown User"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:u.userId?.email||""})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(bs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Venue"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.venueId?.name||"Unknown Venue"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:s.jsx(Ri,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Rating"}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[q(u.rating),s.jsxs("span",{className:"ml-1 text-sm font-semibold text-gray-900 dark:text-gray-100",children:[u.rating,"/5"]})]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx(Qi,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:u.createdAt?new Date(u.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Comment"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:u.comment||"N/A"})]}),u.reply&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Reply"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:u.reply.comment}),u.reply.repliedBy&&s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["By: ",u.reply.repliedBy.name||"Unknown"]})]})]}):null})]})},iCe="https://shubhvenue.com/api",ft=Wr.create({baseURL:iCe,headers:{"Content-Type":"application/json"}});ft.interceptors.request.use(e=>{const t=localStorage.getItem("vendor_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.data instanceof FormData&&delete e.headers["Content-Type"],e},e=>Promise.reject(e));ft.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("vendor_token"),localStorage.removeItem("vendor_user"),window.location.href="/vendor/login"),Promise.reject(e)));const Zf={login:(e,t)=>ft.post("/auth/login",{email:e,password:t}),register:e=>ft.post("/auth/register",{...e,role:"vendor"}),googleLogin:(e,t)=>ft.post("/auth/google-login",{idToken:e,role:"vendor",fcmToken:t}),getProfile:()=>ft.get("/auth/profile"),updateProfile:e=>ft.put("/auth/profile",e),changePassword:e=>ft.put("/auth/change-password",e)},Xt={getDashboard:(e,t)=>{const r={};return e&&(r.month=e),t&&(r.year=t),ft.get("/vendor/dashboard",{params:r})},getBookings:e=>ft.get("/vendor/bookings",{params:e}),createBooking:e=>ft.post("/vendor/bookings",e),getPayouts:()=>ft.get("/vendor/payouts"),getLedger:()=>ft.get("/vendor/ledger"),addLedgerEntry:e=>ft.post("/vendor/ledger",e),updateLedgerEntry:(e,t)=>ft.put(`/vendor/ledger/${e}`,t),deleteLedgerEntry:e=>ft.delete(`/vendor/ledger/${e}`),getVenues:e=>ft.get("/vendor/venues",{params:e}),getVenueById:e=>ft.get(`/vendor/venues/${e}`),getStates:()=>ft.get("/vendor/venues/states"),getCities:e=>ft.get("/vendor/venues/cities",{params:{state:e}}),createVenue:e=>ft.post("/vendor/venues",e),updateVenue:(e,t)=>ft.put(`/vendor/venues/${e}`,t),toggleVenueStatus:e=>ft.patch(`/vendor/venues/${e}/toggle-status`),deleteVenue:e=>ft.delete(`/vendor/venues/${e}`),updateBookingStatus:(e,t)=>ft.put(`/bookings/${e}/status`,{status:t}),getBlockedDates:e=>ft.get("/vendor/blocked-dates",{params:e?{venueId:e}:{}}),addBlockedDates:(e,t)=>ft.post("/vendor/blocked-dates",{venueId:e,dates:t}),removeBlockedDates:(e,t)=>ft.delete("/vendor/blocked-dates",{data:{venueId:e,dates:t}}),getCalendarEvents:e=>ft.get("/vendor/calendar-events",{params:e?{venueId:e}:{}}),createCalendarEvent:e=>ft.post("/vendor/calendar-events",e),updateCalendarEvent:(e,t)=>ft.put(`/vendor/calendar-events/${e}`,t),deleteCalendarEvent:e=>ft.delete(`/vendor/calendar-events/${e}`)},oCe={getCategories:()=>ft.get("/categories")},lCe={getPublic:()=>ft.get("/admin/vendor-categories/public")},zR={getMenus:e=>ft.get("/menus",{params:e}),getMenuById:e=>ft.get(`/menus/${e}`)},Hc={createReview:e=>ft.post("/reviews",e),getReviewsByVenue:e=>ft.get(`/reviews/venue/${e}`),getReviewsByUser:e=>ft.get(`/reviews/user/${e}`),getReviewsByVendor:e=>ft.get("/reviews/vendor/all",{params:e}),getReviews:e=>ft.get("/reviews",{params:e}),getReviewById:e=>ft.get(`/reviews/${e}`),updateReview:(e,t)=>ft.put(`/reviews/${e}`,t),deleteReview:e=>ft.delete(`/reviews/${e}`),addReplyToReview:(e,t)=>ft.post(`/reviews/${e}/reply`,{message:t}),updateReplyToReview:(e,t)=>ft.put(`/reviews/${e}/reply`,{message:t}),deleteReplyFromReview:e=>ft.delete(`/reviews/${e}/reply`)},Ml={getAll:e=>ft.get("/vendor/roles",{params:e}),getById:e=>ft.get(`/vendor/roles/${e}`),create:e=>ft.post("/vendor/roles",e),update:(e,t)=>ft.put(`/vendor/roles/${e}`,t),delete:e=>ft.delete(`/vendor/roles/${e}`),getAvailablePermissions:()=>ft.get("/vendor/roles/permissions/available")},xd={login:e=>ft.post("/vendor/staff/login",e),getProfile:()=>ft.get("/vendor/staff/profile"),getAll:e=>ft.get("/vendor/staff",{params:e}),getById:e=>ft.get(`/vendor/staff/${e}`),create:e=>e instanceof FormData?ft.post("/vendor/staff",e,{headers:{"Content-Type":"multipart/form-data"}}):ft.post("/vendor/staff",e),update:(e,t)=>t instanceof FormData?ft.put(`/vendor/staff/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):ft.put(`/vendor/staff/${e}`,t),delete:e=>ft.delete(`/vendor/staff/${e}`)},s8=g.createContext(null);function cCe({children:e}){const[t,r]=g.useState(null),[n,a]=g.useState(!0);g.useEffect(()=>{const u=localStorage.getItem("vendor_token"),d=localStorage.getItem("vendor_user");if(u&&d)try{r(JSON.parse(d)),Zf.getProfile().then(f=>{let m=f.data.user||f.data.staff||f.data;if(f.data.staff){const p=f.data.staff,v=p.permissions||p.role&&p.role.permissions||p.roleDetails&&p.roleDetails.permissions||[];m={...p,permissions:Array.isArray(v)?v:[],role:"vendor_staff"},console.log("Vendor Staff Profile Loaded:",{email:m.email,role:m.role,permissionsCount:m.permissions.length,permissions:m.permissions})}m.role==="vendor"&&!m.permissions&&(m.permissions=[]),m.permissions||(m.permissions=[]),r(m),localStorage.setItem("vendor_user",JSON.stringify(m))}).catch(()=>{localStorage.removeItem("vendor_token"),localStorage.removeItem("vendor_user"),r(null)}).finally(()=>a(!1))}catch{localStorage.removeItem("vendor_token"),localStorage.removeItem("vendor_user"),a(!1)}else a(!1)},[]);const i=async(u,d)=>{try{const f=await Zf.login(u,d),{token:m,user:p,staff:v}=f.data;let x=p||v;if(x){if(v){const j=v.permissions||v.role&&v.role.permissions||v.roleDetails&&v.roleDetails.permissions||[];x.permissions=Array.isArray(j)?j:[],x.role="vendor_staff",console.log("Vendor Staff Login:",{email:x.email,role:x.role,permissionsCount:x.permissions.length,permissions:x.permissions})}else x.role==="vendor"&&(x.permissions=x.permissions||[]);x.permissions||(x.permissions=[])}return localStorage.setItem("vendor_token",m),localStorage.setItem("vendor_user",JSON.stringify(x)),r(x),{success:!0}}catch(f){return{success:!1,error:f.response?.data?.error||f.message||"Login failed"}}},o=async u=>{try{const d=await Zf.register(u),{token:f,user:m}=d.data;return localStorage.setItem("vendor_token",f),localStorage.setItem("vendor_user",JSON.stringify(m)),r(m),{success:!0}}catch(d){return{success:!1,error:d.response?.data?.error||d.message||"Registration failed"}}},l=()=>{localStorage.removeItem("vendor_token"),localStorage.removeItem("vendor_user"),r(null)};return s.jsx(s8.Provider,{value:{user:t,loading:n,login:i,register:o,logout:l},children:e})}function Sp(){const e=g.useContext(s8);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const uCe=()=>{const[e,t]=g.useState(null),[r,n]=g.useState(null),[a,i]=g.useState(Notification.permission);return g.useEffect(()=>{const o=async()=>{try{const l=await xX();l&&(t(l),i(Notification.permission),console.log("FCM Token:",l))}catch(l){console.warn("FCM token not available:",l.message)}};"Notification"in window&&"serviceWorker"in navigator&&setTimeout(()=>{o()},1e3),a==="granted"&&bX().then(l=>{console.log("Message received:",l),n(l),l.notification&&new Notification(l.notification.title,{body:l.notification.body,icon:l.notification.icon||"/icon-192x192.png",badge:"/icon-192x192.png"})}).catch(l=>{console.error("Error listening for messages:",l)})},[a]),{fcmToken:e,notification:r,permission:a}},bA=(e,t={})=>{if(J1)try{c3(J1,e,t)}catch(r){console.warn("Analytics event tracking failed:",r)}},dCe=e=>{bA("page_view",{page_title:e,page_location:window.location.href})},hCe=(e="email")=>{bA("login",{method:e})},fCe=(e="email")=>{bA("sign_up",{method:e})};function mCe(){const[e,t]=g.useState(""),[r,n]=g.useState(""),[a,i]=g.useState(!1),[o,l]=g.useState(""),{login:u}=Sp(),d=xr(),f=async m=>{m.preventDefault(),l(""),i(!0);const p=await u(e,r);p.success?(hCe("email"),d("/vendor/")):l(p.error||"Login failed. Please try again."),i(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-500 via-primary-600 to-accent-500 p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white rounded-full shadow-lg mb-4 p-2",children:s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"w-full h-full object-contain",onError:m=>{m.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"ShubhVenue Vendor"}),s.jsx("p",{className:"text-primary-100",children:"Sign in to manage your venues"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:o}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"email",type:"email",value:e,onChange:m=>t(m.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Enter your email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(yu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"password",type:"password",value:r,onChange:m=>n(m.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Enter your password"})]})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-primary-600 to-accent-600 text-white py-3 rounded-lg font-semibold hover:from-primary-700 hover:to-accent-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:a?s.jsxs(s.Fragment,{children:[s.jsx(sN,{className:"w-5 h-5 mr-2 animate-spin"}),"Signing in..."]}):"Sign In"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(Qs,{to:"/vendor/register",className:"text-primary-600 font-semibold hover:text-primary-700",children:"Register"})]})})]}),s.jsx("p",{className:"mt-6 text-center text-sm text-primary-100",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})}function pCe(){const[e,t]=g.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",vendorCategory:""}),[r,n]=g.useState([]),[a,i]=g.useState(!0),[o,l]=g.useState(!1),[u,d]=g.useState(""),[f,m]=g.useState(""),[p,v]=g.useState(!1),[x,j]=g.useState(!1),{register:w}=Sp(),S=xr();g.useEffect(()=>{(async()=>{try{const L=await lCe.getPublic();let E=[];L.data&&(Array.isArray(L.data)?E=L.data:L.data.categories&&Array.isArray(L.data.categories)?E=L.data.categories:L.data.data&&Array.isArray(L.data.data)&&(E=L.data.data)),n(E)}catch(L){console.error("Failed to load categories:",L)}finally{i(!1)}})()},[]);const P=I=>{const{name:L,value:E}=I.target;if(L==="phone"){const C=E.replace(/\D/g,"");C.length<=15&&t({...e,[L]:C})}else t({...e,[L]:E})},k=async I=>{if(I.preventDefault(),d(""),m(""),e.password!==e.confirmPassword){d("Passwords do not match. Please try again.");return}if(e.password.length<6){d("Password must be at least 6 characters long.");return}if(e.phone.length<10||e.phone.length>15){d("Phone number must be between 10 and 15 digits.");return}l(!0);const{confirmPassword:L,...E}=e,C=await w(E);if(C.success)fCe("email"),S("/vendor/",{state:{message:"Registration successful! You can now use your account. However, you need admin approval before you can add venues."}});else{d(C.error||"Registration failed. Please try again."),l(!1);return}l(!1)},R=()=>{S("/vendor/login")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-500 via-primary-600 to-accent-500 p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white rounded-full shadow-lg mb-4 p-2",children:s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"w-full h-full object-contain",onError:I=>{I.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"ShubhVenue Vendor"}),s.jsx("p",{className:"text-primary-100",children:"Create your vendor account"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[f?s.jsxs("div",{className:"space-y-5",children:[s.jsx("div",{className:"bg-green-50 border-2 border-green-300 text-green-800 px-6 py-5 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Pa,{className:"w-6 h-6 mt-0.5 flex-shrink-0 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-lg mb-2 text-green-900",children:"Registration Successful!"}),s.jsx("p",{className:"text-green-800 mb-3",children:f})]})]})}),s.jsx("button",{onClick:R,className:"w-full bg-gradient-to-r from-primary-600 to-accent-600 text-white py-3 rounded-lg font-semibold hover:from-primary-700 hover:to-accent-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center",children:"OK"})]}):s.jsxs("form",{onSubmit:k,className:"space-y-5",children:[u&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"name",name:"name",type:"text",value:e.name,onChange:P,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Enter your full name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:P,required:!0,autoComplete:"off",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Enter your email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),s.jsxs("div",{className:"relative",children:[s.jsx(lc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"phone",name:"phone",type:"tel",value:e.phone,onChange:P,required:!0,minLength:10,maxLength:15,autoComplete:"off",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Enter phone (10-15 digits)"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"vendorCategory",className:"block text-sm font-medium text-gray-700 mb-2",children:["Vendor Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(iN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsxs("select",{id:"vendorCategory",name:"vendorCategory",value:e.vendorCategory,onChange:P,required:!0,disabled:a,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition appearance-none bg-white disabled:bg-gray-100 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Select your category"}),r.map(I=>s.jsx("option",{value:I._id,children:I.name},I._id))]}),a&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(sN,{className:"w-5 h-5 animate-spin text-gray-400"})})]}),r.length===0&&!a&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No categories available. Please contact admin."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(yu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"password",name:"password",type:p?"text":"password",value:e.password,onChange:P,required:!0,minLength:6,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Enter your password (min 6 characters)"}),s.jsx("button",{type:"button",onClick:()=>v(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?s.jsx(Oo,{className:"w-5 h-5"}):s.jsx(Qr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Re-enter Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(yu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:x?"text":"password",value:e.confirmPassword,onChange:P,required:!0,minLength:6,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"Re-enter your password"}),s.jsx("button",{type:"button",onClick:()=>j(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?s.jsx(Oo,{className:"w-5 h-5"}):s.jsx(Qr,{className:"w-5 h-5"})})]})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-primary-600 to-accent-600 text-white py-3 rounded-lg font-semibold hover:from-primary-700 hover:to-accent-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o?s.jsxs(s.Fragment,{children:[s.jsx(sN,{className:"w-5 h-5 mr-2 animate-spin"}),"Creating account..."]}):"Create Account"})]}),!f&&s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Qs,{to:"/vendor/login",className:"text-primary-600 font-semibold hover:text-primary-700",children:"Sign In"})]})})]})]})})}function cn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Qo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function wA(e,t){const r=cn(e);if(isNaN(t))return Qo(e,NaN);if(!t)return r;const n=r.getDate(),a=Qo(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const a8=6048e5,gCe=864e5;let yCe={};function kp(){return yCe}function Cu(e,t){const r=kp(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=cn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ax(e){return Cu(e,{weekStartsOn:1})}function i8(e){const t=cn(e),r=t.getFullYear(),n=Qo(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=ax(n),i=Qo(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=ax(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ix(e){const t=cn(e);return t.setHours(0,0,0,0),t}function UR(e){const t=cn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function vCe(e,t){const r=ix(e),n=ix(t),a=+r-UR(r),i=+n-UR(n);return Math.round((a-i)/gCe)}function xCe(e){const t=i8(e),r=Qo(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ax(r)}function o8(e,t){const r=ix(e),n=ix(t);return+r==+n}function bCe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wCe(e){if(!bCe(e)&&typeof e!="number")return!1;const t=cn(e);return!isNaN(Number(t))}function l8(e){const t=cn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function c8(e,t){const r=cn(e.start),n=cn(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=1;const u=[];for(;+o<=i;)u.push(cn(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?u.reverse():u}function u8(e){const t=cn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function jCe(e){const t=cn(e),r=Qo(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function d8(e,t){const r=kp(),n=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=cn(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const NCe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SCe=(e,t,r)=>{let n;const a=NCe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function _1(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const kCe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CCe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ACe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ICe={date:_1({formats:kCe,defaultWidth:"full"}),time:_1({formats:CCe,defaultWidth:"full"}),dateTime:_1({formats:ACe,defaultWidth:"full"})},PCe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ECe=(e,t,r,n)=>PCe[e];function Mf(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const TCe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MCe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_Ce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},DCe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},RCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LCe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},FCe={ordinalNumber:LCe,era:Mf({values:TCe,defaultWidth:"wide"}),quarter:Mf({values:MCe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mf({values:_Ce,defaultWidth:"wide"}),day:Mf({values:DCe,defaultWidth:"wide"}),dayPeriod:Mf({values:OCe,defaultWidth:"wide",formattingValues:RCe,defaultFormattingWidth:"wide"})};function _f(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?BCe(l,m=>m.test(o)):$Ce(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(u):u,d=r.valueCallback?r.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function $Ce(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function BCe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function VCe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const zCe=/^(\d+)(th|st|nd|rd)?/i,UCe=/\d+/i,WCe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HCe={any:[/^b/i,/^(a|c)/i]},qCe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GCe={any:[/1/i,/2/i,/3/i,/4/i]},KCe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},YCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZCe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QCe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XCe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JCe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eAe={ordinalNumber:VCe({matchPattern:zCe,parsePattern:UCe,valueCallback:e=>parseInt(e,10)}),era:_f({matchPatterns:WCe,defaultMatchWidth:"wide",parsePatterns:HCe,defaultParseWidth:"any"}),quarter:_f({matchPatterns:qCe,defaultMatchWidth:"wide",parsePatterns:GCe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_f({matchPatterns:KCe,defaultMatchWidth:"wide",parsePatterns:YCe,defaultParseWidth:"any"}),day:_f({matchPatterns:ZCe,defaultMatchWidth:"wide",parsePatterns:QCe,defaultParseWidth:"any"}),dayPeriod:_f({matchPatterns:XCe,defaultMatchWidth:"any",parsePatterns:JCe,defaultParseWidth:"any"})},tAe={code:"en-US",formatDistance:SCe,formatLong:ICe,formatRelative:ECe,localize:FCe,match:eAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rAe(e){const t=cn(e);return vCe(t,jCe(t))+1}function nAe(e){const t=cn(e),r=+ax(t)-+xCe(t);return Math.round(r/a8)+1}function h8(e,t){const r=cn(e),n=r.getFullYear(),a=kp(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Qo(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Cu(o,t),u=Qo(e,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const d=Cu(u,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function sAe(e,t){const r=kp(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=h8(e,t),i=Qo(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Cu(i,t)}function aAe(e,t){const r=cn(e),n=+Cu(r,t)-+sAe(r,t);return Math.round(n/a8)+1}function ir(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Pl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ir(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ir(r+1,2)},d(e,t){return ir(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ir(e.getHours()%12||12,t.length)},H(e,t){return ir(e.getHours(),t.length)},m(e,t){return ir(e.getMinutes(),t.length)},s(e,t){return ir(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ir(a,t.length)}},bd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},WR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Pl.y(e,t)},Y:function(e,t,r,n){const a=h8(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ir(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ir(i,t.length)},R:function(e,t){const r=i8(e);return ir(r,t.length)},u:function(e,t){const r=e.getFullYear();return ir(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ir(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ir(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Pl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ir(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=aAe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ir(a,t.length)},I:function(e,t,r){const n=nAe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ir(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Pl.d(e,t)},D:function(e,t,r){const n=rAe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ir(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ir(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ir(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ir(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=bd.noon:n===0?a=bd.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=bd.evening:n>=12?a=bd.afternoon:n>=4?a=bd.morning:a=bd.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Pl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Pl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ir(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ir(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Pl.s(e,t)},S:function(e,t){return Pl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return qR(n);case"XXXX":case"XX":return Uc(n);case"XXXXX":case"XXX":default:return Uc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return qR(n);case"xxxx":case"xx":return Uc(n);case"xxxxx":case"xxx":default:return Uc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+HR(n,":");case"OOOO":default:return"GMT"+Uc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+HR(n,":");case"zzzz":default:return"GMT"+Uc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ir(n,t.length)},T:function(e,t,r){const n=e.getTime();return ir(n,t.length)}};function HR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+ir(i,2)}function qR(e,t){return e%60===0?(e>0?"-":"+")+ir(Math.abs(e)/60,2):Uc(e,t)}function Uc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ir(Math.trunc(n/60),2),i=ir(n%60,2);return r+a+t+i}const GR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},f8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},iAe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return GR(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",GR(n,t)).replace("{{time}}",f8(a,t))},oAe={p:f8,P:iAe},lAe=/^D+$/,cAe=/^Y+$/,uAe=["D","DD","YY","YYYY"];function dAe(e){return lAe.test(e)}function hAe(e){return cAe.test(e)}function fAe(e,t,r){const n=mAe(e,t,r);if(console.warn(n),uAe.includes(e))throw new RangeError(n)}function mAe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yAe=/^'([^]*?)'?$/,vAe=/''/g,xAe=/[a-zA-Z]/;function Mt(e,t,r){const n=kp(),a=n.locale??tAe,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=cn(e);if(!wCe(l))throw new RangeError("Invalid time value");let u=t.match(gAe).map(f=>{const m=f[0];if(m==="p"||m==="P"){const p=oAe[m];return p(f,a.formatLong)}return f}).join("").match(pAe).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const m=f[0];if(m==="'")return{isToken:!1,value:bAe(f)};if(WR[m])return{isToken:!0,value:f};if(m.match(xAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:f}});a.localize.preprocessor&&(u=a.localize.preprocessor(l,u));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return u.map(f=>{if(!f.isToken)return f.value;const m=f.value;(hAe(m)||dAe(m))&&fAe(m,t,String(e));const p=WR[m[0]];return p(l,m,a.localize,d)}).join("")}function bAe(e){const t=e.match(yAe);return t?t[1].replace(vAe,"'"):e}function m8(e,t){const r=cn(e),n=cn(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function p8(e,t){return wA(e,-1)}const wAe=({active:e,payload:t,label:r})=>e&&t&&t.length?(t[0]?.value!==void 0&&console.log("Tooltip Payload:",{label:r,payload:t.map(n=>({dataKey:n.dataKey,value:n.value,payload:n.payload}))}),s.jsxs("div",{style:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[s.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",fontSize:"14px"},children:["Day ",r||"N/A"]}),t.map((n,a)=>{let i=n.value;if(i==null||i===0&&n.payload){const f=n.dataKey||"";i=n.payload?.[f]}i==null&&(i=n.payload?.revenue||n.payload?.expenses||n.value||0);const o=Number(i)||0,l=n.dataKey||"",u=l==="revenue"?"Revenue":l==="expenses"?"Expenses":n.name||"Value",d=l==="revenue"?"#10B981":l==="expenses"?"#EF4444":"#6b7280";return s.jsxs("p",{style:{color:d,margin:"4px 0",fontSize:"13px"},children:[u,": ",o.toLocaleString("en-IN")]},a)})]})):null;function jAe(){const[e,t]=g.useState({totalVenues:0,totalBookings:0,monthlyBookings:0,monthlyRevenue:0,monthlyExpenses:0,commissionPaid:0,totalBookedDates:0,totalExpenses:0,selectedMonth:{month:new Date().getMonth()+1,year:new Date().getFullYear(),monthName:Mt(new Date,"MMMM")},paymentStats:{totalIncoming:0,paid:0,pending:0,failed:0},bookingStats:{confirmed:0,pending:0,cancelled:0,recent:0},paymentBreakdown:{paid:0,pending:0,failed:0}}),[r,n]=g.useState(!0),[a,i]=g.useState(new Date().getMonth()+1),[o,l]=g.useState(new Date().getFullYear()),[u,d]=g.useState(new Date),[f,m]=g.useState(null),[p,v]=g.useState([]),[x,j]=g.useState([]),[w,S]=g.useState([]),[P,k]=g.useState([]),[R,I]=g.useState(!0),[L,E]=g.useState(!1),[C,F]=g.useState(!1),[_,T]=g.useState(null),[M,$]=g.useState(null),[J,q]=g.useState(""),[U,X]=g.useState("task"),[B,Z]=g.useState(null),ne=xr(),W=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],z=new Date().getFullYear(),pe=[];for(let je=z-5;je<=z+1;je++)pe.push(je);g.useEffect(()=>{oe(),Pe()},[a,o]),g.useEffect(()=>{p.length>0&&(ke(),fe(),ue())},[p,f]);const oe=async()=>{try{n(!0);const De=(await Xt.getDashboard(a,o)).data;console.log("=== DASHBOARD API RESPONSE ==="),console.log("Monthly Revenue:",De.monthlyRevenue),console.log("Monthly Expenses:",De.monthlyExpenses),console.log("Daily Revenue Object:",De.dailyRevenue),console.log("Daily Expenses Object:",De.dailyExpenses),console.log("Daily Revenue Type:",typeof De.dailyRevenue),console.log("Daily Expenses Type:",typeof De.dailyExpenses),console.log("Daily Revenue Keys:",De.dailyRevenue?Object.keys(De.dailyRevenue):"N/A"),console.log("Daily Expenses Keys:",De.dailyExpenses?Object.keys(De.dailyExpenses):"N/A"),De.dailyRevenue&&console.log("Sample Revenue Values:",{day1:De.dailyRevenue[1],day15:De.dailyRevenue[15],day28:De.dailyRevenue[28],day1String:De.dailyRevenue[1],day15String:De.dailyRevenue[15],day28String:De.dailyRevenue[28]}),De.dailyExpenses&&console.log("Sample Expense Values:",{day1:De.dailyExpenses[1],day15:De.dailyExpenses[15],day28:De.dailyExpenses[28],day1String:De.dailyExpenses[1],day15String:De.dailyExpenses[15],day28String:De.dailyExpenses[28]}),console.log("=== END DASHBOARD API RESPONSE ===");try{const rt=await Xt.getLedger();De.totalExpenses=rt.data?.summary?.totalExpenses||0,!De.monthlyExpenses&&De.monthlyExpenses!==0&&(De.monthlyExpenses=rt.data?.summary?.monthlyExpenses||0)}catch(rt){console.error("Failed to load ledger data:",rt),De.totalExpenses=De.totalExpenses||0,De.monthlyExpenses===void 0&&(De.monthlyExpenses=0)}t(De)}catch(je){console.error("Failed to load dashboard:",je)}finally{n(!1)}},Pe=async()=>{try{const je=await Xt.getVenues(),De=je.data?.data||je.data||[];v(De),De.length>0&&!f&&m(De[0]._id||De[0].id)}catch(je){console.error("Failed to load venues:",je)}},ke=async()=>{try{I(!0);const De=(await Xt.getBlockedDates(f||null)).data?.data||[];j(Array.isArray(De)?De:[De])}catch(je){console.error("Failed to load dates:",je),j([])}finally{I(!1)}},fe=async()=>{try{const je=await Xt.getCalendarEvents(f||null),De=je.data?.data||je.data||[];S(Array.isArray(De)?De:[])}catch(je){console.error("Failed to load calendar events:",je),S([])}},ue=async()=>{try{const je=await Xt.getBookings(f?{venueId:f}:{}),De=je.data?.bookings||je.data?.data||[];k(Array.isArray(De)?De:[])}catch(je){console.error("Failed to load bookings:",je),k([])}},re=je=>{const De=Mt(je,"yyyy-MM-dd"),rt=Mt(new Date,"yyyy-MM-dd");if(De<rt)return"past";if(p.length===0)return"available";if(de(je).length>0)return"booked";if(f){const Qe=x.find(Xe=>Xe.venueId===f||Xe.venueId?._id===f||Xe.venueId?.toString()===f),{bookedDates:jt=[]}=Qe||{};if(jt.includes(De)&&P.some(ce=>{if((ce.venueId?._id||ce.venueId||ce.venue?._id||ce.venue)?.toString()!==f)return!1;if(ce.dateFrom&&ce.dateTo){const It=Mt(new Date(ce.dateFrom),"yyyy-MM-dd"),Le=Mt(new Date(ce.dateTo),"yyyy-MM-dd");return De>=It&&De<=Le}const Ve=ce.date||ce.eventDate;return Ve?Mt(new Date(Ve),"yyyy-MM-dd")===De:!1}))return"booked"}else if(x.flatMap(jt=>jt.bookedDates||[]).includes(De)&&P.some(Xe=>{if(Xe.dateFrom&&Xe.dateTo){const Fe=Mt(new Date(Xe.dateFrom),"yyyy-MM-dd"),Ve=Mt(new Date(Xe.dateTo),"yyyy-MM-dd");return De>=Fe&&De<=Ve}const ce=Xe.date||Xe.eventDate;return ce?Mt(new Date(ce),"yyyy-MM-dd")===De:!1}))return"booked";return"available"},K=je=>{const De=Mt(je,"yyyy-MM-dd");return w.filter(rt=>f&&(rt.venueId?._id||rt.venueId)?.toString()!==f?!1:Mt(new Date(rt.date),"yyyy-MM-dd")===De)},de=je=>{Mt(je,"yyyy-MM-dd");const De=new Date(je);return De.setHours(0,0,0,0),P.filter(rt=>{if(f&&(rt.venueId?._id||rt.venueId||rt.venue?._id||rt.venue)?.toString()!==f)return!1;if(rt.dateFrom&&rt.dateTo){const jt=new Date(rt.dateFrom),Xe=new Date(rt.dateTo);return jt.setHours(0,0,0,0),Xe.setHours(0,0,0,0),De>=jt&&De<=Xe}const xt=rt.date||rt.eventDate;if(!xt)return!1;const Qe=new Date(xt);return Qe.setHours(0,0,0,0),Qe.getTime()===De.getTime()})},te=je=>{const De=Mt(je,"yyyy-MM-dd"),rt=Mt(new Date,"yyyy-MM-dd");if(De<rt)return;const xt=K(je),Qe=de(je);T(je),xt.length>0||Qe.length>0?F(!0):($(null),q(""),X("task"),Z(je),E(!0))},ye=()=>{$(null),q(""),X("task"),Z(_),F(!1),E(!0)},ae=je=>{$(je),q(je.title||""),X(je.type||"task"),Z(new Date(je.date)),F(!1),E(!0)},ee=async()=>{if(!B||!J.trim()){alert("Please fill all required fields (Date and Title)");return}try{const je=Mt(B,"yyyy-MM-dd"),De={venueId:f||null,date:je,title:J.trim(),type:U};if(M){const rt={...De,date:je};await Xt.updateCalendarEvent(M._id||M.id,rt)}else await Xt.createCalendarEvent(De);await fe(),E(!1),T(null),$(null),q(""),X("task"),Z(null)}catch(je){console.error("Failed to save event:",je);const De=je.response?.data?.error||je.response?.data?.message||je.message||"Failed to save event. Please try again.";alert(De)}},be=async(je=null)=>{const De=je||M;if(De&&window.confirm("Are you sure you want to delete this event?"))try{await Xt.deleteCalendarEvent(De._id||De.id),await fe(),je?K(_).length<=1&&F(!1):E(!1),T(null),$(null),q(""),X("task"),Z(null)}catch(rt){console.error("Failed to delete event:",rt),alert("Failed to delete event. Please try again.")}},he=()=>{const je=e.selectedMonth?.year||o,De=(e.selectedMonth?.month||a)-1,rt=new Date(je,De+1,0).getDate(),xt=[],Qe=e.dailyRevenue||{};console.log("=== REVENUE CHART DATA GENERATION ==="),console.log("Stats.dailyRevenue:",Qe),console.log("Daily Revenue Type:",typeof Qe),console.log("Daily Revenue Keys:",Object.keys(Qe)),console.log("Daily Revenue Length:",Object.keys(Qe).length);const jt=[];for(let ce=1;ce<=Math.min(10,rt);ce++){const Fe=Qe[ce]||Qe[String(ce)]||Qe[`${ce}`]||0,Ve=Number(Fe)||0;jt.push({day:ce,revenue:Ve,rawValue:Fe}),Ve>0&&console.log(`Day ${ce} Revenue:`,{numberKey:Qe[ce],stringKey:Qe[String(ce)],templateKey:Qe[`${ce}`],finalValue:Ve})}const Xe={};for(let ce=25;ce<=30;ce++){const Fe=Qe[ce]||Qe[String(ce)]||Qe[`${ce}`]||0;Xe[`day${ce}`]=Number(Fe)||0}console.log("Revenue Chart Summary:",{year:je,month:De+1,daysInMonth:rt,totalKeys:Object.keys(Qe).length,sampleChartData:jt,days25to30:Xe,totalRevenue:Object.values(Qe).reduce((ce,Fe)=>ce+(Number(Fe)||0),0),allValues:Object.entries(Qe).slice(0,10)}),console.log("=== END REVENUE CHART DATA ===");for(let ce=1;ce<=rt;ce++){const Fe=Qe[ce]||Qe[String(ce)]||Qe[`${ce}`]||0,Ve=Number(Fe)||0,It={name:ce<=10?`${ce}`:ce%5===0?`${ce}`:"",revenue:Ve,day:ce};xt.push(It),(Ve>0||ce<=3)&&console.log(`Revenue Day ${ce}:`,{dayRevenue:Fe,revenueValue:Ve,chartItem:It,keys:Object.keys(Qe),hasKey:Qe.hasOwnProperty(ce)||Qe.hasOwnProperty(String(ce))})}return xt},xe=()=>{const je=e.selectedMonth?.year||o,De=(e.selectedMonth?.month||a)-1,rt=new Date(je,De+1,0).getDate(),xt=[],Qe=e.dailyExpenses||{};console.log("=== EXPENSES CHART DATA GENERATION ==="),console.log("Stats.dailyExpenses:",Qe),console.log("Daily Expenses Type:",typeof Qe),console.log("Daily Expenses Keys:",Object.keys(Qe)),console.log("Daily Expenses Length:",Object.keys(Qe).length);const jt=[];for(let Xe=1;Xe<=Math.min(10,rt);Xe++){const ce=Qe[Xe]||Qe[String(Xe)]||Qe[`${Xe}`]||0,Fe=Number(ce)||0;jt.push({day:Xe,expenses:Fe,rawValue:ce}),Fe>0&&console.log(`Day ${Xe} Expenses:`,{numberKey:Qe[Xe],stringKey:Qe[String(Xe)],templateKey:Qe[`${Xe}`],finalValue:Fe})}console.log("Expenses Chart Summary:",{year:je,month:De+1,daysInMonth:rt,totalKeys:Object.keys(Qe).length,sampleExpensesData:jt,totalExpenses:Object.values(Qe).reduce((Xe,ce)=>Xe+(Number(ce)||0),0),allValues:Object.entries(Qe).slice(0,10)}),console.log("=== END EXPENSES CHART DATA ===");for(let Xe=1;Xe<=rt;Xe++){const ce=Qe[Xe]||Qe[String(Xe)]||Qe[`${Xe}`]||0,Fe=Number(ce)||0,Ve={name:Xe<=10?`${Xe}`:Xe%5===0?`${Xe}`:"",expenses:Fe,day:Xe};xt.push(Ve),(Fe>0||Xe<=3)&&console.log(`Expenses Day ${Xe}:`,{dayExpenses:ce,expensesValue:Fe,chartItem:Ve,keys:Object.keys(Qe),hasKey:Qe.hasOwnProperty(Xe)||Qe.hasOwnProperty(String(Xe))})}return xt},Be=he(),ut=xe(),_t=[{title:"Total Venues",value:e.totalVenues,icon:bs,color:"primary",action:()=>ne("/venues")},{title:"Total Bookings",value:e.totalBookings,icon:Tn,color:"accent",action:()=>ne("/bookings"),subtitle:`This Month: ${e.monthlyBookings||0}`},{title:"Booked Dates",value:e.totalBookedDates||0,icon:Cee,color:"blue",action:()=>ne("/bookings")},{title:"Monthly Revenue",value:`${e.monthlyRevenue.toLocaleString()}`,icon:null,color:"green",action:()=>ne("/bookings")},{title:"Total Expenses",value:`${(e.totalExpenses||0).toLocaleString()}`,icon:null,color:"red",action:()=>ne("/ledger")},{title:"Total Payments",value:`${(e.paymentStats?.totalIncoming||0).toLocaleString()}`,icon:im,color:"purple",action:()=>ne("/bookings")},{title:"Paid Payments",value:`${(e.paymentStats?.paid||0).toLocaleString()}`,icon:Pa,color:"green",action:()=>ne("/bookings")},{title:"Pending Payments",value:`${(e.paymentStats?.pending||0).toLocaleString()}`,icon:Ea,color:"orange",action:()=>ne("/bookings")},{title:"Commission Paid",value:`${e.commissionPaid.toLocaleString()}`,icon:lm,color:"indigo",action:()=>ne("/payouts")}];return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Management"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage booked and blocked dates for your venues"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 bg-white border border-gray-300 rounded-lg px-3 py-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Month:"}),s.jsx("select",{value:a,onChange:je=>i(parseInt(je.target.value)),className:"border-none outline-none text-sm font-medium text-gray-900 cursor-pointer",children:W.map(je=>s.jsx("option",{value:je.value,children:je.label},je.value))})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-white border border-gray-300 rounded-lg px-3 py-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Year:"}),s.jsx("select",{value:o,onChange:je=>l(parseInt(je.target.value)),className:"border-none outline-none text-sm font-medium text-gray-900 cursor-pointer",children:pe.map(je=>s.jsx("option",{value:je,children:je},je))})]}),s.jsxs("button",{onClick:oe,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[s.jsx(Pu,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]})]})]}),s.jsxs("div",{className:"calendar-section",children:[s.jsxs("div",{className:"calendar-container",children:[s.jsxs("div",{className:"calendar-header",children:[s.jsxs("div",{className:"calendar-title-section",children:[s.jsx("h2",{className:"calendar-title",children:"Calendar View"}),s.jsx("p",{className:"calendar-subtitle",children:"View booked and blocked dates"})]}),p.length>0?s.jsxs("select",{value:f||"all",onChange:je=>{const De=je.target.value;m(De==="all"?null:De)},className:"calendar-venue-select",children:[s.jsx("option",{value:"all",children:"All Venues"}),p.map(je=>s.jsx("option",{value:je._id||je.id,children:je.name},je._id||je.id))]}):s.jsx("div",{className:"text-xs text-gray-500",children:"No venues available"})]}),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"calendar-nav",children:[s.jsx("button",{onClick:()=>d(p8(u)),className:"calendar-nav-button",children:s.jsx(bx,{className:"w-4 h-4"})}),s.jsx("h3",{className:"calendar-month",children:Mt(u,"MMMM yyyy")}),s.jsx("button",{onClick:()=>d(wA(u,1)),className:"calendar-nav-button",children:s.jsx(Iu,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"calendar-legend",children:[s.jsxs("div",{className:"calendar-legend-item",children:[s.jsx("div",{className:"calendar-legend-color",style:{backgroundColor:"#dcfce7",border:"2px solid #16a34a"}}),s.jsx("span",{className:"calendar-legend-text",children:"Available"})]}),s.jsxs("div",{className:"calendar-legend-item",children:[s.jsx("div",{className:"calendar-legend-color",style:{backgroundColor:"#ef4444"}}),s.jsx("span",{className:"calendar-legend-text",children:"Booked"})]}),s.jsxs("div",{className:"calendar-legend-item",children:[s.jsx("div",{className:"calendar-legend-color",style:{backgroundColor:"#d1d5db"}}),s.jsx("span",{className:"calendar-legend-text",children:"Past"})]})]}),s.jsxs("div",{className:"calendar-grid",children:[s.jsx("div",{className:"calendar-week",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(je=>s.jsx("div",{className:"calendar-day-header",children:je},je))}),(()=>{const je=u8(u),De=l8(u),rt=Cu(je),xt=d8(De),Qe=c8({start:rt,end:xt}),jt=[];for(let Xe=0;Xe<Qe.length;Xe+=7)jt.push(Qe.slice(Xe,Xe+7));return jt.map((Xe,ce)=>s.jsx("div",{className:"calendar-week",children:Xe.map((Fe,Ve)=>{const It=re(Fe),Le=m8(Fe,u),$e=o8(Fe,new Date),Bt=K(Fe);let Ut="calendar-day ";Le?It==="past"?Ut+="past ":It==="booked"?Ut+="booked ":Ut+="available ":Ut+="other-month ",$e&&Le&&(Ut+="today ");const mr=de(Fe),Tt=Bt.length+mr.length,et=Bt.filter(Ye=>Ye.type==="task").length>0,se=Bt.filter(Ye=>Ye.type==="book").length>0,_e=mr.length>0;return Tt>0&&Le&&(Ut+="has-event "),s.jsxs("div",{className:Ut,onClick:()=>Le&&te(Fe),style:{cursor:Le&&It!=="past"?"pointer":"default"},children:[s.jsx("span",{className:"calendar-day-number",children:Mt(Fe,"d")}),Le&&Tt>0&&s.jsxs("div",{className:"calendar-type-indicators",children:[_e&&s.jsx("span",{className:"calendar-type-badge booking-badge",title:"Booking",children:"Booking"}),et&&s.jsx("span",{className:"calendar-type-badge task-badge",title:"Task",children:"Task"}),se&&!_e&&s.jsx("span",{className:"calendar-type-badge book-event-badge",title:"Book Event",children:"Book"})]}),Tt>0&&Le&&s.jsxs("div",{className:"calendar-events-container",children:[mr.slice(0,1).map((Ye,Rt)=>{const Lt=Ye.name||Ye.customer?.name||Ye.customerId?.name||"Booking";return s.jsx("div",{className:"calendar-event-indicator",style:{backgroundColor:"#ef4444"},title:`Booking: ${Lt}`,children:s.jsxs("span",{className:"calendar-event-title",children:[" ",Lt]})},`booking-${Rt}`)}),Bt.slice(0,mr.length>0?1:2).map((Ye,Rt)=>s.jsx("div",{className:"calendar-event-indicator",style:{backgroundColor:Ye.type==="book"?"#f97316":"#8b5cf6"},children:s.jsx("span",{className:"calendar-event-title",children:Ye.title})},`event-${Rt}`)),Tt>2&&s.jsxs("div",{className:"calendar-event-more",children:["+",Tt-2]})]})]},Ve)})},ce))})()]})]})]}),C&&_&&s.jsx("div",{className:"event-modal-overlay",onClick:()=>F(!1),children:s.jsxs("div",{className:"event-modal events-list-modal",onClick:je=>je.stopPropagation(),children:[s.jsxs("div",{className:"event-modal-header",children:[s.jsxs("h3",{children:["Events - ",Mt(_,"dd MMMM yyyy")]}),s.jsx("button",{className:"event-modal-close",onClick:()=>F(!1),children:""})]}),s.jsxs("div",{className:"events-list-body",children:[de(_).map(je=>{const De=je.name||je.customer?.name||je.customerId?.name||"Customer",rt=je.phone||je.customer?.phone||je.customerId?.phone||"N/A",Qe=(je.venue||je.venueId)?.name||"Venue";return s.jsxs("div",{className:"event-list-item booking-item",children:[s.jsxs("div",{className:"event-list-item-content",children:[s.jsx("div",{className:"event-list-item-type",style:{backgroundColor:"#ef4444"},children:" Booking"}),s.jsxs("div",{className:"event-list-item-details",children:[s.jsx("div",{className:"event-list-item-title",children:De}),s.jsxs("div",{className:"event-list-item-subtitle",children:[s.jsxs("span",{children:["Phone: ",rt]}),!f&&s.jsxs("span",{children:["Venue: ",Qe]}),je.guests&&s.jsxs("span",{children:["Guests: ",je.guests]}),je.totalAmount&&s.jsxs("span",{children:["Amount: ",je.totalAmount.toLocaleString()]})]})]})]}),s.jsx("div",{className:"event-list-item-actions",children:s.jsx("button",{className:"event-list-view-btn",onClick:()=>ne("/vendor/bookings"),children:"View"})})]},je._id||je.id)}),K(_).map(je=>{const rt=je.venueId?.name||"Venue";return s.jsxs("div",{className:"event-list-item",children:[s.jsxs("div",{className:"event-list-item-content",children:[s.jsx("div",{className:"event-list-item-type",style:{backgroundColor:je.type==="book"?"#f97316":"#8b5cf6"},children:je.type==="book"?"Book":"Task"}),s.jsxs("div",{className:"event-list-item-details",children:[s.jsx("div",{className:"event-list-item-title",children:je.title}),!f&&s.jsx("div",{className:"event-list-item-subtitle",children:s.jsxs("span",{children:["Venue: ",rt]})})]})]}),s.jsxs("div",{className:"event-list-item-actions",children:[s.jsx("button",{className:"event-list-edit-btn",onClick:()=>ae(je),children:"Edit"}),s.jsx("button",{className:"event-list-delete-btn",onClick:()=>be(je),children:"Delete"})]})]},je._id||je.id)}),K(_).length===0&&de(_).length===0&&s.jsx("div",{className:"events-list-empty",children:s.jsx("p",{children:"No events or bookings for this date"})})]}),s.jsx("div",{className:"event-modal-footer",children:s.jsx("button",{className:"event-modal-save",onClick:ye,children:"+ Add New Event"})})]})}),L&&s.jsx("div",{className:"event-modal-overlay",onClick:()=>E(!1),children:s.jsxs("div",{className:"event-modal",onClick:je=>je.stopPropagation(),children:[s.jsxs("div",{className:"event-modal-header",children:[s.jsx("h3",{children:M?"Edit Event":"Add Event"}),s.jsx("button",{className:"event-modal-close",onClick:()=>E(!1),children:""})]}),s.jsxs("div",{className:"event-modal-body",children:[s.jsxs("div",{className:"event-modal-field",children:[s.jsx("label",{children:"Date"}),s.jsx("input",{type:"date",value:B?Mt(B,"yyyy-MM-dd"):"",onChange:je=>{const De=new Date(je.target.value);isNaN(De.getTime())||Z(De)},className:"event-modal-input",min:Mt(new Date,"yyyy-MM-dd")})]}),s.jsxs("div",{className:"event-modal-field",children:[s.jsx("label",{children:"Title"}),s.jsx("input",{type:"text",value:J,onChange:je=>q(je.target.value),placeholder:"Enter event title",className:"event-modal-input",autoFocus:!0})]}),s.jsxs("div",{className:"event-modal-field",children:[s.jsx("label",{children:"Type"}),s.jsxs("select",{value:U,onChange:je=>X(je.target.value),className:"event-modal-select",children:[s.jsx("option",{value:"task",children:"Task"}),s.jsx("option",{value:"book",children:"Book"})]})]})]}),s.jsxs("div",{className:"event-modal-footer",children:[M&&s.jsx("button",{className:"event-modal-delete",onClick:be,children:"Delete"}),s.jsx("div",{style:{flex:1}}),s.jsx("button",{className:"event-modal-cancel",onClick:()=>E(!1),children:"Cancel"}),s.jsx("button",{className:"event-modal-save",onClick:ee,disabled:!J.trim(),children:M?"Update":"Add"})]})]})}),s.jsxs("div",{className:"calendar-right-side",children:[s.jsxs("div",{className:"stats-section",children:[s.jsx("h2",{className:"stats-title",children:"Overview"}),s.jsx("div",{className:"stats-grid",children:_t.map((je,De)=>{const rt=je.icon;return s.jsxs("button",{onClick:je.action,className:"stat-card",children:[s.jsx("div",{className:"stat-icon-container",children:s.jsx("div",{className:`stat-icon-wrapper ${je.color||"primary"}`,children:je.icon?s.jsx(rt,{className:"w-4 h-4"}):s.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:""})})}),s.jsx("h3",{className:"stat-title",children:je.title}),s.jsx("p",{className:"stat-value",children:je.value}),je.subtitle&&s.jsx("p",{className:"stat-subtitle",children:je.subtitle})]},De)})})]}),s.jsxs("div",{className:"quick-actions-section",children:[s.jsx("h2",{className:"quick-actions-title",children:"Quick Actions"}),s.jsxs("button",{onClick:()=>ne("/vendor/venues"),className:"quick-action-button",children:[s.jsx("div",{className:"quick-action-icon-wrapper primary",children:s.jsx(Ur,{className:"w-4 h-4",style:{color:"#8b5cf6"}})}),s.jsx("span",{className:"quick-action-text",children:"Add Venue"})]}),s.jsxs("button",{onClick:()=>ne("/vendor/venues"),className:"quick-action-button",children:[s.jsx("div",{className:"quick-action-icon-wrapper accent",children:s.jsx(Qr,{className:"w-4 h-4",style:{color:"#ec4899"}})}),s.jsx("span",{className:"quick-action-text",children:"Manage Venues"})]}),s.jsxs("button",{onClick:()=>ne("/vendor/bookings"),className:"quick-action-button",children:[s.jsx("div",{className:"quick-action-icon-wrapper green",children:s.jsx(Tn,{className:"w-4 h-4",style:{color:"#16a34a"}})}),s.jsx("span",{className:"quick-action-text",children:"View Bookings"})]}),s.jsxs("button",{onClick:()=>ne("/vendor/payouts"),className:"quick-action-button",children:[s.jsx("div",{className:"quick-action-icon-wrapper orange",children:s.jsx(lm,{className:"w-4 h-4",style:{color:"#ea580c"}})}),s.jsx("span",{className:"quick-action-text",children:"Payouts"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Booking Status"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Overview of all bookings"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pa,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Confirmed"})]}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:e.bookingStats?.confirmed||0})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ea,{className:"w-5 h-5 text-orange-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Pending"})]}),s.jsx("span",{className:"text-2xl font-bold text-orange-600",children:e.bookingStats?.pending||0})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xl,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Cancelled"})]}),s.jsx("span",{className:"text-2xl font-bold text-red-600",children:e.bookingStats?.cancelled||0})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Tn,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Recent (Last 7 Days)"})]}),s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e.bookingStats?.recent||0})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Status"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Payment breakdown"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pa,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Paid"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-green-600 block",children:e.paymentBreakdown?.paid||0}),s.jsxs("span",{className:"text-xs text-gray-500",children:["",(e.paymentStats?.paid||0).toLocaleString()]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ea,{className:"w-5 h-5 text-orange-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Pending"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-orange-600 block",children:e.paymentBreakdown?.pending||0}),s.jsxs("span",{className:"text-xs text-gray-500",children:["",(e.paymentStats?.pending||0).toLocaleString()]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xl,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Failed"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-red-600 block",children:e.paymentBreakdown?.failed||0}),s.jsxs("span",{className:"text-xs text-gray-500",children:["",(e.paymentStats?.failed||0).toLocaleString()]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(im,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Total Incoming"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-2xl font-bold text-purple-600 block",children:["",(e.paymentStats?.totalIncoming||0).toLocaleString()]}),s.jsx("span",{className:"text-xs text-gray-500",children:"All payments"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Revenue vs Expenses"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.selectedMonth?.monthName," ",e.selectedMonth?.year," - Daily Comparison"]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm font-medium",children:"Revenue"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-sm font-medium",children:"Expenses"})]})]})]}),s.jsx(Vi,{width:"100%",height:400,children:s.jsxs(Lke,{data:Be.map((je,De)=>{const rt=ut[De]?.expenses||0,xt=je.revenue||0,Qe={name:je.name||"",day:je.day||De+1,revenue:Number(xt)||0,expenses:Number(rt)||0},jt=je.day||De+1;return(De<5||jt>=25&&jt<=30)&&(Number(xt)>0||Number(rt)>0)&&console.log(`Combined Chart Data Day ${jt} [${De}]:`,{...Qe,day:jt,revenueValue:xt,expenseValue:rt}),Qe}),margin:{top:10,right:30,left:0,bottom:0},children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorRevenueCombined",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.4}),s.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"colorExpensesCombined",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.4}),s.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),s.jsx(Hl,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(ql,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12},tickLine:{stroke:"#6b7280"}}),s.jsx(Gl,{stroke:"#6b7280",tick:{fontSize:12},tickLine:{stroke:"#6b7280"},tickFormatter:je=>`${(je/1e3).toFixed(0)}k`}),s.jsx(Ui,{content:s.jsx(wAe,{})}),s.jsx(Ul,{wrapperStyle:{paddingTop:"20px"},iconType:"circle",formatter:je=>s.jsx("span",{style:{color:"#6b7280",fontSize:"14px"},children:je})}),s.jsx(E2,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:2.5,fill:"url(#colorRevenueCombined)",name:"Revenue"}),s.jsx(E2,{type:"monotone",dataKey:"expenses",stroke:"#EF4444",strokeWidth:2.5,fill:"url(#colorExpensesCombined)",name:"Expenses"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Booking Distribution"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Status breakdown"})]})}),s.jsx(Vi,{width:"100%",height:350,children:s.jsxs(xA,{children:[s.jsx(S0,{data:[{name:"Confirmed",value:e.bookingStats?.confirmed||0,color:"#10b981"},{name:"Pending",value:e.bookingStats?.pending||0,color:"#f97316"},{name:"Cancelled",value:e.bookingStats?.cancelled||0,color:"#ef4444"}].filter(je=>je.value>0),cx:"50%",cy:"45%",labelLine:!1,label:!1,outerRadius:90,innerRadius:50,fill:"#8884d8",dataKey:"value",paddingAngle:3,children:[{name:"Confirmed",value:e.bookingStats?.confirmed||0,color:"#10b981"},{name:"Pending",value:e.bookingStats?.pending||0,color:"#f97316"},{name:"Cancelled",value:e.bookingStats?.cancelled||0,color:"#ef4444"}].filter(je=>je.value>0).map((je,De)=>s.jsx(_u,{fill:je.color,stroke:"#fff",strokeWidth:3},`cell-${De}`))}),s.jsx(Ui,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",padding:"12px"},formatter:(je,De)=>{const rt=(e.bookingStats?.confirmed||0)+(e.bookingStats?.pending||0)+(e.bookingStats?.cancelled||0),xt=rt>0?(je/rt*100).toFixed(1):0;return[`${je} bookings (${xt}%)`,De]},labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),s.jsx(Ul,{verticalAlign:"bottom",height:60,wrapperStyle:{paddingTop:"10px"},iconType:"circle",formatter:je=>{const De=[{name:"Confirmed",value:e.bookingStats?.confirmed||0,color:"#10b981"},{name:"Pending",value:e.bookingStats?.pending||0,color:"#f97316"},{name:"Cancelled",value:e.bookingStats?.cancelled||0,color:"#ef4444"}].find(jt=>jt.name===je),rt=(e.bookingStats?.confirmed||0)+(e.bookingStats?.pending||0)+(e.bookingStats?.cancelled||0),xt=De?.value||0,Qe=rt>0?(xt/rt*100).toFixed(1):0;return s.jsxs("span",{style:{color:"#6b7280",fontSize:"14px",padding:"0 8px"},children:[je,": ",xt," (",Qe,"%)"]})}})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Overview"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Payment status comparison"})]})}),s.jsx(Vi,{width:"100%",height:300,children:s.jsxs(sx,{data:[{name:"Paid",amount:e.paymentStats?.paid||0,count:e.paymentBreakdown?.paid||0},{name:"Pending",amount:e.paymentStats?.pending||0,count:e.paymentBreakdown?.pending||0},{name:"Failed",amount:e.paymentStats?.failed||0,count:e.paymentBreakdown?.failed||0}],children:[s.jsx(Hl,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(ql,{dataKey:"name",stroke:"#6b7280"}),s.jsx(Gl,{stroke:"#6b7280"}),s.jsx(Ui,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(je,De)=>De==="amount"?`${je.toLocaleString()}`:je}),s.jsx(rh,{dataKey:"amount",fill:"#8B5CF6",radius:[8,8,0,0]})]})})]})]})}const KR=()=>"https://shubhvenue.com/api".replace("/api",""),ru=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/uploads/")||e.startsWith("/uploads")?`${KR()}${e}`:e.startsWith("uploads/")?`${KR()}/${e}`:e:"",g8=()=>{try{const e=localStorage.getItem("vendor_user");if(e){const r=JSON.parse(e);if(r.permissions&&Array.isArray(r.permissions))return r.permissions;if(r.role&&typeof r.role=="object"&&r.role.permissions&&Array.isArray(r.role.permissions))return r.role.permissions}const t=localStorage.getItem("vendor_token");if(t)try{const r=JSON.parse(atob(t.split(".")[1]));if(r.permissions&&Array.isArray(r.permissions))return r.permissions}catch{}}catch(e){console.error("Error getting vendor permissions:",e)}return[]},Kl=e=>{const t=g8();if(e==="vendor_view_dashboard")return!0;const r=localStorage.getItem("vendor_user");if(r)try{if(JSON.parse(r).role==="vendor")return!0}catch{}if(t.length===0){const n=localStorage.getItem("vendor_user");if(n)try{if(JSON.parse(n).role==="vendor")return!0}catch{}}return t.includes(e)},NAe=()=>{try{const e=localStorage.getItem("vendor_user");if(e)return JSON.parse(e).role||"vendor"}catch{}return"vendor"},SAe=()=>NAe()==="vendor";function YR(){const e=xr(),r=Kn().pathname.startsWith("/vendor/venues/add"),[n,a]=g.useState([]),[i,o]=g.useState([]),[l,u]=g.useState([]),[d,f]=g.useState([]),[m,p]=g.useState(!0),[v,x]=g.useState({page:1,limit:10,total:0,pages:1}),[j,w]=g.useState(r),[S,P]=g.useState(null),[k,R]=g.useState("all"),[I,L]=g.useState({name:"",address:"",city:"",state:"",price:"",capacity:"",description:"",categoryId:"",menuId:"",subMenuId:"",amenities:[],highlights:[],rooms:"",openTime:"",closeTime:"",openDays:[]}),[E,C]=g.useState(null),[F,_]=g.useState(null),[T,M]=g.useState([]),[$,J]=g.useState([]),[q,U]=g.useState([]),[X,B]=g.useState([]),[Z,ne]=g.useState(null),[W,z]=g.useState(!1),[pe,oe]=g.useState(0),[Pe,ke]=g.useState(!1),[fe,ue]=g.useState([]),[re,K]=g.useState([]),[de,te]=g.useState(!1),[ye,ae]=g.useState(!1),[ee,be]=g.useState(null),[he,xe]=g.useState([]),[Be,ut]=g.useState(!1),[_t,je]=g.useState({}),[De,rt]=g.useState(null),[xt,Qe]=g.useState(!1),[jt,Xe]=g.useState(null),ce=["Parking","AC","WiFi","Catering","Decoration","Sound System","Stage","Dance Floor","Photography","Videography","Bridal Room","Groom Room","Garden","Pool","Bar"],Fe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];g.useEffect(()=>{Ve(),$e(),Bt(),mr()},[]),g.useEffect(()=>{Ve()},[v.page,k]),g.useEffect(()=>{r?(Wt(),P(null),oe(0),w(!0),Bt()):S||w(!1)},[r]),g.useEffect(()=>{n.length>0&&It()},[n]),g.useEffect(()=>{I.state&&I.state.trim()?Tt(I.state):K([])},[I.state]),g.useEffect(()=>{I.menuId?Ut(I.menuId):(f([]),I.subMenuId&&L(Y=>({...Y,subMenuId:""})))},[I.menuId]),g.useEffect(()=>{if(I.menuId&&I.subMenuId&&d.length>0){const Y=String(I.subMenuId);d.some(le=>String(le._id||le.id||"")===Y)||!d.find(Ge=>String(Ge._id||Ge.id||"")===Y)&&I.subMenuId&&console.warn("Submenu not found in loaded list, clearing subMenuId")}},[d,I.menuId,I.subMenuId]);const Ve=async()=>{try{p(!0);const Y={page:v.page,limit:v.limit};k!=="all"&&(Y.status=k);const ge=await Xt.getVenues(Y),le=ge.data?.venues||ge.data?.data||ge.data||[];a(Array.isArray(le)?le:[]),ge.data?.pagination?x(Ge=>({...Ge,total:ge.data.pagination.total||ge.data.totalCount||le.length,pages:ge.data.pagination.pages||ge.data.totalPages||1})):ge.data?.totalCount&&x(Ge=>({...Ge,total:ge.data.totalCount,pages:Math.ceil(ge.data.totalCount/v.limit)}))}catch(Y){console.error("Failed to load venues:",Y),a([])}finally{p(!1)}},It=async()=>{try{const ge=(await Hc.getReviewsByVendor()).data?.reviews||[],le={};ge.forEach(ze=>{const Je=(ze.venueId?._id||ze.venueId?.id||ze.venueId)?.toString();Je&&(le[Je]||(le[Je]={reviews:[],totalRating:0,count:0}),le[Je].reviews.push(ze),le[Je].totalRating+=ze.rating||0,le[Je].count+=1)});const Ge={};Object.keys(le).forEach(ze=>{const Je=le[ze];Ge[ze]={average:Je.count>0?(Je.totalRating/Je.count).toFixed(1):0,count:Je.count,reviews:Je.reviews}}),je(Ge)}catch(Y){console.error("Failed to load venue reviews:",Y)}},Le=async Y=>{const ge=Y.id||Y._id;be(Y),ae(!0),ut(!0);try{const Ge=(await Hc.getReviewsByVenue(ge)).data?.reviews||[];xe(Ge)}catch(le){console.error("Failed to load reviews:",le),alert(le.response?.data?.error||"Failed to load reviews"),xe([])}finally{ut(!1)}},$e=async()=>{try{const Y=await oCe.getCategories(),ge=Y.data?.categories||Y.data?.data||Y.data||[];o(Array.isArray(ge)?ge:[])}catch(Y){console.error("Failed to load categories:",Y),o([])}},Bt=async()=>{try{const Y=await zR.getMenus({active:"all"});console.log("Menus API Response:",Y),console.log("Response Data:",Y.data);let ge=[];Y&&Y.data?Y.data.menus&&Array.isArray(Y.data.menus)?(ge=Y.data.menus,console.log(" Found menus in response.data.menus:",ge.length)):Array.isArray(Y.data)?(ge=Y.data,console.log(" Found menus in response.data (array):",ge.length)):Y.data.success&&Y.data.menus?(ge=Y.data.menus,console.log(" Found menus in success response:",ge.length)):console.warn(" Unexpected response structure:",Y.data):console.warn(" No response data found"),console.log(" Final menus data:",ge),console.log(" Menus count:",ge.length),ge.length>0&&(console.log(" Sample menu:",ge[0]),console.log(" Sample menu keys:",Object.keys(ge[0])),console.log(" Sample menu _id:",ge[0]._id),console.log(" Sample menu id:",ge[0].id),console.log(" Sample menu name:",ge[0].name));const le=Array.isArray(ge)?ge.map(Ge=>({...Ge,_id:String(Ge._id||Ge.id||""),id:String(Ge._id||Ge.id||"")})):[];return u(le),le}catch(Y){return console.error(" Failed to load menus:",Y),console.error(" Error details:",{message:Y.message,response:Y.response?.data,status:Y.response?.status}),u([]),[]}},Ut=async Y=>{if(!Y){f([]);return}try{const ge=await zR.getMenus({parentMenuId:Y,active:"all"}),le=ge.data?.menus||ge.data||[],Ge=Array.isArray(le)?le.map(ze=>({...ze,_id:String(ze._id||ze.id||""),id:String(ze._id||ze.id||"")})):[];f(Ge)}catch(ge){console.error("Failed to load submenus:",ge),f([])}},mr=async()=>{try{const Y=await Xt.getStates();Y.data?.success&&Y.data?.states||Y.data?.states?ue(Y.data.states):(console.warn("Unexpected response structure:",Y.data),ue([]))}catch(Y){console.error("Failed to load states:",Y),ue([])}},Tt=async Y=>{if(!Y||!Y.trim()){K([]);return}try{te(!0);const ge=await Xt.getCities(Y.trim());ge.data?.success&&ge.data?.cities?(K(ge.data.cities),I.city&&!ge.data.cities.some(le=>le.toLowerCase()===I.city.toLowerCase())&&L(le=>({...le,city:""}))):ge.data?.cities?K(ge.data.cities):(console.warn("Unexpected response structure:",ge.data),K([]))}catch(ge){console.error("Failed to load cities:",ge),K([])}finally{te(!1)}},et=Y=>{const{name:ge,value:le}=Y.target;if(ge==="state")L({...I,[ge]:le,city:""});else if(ge==="menuId"){const Ge=le?String(le):"";L({...I,[ge]:Ge,subMenuId:""}),Ge?Ut(Ge):f([])}else L({...I,[ge]:le})},se=Y=>{L({...I,amenities:I.amenities.includes(Y)?I.amenities.filter(ge=>ge!==Y):[...I.amenities,Y]})},_e=Y=>{L({...I,openDays:I.openDays.includes(Y)?I.openDays.filter(ge=>ge!==Y):[...I.openDays,Y]})},Ye=Y=>{if(!Y||!Y.includes(":"))return"";const[ge,le]=Y.split(":"),Ge=parseInt(ge,10);if(isNaN(Ge))return Y;const ze=Ge===0?12:Ge>12?Ge-12:Ge,Je=Ge>=12?"PM":"AM";return`${ze}:${le} ${Je}`},Rt=Y=>{if(!Y)return"";if(!Y.includes("AM")&&!Y.includes("PM"))return Y;const ge=Y.match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!ge)return Y;let le=parseInt(ge[1],10);const Ge=ge[2],ze=ge[3].toUpperCase();return ze==="PM"&&le!==12?le+=12:ze==="AM"&&le===12&&(le=0),`${le.toString().padStart(2,"0")}:${Ge}`},Lt=Y=>{const ge=Array.from(Y.target.files);M([...T,...ge])},Gr=Y=>{const ge=Array.from(Y.target.files);U([...q,...ge])},un=()=>{const Y=document.getElementById("videoUrlInput");if(Y&&Y.value.trim()){const ge=Y.value.trim();try{new URL(ge),B([...X,ge]),Y.value=""}catch{alert("Please enter a valid URL")}}},Vs=Y=>{U(q.filter((ge,le)=>le!==Y))},Bn=Y=>{B(X.filter((ge,le)=>le!==Y))},$a=Y=>{J($.filter((ge,le)=>le!==Y))},Jr=Y=>{B(X.filter((ge,le)=>le!==Y))},pr=async Y=>{Y.preventDefault(),ke(!0);try{if(!I.name||!I.name.trim()){alert("Venue name is required"),ke(!1);return}if(!I.capacity||I.capacity<=0){alert("Capacity is required and must be greater than 0"),ke(!1);return}if(!I.state||!I.state.trim()){alert("State is required"),ke(!1);return}if(!I.city||!I.city.trim()){alert("City is required"),ke(!1);return}const ge=new FormData;ge.append("name",I.name.trim()),ge.append("capacity",I.capacity.toString());const le={address:I.address||"",city:I.city||"",state:I.state||""};ge.append("location",JSON.stringify(le)),ge.append("price",I.price||"0"),ge.append("description",I.description||""),I.categoryId&&ge.append("categoryId",I.categoryId),ge.append("menuId",I.menuId||""),ge.append("subMenuId",I.subMenuId||""),I.amenities&&I.amenities.length>0&&I.amenities.forEach(ze=>ge.append("amenities",ze)),I.highlights&&I.highlights.length>0&&I.highlights.filter(ze=>ze.trim()).forEach(ze=>ge.append("highlights",ze.trim())),I.rooms!==void 0&&I.rooms!==""&&ge.append("rooms",I.rooms.toString());const Ge={status:"Open",openTime:I.openTime?Rt(I.openTime):"",closeTime:I.closeTime?Rt(I.closeTime):"",openDays:I.openDays||[]};if(ge.append("availability",JSON.stringify(Ge)),S){const ze=JSON.stringify($||[]);ge.append("existingGallery",ze),console.log(" Sending gallery data:",{existingUrls:$.length,existingUrlsData:$,newFiles:T?.length||0,existingGalleryJson:ze}),T&&T.length>0&&T.forEach(Je=>{console.log(" Adding gallery file:",Je.name,Je.type),ge.append("gallery",Je)})}else T&&T.length>0&&(console.log(" Creating venue - sending gallery files:",T.length),T.forEach(ze=>{console.log(" Adding gallery file:",ze.name,ze.type),ge.append("gallery",ze)}));if(S?X.length+(q?.length||0)===0?ge.append("clearVideos","true"):(X.length>0&&X.forEach(Je=>{ge.append("videos",Je)}),q&&q.length>0&&q.forEach(Je=>ge.append("videos",Je))):(q&&q.length>0&&q.forEach(ze=>ge.append("videos",ze)),X&&X.length>0&&X.forEach(ze=>{ge.append("videos",ze)})),S){const ze=S.id||S._id;if(!ze){alert("Venue ID not found. Please try again."),ke(!1);return}if(!localStorage.getItem("vendor_token")){alert("Please login to update venue"),ke(!1);return}try{await Xt.updateVenue(ze,ge),Xe({title:"Venue Updated",message:"Venue updated successfully!",status:"success"})}catch(Ct){throw Ct}}else await Xt.createVenue(ge),Xe({title:"Venue Added",message:"Venue added successfully!",status:"success"});w(!1),P(null),Wt(),r&&e("/vendor/venues"),Ve().catch(ze=>console.error("Failed to reload venues:",ze))}catch(ge){console.error("Save venue error:",ge);const le=ge.response?.data?.error||ge.response?.data?.message||ge.message||"Failed to save venue",Ge=ge.response?.data?.details;let ze=le,Je="Unable to Add Venue";if(ge.response?.status===403)le.includes("rejected")||le.includes("Rejected")?(Je="Account Status",ze=`Your vendor account has been rejected.

You cannot add venues. Please contact support for more information.`):le.includes("pending admin approval")||le.includes("approval")?(Je="Approval Required",ze=`Your vendor account is pending admin approval.

You cannot add venues until your account is approved by the admin. Please wait for approval or contact support if you have any questions.`):le.includes("permission")||le.includes("Permission")?(Je="Access Denied",ze=`${le}

You do not have the required permissions to perform this action. Please contact your administrator.`):(Je="Access Denied",ze=le,Ge&&(ze+=`

Details: ${JSON.stringify(Ge,null,2)}`));else if(ge.response?.status===401){Je="Session Expired",ze="Your session has expired. Please login again.",localStorage.removeItem("vendor_token"),localStorage.removeItem("vendor_user"),window.location.href="/vendor/login";return}else Je="Unable to Save";Xe({title:Je,message:ze,status:"error"})}finally{ke(!1)}},Dt=async(Y,ge=!1)=>{const le=Y.id||Y._id,ze=Y.vendorActive!==!1?"deactivate":"activate";if(!ge){rt({type:"toggle",venue:Y,action:ze,name:Y.name});return}Qe(!0),rt(null);try{const Je=await Xt.toggleVenueStatus(le);Ve();const Ct=Je.data?.message||`Venue ${ze}d successfully!`;Xe({title:"Success",message:Ct,status:"success"})}catch(Je){let Ct=Je.response?.data?.error||Je.response?.data?.message||`Failed to ${ze} venue`,en="Unable to Update Venue";Je.response?.status===403&&(Ct.includes("rejected")||Ct.includes("Rejected")?(en="Account Status",Ct=`Your vendor account has been rejected.

You cannot perform this action. Please contact support for more information.`):Ct.includes("pending admin approval")||Ct.includes("approval")?(en="Approval Required",Ct=`Your vendor account is pending admin approval.

You cannot perform this action until your account is approved by the admin.`):Ct.includes("permission")||Ct.includes("Permission")?(en="Access Denied",Ct=`${Ct}

You do not have the required permissions. Please contact your administrator.`):en="Access Denied"),Xe({title:en,message:Ct,status:"error"})}finally{Qe(!1)}},Yt=async(Y,ge,le=!1)=>{if(!le){rt({type:"delete",id:Y,name:ge});return}Qe(!0),rt(null);try{await Xt.deleteVenue(Y),Ve(),Xe({title:"Success",message:"Venue deleted successfully!",status:"success"})}catch(Ge){let ze=Ge.response?.data?.error||"Failed to delete venue",Je="Unable to Delete Venue";Ge.response?.status===403&&(ze.includes("rejected")||ze.includes("Rejected")?(Je="Account Status",ze=`Your vendor account has been rejected.

You cannot perform this action. Please contact support for more information.`):ze.includes("pending admin approval")||ze.includes("approval")?(Je="Approval Required",ze=`Your vendor account is pending admin approval.

You cannot add venues until your account is approved by the admin. Please wait for approval or contact support if you have any questions.`):ze.includes("permission")||ze.includes("Permission")?(Je="Access Denied",ze=`${ze}

You do not have the required permissions. Please contact your administrator.`):(Je="Access Denied",ze=ze)),Xe({title:Je,message:ze,status:"error"})}finally{Qe(!1)}},cr=async Y=>{try{const ge=Y.id||Y._id;let le=Y;if(ge)try{const Cr=await Xt.getVenueById(ge);Cr.data&&(Cr.data.success&&Cr.data.data?le=Cr.data.data:Cr.data.venue?le=Cr.data.venue:Cr.data&&(le=Cr.data))}catch(Cr){console.warn("Could not fetch full venue details, using provided data:",Cr)}P(le);const Ge=await Bt(),ze=typeof le.capacity=="object"?le.capacity.maxGuests?.toString()||le.capacity.minGuests?.toString()||"":le.capacity?.toString()||"",Je=typeof le.location=="object"?le.location:{};let Ct="";le.categoryId&&(typeof le.categoryId=="object"&&le.categoryId._id?Ct=le.categoryId._id.toString():typeof le.categoryId=="string"?Ct=le.categoryId:Ct=le.categoryId.toString());let en="";le.menuId&&(typeof le.menuId=="object"&&le.menuId._id?en=String(le.menuId._id):typeof le.menuId=="string"?en=le.menuId:en=String(le.menuId),console.log(" Extracted menuId for editing:",en),console.log(" Available menus:",Ge.map(Cr=>({id:String(Cr._id||Cr.id),name:Cr.name}))));let ks="";le.subMenuId&&(typeof le.subMenuId=="object"&&le.subMenuId._id?ks=String(le.subMenuId._id):typeof le.subMenuId=="string"?ks=le.subMenuId:ks=String(le.subMenuId),console.log(" Extracted subMenuId for editing:",ks));let mi=[];le.highlights&&(Array.isArray(le.highlights)?mi=le.highlights:typeof le.highlights=="string"&&(mi=[le.highlights]));let Ba=[];le.amenities&&(Array.isArray(le.amenities)?Ba=le.amenities:Ba=[le.amenities]);let zs=[];le.availability?.openDays&&(Array.isArray(le.availability.openDays)?zs=le.availability.openDays:zs=[le.availability.openDays]);const hr=le.description||le.about||"";L({name:le.name||"",address:Je.address||"",city:Je.city||"",state:Je.state||"",price:le.price?.toString()||"",capacity:ze,description:hr,categoryId:Ct,menuId:en,subMenuId:ks,amenities:Ba,highlights:mi,rooms:le.rooms?.toString()||"",openTime:le.availability?.openTime?Ye(le.availability.openTime):"",closeTime:le.availability?.closeTime?Ye(le.availability.closeTime):"",openDays:zs});const Du=le.image||le.coverImage||le.images&&Array.isArray(le.images)&&le.images[0]||le.gallery&&typeof le.gallery=="object"&&le.gallery.photos&&Array.isArray(le.gallery.photos)&&le.gallery.photos[0]||le.galleryInfo?.photos&&Array.isArray(le.galleryInfo.photos)&&le.galleryInfo.photos[0];Du?(_(Du),C(null)):(_(null),C(null));let Cs=[];le.gallery&&typeof le.gallery=="object"&&le.gallery.photos&&Array.isArray(le.gallery.photos)&&le.gallery.photos.length>0?Cs=le.gallery.photos:le.gallery&&Array.isArray(le.gallery)&&le.gallery.length>0?Cs=le.gallery:le.galleryInfo?.photos&&Array.isArray(le.galleryInfo.photos)&&le.galleryInfo.photos.length>0?Cs=le.galleryInfo.photos:le.images&&Array.isArray(le.images)&&le.images.length>0&&(Cs=le.images.slice(1)),console.log(" Loading gallery images:",{gallery:le.gallery,galleryInfo:le.galleryInfo,images:le.images,galleryImagesList:Cs}),Cs.length>0?(J(Cs),M([])):(J([]),M([]));let Va=[];if(le.videos&&Array.isArray(le.videos)&&le.videos.length>0?Va=le.videos:le.galleryInfo?.videos&&Array.isArray(le.galleryInfo.videos)&&le.galleryInfo.videos.length>0?Va=le.galleryInfo.videos:le.gallery?.videos&&Array.isArray(le.gallery.videos)&&le.gallery.videos.length>0&&(Va=le.gallery.videos),Va.length>0){const Cr=Va.filter(za=>!za||typeof za!="string"?!1:za.startsWith("http")||za.startsWith("https")||za.startsWith("/uploads"));B(Cr),U([])}else B([]),U([]);Je.state&&Je.state.trim()&&await Tt(Je.state),w(!0),oe(0)}catch(ge){console.error("Error loading venue for editing:",ge),alert("Failed to load venue data. Please try again.")}},Wt=()=>{L({name:"",address:"",city:"",state:"",price:"",capacity:"",description:"",categoryId:"",menuId:"",subMenuId:"",amenities:[],highlights:[],rooms:"",openTime:"",closeTime:"",openDays:[]}),C(null),_(null),M([]),J([]),U([]),B([]),ne(null),oe(0),P(null),f([])},Vn=Y=>{if(!Y)return"N/A";if(typeof Y=="string")return Y;if(typeof Y=="object"){const ge=[];return Y.address&&ge.push(Y.address),Y.city&&ge.push(Y.city),Y.state&&ge.push(Y.state),Y.pincode&&ge.push(Y.pincode),ge.length>0?ge.join(", "):"N/A"}return"N/A"},dn=Y=>Y?typeof Y=="number"?Y.toString():typeof Y=="object"?Y.minGuests&&Y.maxGuests?`${Y.minGuests} - ${Y.maxGuests}`:Y.minGuests?Y.minGuests.toString():Y.maxGuests?Y.maxGuests.toString():"N/A":Y.toString():"N/A",zn=Y=>{const le={approved:{icon:Pa,color:"green",text:"Approved (Inactive)"},active:{icon:CT,color:"green",text:"Active"},pending:{icon:Ea,color:"orange",text:"Pending"},rejected:{icon:Xl,color:"red",text:"Rejected"}}[Y]||{icon:Ea,color:"gray",text:Y},Ge=le.icon;return s.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium bg-${le.color}-100 text-${le.color}-700`,children:[s.jsx(Ge,{className:"w-3 h-3"}),s.jsx("span",{children:le.text})]})};return m?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[!r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Venues"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your wedding venues"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:Ve,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[s.jsx(Pu,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]}),Kl("vendor_create_venues")&&s.jsxs("button",{onClick:()=>e("/vendor/venues/add"),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[s.jsx(Ur,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Venue"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Status:"}),s.jsxs("select",{value:k,onChange:Y=>R(Y.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Venues"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved (Inactive)"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"rejected",children:"Rejected"})]}),k!=="all"&&s.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",n.filter(Y=>Y.status===k).length," ",k==="approved"?"approved (inactive)":k," venue(s)"]})]}),n.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-primary-50 rounded-full mb-4",children:s.jsx(bs,{className:"w-10 h-10 text-primary-600"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Venues Yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Start by adding your first venue to showcase it to customers"}),s.jsx("button",{onClick:()=>e("/vendor/venues/add"),className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"Add Your First Venue"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.isArray(n)&&n.filter(Y=>k==="all"||Y.status===k).map(Y=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition",children:[s.jsxs("div",{className:"relative h-48 bg-gray-200",children:[Y.images&&Y.images[0]?s.jsx("img",{src:ru(Y.images[0]),alt:Y.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Wf,{className:"w-12 h-12 text-gray-400"})}),s.jsx("div",{className:"absolute top-3 right-3",children:zn(Y.status)})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:Y.name}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[s.jsx(bs,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:Vn(Y.location)})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Um,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm",children:[dn(Y.capacity)," guests"]})]}),s.jsx("div",{className:"flex items-center text-primary-600 font-semibold",children:s.jsxs("span",{children:["",(Y.price||Y.pricingInfo?.rentalPrice||0)>0?(Y.price||Y.pricingInfo?.rentalPrice||0).toLocaleString():"N/A"]})})]}),Y.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:Y.description}),(Y.status==="approved"||Y.status==="active")&&s.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[Y.vendorActive!==!1?s.jsx(CT,{className:"w-4 h-4 text-green-600"}):s.jsx(ote,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:Y.vendorActive!==!1?"Active":"Inactive"})]}),s.jsx("button",{onClick:()=>Dt(Y),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${Y.vendorActive!==!1?"bg-green-500":"bg-gray-300"}`,title:Y.vendorActive!==!1?"Deactivate venue":"Activate venue",children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${Y.vendorActive!==!1?"translate-x-6":"translate-x-1"}`})})]})}),(()=>{const ge=(Y.id||Y._id)?.toString(),le=_t[ge],Ge=Y.ratingInfo?.average||Y.ratingAverage||le?.average||0,ze=Y.ratingInfo?.totalReviews||Y.totalReviews||le?.count||0;return Ge>0||ze>0?s.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((Je,Ct)=>s.jsx(Ri,{className:`w-4 h-4 ${Ct<Math.round(Number(Ge))?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Ct))}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Number(Ge).toFixed(1)}),s.jsxs("span",{className:"text-sm text-gray-600",children:["(",ze," ",ze===1?"review":"reviews",")"]})]}),s.jsxs("button",{onClick:()=>Le(Y),className:"flex items-center space-x-1 text-sm text-primary-600 hover:text-primary-700 font-medium",children:[s.jsx(Qi,{className:"w-4 h-4"}),s.jsx("span",{children:"View Reviews"})]})]}):null})(),s.jsxs("div",{className:"flex items-center space-x-2",children:[Kl("vendor_edit_venues")&&s.jsxs("button",{onClick:()=>cr(Y),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-primary-50 text-primary-600 rounded-lg hover:bg-primary-100 transition",children:[s.jsx(ls,{className:"w-4 h-4"}),s.jsx("span",{children:"Edit"})]}),Kl("vendor_delete_venues")&&s.jsx("button",{onClick:()=>Yt(Y.id||Y._id,Y.name),className:"flex items-center justify-center px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition",children:s.jsx(Xr,{className:"w-4 h-4"})})]})]})]},Y.id||Y._id))}),v.pages>1&&s.jsx("div",{className:"mt-6",children:s.jsx($n,{currentPage:v.page,totalPages:v.pages,totalItems:v.total,itemsPerPage:v.limit,onPageChange:Y=>x(ge=>({...ge,page:Y}))})})]})]}),(j||r)&&s.jsx("div",{className:r?"max-w-5xl mx-auto w-full px-4 sm:px-6 lg:px-8":"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:r?"bg-white rounded-2xl shadow-sm border border-gray-200 w-full my-6":"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:`sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between ${r?"relative":""}`,children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[S?"Edit Venue":"Add New Venue"," (",pe+1,"/4)"]}),s.jsx("button",{onClick:()=>{r?e("/vendor/venues"):w(!1),Wt()},className:"text-gray-400 hover:text-gray-600",children:s.jsx(dr,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("div",{className:"flex space-x-2",children:[0,1,2,3].map(Y=>s.jsx("div",{className:`flex-1 h-2 rounded ${Y<=pe?"bg-primary-600":"bg-gray-300"}`},Y))})}),s.jsxs("form",{onSubmit:pr,className:"p-6",children:[pe===0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue Name *"}),s.jsx("input",{type:"text",name:"name",value:I.name,onChange:et,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-md font-semibold mb-4",children:"Location *"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("input",{type:"text",name:"address",value:I.address,onChange:et,placeholder:"Street address, building name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),s.jsxs("select",{name:"state",value:I.state,onChange:et,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select State"}),fe.map(Y=>s.jsx("option",{value:Y,children:Y},Y))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsxs("select",{name:"city",value:I.city,onChange:et,disabled:!I.state||de,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:I.state?de?"Loading Cities...":"Select City":"Select State First"}),re.map(Y=>s.jsx("option",{value:Y,children:Y},Y))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price () *"}),s.jsx("input",{type:"number",name:"price",value:I.price,onChange:et,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity *"}),s.jsx("input",{type:"number",name:"capacity",value:I.capacity,onChange:et,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{name:"description",value:I.description,onChange:et,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),pe===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Images"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gallery Images"}),S&&$.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Current Gallery Images (click X to remove):"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:$.map((Y,ge)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:ru(Y),alt:`Gallery ${ge+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-300",onError:le=>{le.target.style.display="none"}}),s.jsx("button",{type:"button",onClick:()=>$a(ge),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove image",children:s.jsx(dr,{className:"w-3 h-3"})})]},ge))}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Upload new images to add to gallery"})]}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Lt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),T.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"New Gallery Images:"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:T.map((Y,ge)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:URL.createObjectURL(Y),alt:`Gallery ${ge+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-300"}),s.jsx("button",{type:"button",onClick:()=>M(T.filter((le,Ge)=>Ge!==ge)),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",children:s.jsx(dr,{className:"w-3 h-3"})})]},ge))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Videos"}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Upload video files or add video URLs (max 5 videos, 100MB per file)"}),S&&X.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Current Videos (click X to remove):"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:X.map((Y,ge)=>{const le=ru(Y);return s.jsxs("div",{className:"relative group bg-gray-50 rounded-lg overflow-hidden border border-gray-200",children:[s.jsxs("div",{className:"relative aspect-video bg-gray-900",children:[s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:s.jsx(om,{className:"w-16 h-16 text-gray-400"})}),s.jsx("button",{type:"button",onClick:Ge=>{Ge.preventDefault(),Ge.stopPropagation(),console.log("Opening video modal:",le),ne({url:le,index:ge,title:`Video ${ge+1}`})},className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 hover:bg-opacity-50 transition-opacity group cursor-pointer",title:"Play video",children:s.jsx("div",{className:"bg-white bg-opacity-90 rounded-full p-4 group-hover:bg-opacity-100 transition transform group-hover:scale-110",children:s.jsx(kT,{className:"w-8 h-8 text-primary-600 fill-primary-600"})})})]}),s.jsxs("div",{className:"p-2 flex items-center justify-between",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-xs text-gray-600 truncate",title:le,children:le.length>40?`${le.substring(0,40)}...`:le})}),s.jsx("button",{type:"button",onClick:()=>Jr(ge),className:"ml-2 text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition",title:"Remove video",children:s.jsx(dr,{className:"w-4 h-4"})})]})]},ge)})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Click play button to preview video. Upload new videos or add URLs to add more"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Upload Video Files:"}),s.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:Gr,className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm"}),q.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selected Video Files:"}),s.jsx("div",{className:"space-y-1",children:q.map((Y,ge)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate flex-1",children:Y.name}),s.jsx("button",{type:"button",onClick:()=>Vs(ge),className:"ml-2 text-red-500 hover:text-red-700",children:s.jsx(dr,{className:"w-4 h-4"})})]},ge))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Or Add Video URL:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{id:"videoUrlInput",type:"url",placeholder:"https://example.com/video.mp4",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm",onKeyPress:Y=>{Y.key==="Enter"&&(Y.preventDefault(),un())}}),s.jsx("button",{type:"button",onClick:un,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition text-sm",children:"Add"})]}),X.length>0&&!S&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Video URLs (click play to preview):"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:X.map((Y,ge)=>{const le=ru(Y),Ge=Z===`new-${ge}`;return s.jsxs("div",{className:"relative group bg-gray-50 rounded-lg overflow-hidden border border-gray-200",children:[s.jsx("div",{className:"relative aspect-video bg-gray-900",children:Ge?s.jsxs("video",{controls:!0,autoPlay:!0,playsInline:!0,className:"w-full h-full object-contain",onEnded:()=>ne(null),onError:ze=>{console.error("Video playback error:",ze,le),alert(`Video could not be loaded.
URL: ${le}

Please check:
1. Video URL is accessible
2. Video format is supported (MP4, WebM, etc.)
3. CORS is enabled on server`),ne(null)},onLoadedData:ze=>{console.log("Video loaded:",le),ze.target.play().catch(Ct=>{console.error("Auto-play failed:",Ct)})},onCanPlay:()=>{console.log("Video can play:",le)},preload:"auto",crossOrigin:"anonymous",children:[s.jsx("source",{src:le,type:"video/mp4"}),"Your browser does not support the video tag."]},`new-video-${ge}`):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(om,{className:"w-12 h-12 text-gray-400"})}),s.jsx("button",{type:"button",onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),console.log("Playing video:",le),ne(`new-${ge}`)},className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 hover:bg-opacity-50 transition-opacity group cursor-pointer",title:"Play video",children:s.jsx("div",{className:"bg-white bg-opacity-90 rounded-full p-3 group-hover:bg-opacity-100 transition",children:s.jsx(kT,{className:"w-6 h-6 text-primary-600 fill-primary-600"})})})]})}),s.jsxs("div",{className:"p-2 flex items-center justify-between",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-xs text-gray-600 truncate",title:le,children:le.length>40?`${le.substring(0,40)}...`:le})}),s.jsx("button",{type:"button",onClick:()=>{Ge&&ne(null),Bn(ge)},className:"ml-2 text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition",title:"Remove video",children:s.jsx(dr,{className:"w-4 h-4"})})]})]},ge)})})]})]})]})]}),pe===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Category & Amenities"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsxs("select",{name:"categoryId",value:I.categoryId,onChange:et,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"No Category"}),i.map(Y=>s.jsx("option",{value:Y.id||Y._id,children:Y.name},Y.id||Y._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Menu"}),s.jsxs("select",{name:"menuId",value:String(I.menuId||""),onChange:et,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"No Menu"}),l.map(Y=>{const ge=String(Y._id||Y.id||"");return s.jsx("option",{value:ge,children:Y.name},ge)})]}),l.length===0&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m?"Loading menus...":"No menus available. Please contact admin."}),!1]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Submenu"}),s.jsxs("select",{name:"subMenuId",value:String(I.subMenuId||""),onChange:et,disabled:!I.menuId,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:I.menuId?d.length===0?"No Submenus Available":"Select Submenu":"Select Menu First"}),d.map(Y=>{const ge=String(Y._id||Y.id||"");return s.jsx("option",{value:ge,children:Y.name},ge)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:ce.map(Y=>s.jsx("button",{type:"button",onClick:()=>se(Y),className:`px-3 py-1 rounded-full text-sm font-medium transition ${I.amenities.includes(Y)?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Y},Y))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Highlights"}),s.jsxs("div",{className:"space-y-2",children:[(I.highlights||[]).map((Y,ge)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:Y,onChange:le=>{const ze=[...I.highlights||[]];ze[ge]=le.target.value,L({...I,highlights:ze})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter highlight"}),s.jsx("button",{type:"button",onClick:()=>{const Ge=(I.highlights||[]).filter((ze,Je)=>Je!==ge);L({...I,highlights:Ge})},className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:s.jsx(dr,{className:"w-4 h-4"})})]},ge)),s.jsx("button",{type:"button",onClick:()=>L({...I,highlights:[...I.highlights||[],""]}),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"+ Add Highlight"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Rooms"}),s.jsx("input",{type:"number",name:"rooms",value:I.rooms,onChange:et,min:"0",placeholder:"Enter number of rooms",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h4",{className:"text-md font-semibold mb-4",children:"Availability & Timing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opening Time"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("select",{name:"openTimeHour",value:(()=>{if(!I.openTime)return 9;const Y=I.openTime.match(/(\d{1,2}):/);return Y?parseInt(Y[1]):9})(),onChange:Y=>{const ge=parseInt(Y.target.value),le=I.openTime||"9:00 AM",Ge=le.match(/:(\d{2})\s*(AM|PM)/i),ze=Ge?Ge[1]:"00",Je=le.includes("PM")||le.includes("pm")?"PM":"AM";L(Ct=>({...Ct,openTime:`${ge}:${ze} ${Je}`}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:Array.from({length:12},(Y,ge)=>ge+1).map(Y=>s.jsx("option",{value:Y,children:Y},Y))}),s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("select",{name:"openTimeMinute",value:(()=>{if(!I.openTime)return"00";const Y=I.openTime.match(/:(\d{2})\s*(AM|PM)/i);return Y?Y[1]:"00"})(),onChange:Y=>{const ge=Y.target.value,le=I.openTime||"9:00 AM",Ge=le.match(/(\d{1,2}):/),ze=Ge?Ge[1]:"9",Je=le.includes("PM")||le.includes("pm")?"PM":"AM";L(Ct=>({...Ct,openTime:`${ze}:${ge} ${Je}`}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:Array.from({length:60},(Y,ge)=>ge.toString().padStart(2,"0")).map(Y=>s.jsx("option",{value:Y,children:Y},Y))}),s.jsxs("select",{name:"openTimeAmPm",value:I.openTime&&(I.openTime.includes("PM")||I.openTime.includes("pm"))?"PM":"AM",onChange:Y=>{const ge=Y.target.value,Ge=(I.openTime||"9:00 AM").match(/(\d{1,2}):(\d{2})/),ze=Ge?Ge[1]:"9",Je=Ge?Ge[2]:"00";L(Ct=>({...Ct,openTime:`${ze}:${Je} ${ge}`}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"AM",children:"AM"}),s.jsx("option",{value:"PM",children:"PM"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Closing Time"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("select",{name:"closeTimeHour",value:(()=>{if(!I.closeTime)return 6;const Y=I.closeTime.match(/(\d{1,2}):/);return Y?parseInt(Y[1]):6})(),onChange:Y=>{const ge=parseInt(Y.target.value),le=I.closeTime||"6:00 PM",Ge=le.match(/:(\d{2})\s*(AM|PM)/i),ze=Ge?Ge[1]:"00",Je=le.includes("PM")||le.includes("pm")?"PM":"AM";L(Ct=>({...Ct,closeTime:`${ge}:${ze} ${Je}`}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:Array.from({length:12},(Y,ge)=>ge+1).map(Y=>s.jsx("option",{value:Y,children:Y},Y))}),s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("select",{name:"closeTimeMinute",value:(()=>{if(!I.closeTime)return"00";const Y=I.closeTime.match(/:(\d{2})\s*(AM|PM)/i);return Y?Y[1]:"00"})(),onChange:Y=>{const ge=Y.target.value,le=I.closeTime||"6:00 PM",Ge=le.match(/(\d{1,2}):/),ze=Ge?Ge[1]:"6",Je=le.includes("PM")||le.includes("pm")?"PM":"AM";L(Ct=>({...Ct,closeTime:`${ze}:${ge} ${Je}`}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:Array.from({length:60},(Y,ge)=>ge.toString().padStart(2,"0")).map(Y=>s.jsx("option",{value:Y,children:Y},Y))}),s.jsxs("select",{name:"closeTimeAmPm",value:I.closeTime?I.closeTime.includes("PM")||I.closeTime.includes("pm")?"PM":"AM":"PM",onChange:Y=>{const ge=Y.target.value,Ge=(I.closeTime||"6:00 PM").match(/(\d{1,2}):(\d{2})/),ze=Ge?Ge[1]:"6",Je=Ge?Ge[2]:"00";L(Ct=>({...Ct,closeTime:`${ze}:${Je} ${ge}`}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"AM",children:"AM"}),s.jsx("option",{value:"PM",children:"PM"})]})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Open Days"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Fe.map(Y=>s.jsx("button",{type:"button",onClick:()=>_e(Y),className:`px-3 py-1 rounded-full text-sm font-medium transition ${I.openDays.includes(Y)?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Y},Y))})]})]})]}),pe===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Review & Submit"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Venue Name:"}),s.jsx("span",{className:"font-medium",children:I.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Location:"}),s.jsx("span",{className:"font-medium",children:`${I.address||""}${I.address&&I.city?", ":""}${I.city||""}${(I.address||I.city)&&I.state?", ":""}${I.state||""}`.trim()||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Price:"}),s.jsxs("span",{className:"font-medium",children:["",I.price]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Capacity:"}),s.jsxs("span",{className:"font-medium",children:[I.capacity," guests"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Category:"}),s.jsx("span",{className:"font-medium",children:I.categoryId?i.find(Y=>(Y.id||Y._id)===I.categoryId)?.name||"N/A":"No Category"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Amenities:"}),s.jsxs("span",{className:"font-medium",children:[I.amenities.length," selected"]})]}),(I.openTime||I.closeTime)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Timing:"}),s.jsxs("span",{className:"font-medium",children:[I.openTime||"N/A"," - ",I.closeTime||"N/A"]})]}),I.openDays.length>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Open Days:"}),s.jsx("span",{className:"font-medium",children:I.openDays.join(", ")})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Status:"}),s.jsxs("span",{className:"inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700",children:[s.jsx(Ea,{className:"w-3 h-3"}),s.jsx("span",{children:"Pending (Awaiting Admin Approval)"})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-xs text-blue-700",children:[s.jsx("strong",{children:"Note:"})," Your venue will be submitted for admin approval. It will be visible to customers once approved."]})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>{pe>0?oe(pe-1):(r?e("/vendor/venues"):w(!1),Wt())},className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:pe===0?"Cancel":"Previous"}),pe<3?s.jsx("button",{type:"button",onClick:()=>oe(pe+1),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"Next"}):s.jsx("button",{type:"submit",disabled:Pe,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50",children:Pe?"Submitting...":S?"Update Venue":"Submit"})]})]})]})}),ye&&ee&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reviews"}),s.jsx("p",{className:"text-gray-600 mt-1",children:ee.name})]}),s.jsx("button",{onClick:()=>{ae(!1),be(null),xe([])},className:"text-gray-400 hover:text-gray-600",children:s.jsx(dr,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Be?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):he.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-primary-50 rounded-full mb-4",children:s.jsx(Qi,{className:"w-10 h-10 text-primary-600"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Reviews Yet"}),s.jsx("p",{className:"text-gray-600",children:"This venue hasn't received any reviews yet."})]}):s.jsx("div",{className:"space-y-4",children:he.map(Y=>{const ge=Y.userId,le=ge?.name||ge?.email||"Anonymous",Ge=ge?.email||"",ze=Y.rating||0,Je=Y.comment||"",Ct=Y.createdAt?new Date(Y.createdAt):new Date;return s.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-b-0",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((en,ks)=>s.jsx(Ri,{className:`w-4 h-4 ${ks<ze?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},ks))}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:le}),Ge&&s.jsxs("span",{className:"text-sm text-gray-500",children:["(",Ge,")"]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:Mt(Ct,"MMM dd, yyyy")})]})}),Je&&s.jsx("p",{className:"text-gray-700 mt-2",children:Je}),Y.reply&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border-l-4 border-blue-500 rounded",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"Vendor Reply"}),Y.reply.repliedAt&&s.jsx("span",{className:"text-xs text-blue-600",children:Mt(new Date(Y.reply.repliedAt),"MMM dd, yyyy")})]}),s.jsx("p",{className:"text-blue-800 text-sm",children:Y.reply.message})]})]},Y._id||Y.id)})})})]})}),De&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:De.type==="delete"?"Delete Venue":De.action==="deactivate"?"Deactivate Venue":"Activate Venue"}),s.jsx("p",{className:"text-sm text-gray-600",children:De.type==="delete"?`Delete ${De.name||"this venue"}? This action cannot be undone.`:`Are you sure you want to ${De.action} ${De.name||"this venue"}?`})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>rt(null),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50",disabled:xt,children:"Cancel"}),s.jsx("button",{onClick:()=>De.type==="delete"?Yt(De.id,De.name,!0):Dt(De.venue,!0),className:`px-4 py-2 rounded-lg ${De.type==="delete"?"bg-red-600 hover:bg-red-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white"} disabled:opacity-50`,disabled:xt,children:xt?"Please wait...":De.type==="delete"?"Delete":De.action==="deactivate"?"Deactivate":"Activate"})]})]})}),Z&&Z.url&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>ne(null),children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:Y=>Y.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Z.title||"Video Preview"}),s.jsx("button",{onClick:()=>ne(null),className:"text-gray-400 hover:text-gray-600 transition",title:"Close",children:s.jsx(dr,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"relative bg-black",children:s.jsxs("video",{className:"w-full h-auto max-h-[70vh]",controls:!0,autoPlay:!0,playsInline:!0,onError:Y=>{console.error("Video playback error:",Y,Z.url),alert(`Video could not be loaded.

URL: ${Z.url}

Possible reasons:
1. Video file does not exist on server (404)
2. Video format not supported
3. CORS issue
4. Network error

Please verify the video file exists and is accessible.`)},onLoadedData:()=>{console.log("Video loaded successfully:",Z.url)},preload:"auto",children:[s.jsx("source",{src:Z.url,type:"video/mp4"}),s.jsx("source",{src:Z.url,type:"video/webm"}),s.jsx("source",{src:Z.url,type:"video/ogg"}),"Your browser does not support the video tag."]},Z.url)}),s.jsx("div",{className:"p-4 bg-gray-50",children:s.jsxs("p",{className:"text-xs text-gray-600 break-all",children:[s.jsx("strong",{children:"Video URL:"})," ",Z.url]})})]})}),jt&&s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:`rounded-xl shadow-xl w-full max-w-sm p-6 space-y-4 ${jt.status==="error"?"bg-red-50 border-2 border-red-200":jt.status==="success"?"bg-green-50 border-2 border-green-200":"bg-white border-2 border-gray-200"}`,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:`text-lg font-semibold ${jt.status==="error"?"text-red-900":jt.status==="success"?"text-green-900":"text-gray-900"}`,children:jt.title||"Notice"}),s.jsx("p",{className:`text-sm ${jt.status==="error"?"text-red-700":jt.status==="success"?"text-green-700":"text-gray-700"}`,children:jt.message})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>Xe(null),className:`px-4 py-2 rounded-lg text-white hover:opacity-90 transition ${jt.status==="error"?"bg-red-600 hover:bg-red-700":jt.status==="success"?"bg-green-600 hover:bg-green-700":"bg-primary-600 hover:bg-primary-700"}`,children:"OK"})})]})})]})}function kAe(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(new Set),[o,l]=g.useState({page:1,limit:10,total:0,pages:1}),[u,d]=g.useState(!1),[f,m]=g.useState([]),[p,v]=g.useState(!1),[x,j]=g.useState({venueId:"",venueName:"",useManualVenue:!1,checkIn:"",checkOut:"",fullName:"",phone:"",email:"",eventType:[],customEventType:"",guests:"",rooms:"",foodPreference:"both",specialRequests:"",totalAmount:"",paymentStatus:"paid"}),[w,S]=g.useState(!1),[P,k]=g.useState(null),[R,I]=g.useState(null);g.useEffect(()=>{E(),L()},[]),g.useEffect(()=>{E()},[o.page]);const L=async()=>{try{const B=await Xt.getVenues(),Z=B.data?.data||B.data||[];m(Z),Z.length>0&&!x.venueId&&j(ne=>({...ne,venueId:Z[0]._id||Z[0].id}))}catch(B){console.error("Failed to load venues:",B)}},E=async()=>{try{n(!0);const B={page:o.page,limit:o.limit},Z=await Xt.getBookings(B),ne=Z.data?.bookings||Z.data?.data||Z.data||[];t(Array.isArray(ne)?ne:[]),Z.data?.pagination?l(W=>({...W,total:Z.data.pagination.total||Z.data.totalCount||ne.length,pages:Z.data.pagination.pages||Z.data.totalPages||1})):Z.data?.totalCount&&l(W=>({...W,total:Z.data.totalCount,pages:Math.ceil(Z.data.totalCount/o.limit)}))}catch(B){console.error("Failed to load bookings:",B),t([])}finally{n(!1)}},C=(B,Z)=>{k(B),I(Z),S(!0)},F=async()=>{if(!(!P||!R))try{await Xt.updateBookingStatus(P,R),S(!1),k(null),I(null),setTimeout(()=>{G.success(`Booking ${R} successfully!`)},100),E()}catch(B){S(!1),k(null),I(null),setTimeout(()=>{G.error(B.response?.data?.error||"Failed to update booking status")},100)}},_=()=>{S(!1),k(null),I(null)},T=B=>{const{name:Z,value:ne,type:W,checked:z}=B.target;j(Z==="eventType"?pe=>{const oe=pe.eventType||[];return z?{...pe,eventType:[...oe,ne]}:{...pe,eventType:oe.filter(Pe=>Pe!==ne)}}:pe=>({...pe,[Z]:ne}))},M=async B=>{if(B.preventDefault(),!x.useManualVenue&&!x.venueId){G.error("Please select a venue or enter venue name manually");return}if(x.useManualVenue&&!x.venueName.trim()){G.error("Please enter the venue name");return}if(!x.checkIn||!x.fullName||!x.phone||!x.guests){G.error("Please fill all required fields");return}if(!x.eventType||x.eventType.length===0){G.error("Please select at least one event type");return}if(x.eventType.includes("other")&&!x.customEventType.trim()){G.error("Please enter the custom event type name");return}if(x.checkOut&&x.checkIn&&new Date(x.checkOut)<=new Date(x.checkIn)){G.error("Check-out date must be after check-in date");return}if(parseInt(x.guests)<=0){G.error("Number of guests must be greater than 0");return}try{v(!0);let Z="";if(x.eventType&&x.eventType.length>0){const W=[...x.eventType];if(W.includes("other")&&x.customEventType.trim()){const z=W.indexOf("other");W[z]=x.customEventType.trim()}else W.includes("other")&&!x.customEventType.trim()&&W.splice(W.indexOf("other"),1);Z=W.join(", ")}else Z="wedding";const ne={venueId:x.useManualVenue?null:x.venueId,venueName:x.useManualVenue?x.venueName.trim():null,date:x.checkIn,dateFrom:x.checkIn||null,dateTo:x.checkOut||null,name:x.fullName,phone:x.phone,email:x.email||null,eventType:Z,marriageFor:"boy",guests:parseInt(x.guests),rooms:x.rooms?parseInt(x.rooms):0,foodPreference:x.foodPreference,specialRequests:x.specialRequests||null,totalAmount:x.totalAmount?parseFloat(x.totalAmount):0,paymentStatus:x.paymentStatus||"paid"};await Xt.createBooking(ne),G.success("Booking added successfully!"),d(!1),j({venueId:f.length>0?f[0]._id||f[0].id:"",venueName:"",useManualVenue:!1,checkIn:"",checkOut:"",fullName:"",phone:"",email:"",eventType:[],customEventType:"",guests:"",rooms:"",foodPreference:"both",specialRequests:"",totalAmount:"",paymentStatus:"paid"}),E()}catch(Z){G.error(Z.response?.data?.error||"Failed to add booking")}finally{v(!1)}},$=B=>{const Z=new Set(a);Z.has(B)?Z.delete(B):Z.add(B),i(Z)},J=B=>{if(!B)return"N/A";if(typeof B=="string")return B;if(typeof B=="object"){const Z=[];return B.address&&Z.push(B.address),B.city&&Z.push(B.city),B.state&&Z.push(B.state),B.pincode&&Z.push(B.pincode),Z.length>0?Z.join(", "):"N/A"}return"N/A"},q=B=>!B&&B!==0?"0":typeof B=="number"?B.toString():typeof B=="object"?B.minGuests&&B.maxGuests?`${B.minGuests} - ${B.maxGuests}`:B.minGuests?B.minGuests.toString():B.maxGuests?B.maxGuests.toString():"0":B.toString(),U=B=>{const ne={confirmed:{icon:Pa,color:"green",text:"Confirmed"},pending:{icon:Ea,color:"orange",text:"Pending"},cancelled:{icon:Xl,color:"red",text:"Cancelled"}}[B]||{icon:Ea,color:"gray",text:B},W=ne.icon;return s.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium bg-${ne.color}-100 text-${ne.color}-700`,children:[s.jsx(W,{className:"w-4 h-4"}),s.jsx("span",{children:ne.text})]})},X=B=>{const ne={paid:{color:"green",text:"Paid"},pending:{color:"orange",text:"Pending"},failed:{color:"red",text:"Failed"}}[B]||{color:"gray",text:B};return s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium bg-${ne.color}-100 text-${ne.color}-700`,children:ne.text})};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bookings"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your venue bookings"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[s.jsx(Ur,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Booking"})]}),s.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[s.jsx(Pu,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]})]})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between flex-shrink-0",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New Booking"}),s.jsx("button",{onClick:()=>d(!1),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition","aria-label":"Close modal",children:s.jsx(dr,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"overflow-y-auto flex-1",children:s.jsxs("form",{onSubmit:M,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Venue ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"useManualVenue",checked:!x.useManualVenue,onChange:B=>j(Z=>({...Z,useManualVenue:!1,venueName:""})),className:"w-4 h-4 text-primary-600 border-gray-300 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Select from my venues"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"useManualVenue",checked:x.useManualVenue,onChange:B=>j(Z=>({...Z,useManualVenue:!0,venueId:""})),className:"w-4 h-4 text-primary-600 border-gray-300 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Enter venue name manually"})]})]}),!x.useManualVenue&&s.jsxs("select",{name:"venueId",value:x.venueId,onChange:T,required:!x.useManualVenue,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"",children:"Select Venue"}),f.map(B=>s.jsx("option",{value:B._id||B.id,children:B.name},B._id||B.id)),f.length===0&&s.jsx("option",{value:"",disabled:!0,children:"No venues available. Use manual entry instead."})]}),x.useManualVenue&&s.jsx("input",{type:"text",name:"venueName",value:x.venueName,onChange:T,required:x.useManualVenue,placeholder:"Enter venue name (e.g., Grand Wedding Hall, Mumbai)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Check-in Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"checkIn",value:x.checkIn,onChange:T,required:!0,min:Mt(new Date,"yyyy-MM-dd"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out Date"}),s.jsx("input",{type:"date",name:"checkOut",value:x.checkOut,onChange:T,min:x.checkIn||Mt(new Date,"yyyy-MM-dd"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Number of Guests ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"guests",value:x.guests,onChange:T,required:!0,min:"1",placeholder:"Enter number of guests",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Rooms"}),s.jsx("input",{type:"number",name:"rooms",value:x.rooms,onChange:T,min:"1",placeholder:"Enter number of rooms",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Event Type (Select Multiple)"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"wedding",label:"Wedding"},{value:"party",label:"Party"},{value:"birthday party",label:"Birthday Party"},{value:"anniversary",label:"Anniversary"},{value:"engagement",label:"Engagement"},{value:"reception",label:"Reception"},{value:"mehndi",label:"Mehndi"},{value:"sangam",label:"Sangam"},{value:"haldi",label:"Haldi"},{value:"sangeet",label:"Sangeet"},{value:"bachelor party",label:"Bachelor Party"},{value:"bachelorette party",label:"Bachelorette Party"},{value:"baby shower",label:"Baby Shower"},{value:"naming ceremony",label:"Naming Ceremony"},{value:"house warming",label:"House Warming"},{value:"corporate event",label:"Corporate Event"},{value:"conference",label:"Conference"},{value:"seminar",label:"Seminar"},{value:"workshop",label:"Workshop"},{value:"exhibition",label:"Exhibition"},{value:"trade show",label:"Trade Show"},{value:"cultural event",label:"Cultural Event"},{value:"religious ceremony",label:"Religious Ceremony"},{value:"other",label:"Other"}].map(B=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"eventType",value:B.value,checked:(x.eventType||[]).includes(B.value),onChange:T,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:B.label})]},B.value))}),(x.eventType||[]).includes("other")&&s.jsxs("div",{className:"mt-3",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Custom Event Type Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"customEventType",value:x.customEventType,onChange:T,required:(x.eventType||[]).includes("other"),placeholder:"Enter custom event type name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Food Preference"}),s.jsxs("select",{name:"foodPreference",value:x.foodPreference,onChange:T,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"both",children:"Both (Veg & Non-Veg)"}),s.jsx("option",{value:"veg",children:"Vegetarian"}),s.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]})]}),s.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Contact Information"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"fullName",value:x.fullName,onChange:T,required:!0,placeholder:"Enter full name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",value:x.email,onChange:T,placeholder:"your.email@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:T,required:!0,placeholder:"+91 98765 43210",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests (Optional)"}),s.jsx("textarea",{name:"specialRequests",value:x.specialRequests,onChange:T,placeholder:"Any special requests or additional information...",rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payment Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"paymentStatus",value:x.paymentStatus,onChange:T,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"unpaid",children:"Unpaid"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount"}),s.jsx("input",{type:"number",name:"totalAmount",value:x.totalAmount,onChange:T,min:"0",step:"0.01",placeholder:"Enter total amount",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:p,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Adding...":"Add Booking"})]})]})})]})}),e.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[s.jsx(Tn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Bookings Yet"}),s.jsx("p",{className:"text-gray-600",children:"You don't have any bookings at the moment"})]}):s.jsx("div",{className:"space-y-4",children:e.map(B=>{const Z=a.has(B.id||B._id),ne=B.venue||B.venueId,W=B.customer||B.customerId,z=B.name||W?.name||"Customer",pe=B.phone||W?.phone||"N/A",oe=W?.email||"N/A",Pe=B.eventDate||B.date||B.createdAt;return s.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:ne?.name||B.venueName||"Venue"}),s.jsx("p",{className:"text-gray-600",children:z})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[U(B.status),s.jsx("button",{onClick:()=>$(B.id||B._id),className:"text-gray-400 hover:text-gray-600",children:Z?s.jsx(Oee,{className:"w-5 h-5"}):s.jsx(zm,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Event Date"}),s.jsxs("div",{className:"flex items-center text-sm font-semibold",children:[s.jsx(Tn,{className:"w-4 h-4 mr-1 text-gray-400"}),Pe?Mt(new Date(Pe),"MMM dd, yyyy"):"N/A"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Guests"}),s.jsxs("div",{className:"flex items-center text-sm font-semibold",children:[s.jsx(Um,{className:"w-4 h-4 mr-1 text-gray-400"}),q(B.guests||B.capacity||0)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Amount"}),s.jsxs("div",{className:"flex items-center text-sm font-semibold text-primary-600",children:[s.jsx("span",{className:"text-lg font-bold mr-1",children:""}),B.totalAmount?.toLocaleString()||B.amount?.toLocaleString()||0]})]})]}),Z&&s.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Customer Details"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"text-gray-600 w-24",children:"Name:"}),s.jsx("span",{className:"font-medium",children:z})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(lc,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600 w-24",children:"Phone:"}),s.jsx("span",{className:"font-medium",children:pe})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(di,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600 w-24",children:"Email:"}),s.jsx("span",{className:"font-medium",children:oe})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Event Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[ne?.location&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(bs,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600 w-24",children:"Location:"}),s.jsx("span",{className:"font-medium",children:J(ne.location)})]}),Pe&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600 w-24",children:"Event Date:"}),s.jsx("span",{className:"font-medium",children:Mt(new Date(Pe),"MMM dd, yyyy")})]}),B.dateFrom&&B.dateTo&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600 w-24",children:"Date Range:"}),s.jsxs("span",{className:"font-medium",children:[Mt(new Date(B.dateFrom),"MMM dd")," - ",Mt(new Date(B.dateTo),"MMM dd, yyyy")]})]}),B.eventType&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-600 w-24",children:"Event Type:"}),s.jsx("span",{className:"font-medium capitalize",children:B.eventType})]}),B.personName&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-600 w-24",children:"Person Name:"}),s.jsx("span",{className:"font-medium",children:B.personName})]}),B.foodPreference&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-600 w-24",children:"Food:"}),s.jsx("span",{className:"font-medium capitalize",children:B.foodPreference})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Payment Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-600 w-24",children:"Status:"}),X(B.paymentStatus||"pending")]}),B.paymentId&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-600 w-24",children:"Payment ID:"}),s.jsx("span",{className:"font-medium",children:B.paymentId})]}),B.createdAt&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-600 w-24",children:"Booked On:"}),s.jsx("span",{className:"font-medium",children:Mt(new Date(B.createdAt),"MMM dd, yyyy hh:mm a")})]})]})]}),B.status==="pending"&&s.jsxs("div",{className:"pt-4 border-t border-gray-200 flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>C(B.id||B._id,"confirmed"),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[s.jsx(Pa,{className:"w-4 h-4"}),s.jsx("span",{children:"Confirm"})]}),s.jsxs("button",{onClick:()=>C(B.id||B._id,"cancelled"),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[s.jsx(Xl,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel"})]})]})]})]})},B.id||B._id)})}),o.pages>1&&s.jsx("div",{className:"mt-6",children:s.jsx($n,{currentPage:o.page,totalPages:o.pages,totalItems:o.total,itemsPerPage:o.limit,onPageChange:B=>l(Z=>({...Z,page:B}))})}),w&&R&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:R==="confirmed"?"Confirm Booking":"Cancel Booking"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to ",R==="confirmed"?"confirm":"cancel"," this booking?"]}),R==="cancelled"&&s.jsx("p",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg mb-4",children:"This action cannot be undone."}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{onClick:_,className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium",children:"Cancel"}),s.jsx("button",{onClick:F,className:`px-6 py-2.5 rounded-lg hover:opacity-90 transition font-medium ${R==="confirmed"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:R==="confirmed"?"Confirm":"Cancel Booking"})]})]})]})})]})}function CAe(){const[e,t]=g.useState([]),[r,n]=g.useState(!0);g.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const d=await Xt.getPayouts(),f=d.data?.payouts||d.data?.data||d.data||[];t(Array.isArray(f)?f:[])}catch(d){console.error("Failed to load payouts:",d),t([])}finally{n(!1)}},i=d=>{const m={paid:{icon:Pa,color:"green",text:"Paid"},pending:{icon:Ea,color:"orange",text:"Pending"}}[d]||{icon:Ea,color:"gray",text:d},p=m.icon;return s.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium bg-${m.color}-100 text-${m.color}-700`,children:[s.jsx(p,{className:"w-4 h-4"}),s.jsx("span",{children:m.text})]})};if(r)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const o=e.reduce((d,f)=>d+(f.amount||0),0),l=e.filter(d=>d.payment_status==="paid").reduce((d,f)=>d+(f.amount||0),0),u=e.filter(d=>d.payment_status==="pending").reduce((d,f)=>d+(f.amount||0),0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payouts"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"View your payment history"})]}),s.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[s.jsx(Pu,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Payouts"}),s.jsx(lm,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",o.toLocaleString()]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Paid"}),s.jsx(Pa,{className:"w-5 h-5 text-green-500"})]}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",l.toLocaleString()]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx(Ea,{className:"w-5 h-5 text-orange-500"})]}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["",u.toLocaleString()]})]})]}),e.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[s.jsx(lm,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Payouts Yet"}),s.jsx("p",{className:"text-gray-600",children:"You don't have any payouts at the moment"})]}):s.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(d=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["",d.amount?.toLocaleString()||0]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-600",children:["",d.commission?.toLocaleString()||0]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i(d.payment_status||"pending")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-600",children:d.createdAt?Mt(new Date(d.createdAt),"MMM dd, yyyy"):"N/A"})})]},d.id||d._id))})]})})})]})}function AAe(){const[e,t]=g.useState(new Date),[r,n]=g.useState(null),[a,i]=g.useState([]),[o,l]=g.useState([]),[u,d]=g.useState(!0),[f,m]=g.useState([]),[p,v]=g.useState(!1);g.useEffect(()=>{x()},[]),g.useEffect(()=>{r?j():(d(!1),l([]))},[a,r]);const x=async()=>{try{d(!0);const _=await Xt.getVenues(),T=_.data?.data||_.data||[];i(T),T.length>0&&!r?n(T[0]._id||T[0].id):d(!1)}catch(_){console.error("Failed to load venues:",_),d(!1)}},j=async()=>{try{d(!0);const T=(await Xt.getBlockedDates(r)).data?.data||[];l(Array.isArray(T)?T:[T])}catch(_){console.error("Failed to load dates:",_),l([])}finally{d(!1)}},w=_=>{const T=Mt(_,"yyyy-MM-dd"),M=Mt(new Date,"yyyy-MM-dd");T<M||m($=>$.includes(T)?$.filter(J=>J!==T):[...$,T])},S=async()=>{if(!(f.length===0||!r))try{v(!0),await Xt.addBlockedDates(r,f),alert("Dates blocked successfully!"),m([]),j()}catch(_){alert(_.response?.data?.error||"Failed to block dates")}finally{v(!1)}},P=async()=>{if(!(f.length===0||!r))try{v(!0),await Xt.removeBlockedDates(r,f),alert("Dates unblocked successfully!"),m([]),j()}catch(_){alert(_.response?.data?.error||"Failed to unblock dates")}finally{v(!1)}},k=_=>{const T=Mt(_,"yyyy-MM-dd"),M=Mt(new Date,"yyyy-MM-dd");if(T<M)return"past";if(!r)return f.includes(T)?"selected":"available";const $=o.find(U=>U.venueId===r||U.venueId?._id===r||U.venueId?.toString()===r);if(!$)return"available";const{blockedDates:J=[],bookedDates:q=[]}=$;return q.includes(T)?"booked":J.includes(T)?"blocked":f.includes(T)?"selected":"available"},R=u8(e),I=l8(e),L=Cu(R),E=d8(I),C=c8({start:L,end:E}),F=o.find(_=>_.venueId===r||_.venueId?._id===r||_.venueId?.toString()===r);return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Management"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Manage booked and blocked dates"})]}),s.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-3 py-1.5 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition text-sm",children:[s.jsx(Pu,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Refresh"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3",children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Select Venue ",a.length===0&&s.jsx("span",{className:"text-gray-500",children:"(No venues available)"})]}),s.jsxs("select",{value:r||"",onChange:_=>{n(_.target.value||null),m([])},disabled:a.length===0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:a.length===0?"No venues available":"All Venues"}),a.map(_=>s.jsx("option",{value:_._id||_.id,children:_.name},_._id||_.id))]}),a.length===0&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Add a venue to manage its calendar dates."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("button",{onClick:()=>t(p8(e)),className:"p-1.5 hover:bg-gray-100 rounded-lg transition",children:s.jsx(bx,{className:"w-4 h-4"})}),s.jsx("h2",{className:"text-base font-bold text-gray-900",children:Mt(e,"MMMM yyyy")}),s.jsx("button",{onClick:()=>t(wA(e,1)),className:"p-1.5 hover:bg-gray-100 rounded-lg transition",children:s.jsx(Iu,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 p-2 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("div",{className:"w-3 h-3 bg-green-100 border-2 border-green-500 rounded"}),s.jsx("span",{className:"text-xs text-gray-700",children:"Available"})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),s.jsx("span",{className:"text-xs text-gray-700",children:"Booked"})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),s.jsx("span",{className:"text-xs text-gray-700",children:"Blocked"})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),s.jsx("span",{className:"text-xs text-gray-700",children:"Selected"})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded"}),s.jsx("span",{className:"text-xs text-gray-700",children:"Past"})]})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(_=>s.jsx("div",{className:"text-center font-semibold text-gray-700 py-1 text-xs",children:_},_)),C.map((_,T)=>{const M=k(_),$=m8(_,e),J=o8(_,new Date);f.includes(Mt(_,"yyyy-MM-dd"));const q=()=>{let U="aspect-square flex items-center justify-center rounded-lg cursor-pointer transition-all ";return $?M==="past"?U+="bg-gray-100 text-gray-400 cursor-not-allowed ":M==="booked"?U+="bg-red-500 text-white hover:bg-red-600 ":M==="blocked"?U+="bg-orange-500 text-white hover:bg-orange-600 ":M==="selected"?U+="bg-blue-500 text-white hover:bg-blue-600 ":U+="bg-green-50 text-gray-900 hover:bg-green-100 border-2 border-green-200 ":U+="text-gray-300 ",J&&$&&(U+="ring-2 ring-primary-500 ring-offset-2 "),U};return s.jsx("div",{onClick:()=>w(_),className:q(),children:s.jsx("span",{className:"text-xs font-medium",children:Mt(_,"d")})},T)})]}),f.length>0&&s.jsxs("div",{className:"mt-3 p-2 bg-blue-50 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs font-medium text-gray-700",children:[f.length," date(s) selected"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[f.slice(0,3).join(", "),f.length>3&&` +${f.length-3} more`]}),!r&&s.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Please select a venue to block/unblock dates"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:S,disabled:p||!r,className:"flex items-center space-x-1.5 px-3 py-1.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:[s.jsx(dr,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Block"})]}),s.jsxs("button",{onClick:P,disabled:p||!r,className:"flex items-center space-x-1.5 px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:[s.jsx(Ql,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Unblock"})]}),s.jsx("button",{onClick:()=>m([]),className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition text-xs",children:"Clear"})]})]}),F&&s.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[s.jsxs("div",{className:"p-2 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Available"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:F.allUnavailableDates?365-F.allUnavailableDates.length:"N/A"})]}),s.jsxs("div",{className:"p-2 bg-red-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Booked"}),s.jsx("p",{className:"text-lg font-bold text-red-600",children:F.bookedDates?.length||0})]}),s.jsxs("div",{className:"p-2 bg-orange-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Blocked"}),s.jsx("p",{className:"text-lg font-bold text-orange-600",children:F.blockedDates?.length||0})]})]})]})]})}function IAe(){const[e,t]=g.useState({transactions:[],summary:{totalIncome:0,totalExpenses:0,netBalance:0,pendingIncome:0,pendingExpenses:0,monthlyIncome:0,monthlyExpenses:0,monthlyNet:0},counts:{totalTransactions:0,incomeCount:0,expenseCount:0}}),[r,n]=g.useState(!0),[a,i]=g.useState("all"),[o,l]=g.useState(!1),[u,d]=g.useState(null),[f,m]=g.useState({type:"income",category:"",description:"",amount:"",date:new Date().toISOString().split("T")[0],status:"paid",reference:"",venueId:"",notes:""}),[p,v]=g.useState(!1),[x,j]=g.useState([]),[w,S]=g.useState(!1),[P,k]=g.useState(null),[R,I]=g.useState(null);g.useEffect(()=>{E(),L()},[]);const L=async()=>{try{const U=await Xt.getVenues(),X=U.data?.venues||U.data?.data||U.data||[];j(Array.isArray(X)?X:[])}catch(U){console.error("Failed to load venues:",U),j([])}},E=async()=>{try{n(!0);const U=await Xt.getLedger();t(U.data)}catch(U){console.error("Failed to load ledger:",U)}finally{n(!1)}},C=a==="all"?e.transactions:a==="unpaid-expenses"?e.transactions.filter(U=>U.type==="expense"&&U.status!=="paid"&&U.status!=="cancelled"):e.transactions.filter(U=>U.type===a),F=U=>{const{name:X,value:B}=U.target;m(Z=>({...Z,[X]:B}))},_=async U=>{if(U.preventDefault(),!f.category||!f.category.trim()){I({title:"Missing Information",message:"Category is required.",type:"error"});return}if(!f.description||!f.description.trim()){I({title:"Missing Information",message:"Description is required.",type:"error"});return}if(!f.amount||f.amount<=0){I({title:"Invalid Amount",message:"Amount must be greater than 0.",type:"error"});return}try{v(!0);const X={type:f.type,category:f.category.trim(),description:f.description.trim(),amount:Number(f.amount),date:f.date,status:f.status,reference:f.reference.trim(),venueId:f.venueId||null,notes:f.notes.trim()};u?(await Xt.updateLedgerEntry(u.id,X),I({title:"Entry Updated",message:"Ledger entry updated successfully.",type:"success"})):(await Xt.addLedgerEntry(X),I({title:"Entry Added",message:"Ledger entry added successfully.",type:"success"})),l(!1),d(null),q(),await E()}catch(X){console.error("Failed to save ledger entry:",X),I({title:"Save Failed",message:X.response?.data?.error||"Failed to save ledger entry.",type:"error"})}finally{v(!1)}},T=U=>{if(!U.isManual){I({title:"Not Allowed",message:"Only manual entries can be edited.",type:"error"});return}d(U),m({type:U.type,category:U.category||"",description:U.description||"",amount:U.amount?.toString()||"",date:U.date?new Date(U.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],status:U.status||"paid",reference:U.reference||"",venueId:U.venueId?._id||U.venueId?.id||U.venueId||"",notes:U.notes||""}),l(!0)},M=U=>{if(!U.isManual){I({title:"Not Allowed",message:"Only manual entries can be deleted.",type:"error"});return}k(U),S(!0)},$=async()=>{if(P)try{await Xt.deleteLedgerEntry(P.id),S(!1),k(null),I({title:"Entry Deleted",message:"Ledger entry deleted successfully.",type:"success"}),await E()}catch(U){console.error("Failed to delete ledger entry:",U),I({title:"Delete Failed",message:U.response?.data?.error||"Failed to delete ledger entry.",type:"error"}),S(!1),k(null)}},J=()=>{S(!1),k(null)},q=()=>{m({type:"income",category:"",description:"",amount:"",date:new Date().toISOString().split("T")[0],status:"paid",reference:"",venueId:"",notes:""}),d(null)};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ledger"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Complete financial transaction history"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[Kl("vendor_create_ledger")&&s.jsxs("button",{onClick:()=>{q(),l(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[s.jsx(Ur,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Entry"})]}),s.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[s.jsx(Pu,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Income"}),s.jsx(R5,{className:"w-5 h-5 text-green-500"})]}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",e.summary.totalIncome.toLocaleString()]}),e.summary.pendingIncome>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Pending: ",e.summary.pendingIncome.toLocaleString()]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Expenses"}),s.jsx(kte,{className:"w-5 h-5 text-red-500"})]}),s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",e.summary.totalExpenses.toLocaleString()]}),e.summary.pendingExpenses>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Pending: ",e.summary.pendingExpenses.toLocaleString()]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Net Balance"}),s.jsx("span",{className:"text-2xl font-bold text-primary-600",children:""})]}),s.jsxs("p",{className:`text-2xl font-bold ${e.summary.netBalance>=0?"text-green-600":"text-red-600"}`,children:["",e.summary.netBalance.toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"After all transactions"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"This Month"}),s.jsx(Tn,{className:"w-5 h-5 text-blue-500"})]}),s.jsxs("p",{className:`text-2xl font-bold ${e.summary.monthlyNet>=0?"text-green-600":"text-red-600"}`,children:["",e.summary.monthlyNet.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Income: ",e.summary.monthlyIncome.toLocaleString()," | Expenses: ",e.summary.monthlyExpenses.toLocaleString()]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(T5,{className:"w-5 h-5 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"})]}),s.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${a==="all"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Transactions"}),s.jsx("button",{onClick:()=>i("income"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${a==="income"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Income Only"}),s.jsx("button",{onClick:()=>i("expense"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${a==="expense"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Expenses Only"}),s.jsx("button",{onClick:()=>i("unpaid-expenses"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${a==="unpaid-expenses"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Unpaid Expenses"})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Transaction History (",C.length,")"]})}),C.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("span",{className:"text-6xl text-gray-400 mx-auto mb-4 block",children:""}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Transactions"}),s.jsx("p",{className:"text-gray-600",children:"No transactions found for the selected filter"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(U=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:Mt(new Date(U.date),"MMM dd, yyyy")}),s.jsx("div",{className:"text-xs text-gray-500",children:Mt(new Date(U.date),"hh:mm a")})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium ${U.type==="income"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[U.type==="income"?s.jsx(vee,{className:"w-3 h-3"}):s.jsx(pee,{className:"w-3 h-3"}),s.jsx("span",{className:"capitalize",children:U.type})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.description}),U.venueName&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Venue: ",U.venueName]}),U.customerName&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Customer: ",U.customerName]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-600",children:U.reference})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${U.status==="paid"?"bg-green-100 text-green-700":U.status==="pending"?"bg-orange-100 text-orange-700":U.status==="unpaid"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:U.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsxs("div",{className:`text-sm font-bold ${U.type==="income"?"text-green-600":"text-red-600"}`,children:[U.type==="income"?"+":"-","",U.amount.toLocaleString()]}),U.isManual&&s.jsxs("div",{className:"flex items-center space-x-1",children:[Kl("vendor_edit_ledger")&&s.jsx("button",{onClick:()=>T(U),className:"text-primary-600 hover:text-primary-800",title:"Edit entry",children:s.jsx(ls,{className:"w-4 h-4"})}),Kl("vendor_delete_ledger")&&s.jsx("button",{onClick:()=>M(U),className:"text-red-600 hover:text-red-800",title:"Delete entry",children:s.jsx(Xr,{className:"w-4 h-4"})})]})]})})]},U.id))})]})})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:u?"Edit Ledger Entry":"Add Ledger Entry"}),s.jsx("button",{onClick:()=>{l(!1),q()},className:"text-gray-400 hover:text-gray-600",children:s.jsx(dr,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:_,className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"type",value:f.type,onChange:F,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"income",children:"Income"}),s.jsx("option",{value:"expense",children:"Expense"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"status",value:f.status,onChange:F,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"unpaid",children:"Unpaid"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"category",value:f.category,onChange:F,required:!0,placeholder:"e.g., Maintenance, Utilities, Service Fee",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"description",value:f.description,onChange:F,required:!0,rows:3,placeholder:"Enter transaction description...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount () ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"amount",value:f.amount,onChange:F,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"date",value:f.date,onChange:F,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue (Optional)"}),s.jsxs("select",{name:"venueId",value:f.venueId,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"No Venue"}),x.map(U=>s.jsx("option",{value:U.id||U._id,children:U.name},U.id||U._id))]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference (Optional)"}),s.jsx("input",{type:"text",name:"reference",value:f.reference,onChange:F,placeholder:"e.g., Invoice #123, Receipt #456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),s.jsx("textarea",{name:"notes",value:f.notes,onChange:F,rows:3,placeholder:"Additional notes...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{l(!1),q()},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:p,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Saving...":u?"Update Entry":"Add Entry"})]})]})]})}),w&&P&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Delete Ledger Entry"}),s.jsx("p",{className:"text-gray-700",children:"Are you sure you want to delete this ledger entry?"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:J,className:"px-6 py-2 bg-orange-50 text-gray-900 rounded-lg hover:bg-orange-100 transition font-medium",children:"Cancel"}),s.jsx("button",{onClick:$,className:"px-6 py-2 bg-amber-900 text-white rounded-lg hover:bg-amber-800 transition font-medium",children:"OK"})]})]})}),R&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R.title||"Notice"}),s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:R.message})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>I(null),className:`px-4 py-2 rounded-lg ${R.type==="error"?"bg-red-600 hover:bg-red-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:"OK"})})]})})]})}function PAe(){const[e,t]=g.useState([]),[r,n]=g.useState([]),[a,i]=g.useState(!0),[o,l]=g.useState("all"),[u,d]=g.useState("all"),[f,m]=g.useState({page:1,limit:10,total:0,pages:1}),[p,v]=g.useState({total:0,average:0,byRating:{5:0,4:0,3:0,2:0,1:0}}),[x,j]=g.useState(null),[w,S]=g.useState(""),[P,k]=g.useState(null),[R,I]=g.useState(!1),[L,E]=g.useState(!1),[C,F]=g.useState({venueId:"",rating:5,comment:""}),[_,T]=g.useState(null),[M,$]=g.useState(!1),[J,q]=g.useState(!1),[U,X]=g.useState(null);g.useEffect(()=>{B()},[]),g.useEffect(()=>{f.page===1?B():m(fe=>({...fe,page:1}))},[o,u]),g.useEffect(()=>{B()},[f.page]);const B=async()=>{try{i(!0);const fe={page:f.page,limit:f.limit};o!=="all"&&(fe.venueId=o),u!=="all"&&(fe.rating=u);const ue=await Hc.getReviewsByVendor(fe),re=ue.data?.reviews||[],K=ue.data?.venues||[];t(re);try{const de=await Xt.getVenues(),te=de.data?.venues||de.data?.data||de.data||[],ye=new Map;K.forEach(ae=>{const ee=ae.id||ae._id;ye.set(ee,{id:ee,name:ae.name})}),Array.isArray(te)&&te.forEach(ae=>{const ee=ae.id||ae._id;ye.has(ee)?ye.set(ee,{id:ee,name:ae.name||ye.get(ee).name}):ye.set(ee,{id:ee,name:ae.name})}),n(Array.from(ye.values()))}catch(de){console.error("Failed to load vendor venues:",de),n(K)}Z(re),ue.data?.pagination?m(de=>({...de,total:ue.data.pagination.total||ue.data.totalCount||re.length,pages:ue.data.pagination.pages||ue.data.totalPages||1})):ue.data?.totalCount&&m(de=>({...de,total:ue.data.totalCount,pages:Math.ceil(ue.data.totalCount/f.limit)}))}catch(fe){console.error("Failed to load reviews:",fe),X({title:"Error",message:fe.response?.data?.error||"Failed to load reviews",status:"error"}),t([]),n([])}finally{i(!1)}},Z=fe=>{if(fe.length===0){v({total:0,average:0,byRating:{5:0,4:0,3:0,2:0,1:0}});return}const ue=fe.length,K=fe.reduce((te,ye)=>te+(ye.rating||0),0)/ue,de={5:0,4:0,3:0,2:0,1:0};fe.forEach(te=>{const ye=te.rating||0;ye>=5?de[5]++:ye>=4?de[4]++:ye>=3?de[3]++:ye>=2?de[2]++:ye>=1&&de[1]++}),v({total:ue,average:K,byRating:de})},ne=e.filter(fe=>{const ue=o==="all"||(fe.venueId?._id||fe.venueId?.id||fe.venueId)?.toString()===o,re=u==="all"||fe.rating?.toString()===u;return ue&&re}),W=async(fe,ue,re=!1)=>{if(!ue||!ue.trim()){X({title:"Validation Error",message:"Please enter a reply message",status:"error"});return}try{I(!0),re?(await Hc.updateReplyToReview(fe,ue),X({title:"Success",message:"Reply updated successfully!",status:"success"})):(await Hc.addReplyToReview(fe,ue),X({title:"Success",message:"Reply added successfully!",status:"success"})),j(null),k(null),S(""),await B()}catch(K){console.error("Failed to submit reply:",K);let de=K.response?.data?.error||"Failed to submit reply";K.response?.status===403&&(de.includes("permission")||de.includes("Permission")?de=`Access Denied: ${de}

You do not have the required permissions. Please contact your administrator.`:de=`Access Denied: ${de}

Please ensure you have the required permissions.`),X({title:"Error",message:de,status:"error"})}finally{I(!1)}},z=async(fe,ue=!1)=>{if(!ue){T({type:"delete-reply",reviewId:fe});return}$(!0),T(null);try{await Hc.deleteReplyFromReview(fe),X({title:"Success",message:"Reply deleted successfully!",status:"success"}),await B()}catch(re){console.error("Failed to delete reply:",re);let K=re.response?.data?.error||"Failed to delete reply";re.response?.status===403&&(K.includes("permission")||K.includes("Permission")?K=`Access Denied: ${K}

You do not have the required permissions. Please contact your administrator.`:K=`Access Denied: ${K}

Please ensure you have the required permissions.`),X({title:"Error",message:K,status:"error"})}finally{$(!1)}},pe=async fe=>{if(fe.preventDefault(),!C.venueId){X({title:"Validation Error",message:"Please select a venue",status:"error"});return}if(!C.rating||C.rating<1||C.rating>5){X({title:"Validation Error",message:"Please select a rating",status:"error"});return}try{q(!0),await Hc.createReview({venueId:C.venueId,rating:C.rating,comment:C.comment||""}),X({title:"Success",message:"Review added successfully!",status:"success"}),E(!1),F({venueId:"",rating:5,comment:""}),await B()}catch(ue){console.error("Failed to add review:",ue),X({title:"Error",message:ue.response?.data?.error||"Failed to add review",status:"error"})}finally{q(!1)}},oe=fe=>{const{name:ue,value:re}=fe.target;F(K=>({...K,[ue]:ue==="rating"?Number(re):re}))},Pe=fe=>{if(!fe)return"N/A";if(typeof fe=="string")return fe;if(typeof fe=="object"){const ue=[];return fe.address&&ue.push(fe.address),fe.city&&ue.push(fe.city),fe.state&&ue.push(fe.state),ue.length>0?ue.join(", "):"N/A"}return"N/A"},ke=fe=>{if(!fe)return null;const ue=fe.images||[];if(ue.length>0){const re=ue[0];return ru(re)}return null};return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reviews"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage reviews for your venues"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>E(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[s.jsx(Ur,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Review"})]}),s.jsxs("button",{onClick:B,className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[s.jsx(Pu,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Reviews"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:p.total})]}),s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(Qi,{className:"w-6 h-6 text-primary-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Average Rating"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.average.toFixed(1)}),s.jsx("div",{className:"flex items-center",children:s.jsx(Ri,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"})})]})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Ri,{className:"w-6 h-6 text-yellow-600 fill-yellow-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"5 Star Reviews"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:p.byRating[5]})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Ri,{className:"w-6 h-6 text-green-600 fill-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Venues Reviewed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:r.length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(bs,{className:"w-6 h-6 text-blue-600"})})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(T5,{className:"w-5 h-5 text-gray-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Venue"}),s.jsxs("select",{value:o,onChange:fe=>l(fe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Venues"}),r.map(fe=>s.jsx("option",{value:fe.id||fe._id,children:fe.name},fe.id||fe._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Rating"}),s.jsxs("select",{value:u,onChange:fe=>d(fe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Ratings"}),s.jsx("option",{value:"5",children:"5 Stars"}),s.jsx("option",{value:"4",children:"4 Stars"}),s.jsx("option",{value:"3",children:"3 Stars"}),s.jsx("option",{value:"2",children:"2 Stars"}),s.jsx("option",{value:"1",children:"1 Star"})]})]})]})]}),ne.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-primary-50 rounded-full mb-4",children:s.jsx(Qi,{className:"w-10 h-10 text-primary-600"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Reviews Yet"}),s.jsx("p",{className:"text-gray-600",children:e.length===0?"You haven't received any reviews yet. Reviews will appear here once customers review your venues.":"No reviews match your current filters."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Showing ",ne.length," review",ne.length!==1?"s":""]})}),ne.map(fe=>{const ue=fe.venueId,re=fe.userId;ue?._id||ue?.id;const K=ue?.name||"Unknown Venue",de=re?.name||re?.email||"Anonymous",te=re?.email||"",ye=fe.rating||0,ae=fe.comment||"",ee=fe.createdAt?new Date(fe.createdAt):new Date;return s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[ke(ue)&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:ke(ue),alt:K,className:"w-20 h-20 object-cover rounded-lg",onError:be=>{be.target.style.display="none"}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:K}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((be,he)=>s.jsx(Ri,{className:`w-4 h-4 ${he<ye?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},he))})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(la,{className:"w-4 h-4"}),s.jsx("span",{children:de}),te&&s.jsxs("span",{className:"text-gray-400",children:["(",te,")"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Tn,{className:"w-4 h-4"}),s.jsx("span",{children:Mt(ee,"MMM dd, yyyy")})]})]})]})}),ae&&s.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-gray-700",children:ae})}),ue?.location&&s.jsxs("div",{className:"mt-3 flex items-center space-x-1 text-sm text-gray-600",children:[s.jsx(bs,{className:"w-4 h-4"}),s.jsx("span",{children:Pe(ue.location)})]}),fe.reply&&s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border-l-4 border-blue-500 rounded",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"Vendor Reply"}),fe.reply.repliedBy&&s.jsxs("span",{className:"text-xs text-blue-700",children:["by ",fe.reply.repliedBy?.name||"Vendor"]}),fe.reply.repliedAt&&s.jsx("span",{className:"text-xs text-blue-600",children:Mt(new Date(fe.reply.repliedAt),"MMM dd, yyyy")})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>{k(fe._id||fe.id),S(fe.reply.message||"")},className:"text-blue-600 hover:text-blue-800 text-sm",children:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>z(fe._id||fe.id),className:"text-red-600 hover:text-red-800 text-sm",children:s.jsx(Xr,{className:"w-4 h-4"})})]})]}),P===(fe._id||fe.id)?s.jsxs("div",{className:"mt-2",children:[s.jsx("textarea",{value:w,onChange:be=>S(be.target.value),rows:3,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your reply..."}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("button",{onClick:()=>W(fe._id||fe.id,w,!0),disabled:R,className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm disabled:opacity-50",children:R?"Updating...":"Update"}),s.jsx("button",{onClick:()=>{k(null),S("")},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 text-sm",children:"Cancel"})]})]}):s.jsx("p",{className:"text-blue-800",children:fe.reply.message})]}),!fe.reply&&s.jsx("div",{className:"mt-4",children:x===(fe._id||fe.id)?s.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsx("textarea",{value:w,onChange:be=>S(be.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your reply..."}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsxs("button",{onClick:()=>W(fe._id||fe.id,w),disabled:R,className:"flex items-center space-x-1 px-3 py-1 bg-primary-600 text-white rounded-lg hover:bg-primary-700 text-sm disabled:opacity-50",children:[s.jsx(pte,{className:"w-4 h-4"}),s.jsx("span",{children:R?"Sending...":"Send Reply"})]}),s.jsx("button",{onClick:()=>{j(null),S("")},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 text-sm",children:"Cancel"})]})]}):s.jsxs("button",{onClick:()=>{j(fe._id||fe.id),S("")},className:"flex items-center space-x-1 text-primary-600 hover:text-primary-700 text-sm font-medium",children:[s.jsx(dte,{className:"w-4 h-4"}),s.jsx("span",{children:"Reply"})]})})]})]})},fe._id||fe.id)})]}),f.pages>1&&s.jsx("div",{className:"mt-6",children:s.jsx($n,{currentPage:f.page,totalPages:f.pages,totalItems:f.total,itemsPerPage:f.limit,onPageChange:fe=>m(ue=>({...ue,page:fe}))})}),L&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Review"}),s.jsx("button",{onClick:()=>{E(!1),F({venueId:"",rating:5,comment:""})},className:"text-gray-400 hover:text-gray-600",children:s.jsx(dr,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:pe,className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Venue ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"venueId",value:C.venueId,onChange:oe,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a venue"}),r.map(fe=>s.jsx("option",{value:fe.id||fe._id,children:fe.name},fe.id||fe._id))]}),r.length===0&&s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No venues available. Please add venues first."})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Rating ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(fe=>s.jsx("button",{type:"button",onClick:()=>F({...C,rating:fe}),className:"focus:outline-none",children:s.jsx(Ri,{size:32,className:fe<=C.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"})},fe)),s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[C.rating," ",C.rating===1?"star":"stars"]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Comment"}),s.jsx("textarea",{name:"comment",value:C.comment,onChange:oe,rows:6,placeholder:"Write your review about this venue...",maxLength:500,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.comment.length,"/500 characters"]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{E(!1),F({venueId:"",rating:5,comment:""})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:J||!C.venueId||!C.rating,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:J?"Adding...":"Add Review"})]})]})]})}),_&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Reply"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this reply? This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>T(null),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50",disabled:M,children:"Cancel"}),s.jsx("button",{onClick:()=>z(_.reviewId,!0),className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",disabled:M,children:M?"Please wait...":"Delete"})]})]})}),U&&s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:`rounded-xl shadow-xl w-full max-w-sm p-6 space-y-4 ${U.status==="error"?"bg-red-50 border-2 border-red-200":U.status==="success"?"bg-green-50 border-2 border-green-200":"bg-white border-2 border-gray-200"}`,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:`text-lg font-semibold ${U.status==="error"?"text-red-900":U.status==="success"?"text-green-900":"text-gray-900"}`,children:U.title||"Notice"}),s.jsx("p",{className:`text-sm ${U.status==="error"?"text-red-700":U.status==="success"?"text-green-700":"text-gray-700"}`,children:U.message})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>X(null),className:`px-4 py-2 rounded-lg text-white hover:opacity-90 transition ${U.status==="error"?"bg-red-600 hover:bg-red-700":U.status==="success"?"bg-green-600 hover:bg-green-700":"bg-primary-600 hover:bg-primary-700"}`,children:"OK"})})]})})]})}function EAe(){const{user:e,setUser:t}=Sp(),[r,n]=g.useState(!1),[a,i]=g.useState("profile"),[o,l]=g.useState(""),[u,d]=g.useState(""),[f,m]=g.useState({name:"",email:"",phone:""}),[p,v]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[x,j]=g.useState({current:!1,new:!1,confirm:!1});g.useEffect(()=>{e&&m({name:e.name||"",email:e.email||"",phone:e.phone||""})},[e]);const w=R=>{const{name:I,value:L}=R.target;m(E=>({...E,[I]:L}))},S=R=>{const{name:I,value:L}=R.target;v(E=>({...E,[I]:L}))},P=async R=>{R.preventDefault(),n(!0),l(""),d("");try{const I=await Zf.updateProfile(f),L=I.data?.user||I.data;t(L),localStorage.setItem("vendor_user",JSON.stringify(L)),l("Profile updated successfully!"),setTimeout(()=>l(""),3e3)}catch(I){d(I.response?.data?.error||"Failed to update profile"),setTimeout(()=>d(""),5e3)}finally{n(!1)}},k=async R=>{if(R.preventDefault(),n(!0),l(""),d(""),p.newPassword.length<6){d("New password must be at least 6 characters long"),setTimeout(()=>d(""),5e3),n(!1);return}if(p.newPassword!==p.confirmPassword){d("New password and confirm password do not match"),setTimeout(()=>d(""),5e3),n(!1);return}try{await Zf.changePassword({currentPassword:p.currentPassword,newPassword:p.newPassword}),l("Password changed successfully!"),v({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>l(""),3e3)}catch(I){d(I.response?.data?.error||"Failed to change password"),setTimeout(()=>d(""),5e3)}finally{n(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account settings and preferences"})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex space-x-8",children:[s.jsx("button",{onClick:()=>i("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm transition ${a==="profile"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(la,{className:"w-4 h-4"}),s.jsx("span",{children:"Profile"})]})}),s.jsx("button",{onClick:()=>i("password"),className:`py-4 px-1 border-b-2 font-medium text-sm transition ${a==="password"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yu,{className:"w-4 h-4"}),s.jsx("span",{children:"Password"})]})})]})}),o&&s.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[s.jsx(Pa,{className:"w-5 h-5"}),s.jsx("span",{children:o})]}),u&&s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[s.jsx(Xl,{className:"w-5 h-5"}),s.jsx("span",{children:u})]}),a==="profile"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Profile Information"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Update your personal information"})]}),s.jsxs("form",{onSubmit:P,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(la,{className:"w-4 h-4"}),s.jsx("span",{children:"Full Name"})]})}),s.jsx("input",{type:"text",name:"name",value:f.name,onChange:w,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(di,{className:"w-4 h-4"}),s.jsx("span",{children:"Email Address"})]})}),s.jsx("input",{type:"email",name:"email",value:f.email,onChange:w,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lc,{className:"w-4 h-4"}),s.jsx("span",{children:"Phone Number"})]})}),s.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:w,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),s.jsx("div",{className:"flex items-center justify-end pt-4 border-t border-gray-200",children:s.jsxs("button",{type:"submit",disabled:r,className:"flex items-center space-x-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(_5,{className:"w-4 h-4"}),s.jsx("span",{children:r?"Saving...":"Save Changes"})]})})]})]}),a==="password"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Change Password"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Update your password to keep your account secure"})]}),s.jsxs("form",{onSubmit:k,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:x.current?"text":"password",name:"currentPassword",value:p.currentPassword,onChange:S,required:!0,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter current password"}),s.jsx("button",{type:"button",onClick:()=>j(R=>({...R,current:!R.current})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:x.current?s.jsx(Oo,{className:"w-5 h-5"}):s.jsx(Qr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:x.new?"text":"password",name:"newPassword",value:p.newPassword,onChange:S,required:!0,minLength:6,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter new password (min 6 characters)"}),s.jsx("button",{type:"button",onClick:()=>j(R=>({...R,new:!R.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:x.new?s.jsx(Oo,{className:"w-5 h-5"}):s.jsx(Qr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:x.confirm?"text":"password",name:"confirmPassword",value:p.confirmPassword,onChange:S,required:!0,minLength:6,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Confirm new password"}),s.jsx("button",{type:"button",onClick:()=>j(R=>({...R,confirm:!R.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:x.confirm?s.jsx(Oo,{className:"w-5 h-5"}):s.jsx(Qr,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex items-center justify-end pt-4 border-t border-gray-200",children:s.jsxs("button",{type:"submit",disabled:r,className:"flex items-center space-x-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(yu,{className:"w-4 h-4"}),s.jsx("span",{children:r?"Updating...":"Update Password"})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Account Information"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Your account details"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Account Type"}),s.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:e?.role||"Vendor"})]}),s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Member Since"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e?.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"User ID"}),s.jsx("span",{className:"text-sm font-medium text-gray-900 font-mono text-xs",children:e?._id||e?.id||"N/A"})]})]})]})]})}function TAe(){const[e,t]=g.useState([]),[r,n]=g.useState([]),[a,i]=g.useState(!0),[o,l]=g.useState(""),[u,d]=g.useState("all"),[f,m]=g.useState("all"),[p,v]=g.useState({page:1,limit:10,total:0,pages:1}),[x,j]=g.useState(null),[w,S]=g.useState(!1),[P,k]=g.useState(!1),[R,I]=g.useState(!1),[L,E]=g.useState(!1),[C,F]=g.useState(null),[_,T]=g.useState(!1),[M,$]=g.useState({name:"",email:"",phone:"",password:"",location:"",gender:"",role:"",isActive:!0}),[J,q]=g.useState(null),[U,X]=g.useState(null);g.useEffect(()=>{B(),Z()},[u,f,p.page]);const B=async()=>{try{const ue={page:p.page,limit:p.limit};u!=="all"&&(ue.role=u),f!=="all"&&(ue.isActive=f==="true");const re=await xd.getAll(ue);t(re.data?.staff||[]),re.data?.pagination?v(K=>({...K,total:re.data.pagination.total||re.data.totalCount||re.data?.staff?.length||0,pages:re.data.pagination.pages||re.data.totalPages||1})):re.data?.totalCount&&v(K=>({...K,total:re.data.totalCount,pages:Math.ceil(re.data.totalCount/p.limit)}))}catch{G.error("Failed to load staff")}finally{i(!1)}},Z=async()=>{try{const ue=await Ml.getAll({isActive:"true"});n(ue.data?.roles||[])}catch(ue){console.error("Failed to load roles:",ue)}},ne=async ue=>{E(!0),S(!0);try{const re=await xd.getById(ue);j(re.data?.staff)}catch(re){G.error(re.response?.data?.error||"Failed to load staff details"),S(!1)}finally{E(!1)}},W=async ue=>{E(!0),I(!0);try{const K=(await xd.getById(ue)).data?.staff;$({name:K.name||"",email:K.email||"",phone:K.phone||"",password:"",location:K.location||"",gender:K.gender||"",role:K.role?._id||K.role||"",isActive:K.isActive!==void 0?K.isActive:!0}),X(K.img?ru(K.img):null),j(K)}catch(re){G.error(re.response?.data?.error||"Failed to load staff details"),I(!1)}finally{E(!1)}},z=async(ue,re=!1)=>{if(!re){const K=e.find(de=>de._id===ue)||x;F({id:ue,name:K?.name,type:"delete"});return}T(!0);try{await xd.delete(ue),G.success("Staff deleted successfully"),B(),x&&x._id===ue&&(S(!1),j(null))}catch(K){G.error(K.response?.data?.error||"Failed to delete staff")}finally{T(!1),F(null)}},pe=async()=>{if(!M.name||!M.email||!M.phone||!M.password||!M.role){G.error("Please fill all required fields");return}if(M.phone.length<10||M.phone.length>15){G.error("Phone number must be between 10 and 15 digits");return}T(!0);try{const ue=new FormData;ue.append("name",M.name),ue.append("email",M.email),ue.append("phone",M.phone),ue.append("password",M.password),ue.append("role",M.role),M.location&&ue.append("location",M.location),M.gender&&ue.append("gender",M.gender),J&&ue.append("img",J),await xd.create(ue),G.success("Staff created successfully"),k(!1),Pe(),B()}catch(ue){G.error(ue.response?.data?.error||"Failed to create staff")}finally{T(!1)}},oe=async()=>{if(!M.name||!M.email||!M.phone||!M.role){G.error("Please fill all required fields");return}if(M.phone.length<10||M.phone.length>15){G.error("Phone number must be between 10 and 15 digits");return}T(!0);try{const ue=new FormData;ue.append("name",M.name),ue.append("email",M.email),ue.append("phone",M.phone),ue.append("role",M.role),M.location&&ue.append("location",M.location),M.gender&&ue.append("gender",M.gender),M.password&&ue.append("password",M.password),M.isActive!==void 0&&ue.append("isActive",M.isActive),J&&ue.append("img",J),await xd.update(x._id,ue),G.success("Staff updated successfully"),I(!1),Pe(),B()}catch(ue){G.error(ue.response?.data?.error||"Failed to update staff")}finally{T(!1)}},Pe=()=>{$({name:"",email:"",phone:"",password:"",location:"",gender:"",role:"",isActive:!0}),q(null),X(null),j(null)},ke=ue=>{const re=ue.target.files[0];if(re){q(re);const K=new FileReader;K.onloadend=()=>{X(K.result)},K.readAsDataURL(re)}},fe=e.filter(ue=>ue.name?.toLowerCase().includes(o.toLowerCase())||ue.email?.toLowerCase().includes(o.toLowerCase())||ue.phone?.includes(o));return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Staff"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all staff members"})]}),s.jsxs(we,{onClick:()=>k(!0),children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add Staff"]})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(He,{type:"text",placeholder:"Search staff...",value:o,onChange:ue=>l(ue.target.value),className:"pl-10"})]})}),s.jsxs("select",{value:u,onChange:ue=>d(ue.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"all",children:"All Roles"}),r.map(ue=>s.jsx("option",{value:ue._id,children:ue.name},ue._id))]}),s.jsxs("select",{value:f,onChange:ue=>m(ue.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"true",children:"Active"}),s.jsx("option",{value:"false",children:"Inactive"})]})]}),s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{children:"Email"}),s.jsx(Oe,{children:"Phone"}),s.jsx(Oe,{children:"Role"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:fe.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No staff found"})}):fe.map((ue,re)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:re+1}),s.jsx(Ae,{className:"font-medium",children:ue.name}),s.jsx(Ae,{className:"whitespace-normal break-words max-w-[12rem] text-sm",children:ue.email}),s.jsx(Ae,{children:ue.phone||"N/A"}),s.jsx(Ae,{children:s.jsx(wt,{variant:"info",children:ue.role?.name||"N/A"})}),s.jsx(Ae,{children:s.jsx(wt,{variant:ue.isActive?"success":"warning",children:ue.isActive?"Active":"Inactive"})}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>ne(ue._id),title:"View Details",children:s.jsx(Qr,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>W(ue._id),title:"Edit Staff",children:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>z(ue._id),title:"Delete Staff",children:s.jsx(Xr,{className:"w-4 h-4 text-red-500"})})]})})]},ue._id))})]}),p.pages>1&&s.jsx("div",{className:"mt-6",children:s.jsx($n,{currentPage:p.page,totalPages:p.pages,totalItems:p.total,itemsPerPage:p.limit,onPageChange:ue=>v(re=>({...re,page:ue}))})})]})}),s.jsx(kt,{isOpen:P,onClose:()=>{_||(k(!1),Pe())},title:"Add New Staff",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),s.jsx(He,{value:M.name,onChange:ue=>$({...M,name:ue.target.value}),placeholder:"Enter name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),s.jsx(He,{type:"email",value:M.email,onChange:ue=>$({...M,email:ue.target.value}),placeholder:"Enter email",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),s.jsx(He,{type:"tel",value:M.phone,onChange:ue=>{const re=ue.target.value.replace(/\D/g,"");re.length<=15&&$({...M,phone:re})},placeholder:"Enter phone (10-15 digits)",minLength:10,maxLength:15,autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password *"}),s.jsx(He,{type:"password",value:M.password,onChange:ue=>$({...M,password:ue.target.value}),placeholder:"Enter password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role *"}),s.jsxs("select",{value:M.role,onChange:ue=>$({...M,role:ue.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"",children:"Select role"}),r.map(ue=>s.jsx("option",{value:ue._id,children:ue.name},ue._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),s.jsxs("select",{value:M.gender,onChange:ue=>$({...M,gender:ue.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"",children:"Select gender"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),s.jsx(He,{value:M.location,onChange:ue=>$({...M,location:ue.target.value}),placeholder:"Enter location"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"cursor-pointer",children:[s.jsxs("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2",children:[s.jsx(ev,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload Image"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:ke,className:"hidden"})]}),U&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:U,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),s.jsx("button",{onClick:()=>{X(null),q(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:s.jsx(dr,{className:"w-3 h-3"})})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(we,{variant:"outline",onClick:()=>{k(!1),Pe()},disabled:_,children:"Cancel"}),s.jsx(we,{onClick:pe,disabled:_,children:_?"Creating...":"Create Staff"})]})]})}),s.jsx(kt,{isOpen:R,onClose:()=>{_||(I(!1),Pe())},title:"Edit Staff",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),s.jsx(He,{value:M.name,onChange:ue=>$({...M,name:ue.target.value}),placeholder:"Enter name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),s.jsx(He,{type:"email",value:M.email,onChange:ue=>$({...M,email:ue.target.value}),placeholder:"Enter email",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),s.jsx(He,{type:"tel",value:M.phone,onChange:ue=>{const re=ue.target.value.replace(/\D/g,"");re.length<=15&&$({...M,phone:re})},placeholder:"Enter phone (10-15 digits)",minLength:10,maxLength:15,autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password (leave blank to keep current)"}),s.jsx(He,{type:"password",value:M.password,onChange:ue=>$({...M,password:ue.target.value}),placeholder:"Enter new password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role *"}),s.jsxs("select",{value:M.role,onChange:ue=>$({...M,role:ue.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"",children:"Select role"}),r.map(ue=>s.jsx("option",{value:ue._id,children:ue.name},ue._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),s.jsxs("select",{value:M.gender,onChange:ue=>$({...M,gender:ue.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"",children:"Select gender"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),s.jsx(He,{value:M.location,onChange:ue=>$({...M,location:ue.target.value}),placeholder:"Enter location"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),s.jsxs("select",{value:M.isActive,onChange:ue=>$({...M,isActive:ue.target.value==="true"}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:!0,children:"Active"}),s.jsx("option",{value:!1,children:"Inactive"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"cursor-pointer",children:[s.jsxs("div",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2",children:[s.jsx(ev,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload Image"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:ke,className:"hidden"})]}),U&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:U,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),s.jsx("button",{onClick:()=>{X(null),q(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:s.jsx(dr,{className:"w-3 h-3"})})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(we,{variant:"outline",onClick:()=>{I(!1),Pe()},disabled:_,children:"Cancel"}),s.jsx(we,{onClick:oe,disabled:_,children:_?"Updating...":"Update Staff"})]})]})}),s.jsx(kt,{isOpen:!!C,onClose:()=>{_||F(null)},title:"Delete Staff",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Are you sure you want to delete ",C?.name||"this staff member","? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>F(null),disabled:_,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:()=>z(C.id,!0),disabled:_,children:_?"Please wait...":"Delete"})]})]})}),s.jsx(kt,{isOpen:w,onClose:()=>{S(!1),j(null)},title:"Staff Details",size:"lg",children:L?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):x?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(la,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:x.name||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(di,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:x.email||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx(lc,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Phone"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:x.phone||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx(oa,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Role"}),s.jsx("div",{className:"mt-1",children:s.jsx(wt,{variant:"info",children:x.role?.name||"N/A"})})]})]}),x.location&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:s.jsx(bs,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Location"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:x.location})]})]}),x.gender&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-pink-100 dark:bg-pink-900/30 rounded-lg",children:s.jsx(la,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gender"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 capitalize",children:x.gender})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/30 rounded-lg",children:s.jsx(oa,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(wt,{variant:x.isActive?"success":"warning",children:x.isActive?"Active":"Inactive"})})]})]})]}),x.img&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Image"}),s.jsx("img",{src:ru(x.img),alt:x.name,className:"w-32 h-32 rounded-lg object-cover"})]})]}):null})]})}function MAe(){const e=xr(),[t]=xL(),[r,n]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState({}),[u,d]=g.useState(!0),[f,m]=g.useState(""),[p,v]=g.useState("all"),[x,j]=g.useState({page:1,limit:10,total:0,pages:1}),[w,S]=g.useState(null),[P,k]=g.useState(!1),[R,I]=g.useState(!1),[L,E]=g.useState(null),[C,F]=g.useState(!1),[_,T]=g.useState({name:"",description:"",permissions:[],isActive:!0}),M=t.get("mode")==="create"||t.get("mode")==="edit",$=t.get("mode")==="create",J=t.get("mode")==="edit",q=t.get("id");g.useEffect(()=>{U(),X()},[p,x.page]),g.useEffect(()=>{J&&q?B():$&&oe()},[J,$,q]);const U=async()=>{try{const re={page:x.page,limit:x.limit};p!=="all"&&(re.isActive=p==="true");const K=await Ml.getAll(re);n(K.data?.roles||[]),K.data?.pagination?j(de=>({...de,total:K.data.pagination.total||K.data.totalCount||K.data?.roles?.length||0,pages:K.data.pagination.pages||K.data.totalPages||1})):K.data?.totalCount&&j(de=>({...de,total:K.data.totalCount,pages:Math.ceil(K.data.totalCount/x.limit)}))}catch{G.error("Failed to load roles")}finally{d(!1)}},X=async()=>{try{const re=await Ml.getAvailablePermissions();i(re.data?.allPermissions||[]),l(re.data?.permissionsByCategory||{})}catch(re){console.error("Failed to load available permissions:",re)}},B=async()=>{I(!0);try{const K=(await Ml.getById(q)).data?.role;T({name:K.name||"",description:K.description||"",permissions:K.permissions||[],isActive:K.isActive!==void 0?K.isActive:!0}),S(K)}catch(re){G.error(re.response?.data?.error||"Failed to load role details"),e("/vendor/roles")}finally{I(!1)}},Z=async re=>{I(!0),k(!0);try{const K=await Ml.getById(re);S(K.data?.role)}catch(K){G.error(K.response?.data?.error||"Failed to load role details"),k(!1)}finally{I(!1)}},ne=re=>{e(`/vendor/roles?mode=edit&id=${re}`)},W=async(re,K=!1)=>{if(!K){const de=r.find(te=>te._id===re)||w;E({id:re,name:de?.name,type:"delete"});return}F(!0);try{await Ml.delete(re),G.success("Role deleted successfully"),U(),w&&w._id===re&&(k(!1),S(null))}catch(de){G.error(de.response?.data?.error||"Failed to delete role")}finally{F(!1),E(null)}},z=async()=>{if(!_.name||_.permissions.length===0){G.error("Please fill name and select at least one permission");return}F(!0);try{await Ml.create(_),G.success("Role created successfully"),e("/vendor/roles"),oe(),U()}catch(re){G.error(re.response?.data?.error||"Failed to create role")}finally{F(!1)}},pe=async()=>{if(!_.name||_.permissions.length===0){G.error("Please fill name and select at least one permission");return}F(!0);try{await Ml.update(w._id,_),G.success("Role updated successfully"),e("/vendor/roles"),oe(),U()}catch(re){G.error(re.response?.data?.error||"Failed to update role")}finally{F(!1)}},oe=()=>{T({name:"",description:"",permissions:[],isActive:!0}),S(null)},Pe=re=>{_.permissions.includes(re)?T({..._,permissions:_.permissions.filter(K=>K!==re)}):T({..._,permissions:[..._.permissions,re]})},ke=re=>{const K=o[re]||[];if(K.every(te=>_.permissions.includes(te)))T({..._,permissions:_.permissions.filter(te=>!K.includes(te))});else{const te=[..._.permissions];K.forEach(ye=>{te.includes(ye)||te.push(ye)}),T({..._,permissions:te})}},fe=r.filter(re=>re.name?.toLowerCase().includes(f.toLowerCase())||re.description?.toLowerCase().includes(f.toLowerCase())),ue=re=>({dashboard:"Dashboard",venues:"Venues Management",bookings:"Bookings Management",payouts:"Payouts Management",ledger:"Ledger Management",blocked_dates:"Blocked Dates Management",reviews:"Reviews Management",staff:"Staff Management",roles:"Roles Management",profile:"Profile Management"})[re]||re;return M?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(we,{variant:"ghost",onClick:()=>e("/vendor/roles"),className:"flex items-center gap-2",children:[s.jsx(I5,{className:"w-4 h-4"}),"Back to Roles"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:$?"Create New Role":"Edit Role"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:$?"Add a new role with permissions":"Update role details and permissions"})]})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Role Name *"}),s.jsx(He,{value:_.name,onChange:re=>T({..._,name:re.target.value}),placeholder:"Enter role name (e.g., Venue Manager, Booking Manager)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),s.jsx("textarea",{value:_.description,onChange:re=>T({..._,description:re.target.value}),placeholder:"Enter role description",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",rows:"3"})]}),J&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),s.jsxs("select",{value:_.isActive,onChange:re=>T({..._,isActive:re.target.value==="true"}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:!0,children:"Active"}),s.jsx("option",{value:!1,children:"Inactive"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium",children:["Permissions * (",_.permissions.length," selected)"]}),s.jsx(we,{variant:"outline",size:"sm",onClick:()=>{_.permissions.length===a.length?T({..._,permissions:[]}):T({..._,permissions:[...a]})},children:_.permissions.length===a.length?"Deselect All":"Select All"})]}),s.jsx("div",{className:"space-y-4",children:Object.keys(o).length>0?Object.keys(o).map(re=>{const K=o[re]||[],de=K.filter(ye=>_.permissions.includes(ye)).length,te=K.length>0&&de===K.length;return s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:ue(re)}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>ke(re),children:te?"Deselect All":"Select All"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:K.map(ye=>{const ae=_.permissions.includes(ye);return s.jsxs("button",{type:"button",onClick:()=>Pe(ye),className:`flex items-center gap-2 p-2 rounded-lg border transition-all ${ae?"bg-primary/10 border-primary text-primary":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-primary/50"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${ae?"bg-primary border-primary":"border-gray-300 dark:border-gray-600"}`,children:ae&&s.jsx(Ql,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"text-sm font-medium",children:ye})]},ye)})})]},re)}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:a.map(re=>{const K=_.permissions.includes(re);return s.jsxs("button",{type:"button",onClick:()=>Pe(re),className:`flex items-center gap-2 p-2 rounded-lg border transition-all ${K?"bg-primary/10 border-primary text-primary":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-primary/50"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${K?"bg-primary border-primary":"border-gray-300 dark:border-gray-600"}`,children:K&&s.jsx(Ql,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"text-sm font-medium",children:re})]},re)})})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx(we,{variant:"outline",onClick:()=>e("/vendor/roles"),disabled:C,children:"Cancel"}),s.jsx(we,{onClick:$?z:pe,disabled:C,children:C?$?"Creating...":"Updating...":$?"Create Role":"Update Role"})]})]})})]}):u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Roles"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage user roles and permissions"})]}),s.jsxs(we,{onClick:()=>e("/vendor/roles?mode=create"),children:[s.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Add Role"]})]}),s.jsx(Ot,{children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(He,{type:"text",placeholder:"Search roles...",value:f,onChange:re=>m(re.target.value),className:"pl-10"})]})}),s.jsxs("select",{value:p,onChange:re=>v(re.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"true",children:"Active"}),s.jsx("option",{value:"false",children:"Inactive"})]})]}),s.jsxs(Rn,{children:[s.jsx(Ln,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-12 text-center",children:"S.No"}),s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{children:"Description"}),s.jsx(Oe,{children:"Permissions"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Fn,{children:fe.length===0?s.jsx(vt,{children:s.jsx(Ae,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No roles found"})}):fe.map((re,K)=>s.jsxs(vt,{children:[s.jsx(Ae,{className:"text-center font-medium",children:K+1}),s.jsx(Ae,{className:"font-medium",children:re.name}),s.jsx(Ae,{className:"max-w-xs truncate",children:re.description||"N/A"}),s.jsx(Ae,{children:s.jsxs(wt,{variant:"info",children:[re.permissions?.length||0," permissions"]})}),s.jsx(Ae,{children:s.jsx(wt,{variant:re.isActive?"success":"warning",children:re.isActive?"Active":"Inactive"})}),s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>Z(re._id),title:"View Details",children:s.jsx(Qr,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>ne(re._id),title:"Edit Role",children:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>W(re._id),title:"Delete Role",children:s.jsx(Xr,{className:"w-4 h-4 text-red-500"})})]})})]},re._id))})]}),x.pages>1&&s.jsx("div",{className:"mt-6",children:s.jsx($n,{currentPage:x.page,totalPages:x.pages,totalItems:x.total,itemsPerPage:x.limit,onPageChange:re=>j(K=>({...K,page:re}))})})]})}),s.jsx(kt,{isOpen:!!L,onClose:()=>{C||E(null)},title:"Delete Role",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Are you sure you want to delete ",L?.name||"this role","? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>E(null),disabled:C,children:"Cancel"}),s.jsx(we,{variant:"danger",onClick:()=>W(L.id,!0),disabled:C,children:C?"Please wait...":"Delete"})]})]})}),s.jsx(kt,{isOpen:P,onClose:()=>{k(!1),S(null)},title:"Role Details",size:"lg",children:R?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):w?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(oa,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:w.name||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/30 rounded-lg",children:s.jsx(oa,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(wt,{variant:w.isActive?"success":"warning",children:w.isActive?"Active":"Inactive"})})]})]})]}),w.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Description"}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:w.description})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:["Permissions (",w.permissions?.length||0,")"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:w.permissions?.map(re=>s.jsx(wt,{variant:"info",children:re},re))})]})]}):null})]})}function _Ae(){const e=xr(),t=Kn(),{user:r,logout:n}=Sp(),[a,i]=g.useState(!1),[o,l]=g.useState(!1),[u,d]=g.useState(!1),f=[{name:"Dashboard",href:"/vendor/",icon:nN,permission:"vendor_view_dashboard",hasDropdown:!0,dropdownItems:[{name:"Overview",href:"/vendor/",icon:nN,permission:"vendor_view_dashboard"},{name:"Ledger",href:"/vendor/ledger",icon:Nee,permission:"vendor_view_ledger"}]},{name:"Venues",href:"/vendor/venues",icon:bs,permission:"vendor_view_venues"},{name:"Bookings",href:"/vendor/bookings",icon:Tn,permission:"vendor_view_bookings"},{name:"Reviews",href:"/vendor/reviews",icon:Qi,permission:"vendor_view_reviews"},{name:"Payouts",href:"/vendor/payouts",icon:lm,permission:"vendor_view_payouts"},{name:"Staff",href:"/vendor/staff",icon:tv,permission:null,ownerOnly:!0,hasDropdown:!0,dropdownItems:[{name:"Roles",href:"/vendor/roles",icon:oa,permission:null,ownerOnly:!0},{name:"Staff",href:"/vendor/staff",icon:tv,permission:null,ownerOnly:!0}]},{name:"Settings",href:"/vendor/settings",icon:aN,permission:"vendor_view_profile"}],m=g.useMemo(()=>g8(),[]),p=g.useMemo(()=>SAe(),[]),v=g.useMemo(()=>f.map(w=>{if(w.ownerOnly&&!p)return null;if(p||!w.permission)return w;if(!Kl(w.permission))return null;if(w.hasDropdown&&w.dropdownItems){const S=w.dropdownItems.filter(P=>P.ownerOnly&&!p?!1:P.permission?Kl(P.permission):!0);return S.length===0?null:{...w,dropdownItems:S}}return w}).filter(w=>w!==null),[m,p]),x=()=>{n(),e("/vendor/login")},j=w=>t.pathname===w||t.pathname.startsWith(w+"/");return g.useEffect(()=>{t.pathname==="/vendor/ledger"&&l(!0),(t.pathname==="/vendor/staff"||t.pathname==="/vendor/roles")&&d(!0)},[t.pathname]),g.useEffect(()=>{const w=t.pathname==="/vendor/"||t.pathname==="/vendor"?"Dashboard":t.pathname.replace("/vendor/","");dCe(w)},[t.pathname]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-20 lg:hidden",onClick:()=>i(!1)}),s.jsx("aside",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${a?"translate-x-0":"-translate-x-full"}`,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("img",{src:"/image/venuebook.png",alt:"ShubhVenue Logo",className:"w-10 h-10 object-contain",onError:w=>{w.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDNjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjJjLTIuNjcgMC04IDEuMzQtOCA0djEuOGgxNnYtMS44YzAtMi42Ni01LjMzLTQtOC00eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6Izk0NDg3QTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRUM0ODk5O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg=="}}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ShubhVenue Vendor"})]}),s.jsx("button",{onClick:()=>i(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:s.jsx(dr,{className:"w-6 h-6"})})]}),s.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:v.map(w=>{const S=w.icon,P=j(w.href)||w.hasDropdown&&w.dropdownItems?.some(k=>j(k.href));if(w.hasDropdown&&w.dropdownItems&&w.dropdownItems.length>0){const k=w.name==="Dashboard",R=w.name==="Staff",I=k?o:R?u:!1,L=k?l:R?d:()=>{};return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>{L(!I),I||e(w.href)},className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-colors ${P?"bg-primary-50 text-primary-700 border-l-4 border-primary-600":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(S,{className:`w-5 h-5 ${P?"text-primary-600":""}`}),s.jsx("span",{className:"font-medium",children:w.name})]}),I?s.jsx(zm,{className:`w-4 h-4 ${P?"text-primary-600":"text-gray-500"}`}):s.jsx(Iu,{className:`w-4 h-4 ${P?"text-primary-600":"text-gray-500"}`})]}),I&&s.jsx("div",{className:"ml-4 space-y-1",children:w.dropdownItems.map(E=>{const C=E.icon,F=j(E.href);return s.jsxs("button",{onClick:()=>{e(E.href),i(!1)},className:`w-full flex items-center space-x-3 px-4 py-2 rounded-lg transition-colors text-sm ${F?"bg-primary-100 text-primary-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(C,{className:`w-4 h-4 ${F?"text-primary-600":""}`}),s.jsx("span",{children:E.name})]},E.name)})})]},w.name)}return s.jsxs("button",{onClick:()=>{e(w.href),i(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${P?"bg-primary-50 text-primary-700 border-l-4 border-primary-600":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(S,{className:`w-5 h-5 ${P?"text-primary-600":""}`}),s.jsx("span",{className:"font-medium",children:w.name})]},w.name)})}),s.jsxs("div",{className:"p-4 border-t border-gray-200",children:[s.jsxs("div",{className:"mb-3 px-4 py-2 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r?.name||"Vendor"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:r?.email})]}),s.jsxs("button",{onClick:x,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[s.jsx(IS,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})}),s.jsxs("div",{className:"lg:pl-64",children:[s.jsx("header",{className:"sticky top-0 z-10 bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:px-8",children:[s.jsx("button",{onClick:()=>i(!0),className:"lg:hidden text-gray-500 hover:text-gray-700",children:s.jsx(jx,{className:"w-6 h-6"})}),s.jsx("div",{className:"flex-1"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"hidden sm:block text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r?.name||"Vendor"}),s.jsx("p",{className:"text-xs text-gray-500",children:r?.email})]})})]})}),s.jsx("main",{className:"p-4 lg:p-8",children:s.jsx(tW,{})})]})]})}function DAe({children:e}){const{user:t,loading:r}=Sp();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t?e:s.jsx(Xf,{to:"/vendor/login",replace:!0})}function OAe(){return uCe(),s.jsxs(lx,{children:[s.jsx(pt,{path:"login",element:s.jsx(mCe,{})}),s.jsx(pt,{path:"register",element:s.jsx(pCe,{})}),s.jsxs(pt,{path:"",element:s.jsx(DAe,{children:s.jsx(_Ae,{})}),children:[s.jsx(pt,{index:!0,element:s.jsx(jAe,{})}),s.jsx(pt,{path:"venues/add",element:s.jsx(YR,{})}),s.jsx(pt,{path:"venues",element:s.jsx(YR,{})}),s.jsx(pt,{path:"bookings",element:s.jsx(kAe,{})}),s.jsx(pt,{path:"payouts",element:s.jsx(CAe,{})}),s.jsx(pt,{path:"calendar",element:s.jsx(AAe,{})}),s.jsx(pt,{path:"ledger",element:s.jsx(IAe,{})}),s.jsx(pt,{path:"reviews",element:s.jsx(PAe,{})}),s.jsx(pt,{path:"staff",element:s.jsx(TAe,{})}),s.jsx(pt,{path:"roles",element:s.jsx(MAe,{})}),s.jsx(pt,{path:"settings",element:s.jsx(EAe,{})})]}),s.jsx(pt,{path:"*",element:s.jsx(Xf,{to:"/vendor/login",replace:!0})})]})}function RAe(){const[e,t]=g.useState(!1),r=()=>{t(!e)};return s.jsxs("div",{className:"app-wrapper",children:[s.jsx(IX,{}),s.jsx(AX,{isSidebarOpen:e,toggleSidebar:r}),s.jsx("main",{className:"main-content",children:s.jsxs(lx,{children:[s.jsx(pt,{path:"/",element:s.jsx(Ute,{})}),s.jsx(pt,{path:"/venue/:categorySlug/:slug",element:s.jsx(AT,{})}),s.jsx(pt,{path:"/venue/:slug",element:s.jsx(AT,{})}),s.jsx(pt,{path:"/venues",element:s.jsx(Wte,{})}),s.jsx(pt,{path:"/profile",element:s.jsx(Hte,{})}),s.jsx(pt,{path:"/booking",element:s.jsx(qte,{})}),s.jsx(pt,{path:"/contact-venue",element:s.jsx(Kte,{})}),s.jsx(pt,{path:"/booking-history",element:s.jsx(Gte,{})}),s.jsx(pt,{path:"/shotlist",element:s.jsx(Yte,{})}),s.jsx(pt,{path:"/about-us",element:s.jsx(Zte,{})}),s.jsx(pt,{path:"/how-it-works",element:s.jsx(Qte,{})}),s.jsx(pt,{path:"/blog",element:s.jsx(Xte,{})}),s.jsx(pt,{path:"/privacy-policy",element:s.jsx(Jte,{})}),s.jsx(pt,{path:"/terms-of-service",element:s.jsx(ere,{})}),s.jsx(pt,{path:"/cookie-policy",element:s.jsx(tre,{})}),s.jsx(pt,{path:"/contact-us",element:s.jsx(rre,{})})]})})]})}function LAe(){return s.jsxs(lx,{children:[s.jsx(pt,{path:"login",element:s.jsx(ace,{})}),s.jsx(pt,{path:"",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Xf,{to:"/admin/dashboard",replace:!0})})})}),s.jsx(pt,{path:"dashboard",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx($ke,{})})})}),s.jsx(pt,{path:"users",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Bke,{})})})}),s.jsx(pt,{path:"vendors",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Vke,{})})})}),s.jsx(pt,{path:"vendor-categories",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(zke,{})})})}),s.jsx(pt,{path:"venues",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Uke,{})})})}),s.jsx(pt,{path:"bookings",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Wke,{})})})}),s.jsx(pt,{path:"leads",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Hke,{})})})}),s.jsx(pt,{path:"payouts",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(qke,{})})})}),s.jsx(pt,{path:"analytics",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Gke,{})})})}),s.jsx(pt,{path:"settings",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Kke,{})})})}),s.jsx(pt,{path:"categories",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Yke,{})})})}),s.jsx(pt,{path:"menus",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Zke,{})})})}),s.jsx(pt,{path:"videos",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Qke,{})})})}),s.jsx(pt,{path:"testimonials",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Xke,{})})})}),s.jsx(pt,{path:"faqs",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(Jke,{})})})}),s.jsx(pt,{path:"company",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(eCe,{})})})}),s.jsx(pt,{path:"contacts",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(tCe,{})})})}),s.jsx(pt,{path:"banners",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(rCe,{})})})}),s.jsx(pt,{path:"staff",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(nCe,{})})})}),s.jsx(pt,{path:"roles",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(sCe,{})})})}),s.jsx(pt,{path:"reviews",element:s.jsx($r,{children:s.jsx(Br,{children:s.jsx(aCe,{})})})}),s.jsx(pt,{path:"*",element:s.jsx(Xf,{to:"/admin/dashboard",replace:!0})})]})}function FAe(){return g.useEffect(()=>{NH()},[]),s.jsxs(CW,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[s.jsx(cCe,{children:s.jsxs(lx,{children:[s.jsx(pt,{path:"/admin/*",element:s.jsx(LAe,{})}),s.jsx(pt,{path:"/vendor/*",element:s.jsx(OAe,{})}),s.jsx(pt,{path:"/*",element:s.jsx(RAe,{})})]})}),s.jsx(jH,{position:"top-right",toastOptions:{duration:3e3,style:{background:"var(--toast-bg, #363636)",color:"var(--toast-color, #fff)",borderRadius:"8px",padding:"12px 16px"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})}const $Ae=["cross-origin-opener-policy","coop","window.closed","window.close","policy would block","would block the window","opener-policy","cross-origin","policy would block the window","would block the window.closed","policy would block the window.closed call","policy would block the window.close call","would block the window.closed call","would block the window.close call","cross-origin-opener-policy policy would block","policy would block the window.closed","policy would block the window.close"],BAe=()=>{if(typeof window>"u")return;const e=console.warn,t=console.error,r=console.log,n=o=>{if(!o)return!1;const l=String(o).toLowerCase();return $Ae.some(u=>l.includes(u.toLowerCase()))||l.includes("cross-origin-opener-policy policy would block")||l.includes("policy would block the window.closed")||l.includes("policy would block the window.close")},a=o=>{try{const l=o.map(d=>{if(typeof d=="string")return d;if(d instanceof Error)return(d.message||"")+" "+(d.stack||"");if(d&&typeof d=="object")try{const f=JSON.stringify(d);return d.message?f+" "+d.message:d.stack?f+" "+d.stack:f}catch{return String(d)}return String(d)}),u=l.join(" ");return n(u)?!0:l.some(d=>n(d))}catch{return!1}};console.warn=function(...o){a(o)||e.apply(console,o)},console.error=function(...o){a(o)||t.apply(console,o)},console.log=function(...o){a(o)||r.apply(console,o)};const i=window.onerror;window.onerror=function(o,l,u,d,f){const m=f?.message||String(o||"");return n(m)?!0:i?i.call(this,o,l,u,d,f):!1},window.addEventListener("unhandledrejection",o=>{const l=o.reason?.message||String(o.reason||"");n(l)&&(o.preventDefault(),o.stopPropagation())},!0),window.console&&window.console.warn&&(window.__originalConsoleWarn=e,window.__originalConsoleError=t)};BAe();D7.createRoot(document.getElementById("root")).render(s.jsx(rr.StrictMode,{children:s.jsx(nL,{children:s.jsx(FAe,{})})}));
